const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-DhhQmnW1.js","assets/graph-C3M1PRqn.js","assets/_baseUniq-BGk4_vvb.js","assets/layout-CFix7Ki7.js","assets/_basePickBy-rwhWMeHG.js","assets/clone-CGIYFLcP.js","assets/cose-bilkent-S5V4N54A-BLM-SdES.js","assets/cytoscape.esm-CyJtwmzi.js","assets/c4Diagram-YG6GDRKO-CcR0X040.js","assets/chunk-TZMSLE5B-uW59Wgjd.js","assets/flowDiagram-NV44I4VS-C6SsUoPX.js","assets/chunk-FMBD7UC4-CA57baw0.js","assets/chunk-55IACEB6-0IAEmmkC.js","assets/chunk-QN33PNHL-y_tzeHYb.js","assets/channel-Br_ZTpwv.js","assets/erDiagram-Q2GNP2WA-C1YVdfrk.js","assets/gitGraphDiagram-NY62KEGX-m3q8xy8B.js","assets/chunk-4BX2VUAB-CNJ28W3G.js","assets/chunk-QZHKN3VN-BVFoB2uI.js","assets/treemap-KMMF4GRG-CWPx-40X.js","assets/ganttDiagram-LVOFAZNH-0zQAzdFC.js","assets/linear-CVaywXCu.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-ER5ION4S-DRwgaeN1.js","assets/pieDiagram-ADFJNKIX-CFFpfywz.js","assets/arc-DyPzgIzn.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-CQOmYPlh.js","assets/xychartDiagram-PRI3JC2R-CkYYHndV.js","assets/requirementDiagram-UZGBJVZJ-CA2IK6LT.js","assets/sequenceDiagram-WL72ISMW-DfTcdM1V.js","assets/classDiagram-2ON5EDUG-B_SjYelT.js","assets/chunk-B4BG7PRW-CStq2TQu.js","assets/classDiagram-v2-WZHVMYZB-B_SjYelT.js","assets/stateDiagram-FKZM4ZOC-z6W0x4Vj.js","assets/chunk-DI55MBZ5-B4o28cgJ.js","assets/stateDiagram-v2-4FDKWEC3-Ds-0ER73.js","assets/journeyDiagram-XKPGCS4Q-CN5gnuUd.js","assets/timeline-definition-IT6M3QCI-az503E-x.js","assets/mindmap-definition-VGOIOE7T-DsXE1c5F.js","assets/kanban-definition-3W4ZIXB7-C8-Itbb7.js","assets/sankeyDiagram-TZEHDZUN-1TZguCtj.js","assets/diagram-S2PKOQOG-QD10G8Z_.js","assets/diagram-QEK2KX5R-DUkFIv3h.js","assets/blockDiagram-VD42YOAC-BjjvcgQY.js","assets/architectureDiagram-VXUJARFQ-Ce7AimaN.js","assets/diagram-PSM6KHXK-Cb9q6sga.js"])))=>i.map(i=>d[i]);
var dR=Object.defineProperty;var hR=(e,t,r)=>t in e?dR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ot=(e,t,r)=>hR(e,typeof t!="symbol"?t+"":t,r);function fR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AS={exports:{}},If={},LS={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),gR=Symbol.for("react.portal"),mR=Symbol.for("react.fragment"),xR=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),bR=Symbol.for("react.provider"),vR=Symbol.for("react.context"),wR=Symbol.for("react.forward_ref"),kR=Symbol.for("react.suspense"),SR=Symbol.for("react.memo"),_R=Symbol.for("react.lazy"),Yb=Symbol.iterator;function CR(e){return e===null||typeof e!="object"?null:(e=Yb&&e[Yb]||e["@@iterator"],typeof e=="function"?e:null)}var MS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RS=Object.assign,BS={};function dl(e,t,r){this.props=e,this.context=t,this.refs=BS,this.updater=r||MS}dl.prototype.isReactComponent={};dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PS(){}PS.prototype=dl.prototype;function wx(e,t,r){this.props=e,this.context=t,this.refs=BS,this.updater=r||MS}var kx=wx.prototype=new PS;kx.constructor=wx;RS(kx,dl.prototype);kx.isPureReactComponent=!0;var Gb=Array.isArray,FS=Object.prototype.hasOwnProperty,Sx={current:null},DS={key:!0,ref:!0,__self:!0,__source:!0};function OS(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)FS.call(t,n)&&!DS.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Cu,type:e,key:s,ref:o,props:i,_owner:Sx.current}}function TR(e,t){return{$$typeof:Cu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _x(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cu}function ER(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xb=/\/+/g;function Kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ER(""+e.key):t.toString(36)}function Hd(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cu:case gR:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Kp(o,0):n,Gb(i)?(r="",e!=null&&(r=e.replace(Xb,"$&/")+"/"),Hd(i,t,r,"",function(c){return c})):i!=null&&(_x(i)&&(i=TR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Gb(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Kp(s,a);o+=Hd(s,t,r,l,i)}else if(l=CR(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Kp(s,a++),o+=Hd(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(e,t,r){if(e==null)return e;var n=[],i=0;return Hd(e,n,"","",function(s){return t.call(r,s,i++)}),n}function jR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Or={current:null},qd={transition:null},AR={ReactCurrentDispatcher:Or,ReactCurrentBatchConfig:qd,ReactCurrentOwner:Sx};function $S(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Zu,forEach:function(e,t,r){Zu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zu(e,function(){t++}),t},toArray:function(e){return Zu(e,function(t){return t})||[]},only:function(e){if(!_x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=dl;Ut.Fragment=mR;Ut.Profiler=yR;Ut.PureComponent=wx;Ut.StrictMode=xR;Ut.Suspense=kR;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;Ut.act=$S;Ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RS({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)FS.call(t,l)&&!DS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Cu,type:e.type,key:i,ref:s,props:n,_owner:o}};Ut.createContext=function(e){return e={$$typeof:vR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bR,_context:e},e.Consumer=e};Ut.createElement=OS;Ut.createFactory=function(e){var t=OS.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:wR,render:e}};Ut.isValidElement=_x;Ut.lazy=function(e){return{$$typeof:_R,_payload:{_status:-1,_result:e},_init:jR}};Ut.memo=function(e,t){return{$$typeof:SR,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=qd.transition;qd.transition={};try{e()}finally{qd.transition=t}};Ut.unstable_act=$S;Ut.useCallback=function(e,t){return Or.current.useCallback(e,t)};Ut.useContext=function(e){return Or.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return Or.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return Or.current.useEffect(e,t)};Ut.useId=function(){return Or.current.useId()};Ut.useImperativeHandle=function(e,t,r){return Or.current.useImperativeHandle(e,t,r)};Ut.useInsertionEffect=function(e,t){return Or.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return Or.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return Or.current.useMemo(e,t)};Ut.useReducer=function(e,t,r){return Or.current.useReducer(e,t,r)};Ut.useRef=function(e){return Or.current.useRef(e)};Ut.useState=function(e){return Or.current.useState(e)};Ut.useSyncExternalStore=function(e,t,r){return Or.current.useSyncExternalStore(e,t,r)};Ut.useTransition=function(){return Or.current.useTransition()};Ut.version="18.3.1";LS.exports=Ut;var T=LS.exports;const NS=jS(T),LR=fR({__proto__:null,default:NS},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=T,RR=Symbol.for("react.element"),BR=Symbol.for("react.fragment"),PR=Object.prototype.hasOwnProperty,FR=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DR={key:!0,ref:!0,__self:!0,__source:!0};function IS(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)PR.call(t,n)&&!DR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:RR,type:e,key:s,ref:o,props:i,_owner:FR.current}}If.Fragment=BR;If.jsx=IS;If.jsxs=IS;AS.exports=If;var d=AS.exports,lm={},zS={exports:{}},yn={},WS={exports:{}},HS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,P){var I=j.length;j.push(P);t:for(;0<I;){var D=I-1>>>1,q=j[D];if(0<i(q,P))j[D]=P,j[I]=q,I=D;else break t}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var P=j[0],I=j.pop();if(I!==P){j[0]=I;t:for(var D=0,q=j.length,G=q>>>1;D<G;){var Q=2*(D+1)-1,ut=j[Q],Y=Q+1,nt=j[Y];if(0>i(ut,I))Y<q&&0>i(nt,ut)?(j[D]=nt,j[Y]=I,D=Y):(j[D]=ut,j[Q]=I,D=Q);else if(Y<q&&0>i(nt,I))j[D]=nt,j[Y]=I,D=Y;else break t}}return P}function i(j,P){var I=j.sortIndex-P.sortIndex;return I!==0?I:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var P=r(c);P!==null;){if(P.callback===null)n(c);else if(P.startTime<=j)n(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(c)}}function S(j){if(m=!1,v(j),!g)if(r(l)!==null)g=!0,L(k);else{var P=r(c);P!==null&&B(S,P.startTime-j)}}function k(j,P){g=!1,m&&(m=!1,x(A),A=-1),p=!0;var I=f;try{for(v(P),h=r(l);h!==null&&(!(h.expirationTime>P)||j&&!$());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var q=D(h.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?h.callback=q:h===r(l)&&n(l),v(P)}else n(l);h=r(l)}if(h!==null)var G=!0;else{var Q=r(c);Q!==null&&B(S,Q.startTime-P),G=!1}return G}finally{h=null,f=I,p=!1}}var C=!1,_=null,A=-1,O=5,F=-1;function $(){return!(e.unstable_now()-F<O)}function H(){if(_!==null){var j=e.unstable_now();F=j;var P=!0;try{P=_(!0,j)}finally{P?N():(C=!1,_=null)}}else C=!1}var N;if(typeof b=="function")N=function(){b(H)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,E=M.port2;M.port1.onmessage=H,N=function(){E.postMessage(null)}}else N=function(){y(H,0)};function L(j){_=j,C||(C=!0,N())}function B(j,P){A=y(function(){j(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var I=f;f=P;try{return j()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=f;f=j;try{return P()}finally{f=I}},e.unstable_scheduleCallback=function(j,P,I){var D=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?D+I:D):I=D,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,j={id:u++,callback:P,priorityLevel:j,startTime:I,expirationTime:q,sortIndex:-1},I>D?(j.sortIndex=I,t(c,j),r(l)===null&&j===r(c)&&(m?(x(A),A=-1):m=!0,B(S,I-D))):(j.sortIndex=q,t(l,j),g||p||(g=!0,L(k))),j},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(j){var P=f;return function(){var I=f;f=P;try{return j.apply(this,arguments)}finally{f=I}}}})(HS);WS.exports=HS;var OR=WS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=T,mn=OR;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qS=new Set,Ic={};function Uo(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(Ic[e]=t,e=0;e<t.length;e++)qS.add(t[e])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,NR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Kb={};function IR(e){return cm.call(Kb,e)?!0:cm.call(Qb,e)?!1:NR.test(e)?Kb[e]=!0:(Qb[e]=!0,!1)}function zR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WR(e,t,r,n){if(t===null||typeof t>"u"||zR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ar[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ar[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ar[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ar[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ar[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ar[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ar[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ar[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ar[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cx=/[\-:]([a-z])/g;function Tx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cx,Tx);ar[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cx,Tx);ar[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cx,Tx);ar[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ar[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});ar.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ar[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ex(e,t,r,n){var i=ar.hasOwnProperty(t)?ar[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WR(t,r,i,n)&&(r=null),n||i===null?IR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ns=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),pa=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),VS=Symbol.for("react.context"),Ax=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),YS=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Jp;function ec(e){if(Jp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jp=t&&t[1]||""}return`
`+Jp+e}var Zp=!1;function tg(e,t){if(!e||Zp)return"";Zp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ec(e):""}function HR(e){switch(e.tag){case 5:return ec(e.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return e=tg(e.type,!1),e;case 11:return e=tg(e.type.render,!1),e;case 1:return e=tg(e.type,!0),e;default:return""}}function fm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ga:return"Fragment";case pa:return"Portal";case um:return"Profiler";case jx:return"StrictMode";case dm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VS:return(e.displayName||"Context")+".Consumer";case US:return(e._context.displayName||"Context")+".Provider";case Ax:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lx:return t=e.displayName||null,t!==null?t:fm(e.type)||"Memo";case us:t=e._payload,e=e._init;try{return fm(e(t))}catch{}}return null}function qR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(t);case 8:return t===jx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UR(e){var t=GS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=UR(e))}function XS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _h(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pm(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QS(e,t){t=t.checked,t!=null&&Ex(e,"checked",t,!1)}function gm(e,t){QS(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mm(e,t.type,r):t.hasOwnProperty("defaultValue")&&mm(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mm(e,t,r){(t!=="number"||_h(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rc=Array.isArray;function ja(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ct(92));if(rc(r)){if(1<r.length)throw Error(ct(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function KS(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function r1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rd,ZS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VR=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(e){VR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bc[t]=bc[e]})});function t_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bc.hasOwnProperty(e)&&bc[e]?(""+t).trim():t+"px"}function e_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=t_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var YR=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bm(e,t){if(t){if(YR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=null;function Mx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Aa=null,La=null;function n1(e){if(e=ju(e)){if(typeof km!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=Uf(t),km(e.stateNode,e.type,t))}}function r_(e){Aa?La?La.push(e):La=[e]:Aa=e}function n_(){if(Aa){var e=Aa,t=La;if(La=Aa=null,n1(e),t)for(e=0;e<t.length;e++)n1(t[e])}}function i_(e,t){return e(t)}function s_(){}var eg=!1;function o_(e,t,r){if(eg)return e(t,r);eg=!0;try{return i_(e,t,r)}finally{eg=!1,(Aa!==null||La!==null)&&(s_(),n_())}}function Wc(e,t){var r=e.stateNode;if(r===null)return null;var n=Uf(r);if(n===null)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ct(231,t,typeof r));return r}var Sm=!1;if(Ki)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Sm=!1}function GR(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var vc=!1,Ch=null,Th=!1,_m=null,XR={onError:function(e){vc=!0,Ch=e}};function QR(e,t,r,n,i,s,o,a,l){vc=!1,Ch=null,GR.apply(XR,arguments)}function KR(e,t,r,n,i,s,o,a,l){if(QR.apply(this,arguments),vc){if(vc){var c=Ch;vc=!1,Ch=null}else throw Error(ct(198));Th||(Th=!0,_m=c)}}function Vo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function a_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i1(e){if(Vo(e)!==e)throw Error(ct(188))}function JR(e){var t=e.alternate;if(!t){if(t=Vo(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return i1(i),e;if(s===n)return i1(i),t;s=s.sibling}throw Error(ct(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ct(189))}}if(r.alternate!==n)throw Error(ct(190))}if(r.tag!==3)throw Error(ct(188));return r.stateNode.current===r?e:t}function l_(e){return e=JR(e),e!==null?c_(e):null}function c_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c_(e);if(t!==null)return t;e=e.sibling}return null}var u_=mn.unstable_scheduleCallback,s1=mn.unstable_cancelCallback,ZR=mn.unstable_shouldYield,t3=mn.unstable_requestPaint,Le=mn.unstable_now,e3=mn.unstable_getCurrentPriorityLevel,Rx=mn.unstable_ImmediatePriority,d_=mn.unstable_UserBlockingPriority,Eh=mn.unstable_NormalPriority,r3=mn.unstable_LowPriority,h_=mn.unstable_IdlePriority,zf=null,vi=null;function n3(e){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(zf,e,void 0,(e.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:o3,i3=Math.log,s3=Math.LN2;function o3(e){return e>>>=0,e===0?32:31-(i3(e)/s3|0)|0}var nd=64,id=4194304;function nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=nc(a):(s&=o,s!==0&&(n=nc(s)))}else o=r&~i,o!==0?n=nc(o):s!==0&&(n=nc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kn(t),i=1<<r,n|=e[r],t&=~i;return n}function a3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Kn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=a3(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Cm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f_(){var e=nd;return nd<<=1,!(nd&4194240)&&(nd=64),e}function rg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kn(t),e[t]=r}function c3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Kn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Bx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ae=0;function p_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g_,Px,m_,x_,y_,Tm=!1,sd=[],Ss=null,_s=null,Cs=null,Hc=new Map,qc=new Map,fs=[],u3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o1(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(t.pointerId)}}function Rl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ju(t),t!==null&&Px(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d3(e,t,r,n,i){switch(t){case"focusin":return Ss=Rl(Ss,e,t,r,n,i),!0;case"dragenter":return _s=Rl(_s,e,t,r,n,i),!0;case"mouseover":return Cs=Rl(Cs,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,Rl(Hc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,qc.set(s,Rl(qc.get(s)||null,e,t,r,n,i)),!0}return!1}function b_(e){var t=ho(e.target);if(t!==null){var r=Vo(t);if(r!==null){if(t=r.tag,t===13){if(t=a_(r),t!==null){e.blockedOn=t,y_(e.priority,function(){m_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wm=n,r.target.dispatchEvent(n),wm=null}else return t=ju(r),t!==null&&Px(t),e.blockedOn=r,!1;t.shift()}return!0}function a1(e,t,r){Ud(e)&&r.delete(t)}function h3(){Tm=!1,Ss!==null&&Ud(Ss)&&(Ss=null),_s!==null&&Ud(_s)&&(_s=null),Cs!==null&&Ud(Cs)&&(Cs=null),Hc.forEach(a1),qc.forEach(a1)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,h3)))}function Uc(e){function t(i){return Bl(i,e)}if(0<sd.length){Bl(sd[0],e);for(var r=1;r<sd.length;r++){var n=sd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ss!==null&&Bl(Ss,e),_s!==null&&Bl(_s,e),Cs!==null&&Bl(Cs,e),Hc.forEach(t),qc.forEach(t),r=0;r<fs.length;r++)n=fs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)b_(r),r.blockedOn===null&&fs.shift()}var Ma=ns.ReactCurrentBatchConfig,Ah=!0;function f3(e,t,r,n){var i=ae,s=Ma.transition;Ma.transition=null;try{ae=1,Fx(e,t,r,n)}finally{ae=i,Ma.transition=s}}function p3(e,t,r,n){var i=ae,s=Ma.transition;Ma.transition=null;try{ae=4,Fx(e,t,r,n)}finally{ae=i,Ma.transition=s}}function Fx(e,t,r,n){if(Ah){var i=Em(e,t,r,n);if(i===null)hg(e,t,n,Lh,r),o1(e,n);else if(d3(i,e,t,r,n))n.stopPropagation();else if(o1(e,n),t&4&&-1<u3.indexOf(e)){for(;i!==null;){var s=ju(i);if(s!==null&&g_(s),s=Em(e,t,r,n),s===null&&hg(e,t,n,Lh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else hg(e,t,n,null,r)}}var Lh=null;function Em(e,t,r,n){if(Lh=null,e=Mx(n),e=ho(e),e!==null)if(t=Vo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=a_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lh=e,null}function v_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e3()){case Rx:return 1;case d_:return 4;case Eh:case r3:return 16;case h_:return 536870912;default:return 16}default:return 16}}var gs=null,Dx=null,Vd=null;function w_(){if(Vd)return Vd;var e,t=Dx,r=t.length,n,i="value"in gs?gs.value:gs.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Vd=i.slice(e,1<n?1-n:void 0)}function Yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function l1(){return!1}function bn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?od:l1,this.isPropagationStopped=l1,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ox=bn(hl),Eu=ke({},hl,{view:0,detail:0}),g3=bn(Eu),ng,ig,Pl,Wf=ke({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(ng=e.screenX-Pl.screenX,ig=e.screenY-Pl.screenY):ig=ng=0,Pl=e),ng)},movementY:function(e){return"movementY"in e?e.movementY:ig}}),c1=bn(Wf),m3=ke({},Wf,{dataTransfer:0}),x3=bn(m3),y3=ke({},Eu,{relatedTarget:0}),sg=bn(y3),b3=ke({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),v3=bn(b3),w3=ke({},hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k3=bn(w3),S3=ke({},hl,{data:0}),u1=bn(S3),_3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T3[e])?!!t[e]:!1}function $x(){return E3}var j3=ke({},Eu,{key:function(e){if(e.key){var t=_3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(e){return e.type==="keypress"?Yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A3=bn(j3),L3=ke({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d1=bn(L3),M3=ke({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),R3=bn(M3),B3=ke({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),P3=bn(B3),F3=ke({},Wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D3=bn(F3),O3=[9,13,27,32],Nx=Ki&&"CompositionEvent"in window,wc=null;Ki&&"documentMode"in document&&(wc=document.documentMode);var $3=Ki&&"TextEvent"in window&&!wc,k_=Ki&&(!Nx||wc&&8<wc&&11>=wc),h1=" ",f1=!1;function S_(e,t){switch(e){case"keyup":return O3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function N3(e,t){switch(e){case"compositionend":return __(t);case"keypress":return t.which!==32?null:(f1=!0,h1);case"textInput":return e=t.data,e===h1&&f1?null:e;default:return null}}function I3(e,t){if(ma)return e==="compositionend"||!Nx&&S_(e,t)?(e=w_(),Vd=Dx=gs=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k_&&t.locale!=="ko"?null:t.data;default:return null}}var z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z3[e.type]:t==="textarea"}function C_(e,t,r,n){r_(n),t=Mh(t,"onChange"),0<t.length&&(r=new Ox("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kc=null,Vc=null;function W3(e){D_(e,0)}function Hf(e){var t=ba(e);if(XS(t))return e}function H3(e,t){if(e==="change")return t}var T_=!1;if(Ki){var og;if(Ki){var ag="oninput"in document;if(!ag){var g1=document.createElement("div");g1.setAttribute("oninput","return;"),ag=typeof g1.oninput=="function"}og=ag}else og=!1;T_=og&&(!document.documentMode||9<document.documentMode)}function m1(){kc&&(kc.detachEvent("onpropertychange",E_),Vc=kc=null)}function E_(e){if(e.propertyName==="value"&&Hf(Vc)){var t=[];C_(t,Vc,e,Mx(e)),o_(W3,t)}}function q3(e,t,r){e==="focusin"?(m1(),kc=t,Vc=r,kc.attachEvent("onpropertychange",E_)):e==="focusout"&&m1()}function U3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hf(Vc)}function V3(e,t){if(e==="click")return Hf(t)}function Y3(e,t){if(e==="input"||e==="change")return Hf(t)}function G3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:G3;function Yc(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cm.call(t,i)||!ei(e[i],t[i]))return!1}return!0}function x1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y1(e,t){var r=x1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=x1(r)}}function j_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A_(){for(var e=window,t=_h();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_h(e.document)}return t}function Ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X3(e){var t=A_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&j_(r.ownerDocument.documentElement,r)){if(n!==null&&Ix(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=y1(r,s);var o=y1(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q3=Ki&&"documentMode"in document&&11>=document.documentMode,xa=null,jm=null,Sc=null,Am=!1;function b1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Am||xa==null||xa!==_h(n)||(n=xa,"selectionStart"in n&&Ix(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sc&&Yc(Sc,n)||(Sc=n,n=Mh(jm,"onSelect"),0<n.length&&(t=new Ox("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xa)))}function ad(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ya={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},lg={},L_={};Ki&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function qf(e){if(lg[e])return lg[e];if(!ya[e])return e;var t=ya[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in L_)return lg[e]=t[r];return e}var M_=qf("animationend"),R_=qf("animationiteration"),B_=qf("animationstart"),P_=qf("transitionend"),F_=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){F_.set(e,t),Uo(t,[e])}for(var cg=0;cg<v1.length;cg++){var ug=v1[cg],K3=ug.toLowerCase(),J3=ug[0].toUpperCase()+ug.slice(1);zs(K3,"on"+J3)}zs(M_,"onAnimationEnd");zs(R_,"onAnimationIteration");zs(B_,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(P_,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function w1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KR(n,t,void 0,e),e.currentTarget=null}function D_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;t:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;w1(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;w1(i,a,c),s=l}}}if(Th)throw e=_m,Th=!1,_m=null,e}function he(e,t){var r=t[Pm];r===void 0&&(r=t[Pm]=new Set);var n=e+"__bubble";r.has(n)||(O_(t,e,2,!1),r.add(n))}function dg(e,t,r){var n=0;t&&(n|=4),O_(r,e,n,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[ld]){e[ld]=!0,qS.forEach(function(r){r!=="selectionchange"&&(Z3.has(r)||dg(r,!1,e),dg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ld]||(t[ld]=!0,dg("selectionchange",!1,t))}}function O_(e,t,r,n){switch(v_(t)){case 1:var i=f3;break;case 4:i=p3;break;default:i=Fx}r=i.bind(null,t,r,e),i=void 0,!Sm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hg(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ho(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue t}a=a.parentNode}}n=n.return}o_(function(){var c=s,u=Mx(r),h=[];t:{var f=F_.get(e);if(f!==void 0){var p=Ox,g=e;switch(e){case"keypress":if(Yd(r)===0)break t;case"keydown":case"keyup":p=A3;break;case"focusin":g="focus",p=sg;break;case"focusout":g="blur",p=sg;break;case"beforeblur":case"afterblur":p=sg;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=c1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=R3;break;case M_:case R_:case B_:p=v3;break;case P_:p=P3;break;case"scroll":p=g3;break;case"wheel":p=D3;break;case"copy":case"cut":case"paste":p=k3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=d1}var m=(t&4)!==0,y=!m&&e==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,v;b!==null;){v=b;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=Wc(b,x),S!=null&&m.push(Xc(b,S,v)))),y)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==wm&&(g=r.relatedTarget||r.fromElement)&&(ho(g)||g[Ji]))break t;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?ho(g):null,g!==null&&(y=Vo(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=c1,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=d1,S="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?f:ba(p),v=g==null?f:ba(g),f=new m(S,b+"leave",p,r,u),f.target=y,f.relatedTarget=v,S=null,ho(u)===c&&(m=new m(x,b+"enter",g,r,u),m.target=v,m.relatedTarget=y,S=m),y=S,p&&g)e:{for(m=p,x=g,b=0,v=m;v;v=aa(v))b++;for(v=0,S=x;S;S=aa(S))v++;for(;0<b-v;)m=aa(m),b--;for(;0<v-b;)x=aa(x),v--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break e;m=aa(m),x=aa(x)}m=null}else m=null;p!==null&&k1(h,f,p,m,!1),g!==null&&y!==null&&k1(h,y,g,m,!0)}}t:{if(f=c?ba(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=H3;else if(p1(f))if(T_)k=Y3;else{k=U3;var C=q3}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=V3);if(k&&(k=k(e,c))){C_(h,k,r,u);break t}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&mm(f,"number",f.value)}switch(C=c?ba(c):window,e){case"focusin":(p1(C)||C.contentEditable==="true")&&(xa=C,jm=c,Sc=null);break;case"focusout":Sc=jm=xa=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,b1(h,r,u);break;case"selectionchange":if(Q3)break;case"keydown":case"keyup":b1(h,r,u)}var _;if(Nx)t:{switch(e){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else ma?S_(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(k_&&r.locale!=="ko"&&(ma||A!=="onCompositionStart"?A==="onCompositionEnd"&&ma&&(_=w_()):(gs=u,Dx="value"in gs?gs.value:gs.textContent,ma=!0)),C=Mh(c,A),0<C.length&&(A=new u1(A,e,null,r,u),h.push({event:A,listeners:C}),_?A.data=_:(_=__(r),_!==null&&(A.data=_)))),(_=$3?N3(e,r):I3(e,r))&&(c=Mh(c,"onBeforeInput"),0<c.length&&(u=new u1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=_))}D_(h,t)})}function Xc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wc(e,r),s!=null&&n.unshift(Xc(e,s,i)),s=Wc(e,t),s!=null&&n.push(Xc(e,s,i))),e=e.return}return n}function aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function k1(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Wc(r,s),l!=null&&o.unshift(Xc(r,l,a))):i||(l=Wc(r,s),l!=null&&o.push(Xc(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tB=/\r\n?/g,eB=/\u0000|\uFFFD/g;function S1(e){return(typeof e=="string"?e:""+e).replace(tB,`
`).replace(eB,"")}function cd(e,t,r){if(t=S1(t),S1(e)!==t&&r)throw Error(ct(425))}function Rh(){}var Lm=null,Mm=null;function Rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bm=typeof setTimeout=="function"?setTimeout:void 0,rB=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,nB=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(e){return _1.resolve(null).then(e).catch(iB)}:Bm;function iB(e){setTimeout(function(){throw e})}function fg(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Uc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Uc(t)}function Ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function C1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),bi="__reactFiber$"+fl,Qc="__reactProps$"+fl,Ji="__reactContainer$"+fl,Pm="__reactEvents$"+fl,sB="__reactListeners$"+fl,oB="__reactHandles$"+fl;function ho(e){var t=e[bi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ji]||r[bi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=C1(e);e!==null;){if(r=e[bi])return r;e=C1(e)}return t}e=r,r=e.parentNode}return null}function ju(e){return e=e[bi]||e[Ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function Uf(e){return e[Qc]||null}var Fm=[],va=-1;function Ws(e){return{current:e}}function pe(e){0>va||(e.current=Fm[va],Fm[va]=null,va--)}function ue(e,t){va++,Fm[va]=e.current,e.current=t}var Ps={},Sr=Ws(Ps),tn=Ws(!1),Lo=Ps;function Ya(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function en(e){return e=e.childContextTypes,e!=null}function Bh(){pe(tn),pe(Sr)}function T1(e,t,r){if(Sr.current!==Ps)throw Error(ct(168));ue(Sr,t),ue(tn,r)}function $_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ct(108,qR(e)||"Unknown",i));return ke({},r,n)}function Ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,Lo=Sr.current,ue(Sr,e),ue(tn,tn.current),!0}function E1(e,t,r){var n=e.stateNode;if(!n)throw Error(ct(169));r?(e=$_(e,t,Lo),n.__reactInternalMemoizedMergedChildContext=e,pe(tn),pe(Sr),ue(Sr,e)):pe(tn),ue(tn,r)}var zi=null,Vf=!1,pg=!1;function N_(e){zi===null?zi=[e]:zi.push(e)}function aB(e){Vf=!0,N_(e)}function Hs(){if(!pg&&zi!==null){pg=!0;var e=0,t=ae;try{var r=zi;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zi=null,Vf=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),u_(Rx,Hs),i}finally{ae=t,pg=!1}}return null}var wa=[],ka=0,Fh=null,Dh=0,_n=[],Cn=0,Mo=null,Hi=1,qi="";function io(e,t){wa[ka++]=Dh,wa[ka++]=Fh,Fh=e,Dh=t}function I_(e,t,r){_n[Cn++]=Hi,_n[Cn++]=qi,_n[Cn++]=Mo,Mo=e;var n=Hi;e=qi;var i=32-Kn(n)-1;n&=~(1<<i),r+=1;var s=32-Kn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Hi=1<<32-Kn(t)+i|r<<i|n,qi=s+e}else Hi=1<<s|r<<i|n,qi=e}function zx(e){e.return!==null&&(io(e,1),I_(e,1,0))}function Wx(e){for(;e===Fh;)Fh=wa[--ka],wa[ka]=null,Dh=wa[--ka],wa[ka]=null;for(;e===Mo;)Mo=_n[--Cn],_n[Cn]=null,qi=_n[--Cn],_n[Cn]=null,Hi=_n[--Cn],_n[Cn]=null}var pn=null,fn=null,xe=!1,Un=null;function z_(e,t){var r=Tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function j1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,fn=Ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mo!==null?{id:Hi,overflow:qi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pn=e,fn=null,!0):!1;default:return!1}}function Dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Om(e){if(xe){var t=fn;if(t){var r=t;if(!j1(e,t)){if(Dm(e))throw Error(ct(418));t=Ts(r.nextSibling);var n=pn;t&&j1(e,t)?z_(n,r):(e.flags=e.flags&-4097|2,xe=!1,pn=e)}}else{if(Dm(e))throw Error(ct(418));e.flags=e.flags&-4097|2,xe=!1,pn=e}}}function A1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function ud(e){if(e!==pn)return!1;if(!xe)return A1(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rm(e.type,e.memoizedProps)),t&&(t=fn)){if(Dm(e))throw W_(),Error(ct(418));for(;t;)z_(e,t),t=Ts(t.nextSibling)}if(A1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fn=Ts(e.nextSibling);break t}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=pn?Ts(e.stateNode.nextSibling):null;return!0}function W_(){for(var e=fn;e;)e=Ts(e.nextSibling)}function Ga(){fn=pn=null,xe=!1}function Hx(e){Un===null?Un=[e]:Un.push(e)}var lB=ns.ReactCurrentBatchConfig;function Fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ct(309));var n=r.stateNode}if(!n)throw Error(ct(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ct(284));if(!r._owner)throw Error(ct(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function L1(e){var t=e._init;return t(e._payload)}function H_(e){function t(x,b){if(e){var v=x.deletions;v===null?(x.deletions=[b],x.flags|=16):v.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ls(x,b),x.index=0,x.sibling=null,x}function s(x,b,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<b?(x.flags|=2,b):v):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,v,S){return b===null||b.tag!==6?(b=wg(v,x.mode,S),b.return=x,b):(b=i(b,v),b.return=x,b)}function l(x,b,v,S){var k=v.type;return k===ga?u(x,b,v.props.children,S,v.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===us&&L1(k)===b.type)?(S=i(b,v.props),S.ref=Fl(x,b,v),S.return=x,S):(S=th(v.type,v.key,v.props,null,x.mode,S),S.ref=Fl(x,b,v),S.return=x,S)}function c(x,b,v,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=kg(v,x.mode,S),b.return=x,b):(b=i(b,v.children||[]),b.return=x,b)}function u(x,b,v,S,k){return b===null||b.tag!==7?(b=So(v,x.mode,S,k),b.return=x,b):(b=i(b,v),b.return=x,b)}function h(x,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wg(""+b,x.mode,v),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case td:return v=th(b.type,b.key,b.props,null,x.mode,v),v.ref=Fl(x,null,b),v.return=x,v;case pa:return b=kg(b,x.mode,v),b.return=x,b;case us:var S=b._init;return h(x,S(b._payload),v)}if(rc(b)||Ll(b))return b=So(b,x.mode,v,null),b.return=x,b;dd(x,b)}return null}function f(x,b,v,S){var k=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(x,b,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case td:return v.key===k?l(x,b,v,S):null;case pa:return v.key===k?c(x,b,v,S):null;case us:return k=v._init,f(x,b,k(v._payload),S)}if(rc(v)||Ll(v))return k!==null?null:u(x,b,v,S,null);dd(x,v)}return null}function p(x,b,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,a(b,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case td:return x=x.get(S.key===null?v:S.key)||null,l(b,x,S,k);case pa:return x=x.get(S.key===null?v:S.key)||null,c(b,x,S,k);case us:var C=S._init;return p(x,b,v,C(S._payload),k)}if(rc(S)||Ll(S))return x=x.get(v)||null,u(b,x,S,k,null);dd(b,S)}return null}function g(x,b,v,S){for(var k=null,C=null,_=b,A=b=0,O=null;_!==null&&A<v.length;A++){_.index>A?(O=_,_=null):O=_.sibling;var F=f(x,_,v[A],S);if(F===null){_===null&&(_=O);break}e&&_&&F.alternate===null&&t(x,_),b=s(F,b,A),C===null?k=F:C.sibling=F,C=F,_=O}if(A===v.length)return r(x,_),xe&&io(x,A),k;if(_===null){for(;A<v.length;A++)_=h(x,v[A],S),_!==null&&(b=s(_,b,A),C===null?k=_:C.sibling=_,C=_);return xe&&io(x,A),k}for(_=n(x,_);A<v.length;A++)O=p(_,x,A,v[A],S),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?A:O.key),b=s(O,b,A),C===null?k=O:C.sibling=O,C=O);return e&&_.forEach(function($){return t(x,$)}),xe&&io(x,A),k}function m(x,b,v,S){var k=Ll(v);if(typeof k!="function")throw Error(ct(150));if(v=k.call(v),v==null)throw Error(ct(151));for(var C=k=null,_=b,A=b=0,O=null,F=v.next();_!==null&&!F.done;A++,F=v.next()){_.index>A?(O=_,_=null):O=_.sibling;var $=f(x,_,F.value,S);if($===null){_===null&&(_=O);break}e&&_&&$.alternate===null&&t(x,_),b=s($,b,A),C===null?k=$:C.sibling=$,C=$,_=O}if(F.done)return r(x,_),xe&&io(x,A),k;if(_===null){for(;!F.done;A++,F=v.next())F=h(x,F.value,S),F!==null&&(b=s(F,b,A),C===null?k=F:C.sibling=F,C=F);return xe&&io(x,A),k}for(_=n(x,_);!F.done;A++,F=v.next())F=p(_,x,A,F.value,S),F!==null&&(e&&F.alternate!==null&&_.delete(F.key===null?A:F.key),b=s(F,b,A),C===null?k=F:C.sibling=F,C=F);return e&&_.forEach(function(H){return t(x,H)}),xe&&io(x,A),k}function y(x,b,v,S){if(typeof v=="object"&&v!==null&&v.type===ga&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case td:t:{for(var k=v.key,C=b;C!==null;){if(C.key===k){if(k=v.type,k===ga){if(C.tag===7){r(x,C.sibling),b=i(C,v.props.children),b.return=x,x=b;break t}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===us&&L1(k)===C.type){r(x,C.sibling),b=i(C,v.props),b.ref=Fl(x,C,v),b.return=x,x=b;break t}r(x,C);break}else t(x,C);C=C.sibling}v.type===ga?(b=So(v.props.children,x.mode,S,v.key),b.return=x,x=b):(S=th(v.type,v.key,v.props,null,x.mode,S),S.ref=Fl(x,b,v),S.return=x,x=S)}return o(x);case pa:t:{for(C=v.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(x,b.sibling),b=i(b,v.children||[]),b.return=x,x=b;break t}else{r(x,b);break}else t(x,b);b=b.sibling}b=kg(v,x.mode,S),b.return=x,x=b}return o(x);case us:return C=v._init,y(x,b,C(v._payload),S)}if(rc(v))return g(x,b,v,S);if(Ll(v))return m(x,b,v,S);dd(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,v),b.return=x,x=b):(r(x,b),b=wg(v,x.mode,S),b.return=x,x=b),o(x)):r(x,b)}return y}var Xa=H_(!0),q_=H_(!1),Oh=Ws(null),$h=null,Sa=null,qx=null;function Ux(){qx=Sa=$h=null}function Vx(e){var t=Oh.current;pe(Oh),e._currentValue=t}function $m(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ra(e,t){$h=e,qx=Sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jr=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(qx!==e)if(e={context:e,memoizedValue:t,next:null},Sa===null){if($h===null)throw Error(ct(308));Sa=e,$h.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var fo=null;function Yx(e){fo===null?fo=[e]:fo.push(e)}function U_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Yx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zi(e,n)}function Zi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ds=!1;function Gx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Es(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zi(e,r)}return i=n.interleaved,i===null?(t.next=t,Yx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zi(e,r)}function Gd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bx(e,r)}}function M1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nh(e,t,r,n){var i=e.updateQueue;ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=e,m=a;switch(f=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break t}h=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break t;h=ke({},h,f);break t;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bo|=o,e.lanes=o,e.memoizedState=h}}function R1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ct(191,i));i.call(n)}}}var Au={},wi=Ws(Au),Kc=Ws(Au),Jc=Ws(Au);function po(e){if(e===Au)throw Error(ct(174));return e}function Xx(e,t){switch(ue(Jc,t),ue(Kc,e),ue(wi,Au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ym(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ym(t,e)}pe(wi),ue(wi,t)}function Qa(){pe(wi),pe(Kc),pe(Jc)}function Y_(e){po(Jc.current);var t=po(wi.current),r=ym(t,e.type);t!==r&&(ue(Kc,e),ue(wi,r))}function Qx(e){Kc.current===e&&(pe(wi),pe(Kc))}var ve=Ws(0);function Ih(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gg=[];function Kx(){for(var e=0;e<gg.length;e++)gg[e]._workInProgressVersionPrimary=null;gg.length=0}var Xd=ns.ReactCurrentDispatcher,mg=ns.ReactCurrentBatchConfig,Ro=0,we=null,Ne=null,Ge=null,zh=!1,_c=!1,Zc=0,cB=0;function ur(){throw Error(ct(321))}function Jx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ei(e[r],t[r]))return!1;return!0}function Zx(e,t,r,n,i,s){if(Ro=s,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xd.current=e===null||e.memoizedState===null?fB:pB,e=r(n,i),_c){s=0;do{if(_c=!1,Zc=0,25<=s)throw Error(ct(301));s+=1,Ge=Ne=null,t.updateQueue=null,Xd.current=gB,e=r(n,i)}while(_c)}if(Xd.current=Wh,t=Ne!==null&&Ne.next!==null,Ro=0,Ge=Ne=we=null,zh=!1,t)throw Error(ct(300));return e}function ty(){var e=Zc!==0;return Zc=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?we.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Ln(){if(Ne===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ge===null?we.memoizedState:Ge.next;if(t!==null)Ge=t,Ne=e;else{if(e===null)throw Error(ct(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ge===null?we.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function tu(e,t){return typeof t=="function"?t(e):t}function xg(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ct(311));r.lastRenderedReducer=e;var n=Ne,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ro&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,we.lanes|=u,Bo|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,ei(n,t.memoizedState)||(Jr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,we.lanes|=s,Bo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yg(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ct(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ei(s,t.memoizedState)||(Jr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function G_(){}function X_(e,t){var r=we,n=Ln(),i=t(),s=!ei(n.memoizedState,i);if(s&&(n.memoizedState=i,Jr=!0),n=n.queue,ey(J_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,eu(9,K_.bind(null,r,n,i,t),void 0,null),Qe===null)throw Error(ct(349));Ro&30||Q_(r,t,i)}return i}function Q_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function K_(e,t,r,n){t.value=r,t.getSnapshot=n,Z_(t)&&t2(e)}function J_(e,t,r){return r(function(){Z_(t)&&t2(e)})}function Z_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ei(e,r)}catch{return!0}}function t2(e){var t=Zi(e,1);t!==null&&Jn(t,e,1,-1)}function B1(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=hB.bind(null,we,e),[t.memoizedState,e]}function eu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e2(){return Ln().memoizedState}function Qd(e,t,r,n){var i=mi();we.flags|=e,i.memoizedState=eu(1|t,r,void 0,n===void 0?null:n)}function Yf(e,t,r,n){var i=Ln();n=n===void 0?null:n;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,n!==null&&Jx(n,o.deps)){i.memoizedState=eu(t,r,s,n);return}}we.flags|=e,i.memoizedState=eu(1|t,r,s,n)}function P1(e,t){return Qd(8390656,8,e,t)}function ey(e,t){return Yf(2048,8,e,t)}function r2(e,t){return Yf(4,2,e,t)}function n2(e,t){return Yf(4,4,e,t)}function i2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s2(e,t,r){return r=r!=null?r.concat([e]):null,Yf(4,4,i2.bind(null,t,e),r)}function ry(){}function o2(e,t){var r=Ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function a2(e,t){var r=Ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function l2(e,t,r){return Ro&21?(ei(r,t)||(r=f_(),we.lanes|=r,Bo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=r)}function uB(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=mg.transition;mg.transition={};try{e(!1),t()}finally{ae=r,mg.transition=n}}function c2(){return Ln().memoizedState}function dB(e,t,r){var n=As(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u2(e))d2(t,r);else if(r=U_(e,t,r,n),r!==null){var i=Pr();Jn(r,e,n,i),h2(r,t,n)}}function hB(e,t,r){var n=As(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u2(e))d2(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ei(a,o)){var l=t.interleaved;l===null?(i.next=i,Yx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=U_(e,t,i,n),r!==null&&(i=Pr(),Jn(r,e,n,i),h2(r,t,n))}}function u2(e){var t=e.alternate;return e===we||t!==null&&t===we}function d2(e,t){_c=zh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function h2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bx(e,r)}}var Wh={readContext:An,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},fB={readContext:An,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:P1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qd(4194308,4,i2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qd(4,2,e,t)},useMemo:function(e,t){var r=mi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dB.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:B1,useDebugValue:ry,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=B1(!1),t=e[0];return e=uB.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,i=mi();if(xe){if(r===void 0)throw Error(ct(407));r=r()}else{if(r=t(),Qe===null)throw Error(ct(349));Ro&30||Q_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,P1(J_.bind(null,n,s,e),[e]),n.flags|=2048,eu(9,K_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=mi(),t=Qe.identifierPrefix;if(xe){var r=qi,n=Hi;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pB={readContext:An,useCallback:o2,useContext:An,useEffect:ey,useImperativeHandle:s2,useInsertionEffect:r2,useLayoutEffect:n2,useMemo:a2,useReducer:xg,useRef:e2,useState:function(){return xg(tu)},useDebugValue:ry,useDeferredValue:function(e){var t=Ln();return l2(t,Ne.memoizedState,e)},useTransition:function(){var e=xg(tu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:G_,useSyncExternalStore:X_,useId:c2,unstable_isNewReconciler:!1},gB={readContext:An,useCallback:o2,useContext:An,useEffect:ey,useImperativeHandle:s2,useInsertionEffect:r2,useLayoutEffect:n2,useMemo:a2,useReducer:yg,useRef:e2,useState:function(){return yg(tu)},useDebugValue:ry,useDeferredValue:function(e){var t=Ln();return Ne===null?t.memoizedState=e:l2(t,Ne.memoizedState,e)},useTransition:function(){var e=yg(tu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:G_,useSyncExternalStore:X_,useId:c2,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gf={isMounted:function(e){return(e=e._reactInternals)?Vo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pr(),i=As(e),s=Yi(n,i);s.payload=t,r!=null&&(s.callback=r),t=Es(e,s,i),t!==null&&(Jn(t,e,i,n),Gd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pr(),i=As(e),s=Yi(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Es(e,s,i),t!==null&&(Jn(t,e,i,n),Gd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pr(),n=As(e),i=Yi(r,n);i.tag=2,t!=null&&(i.callback=t),t=Es(e,i,n),t!==null&&(Jn(t,e,n,r),Gd(t,e,n))}};function F1(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yc(r,n)||!Yc(i,s):!0}function f2(e,t,r){var n=!1,i=Ps,s=t.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=en(t)?Lo:Sr.current,n=t.contextTypes,s=(n=n!=null)?Ya(e,i):Ps),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function D1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gf.enqueueReplaceState(t,t.state,null)}function Im(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Gx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=en(t)?Lo:Sr.current,i.context=Ya(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Nm(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gf.enqueueReplaceState(i,i.state,null),Nh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ka(e,t){try{var r="",n=t;do r+=HR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function bg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mB=typeof WeakMap=="function"?WeakMap:Map;function p2(e,t,r){r=Yi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qh||(qh=!0,Km=n),zm(e,t)},r}function g2(e,t,r){r=Yi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){zm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){zm(e,t),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function O1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mB;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=LB.bind(null,e,t,r),t.then(e,e))}function $1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yi(-1,1),t.tag=2,Es(r,t,1))),r.lanes|=1),e)}var xB=ns.ReactCurrentOwner,Jr=!1;function Lr(e,t,r,n){t.child=e===null?q_(t,null,r,n):Xa(t,e.child,r,n)}function I1(e,t,r,n,i){r=r.render;var s=t.ref;return Ra(t,i),n=Zx(e,t,r,n,s,i),r=ty(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ts(e,t,i)):(xe&&r&&zx(t),t.flags|=1,Lr(e,t,n,i),t.child)}function z1(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!uy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,m2(e,t,s,n,i)):(e=th(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yc,r(o,n)&&e.ref===t.ref)return ts(e,t,i)}return t.flags|=1,e=Ls(s,n),e.ref=t.ref,e.return=t,t.child=e}function m2(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Yc(s,n)&&e.ref===t.ref)if(Jr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Jr=!0);else return t.lanes=e.lanes,ts(e,t,i)}return Wm(e,t,r,n,i)}function x2(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ca,hn),hn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Ca,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ue(Ca,hn),hn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ue(Ca,hn),hn|=n;return Lr(e,t,i,r),t.child}function y2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wm(e,t,r,n,i){var s=en(r)?Lo:Sr.current;return s=Ya(t,s),Ra(t,i),r=Zx(e,t,r,n,s,i),n=ty(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ts(e,t,i)):(xe&&n&&zx(t),t.flags|=1,Lr(e,t,r,i),t.child)}function W1(e,t,r,n,i){if(en(r)){var s=!0;Ph(t)}else s=!1;if(Ra(t,i),t.stateNode===null)Kd(e,t),f2(t,r,n),Im(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=An(c):(c=en(r)?Lo:Sr.current,c=Ya(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&D1(t,o,n,c),ds=!1;var f=t.memoizedState;o.state=f,Nh(t,n,o,i),l=t.memoizedState,a!==n||f!==l||tn.current||ds?(typeof u=="function"&&(Nm(t,r,u,n),l=t.memoizedState),(a=ds||F1(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,V_(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Hn(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=An(l):(l=en(r)?Lo:Sr.current,l=Ya(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&D1(t,o,n,l),ds=!1,f=t.memoizedState,o.state=f,Nh(t,n,o,i);var g=t.memoizedState;a!==h||f!==g||tn.current||ds?(typeof p=="function"&&(Nm(t,r,p,n),g=t.memoizedState),(c=ds||F1(t,r,c,n,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Hm(e,t,r,n,s,i)}function Hm(e,t,r,n,i,s){y2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&E1(t,r,!1),ts(e,t,s);n=t.stateNode,xB.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xa(t,e.child,null,s),t.child=Xa(t,null,a,s)):Lr(e,t,a,s),t.memoizedState=n.state,i&&E1(t,r,!0),t.child}function b2(e){var t=e.stateNode;t.pendingContext?T1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T1(e,t.context,!1),Xx(e,t.containerInfo)}function H1(e,t,r,n,i){return Ga(),Hx(i),t.flags|=256,Lr(e,t,r,n),t.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Um(e){return{baseLanes:e,cachePool:null,transitions:null}}function v2(e,t,r){var n=t.pendingProps,i=ve.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(ve,i&1),e===null)return Om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kf(o,n,0,null),e=So(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Um(r),t.memoizedState=qm,e):ny(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yB(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ls(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=So(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Um(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=qm,n}return s=e.child,e=s.sibling,n=Ls(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ny(e,t){return t=Kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hd(e,t,r,n){return n!==null&&Hx(n),Xa(t,e.child,null,r),e=ny(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yB(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=bg(Error(ct(422))),hd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Kf({mode:"visible",children:n.children},i,0,null),s=So(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Xa(t,e.child,null,o),t.child.memoizedState=Um(o),t.memoizedState=qm,s);if(!(t.mode&1))return hd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ct(419)),n=bg(s,n,void 0),hd(e,t,o,n)}if(a=(o&e.childLanes)!==0,Jr||a){if(n=Qe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zi(e,i),Jn(n,e,i,-1))}return cy(),n=bg(Error(ct(421))),hd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=MB.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,fn=Ts(i.nextSibling),pn=t,xe=!0,Un=null,e!==null&&(_n[Cn++]=Hi,_n[Cn++]=qi,_n[Cn++]=Mo,Hi=e.id,qi=e.overflow,Mo=t),t=ny(t,n.children),t.flags|=4096,t)}function q1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$m(e.return,t,r)}function vg(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function w2(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q1(e,r,t);else if(e.tag===19)q1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ve,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ih(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),vg(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ih(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}vg(t,!0,r,null,s);break;case"together":vg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ts(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,r=Ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bB(e,t,r){switch(t.tag){case 3:b2(t),Ga();break;case 5:Y_(t);break;case 1:en(t.type)&&Ph(t);break;case 4:Xx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ue(Oh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?v2(e,t,r):(ue(ve,ve.current&1),e=ts(e,t,r),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return w2(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,x2(e,t,r)}return ts(e,t,r)}var k2,Vm,S2,_2;k2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vm=function(){};S2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,po(wi.current);var s=null;switch(r){case"input":i=pm(e,i),n=pm(e,n),s=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),s=[];break;case"textarea":i=xm(e,i),n=xm(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rh)}bm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ic.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&he("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};_2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dl(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vB(e,t,r){var n=t.pendingProps;switch(Wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:return en(t.type)&&Bh(),dr(t),null;case 3:return n=t.stateNode,Qa(),pe(tn),pe(Sr),Kx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(t0(Un),Un=null))),Vm(e,t),dr(t),null;case 5:Qx(t);var i=po(Jc.current);if(r=t.type,e!==null&&t.stateNode!=null)S2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ct(166));return dr(t),null}if(e=po(wi.current),ud(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[bi]=t,n[Qc]=s,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(i=0;i<ic.length;i++)he(ic[i],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":Zb(n,s),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},he("invalid",n);break;case"textarea":e1(n,s),he("invalid",n)}bm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&cd(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cd(n.textContent,a,e),i=["children",""+a]):Ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":ed(n),t1(n,s,!0);break;case"textarea":ed(n),r1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[bi]=t,e[Qc]=n,k2(e,t,!1,!1),t.stateNode=e;t:{switch(o=vm(r,n),r){case"dialog":he("cancel",e),he("close",e),i=n;break;case"iframe":case"object":case"embed":he("load",e),i=n;break;case"video":case"audio":for(i=0;i<ic.length;i++)he(ic[i],e);i=n;break;case"source":he("error",e),i=n;break;case"img":case"image":case"link":he("error",e),he("load",e),i=n;break;case"details":he("toggle",e),i=n;break;case"input":Zb(e,n),i=pm(e,n),he("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),he("invalid",e);break;case"textarea":e1(e,n),i=xm(e,n),he("invalid",e);break;default:i=n}bm(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?e_(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZS(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zc(e,l):typeof l=="number"&&zc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&he("scroll",e):l!=null&&Ex(e,s,l,o))}switch(r){case"input":ed(e),t1(e,n,!1);break;case"textarea":ed(e),r1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ja(e,!!n.multiple,s,!1):n.defaultValue!=null&&ja(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&t.stateNode!=null)_2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ct(166));if(r=po(Jc.current),po(wi.current),ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[bi]=t,(s=n.nodeValue!==r)&&(e=pn,e!==null))switch(e.tag){case 3:cd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bi]=t,t.stateNode=n}return dr(t),null;case 13:if(pe(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&fn!==null&&t.mode&1&&!(t.flags&128))W_(),Ga(),t.flags|=98560,s=!1;else if(s=ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ct(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ct(317));s[bi]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dr(t),s=!1}else Un!==null&&(t0(Un),Un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?We===0&&(We=3):cy())),t.updateQueue!==null&&(t.flags|=4),dr(t),null);case 4:return Qa(),Vm(e,t),e===null&&Gc(t.stateNode.containerInfo),dr(t),null;case 10:return Vx(t.type._context),dr(t),null;case 17:return en(t.type)&&Bh(),dr(t),null;case 19:if(pe(ve),s=t.memoizedState,s===null)return dr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Dl(s,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ih(e),o!==null){for(t.flags|=128,Dl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>Ja&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ih(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return dr(t),null}else 2*Le()-s.renderingStartTime>Ja&&r!==1073741824&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,r=ve.current,ue(ve,n?r&1|2:r&1),t):(dr(t),null);case 22:case 23:return ly(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(dr(t),t.subtreeFlags&6&&(t.flags|=8192)):dr(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function wB(e,t){switch(Wx(t),t.tag){case 1:return en(t.type)&&Bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(),pe(tn),pe(Sr),Kx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qx(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));Ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return Qa(),null;case 10:return Vx(t.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var fd=!1,xr=!1,kB=typeof WeakSet=="function"?WeakSet:Set,yt=null;function _a(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(e,t,n)}else r.current=null}function Ym(e,t,r){try{r()}catch(n){_e(e,t,n)}}var U1=!1;function SB(e,t){if(Lm=Ah,e=A_(),Ix(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break t}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;e:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break e;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mm={focusedElem:e,selectionRange:r},Ah=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){t=yt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Hn(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(S){_e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return g=U1,U1=!1,g}function Cc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ym(t,r,s)}i=i.next}while(i!==n)}}function Xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C2(e){var t=e.alternate;t!==null&&(e.alternate=null,C2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bi],delete t[Qc],delete t[Pm],delete t[sB],delete t[oB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T2(e){return e.tag===5||e.tag===3||e.tag===4}function V1(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||T2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rh));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Qm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qm(e,t,r),e=e.sibling;e!==null;)Qm(e,t,r),e=e.sibling}var ir=null,qn=!1;function as(e,t,r){for(r=r.child;r!==null;)E2(e,t,r),r=r.sibling}function E2(e,t,r){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(zf,r)}catch{}switch(r.tag){case 5:xr||_a(r,t);case 6:var n=ir,i=qn;ir=null,as(e,t,r),ir=n,qn=i,ir!==null&&(qn?(e=ir,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ir.removeChild(r.stateNode));break;case 18:ir!==null&&(qn?(e=ir,r=r.stateNode,e.nodeType===8?fg(e.parentNode,r):e.nodeType===1&&fg(e,r),Uc(e)):fg(ir,r.stateNode));break;case 4:n=ir,i=qn,ir=r.stateNode.containerInfo,qn=!0,as(e,t,r),ir=n,qn=i;break;case 0:case 11:case 14:case 15:if(!xr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ym(r,t,o),i=i.next}while(i!==n)}as(e,t,r);break;case 1:if(!xr&&(_a(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_e(r,t,a)}as(e,t,r);break;case 21:as(e,t,r);break;case 22:r.mode&1?(xr=(n=xr)||r.memoizedState!==null,as(e,t,r),xr=n):as(e,t,r);break;default:as(e,t,r)}}function Y1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kB),t.forEach(function(n){var i=RB.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function In(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:ir=a.stateNode,qn=!1;break t;case 3:ir=a.stateNode.containerInfo,qn=!0;break t;case 4:ir=a.stateNode.containerInfo,qn=!0;break t}a=a.return}if(ir===null)throw Error(ct(160));E2(s,o,i),ir=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_e(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j2(t,e),t=t.sibling}function j2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),ci(e),n&4){try{Cc(3,e,e.return),Xf(3,e)}catch(m){_e(e,e.return,m)}try{Cc(5,e,e.return)}catch(m){_e(e,e.return,m)}}break;case 1:In(t,e),ci(e),n&512&&r!==null&&_a(r,r.return);break;case 5:if(In(t,e),ci(e),n&512&&r!==null&&_a(r,r.return),e.flags&32){var i=e.stateNode;try{zc(i,"")}catch(m){_e(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QS(i,s),vm(a,o);var c=vm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?e_(i,h):u==="dangerouslySetInnerHTML"?ZS(i,h):u==="children"?zc(i,h):Ex(i,u,h,c)}switch(a){case"input":gm(i,s);break;case"textarea":KS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ja(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ja(i,!!s.multiple,s.defaultValue,!0):ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(m){_e(e,e.return,m)}}break;case 6:if(In(t,e),ci(e),n&4){if(e.stateNode===null)throw Error(ct(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){_e(e,e.return,m)}}break;case 3:if(In(t,e),ci(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uc(t.containerInfo)}catch(m){_e(e,e.return,m)}break;case 4:In(t,e),ci(e);break;case 13:In(t,e),ci(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(oy=Le())),n&4&&Y1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(xr=(c=xr)||u,In(t,e),xr=c):In(t,e),ci(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(yt=e,u=e.child;u!==null;){for(h=yt=u;yt!==null;){switch(f=yt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cc(4,f,f.return);break;case 1:_a(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){_e(n,r,m)}}break;case 5:_a(f,f.return);break;case 22:if(f.memoizedState!==null){X1(h);continue}}p!==null?(p.return=f,yt=p):X1(h)}u=u.sibling}t:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t_("display",o))}catch(m){_e(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){_e(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:In(t,e),ci(e),n&4&&Y1(e);break;case 21:break;default:In(t,e),ci(e)}}function ci(e){var t=e.flags;if(t&2){try{t:{for(var r=e.return;r!==null;){if(T2(r)){var n=r;break t}r=r.return}throw Error(ct(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zc(i,""),n.flags&=-33);var s=V1(e);Qm(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=V1(e);Xm(e,a,o);break;default:throw Error(ct(161))}}catch(l){_e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _B(e,t,r){yt=e,A2(e)}function A2(e,t,r){for(var n=(e.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||fd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xr;a=fd;var c=xr;if(fd=o,(xr=l)&&!c)for(yt=i;yt!==null;)o=yt,l=o.child,o.tag===22&&o.memoizedState!==null?Q1(i):l!==null?(l.return=o,yt=l):Q1(i);for(;s!==null;)yt=s,A2(s),s=s.sibling;yt=i,fd=a,xr=c}G1(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):G1(e)}}function G1(e){for(;yt!==null;){var t=yt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xr||Xf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Hn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&R1(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}R1(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Uc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}xr||t.flags&512&&Gm(t)}catch(f){_e(t,t.return,f)}}if(t===e){yt=null;break}if(r=t.sibling,r!==null){r.return=t.return,yt=r;break}yt=t.return}}function X1(e){for(;yt!==null;){var t=yt;if(t===e){yt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,yt=r;break}yt=t.return}}function Q1(e){for(;yt!==null;){var t=yt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xf(4,t)}catch(l){_e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){_e(t,i,l)}}var s=t.return;try{Gm(t)}catch(l){_e(t,s,l)}break;case 5:var o=t.return;try{Gm(t)}catch(l){_e(t,o,l)}}}catch(l){_e(t,t.return,l)}if(t===e){yt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,yt=a;break}yt=t.return}}var CB=Math.ceil,Hh=ns.ReactCurrentDispatcher,iy=ns.ReactCurrentOwner,jn=ns.ReactCurrentBatchConfig,Qt=0,Qe=null,De=null,or=0,hn=0,Ca=Ws(0),We=0,ru=null,Bo=0,Qf=0,sy=0,Tc=null,Gr=null,oy=0,Ja=1/0,Ii=null,qh=!1,Km=null,js=null,pd=!1,ms=null,Uh=0,Ec=0,Jm=null,Jd=-1,Zd=0;function Pr(){return Qt&6?Le():Jd!==-1?Jd:Jd=Le()}function As(e){return e.mode&1?Qt&2&&or!==0?or&-or:lB.transition!==null?(Zd===0&&(Zd=f_()),Zd):(e=ae,e!==0||(e=window.event,e=e===void 0?16:v_(e.type)),e):1}function Jn(e,t,r,n){if(50<Ec)throw Ec=0,Jm=null,Error(ct(185));Tu(e,r,n),(!(Qt&2)||e!==Qe)&&(e===Qe&&(!(Qt&2)&&(Qf|=r),We===4&&ps(e,or)),rn(e,n),r===1&&Qt===0&&!(t.mode&1)&&(Ja=Le()+500,Vf&&Hs()))}function rn(e,t){var r=e.callbackNode;l3(e,t);var n=jh(e,e===Qe?or:0);if(n===0)r!==null&&s1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&s1(r),t===1)e.tag===0?aB(K1.bind(null,e)):N_(K1.bind(null,e)),nB(function(){!(Qt&6)&&Hs()}),r=null;else{switch(p_(n)){case 1:r=Rx;break;case 4:r=d_;break;case 16:r=Eh;break;case 536870912:r=h_;break;default:r=Eh}r=O2(r,L2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function L2(e,t){if(Jd=-1,Zd=0,Qt&6)throw Error(ct(327));var r=e.callbackNode;if(Ba()&&e.callbackNode!==r)return null;var n=jh(e,e===Qe?or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vh(e,n);else{t=n;var i=Qt;Qt|=2;var s=R2();(Qe!==e||or!==t)&&(Ii=null,Ja=Le()+500,ko(e,t));do try{jB();break}catch(a){M2(e,a)}while(!0);Ux(),Hh.current=s,Qt=i,De!==null?t=0:(Qe=null,or=0,t=We)}if(t!==0){if(t===2&&(i=Cm(e),i!==0&&(n=i,t=Zm(e,i))),t===1)throw r=ru,ko(e,0),ps(e,n),rn(e,Le()),r;if(t===6)ps(e,n);else{if(i=e.current.alternate,!(n&30)&&!TB(i)&&(t=Vh(e,n),t===2&&(s=Cm(e),s!==0&&(n=s,t=Zm(e,s))),t===1))throw r=ru,ko(e,0),ps(e,n),rn(e,Le()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ct(345));case 2:so(e,Gr,Ii);break;case 3:if(ps(e,n),(n&130023424)===n&&(t=oy+500-Le(),10<t)){if(jh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Pr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bm(so.bind(null,e,Gr,Ii),t);break}so(e,Gr,Ii);break;case 4:if(ps(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Kn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CB(n/1960))-n,10<n){e.timeoutHandle=Bm(so.bind(null,e,Gr,Ii),n);break}so(e,Gr,Ii);break;case 5:so(e,Gr,Ii);break;default:throw Error(ct(329))}}}return rn(e,Le()),e.callbackNode===r?L2.bind(null,e):null}function Zm(e,t){var r=Tc;return e.current.memoizedState.isDehydrated&&(ko(e,t).flags|=256),e=Vh(e,t),e!==2&&(t=Gr,Gr=r,t!==null&&t0(t)),e}function t0(e){Gr===null?Gr=e:Gr.push.apply(Gr,e)}function TB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ps(e,t){for(t&=~sy,t&=~Qf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kn(t),n=1<<r;e[r]=-1,t&=~n}}function K1(e){if(Qt&6)throw Error(ct(327));Ba();var t=jh(e,0);if(!(t&1))return rn(e,Le()),null;var r=Vh(e,t);if(e.tag!==0&&r===2){var n=Cm(e);n!==0&&(t=n,r=Zm(e,n))}if(r===1)throw r=ru,ko(e,0),ps(e,t),rn(e,Le()),r;if(r===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,so(e,Gr,Ii),rn(e,Le()),null}function ay(e,t){var r=Qt;Qt|=1;try{return e(t)}finally{Qt=r,Qt===0&&(Ja=Le()+500,Vf&&Hs())}}function Po(e){ms!==null&&ms.tag===0&&!(Qt&6)&&Ba();var t=Qt;Qt|=1;var r=jn.transition,n=ae;try{if(jn.transition=null,ae=1,e)return e()}finally{ae=n,jn.transition=r,Qt=t,!(Qt&6)&&Hs()}}function ly(){hn=Ca.current,pe(Ca)}function ko(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rB(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(Wx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bh();break;case 3:Qa(),pe(tn),pe(Sr),Kx();break;case 5:Qx(n);break;case 4:Qa();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:Vx(n.type._context);break;case 22:case 23:ly()}r=r.return}if(Qe=e,De=e=Ls(e.current,null),or=hn=t,We=0,ru=null,sy=Qf=Bo=0,Gr=Tc=null,fo!==null){for(t=0;t<fo.length;t++)if(r=fo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}fo=null}return e}function M2(e,t){do{var r=De;try{if(Ux(),Xd.current=Wh,zh){for(var n=we.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zh=!1}if(Ro=0,Ge=Ne=we=null,_c=!1,Zc=0,iy.current=null,r===null||r.return===null){We=1,ru=t,De=null;break}t:{var s=e,o=r.return,a=r,l=t;if(t=or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$1(o);if(p!==null){p.flags&=-257,N1(p,o,a,s,t),p.mode&1&&O1(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break t}else{if(!(t&1)){O1(s,c,t),cy();break t}l=Error(ct(426))}}else if(xe&&a.mode&1){var y=$1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),N1(y,o,a,s,t),Hx(Ka(l,a));break t}}s=l=Ka(l,a),We!==4&&(We=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=p2(s,l,t);M1(s,x);break t;case 1:a=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(js===null||!js.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=g2(s,a,t);M1(s,S);break t}}s=s.return}while(s!==null)}P2(r)}catch(k){t=k,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function R2(){var e=Hh.current;return Hh.current=Wh,e===null?Wh:e}function cy(){(We===0||We===3||We===2)&&(We=4),Qe===null||!(Bo&268435455)&&!(Qf&268435455)||ps(Qe,or)}function Vh(e,t){var r=Qt;Qt|=2;var n=R2();(Qe!==e||or!==t)&&(Ii=null,ko(e,t));do try{EB();break}catch(i){M2(e,i)}while(!0);if(Ux(),Qt=r,Hh.current=n,De!==null)throw Error(ct(261));return Qe=null,or=0,We}function EB(){for(;De!==null;)B2(De)}function jB(){for(;De!==null&&!ZR();)B2(De)}function B2(e){var t=D2(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?P2(e):De=t,iy.current=null}function P2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wB(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,De=null;return}}else if(r=vB(r,t,hn),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);We===0&&(We=5)}function so(e,t,r){var n=ae,i=jn.transition;try{jn.transition=null,ae=1,AB(e,t,r,n)}finally{jn.transition=i,ae=n}return null}function AB(e,t,r,n){do Ba();while(ms!==null);if(Qt&6)throw Error(ct(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(c3(e,s),e===Qe&&(De=Qe=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pd||(pd=!0,O2(Eh,function(){return Ba(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=ae;ae=1;var a=Qt;Qt|=4,iy.current=null,SB(e,r),j2(r,e),X3(Mm),Ah=!!Lm,Mm=Lm=null,e.current=r,_B(r),t3(),Qt=a,ae=o,jn.transition=s}else e.current=r;if(pd&&(pd=!1,ms=e,Uh=i),s=e.pendingLanes,s===0&&(js=null),n3(r.stateNode),rn(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qh)throw qh=!1,e=Km,Km=null,e;return Uh&1&&e.tag!==0&&Ba(),s=e.pendingLanes,s&1?e===Jm?Ec++:(Ec=0,Jm=e):Ec=0,Hs(),null}function Ba(){if(ms!==null){var e=p_(Uh),t=jn.transition,r=ae;try{if(jn.transition=null,ae=16>e?16:e,ms===null)var n=!1;else{if(e=ms,ms=null,Uh=0,Qt&6)throw Error(ct(331));var i=Qt;for(Qt|=4,yt=e.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(yt=c;yt!==null;){var u=yt;switch(u.tag){case 0:case 11:case 15:Cc(8,u,s)}var h=u.child;if(h!==null)h.return=u,yt=h;else for(;yt!==null;){u=yt;var f=u.sibling,p=u.return;if(C2(u),u===c){yt=null;break}if(f!==null){f.return=p,yt=f;break}yt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else t:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,yt=x;break t}yt=s.return}}var b=e.current;for(yt=b;yt!==null;){o=yt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,yt=v;else t:for(o=b;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(k){_e(a,a.return,k)}if(a===o){yt=null;break t}var S=a.sibling;if(S!==null){S.return=a.return,yt=S;break t}yt=a.return}}if(Qt=i,Hs(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(zf,e)}catch{}n=!0}return n}finally{ae=r,jn.transition=t}}return!1}function J1(e,t,r){t=Ka(r,t),t=p2(e,t,1),e=Es(e,t,1),t=Pr(),e!==null&&(Tu(e,1,t),rn(e,t))}function _e(e,t,r){if(e.tag===3)J1(e,e,r);else for(;t!==null;){if(t.tag===3){J1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){e=Ka(r,e),e=g2(t,e,1),t=Es(t,e,1),e=Pr(),t!==null&&(Tu(t,1,e),rn(t,e));break}}t=t.return}}function LB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pr(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(or&r)===r&&(We===4||We===3&&(or&130023424)===or&&500>Le()-oy?ko(e,0):sy|=r),rn(e,t)}function F2(e,t){t===0&&(e.mode&1?(t=id,id<<=1,!(id&130023424)&&(id=4194304)):t=1);var r=Pr();e=Zi(e,t),e!==null&&(Tu(e,t,r),rn(e,r))}function MB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F2(e,r)}function RB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ct(314))}n!==null&&n.delete(t),F2(e,r)}var D2;D2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Jr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jr=!1,bB(e,t,r);Jr=!!(e.flags&131072)}else Jr=!1,xe&&t.flags&1048576&&I_(t,Dh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kd(e,t),e=t.pendingProps;var i=Ya(t,Sr.current);Ra(t,r),i=Zx(null,t,n,e,i,r);var s=ty();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(n)?(s=!0,Ph(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gx(t),i.updater=Gf,t.stateNode=i,i._reactInternals=t,Im(t,n,e,r),t=Hm(null,t,n,!0,s,r)):(t.tag=0,xe&&s&&zx(t),Lr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;t:{switch(Kd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=PB(n),e=Hn(n,e),i){case 0:t=Wm(null,t,n,e,r);break t;case 1:t=W1(null,t,n,e,r);break t;case 11:t=I1(null,t,n,e,r);break t;case 14:t=z1(null,t,n,Hn(n.type,e),r);break t}throw Error(ct(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hn(n,i),Wm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hn(n,i),W1(e,t,n,i,r);case 3:t:{if(b2(t),e===null)throw Error(ct(387));n=t.pendingProps,s=t.memoizedState,i=s.element,V_(e,t),Nh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ka(Error(ct(423)),t),t=H1(e,t,n,r,i);break t}else if(n!==i){i=Ka(Error(ct(424)),t),t=H1(e,t,n,r,i);break t}else for(fn=Ts(t.stateNode.containerInfo.firstChild),pn=t,xe=!0,Un=null,r=q_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ga(),n===i){t=ts(e,t,r);break t}Lr(e,t,n,r)}t=t.child}return t;case 5:return Y_(t),e===null&&Om(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Rm(n,i)?o=null:s!==null&&Rm(n,s)&&(t.flags|=32),y2(e,t),Lr(e,t,o,r),t.child;case 6:return e===null&&Om(t),null;case 13:return v2(e,t,r);case 4:return Xx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xa(t,null,n,r):Lr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hn(n,i),I1(e,t,n,i,r);case 7:return Lr(e,t,t.pendingProps,r),t.child;case 8:return Lr(e,t,t.pendingProps.children,r),t.child;case 12:return Lr(e,t,t.pendingProps.children,r),t.child;case 10:t:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ue(Oh,n._currentValue),n._currentValue=o,s!==null)if(ei(s.value,o)){if(s.children===i.children&&!tn.current){t=ts(e,t,r);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Yi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),$m(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ct(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$m(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ra(t,r),i=An(i),n=n(i),t.flags|=1,Lr(e,t,n,r),t.child;case 14:return n=t.type,i=Hn(n,t.pendingProps),i=Hn(n.type,i),z1(e,t,n,i,r);case 15:return m2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hn(n,i),Kd(e,t),t.tag=1,en(n)?(e=!0,Ph(t)):e=!1,Ra(t,r),f2(t,n,i),Im(t,n,i,r),Hm(null,t,n,!0,e,r);case 19:return w2(e,t,r);case 22:return x2(e,t,r)}throw Error(ct(156,t.tag))};function O2(e,t){return u_(e,t)}function BB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,r,n){return new BB(e,t,r,n)}function uy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PB(e){if(typeof e=="function")return uy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ax)return 11;if(e===Lx)return 14}return 2}function Ls(e,t){var r=e.alternate;return r===null?(r=Tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function th(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")uy(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case ga:return So(r.children,i,s,t);case jx:o=8,i|=8;break;case um:return e=Tn(12,r,t,i|2),e.elementType=um,e.lanes=s,e;case dm:return e=Tn(13,r,t,i),e.elementType=dm,e.lanes=s,e;case hm:return e=Tn(19,r,t,i),e.elementType=hm,e.lanes=s,e;case YS:return Kf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case US:o=10;break t;case VS:o=9;break t;case Ax:o=11;break t;case Lx:o=14;break t;case us:o=16,n=null;break t}throw Error(ct(130,e==null?e:typeof e,""))}return t=Tn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function So(e,t,r,n){return e=Tn(7,e,n,t),e.lanes=r,e}function Kf(e,t,r,n){return e=Tn(22,e,n,t),e.elementType=YS,e.lanes=r,e.stateNode={isHidden:!1},e}function wg(e,t,r){return e=Tn(6,e,null,t),e.lanes=r,e}function kg(e,t,r){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FB(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dy(e,t,r,n,i,s,o,a,l){return e=new FB(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gx(s),e}function DB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $2(e){if(!e)return Ps;e=e._reactInternals;t:{if(Vo(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var r=e.type;if(en(r))return $_(e,r,t)}return t}function N2(e,t,r,n,i,s,o,a,l){return e=dy(r,n,!0,e,i,s,o,a,l),e.context=$2(null),r=e.current,n=Pr(),i=As(r),s=Yi(n,i),s.callback=t??null,Es(r,s,i),e.current.lanes=i,Tu(e,i,n),rn(e,n),e}function Jf(e,t,r,n){var i=t.current,s=Pr(),o=As(i);return r=$2(r),t.context===null?t.context=r:t.pendingContext=r,t=Yi(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Es(i,t,o),e!==null&&(Jn(e,i,o,s),Gd(e,i,o)),o}function Yh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hy(e,t){Z1(e,t),(e=e.alternate)&&Z1(e,t)}function OB(){return null}var I2=typeof reportError=="function"?reportError:function(e){console.error(e)};function fy(e){this._internalRoot=e}Zf.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));Jf(e,t,null,null)};Zf.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Po(function(){Jf(null,e,null,null)}),t[Ji]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=x_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fs.length&&t!==0&&t<fs[r].priority;r++);fs.splice(r,0,e),r===0&&b_(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tv(){}function $B(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Yh(o);s.call(c)}}var o=N2(t,n,e,0,null,!1,!1,"",tv);return e._reactRootContainer=o,e[Ji]=o.current,Gc(e.nodeType===8?e.parentNode:e),Po(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Yh(l);a.call(c)}}var l=dy(e,0,!1,null,null,!1,!1,"",tv);return e._reactRootContainer=l,e[Ji]=l.current,Gc(e.nodeType===8?e.parentNode:e),Po(function(){Jf(t,l,r,n)}),l}function ep(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Yh(o);a.call(l)}}Jf(t,o,e,i)}else o=$B(r,t,e,i,n);return Yh(o)}g_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nc(t.pendingLanes);r!==0&&(Bx(t,r|1),rn(t,Le()),!(Qt&6)&&(Ja=Le()+500,Hs()))}break;case 13:Po(function(){var n=Zi(e,1);if(n!==null){var i=Pr();Jn(n,e,1,i)}}),hy(e,1)}};Px=function(e){if(e.tag===13){var t=Zi(e,134217728);if(t!==null){var r=Pr();Jn(t,e,134217728,r)}hy(e,134217728)}};m_=function(e){if(e.tag===13){var t=As(e),r=Zi(e,t);if(r!==null){var n=Pr();Jn(r,e,t,n)}hy(e,t)}};x_=function(){return ae};y_=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};km=function(e,t,r){switch(t){case"input":if(gm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Uf(n);if(!i)throw Error(ct(90));XS(n),gm(n,i)}}}break;case"textarea":KS(e,r);break;case"select":t=r.value,t!=null&&ja(e,!!r.multiple,t,!1)}};i_=ay;s_=Po;var NB={usingClientEntryPoint:!1,Events:[ju,ba,Uf,r_,n_,ay]},Ol={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IB={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||OB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{zf=gd.inject(IB),vi=gd}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NB;yn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(ct(200));return DB(e,t,null,r)};yn.createRoot=function(e,t){if(!py(e))throw Error(ct(299));var r=!1,n="",i=I2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dy(e,1,!1,null,null,r,!1,n,i),e[Ji]=t.current,Gc(e.nodeType===8?e.parentNode:e),new fy(t)};yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=l_(t),e=e===null?null:e.stateNode,e};yn.flushSync=function(e){return Po(e)};yn.hydrate=function(e,t,r){if(!tp(t))throw Error(ct(200));return ep(null,e,t,!0,r)};yn.hydrateRoot=function(e,t,r){if(!py(e))throw Error(ct(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=I2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=N2(t,null,e,1,r??null,i,!1,s,o),e[Ji]=t.current,Gc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Zf(t)};yn.render=function(e,t,r){if(!tp(t))throw Error(ct(200));return ep(null,e,t,!1,r)};yn.unmountComponentAtNode=function(e){if(!tp(e))throw Error(ct(40));return e._reactRootContainer?(Po(function(){ep(null,null,e,!1,function(){e._reactRootContainer=null,e[Ji]=null})}),!0):!1};yn.unstable_batchedUpdates=ay;yn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tp(r))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return ep(e,t,r,!1,n)};yn.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(e){console.error(e)}}z2(),zS.exports=yn;var zB=zS.exports,ev=zB;lm.createRoot=ev.createRoot,lm.hydrateRoot=ev.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}var xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xs||(xs={}));const rv="popstate";function WB(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return e0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:W2(i)}return qB(t,r,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HB(){return Math.random().toString(36).substr(2,8)}function nv(e,t){return{usr:e.state,key:e.key,idx:t}}function e0(e,t,r,n){return r===void 0&&(r=null),nu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pl(t):t,{state:r,key:t&&t.key||n||HB()})}function W2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qB(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=xs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(nu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=xs.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:x})}function f(y,x){a=xs.Push;let b=e0(m.location,y,x);c=u()+1;let v=nv(b,c),S=m.createHref(b);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(y,x){a=xs.Replace;let b=e0(m.location,y,x);c=u();let v=nv(b,c),S=m.createHref(b);o.replaceState(v,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:W2(y);return b=b.replace(/ $/,"%20"),Oe(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rv,h),l=y,()=>{i.removeEventListener(rv,h),l=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return o.go(y)}};return m}var iv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iv||(iv={}));function UB(e,t,r){return r===void 0&&(r="/"),VB(e,t,r)}function VB(e,t,r,n){let i=typeof t=="string"?pl(t):t,s=U2(i.pathname||"/",r);if(s==null)return null;let o=H2(e);YB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=sP(s);a=rP(o[l],c)}return a}function H2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=_o([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H2(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:tP(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of q2(s.path))i(s,o,l)}),t}function q2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=q2(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function YB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:eP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GB=/^:[\w-]+$/,XB=3,QB=2,KB=1,JB=10,ZB=-2,sv=e=>e==="*";function tP(e,t){let r=e.split("/"),n=r.length;return r.some(sv)&&(n+=ZB),t&&(n+=QB),r.filter(i=>!sv(i)).reduce((i,s)=>i+(GB.test(s)?XB:s===""?KB:JB),n)}function eP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function rP(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=nP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:_o([s,h.pathname]),pathnameBase:uP(_o([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=_o([s,h.pathnameBase]))}return o}function nP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iP(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function iP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function sP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function U2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const oP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aP=e=>oP.test(e);function lP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?pl(e):e,s;if(r)if(aP(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),gy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=ov(r.substring(1),"/"):s=ov(r,t)}else s=t;return{pathname:s,search:dP(n),hash:hP(i)}}function ov(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function V2(e,t){let r=cP(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Y2(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=pl(e):(i=nu({},e),Oe(!i.pathname||!i.pathname.includes("?"),Sg("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Sg("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Sg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=lP(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const _o=e=>e.join("/").replace(/\/\/+/g,"/"),uP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const G2=["post","put","patch","delete"];new Set(G2);const pP=["get",...G2];new Set(pP);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}const my=T.createContext(null),gP=T.createContext(null),Lu=T.createContext(null),rp=T.createContext(null),qs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),X2=T.createContext(null);function Mu(){return T.useContext(rp)!=null}function Ru(){return Mu()||Oe(!1),T.useContext(rp).location}function Q2(e){T.useContext(Lu).static||T.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=T.useContext(qs);return e?jP():mP()}function mP(){Mu()||Oe(!1);let e=T.useContext(my),{basename:t,future:r,navigator:n}=T.useContext(Lu),{matches:i}=T.useContext(qs),{pathname:s}=Ru(),o=JSON.stringify(V2(i,r.v7_relativeSplatPath)),a=T.useRef(!1);return Q2(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Y2(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_o([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,s,e])}function Yo(){let{matches:e}=T.useContext(qs),t=e[e.length-1];return t?t.params:{}}function xP(e,t){return yP(e,t)}function yP(e,t,r,n){Mu()||Oe(!1);let{navigator:i}=T.useContext(Lu),{matches:s}=T.useContext(qs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ru(),u;if(t){var h;let y=typeof t=="string"?pl(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Oe(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=UB(e,{pathname:p}),m=SP(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:_o([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:_o([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&m?T.createElement(rp.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xs.Pop}},m):m}function bP(){let e=EP(),t=fP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,null)}const vP=T.createElement(bP,null);class wP extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(qs.Provider,{value:this.props.routeContext},T.createElement(X2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kP(e){let{routeContext:t,match:r,children:n}=e,i=T.useContext(my);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(qs.Provider,{value:t},n)}function SP(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Oe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,m=null,y=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||vP,l&&(c<0&&f===0?(AP("route-fallback"),g=!0,y=null):c===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let v;return p?v=m:g?v=y:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,T.createElement(kP,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(wP,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var K2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(K2||{}),J2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(J2||{});function _P(e){let t=T.useContext(my);return t||Oe(!1),t}function CP(e){let t=T.useContext(gP);return t||Oe(!1),t}function TP(e){let t=T.useContext(qs);return t||Oe(!1),t}function Z2(e){let t=TP(),r=t.matches[t.matches.length-1];return r.route.id||Oe(!1),r.route.id}function EP(){var e;let t=T.useContext(X2),r=CP(),n=Z2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jP(){let{router:e}=_P(K2.UseNavigateStable),t=Z2(J2.UseNavigateStable),r=T.useRef(!1);return Q2(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,iu({fromRouteId:t},s)))},[e,t])}const av={};function AP(e,t,r){av[e]||(av[e]=!0)}function LP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function MP(e){let{to:t,replace:r,state:n,relative:i}=e;Mu()||Oe(!1);let{future:s,static:o}=T.useContext(Lu),{matches:a}=T.useContext(qs),{pathname:l}=Ru(),c=Pn(),u=Y2(t,V2(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function zn(e){Oe(!1)}function RP(e){let{basename:t="/",children:r=null,location:n,navigationType:i=xs.Pop,navigator:s,static:o=!1,future:a}=e;Mu()&&Oe(!1);let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:iu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=pl(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,m=T.useMemo(()=>{let y=U2(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:i}},[l,u,h,f,p,g,i]);return m==null?null:T.createElement(Lu.Provider,{value:c},T.createElement(rp.Provider,{children:r,value:m}))}function BP(e){let{children:t,location:r}=e;return xP(r0(t),r)}new Promise(()=>{});function r0(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let s=[...t,i];if(n.type===T.Fragment){r.push.apply(r,r0(n.props.children,s));return}n.type!==zn&&Oe(!1),!n.props.index||!n.props.children||Oe(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=r0(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function PP(e,t){let r=n0(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const FP="6";try{window.__reactRouterVersion=FP}catch{}const DP="startTransition",lv=LR[DP];function OP(e){let{basename:t,children:r,future:n,window:i}=e,s=T.useRef();s.current==null&&(s.current=WB({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=T.useCallback(h=>{c&&lv?lv(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.useEffect(()=>LP(n),[n]),T.createElement(RP,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var cv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cv||(cv={}));var uv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uv||(uv={}));function np(e){let t=T.useRef(n0(e)),r=T.useRef(!1),n=Ru(),i=T.useMemo(()=>PP(n.search,r.current?null:t.current),[n.search]),s=Pn(),o=T.useCallback((a,l)=>{const c=n0(typeof a=="function"?a(i):a);r.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function tC(e,t){return function(){return e.apply(t,arguments)}}const{toString:$P}=Object.prototype,{getPrototypeOf:xy}=Object,{iterator:ip,toStringTag:eC}=Symbol,sp=(e=>t=>{const r=$P.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ni=e=>(e=e.toLowerCase(),t=>sp(t)===e),op=e=>t=>typeof t===e,{isArray:gl}=Array,Za=op("undefined");function Bu(e){return e!==null&&!Za(e)&&e.constructor!==null&&!Za(e.constructor)&&nn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rC=ni("ArrayBuffer");function NP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rC(e.buffer),t}const IP=op("string"),nn=op("function"),nC=op("number"),Pu=e=>e!==null&&typeof e=="object",zP=e=>e===!0||e===!1,eh=e=>{if(sp(e)!=="object")return!1;const t=xy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eC in e)&&!(ip in e)},WP=e=>{if(!Pu(e)||Bu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},HP=ni("Date"),qP=ni("File"),UP=ni("Blob"),VP=ni("FileList"),YP=e=>Pu(e)&&nn(e.pipe),GP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nn(e.append)&&((t=sp(e))==="formdata"||t==="object"&&nn(e.toString)&&e.toString()==="[object FormData]"))},XP=ni("URLSearchParams"),[QP,KP,JP,ZP]=["ReadableStream","Request","Response","Headers"].map(ni),tF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),gl(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Bu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function iC(e,t){if(Bu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sC=e=>!Za(e)&&e!==go;function i0(){const{caseless:e,skipUndefined:t}=sC(this)&&this||{},r={},n=(i,s)=>{const o=e&&iC(r,s)||s;eh(r[o])&&eh(i)?r[o]=i0(r[o],i):eh(i)?r[o]=i0({},i):gl(i)?r[o]=i.slice():(!t||!Za(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fu(arguments[i],n);return r}const eF=(e,t,r,{allOwnKeys:n}={})=>(Fu(t,(i,s)=>{r&&nn(i)?e[s]=tC(i,r):e[s]=i},{allOwnKeys:n}),e),rF=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nF=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},iF=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&xy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},sF=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},oF=e=>{if(!e)return null;if(gl(e))return e;let t=e.length;if(!nC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},aF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xy(Uint8Array)),lF=(e,t)=>{const n=(e&&e[ip]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},cF=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},uF=ni("HTMLFormElement"),dF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),hF=ni("RegExp"),oC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Fu(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},fF=e=>{oC(e,(t,r)=>{if(nn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(nn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},pF=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return gl(e)?n(e):n(String(e).split(t)),r},gF=()=>{},mF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xF(e){return!!(e&&nn(e.append)&&e[eC]==="FormData"&&e[ip])}const yF=e=>{const t=new Array(10),r=(n,i)=>{if(Pu(n)){if(t.indexOf(n)>=0)return;if(Bu(n))return n;if(!("toJSON"in n)){t[i]=n;const s=gl(n)?[]:{};return Fu(n,(o,a)=>{const l=r(o,i+1);!Za(l)&&(s[a]=l)}),t[i]=void 0,s}}return n};return r(e,0)},bF=ni("AsyncFunction"),vF=e=>e&&(Pu(e)||nn(e))&&nn(e.then)&&nn(e.catch),aC=((e,t)=>e?setImmediate:t?((r,n)=>(go.addEventListener("message",({source:i,data:s})=>{i===go&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),go.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",nn(go.postMessage)),wF=typeof queueMicrotask<"u"?queueMicrotask.bind(go):typeof process<"u"&&process.nextTick||aC,kF=e=>e!=null&&nn(e[ip]),X={isArray:gl,isArrayBuffer:rC,isBuffer:Bu,isFormData:GP,isArrayBufferView:NP,isString:IP,isNumber:nC,isBoolean:zP,isObject:Pu,isPlainObject:eh,isEmptyObject:WP,isReadableStream:QP,isRequest:KP,isResponse:JP,isHeaders:ZP,isUndefined:Za,isDate:HP,isFile:qP,isBlob:UP,isRegExp:hF,isFunction:nn,isStream:YP,isURLSearchParams:XP,isTypedArray:aF,isFileList:VP,forEach:Fu,merge:i0,extend:eF,trim:tF,stripBOM:rF,inherits:nF,toFlatObject:iF,kindOf:sp,kindOfTest:ni,endsWith:sF,toArray:oF,forEachEntry:lF,matchAll:cF,isHTMLForm:uF,hasOwnProperty:dv,hasOwnProp:dv,reduceDescriptors:oC,freezeMethods:fF,toObjectSet:pF,toCamelCase:dF,noop:gF,toFiniteNumber:mF,findKey:iC,global:go,isContextDefined:sC,isSpecCompliantForm:xF,toJSONObject:yF,isAsyncFn:bF,isThenable:vF,setImmediate:aC,asap:wF,isIterable:kF};function Nt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const lC=Nt.prototype,cC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cC[e]={value:e}});Object.defineProperties(Nt,cC);Object.defineProperty(lC,"isAxiosError",{value:!0});Nt.from=(e,t,r,n,i,s)=>{const o=Object.create(lC);X.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Nt.call(o,a,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const SF=null;function s0(e){return X.isPlainObject(e)||X.isArray(e)}function uC(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function hv(e,t,r){return e?e.concat(t).map(function(i,s){return i=uC(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function _F(e){return X.isArray(e)&&!e.some(s0)}const CF=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function ap(e,t,r){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!X.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(X.isDate(g))return g.toISOString();if(X.isBoolean(g))return g.toString();if(!l&&X.isBlob(g))throw new Nt("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(g)||X.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,y){let x=g;if(g&&!y&&typeof g=="object"){if(X.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(X.isArray(g)&&_F(g)||(X.isFileList(g)||X.endsWith(m,"[]"))&&(x=X.toArray(g)))return m=uC(m),x.forEach(function(v,S){!(X.isUndefined(v)||v===null)&&t.append(o===!0?hv([m],S,s):o===null?m:m+"[]",c(v))}),!1}return s0(g)?!0:(t.append(hv(y,m,s),c(g)),!1)}const h=[],f=Object.assign(CF,{defaultVisitor:u,convertValue:c,isVisitable:s0});function p(g,m){if(!X.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),X.forEach(g,function(x,b){(!(X.isUndefined(x)||x===null)&&i.call(t,x,X.isString(b)?b.trim():b,m,f))===!0&&p(x,m?m.concat(b):[b])}),h.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return p(e),t}function fv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yy(e,t){this._pairs=[],e&&ap(e,this,t)}const dC=yy.prototype;dC.append=function(t,r){this._pairs.push([t,r])};dC.toString=function(t){const r=t?function(n){return t.call(this,n,fv)}:fv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function TF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hC(e,t,r){if(!t)return e;const n=r&&r.encode||TF;X.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=X.isURLSearchParams(t)?t.toString():new yy(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class pv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}}const fC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EF=typeof URLSearchParams<"u"?URLSearchParams:yy,jF=typeof FormData<"u"?FormData:null,AF=typeof Blob<"u"?Blob:null,LF={isBrowser:!0,classes:{URLSearchParams:EF,FormData:jF,Blob:AF},protocols:["http","https","file","blob","url","data"]},by=typeof window<"u"&&typeof document<"u",o0=typeof navigator=="object"&&navigator||void 0,MF=by&&(!o0||["ReactNative","NativeScript","NS"].indexOf(o0.product)<0),RF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BF=by&&window.location.href||"http://localhost",PF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:by,hasStandardBrowserEnv:MF,hasStandardBrowserWebWorkerEnv:RF,navigator:o0,origin:BF},Symbol.toStringTag,{value:"Module"})),yr={...PF,...LF};function FF(e,t){return ap(e,new yr.classes.URLSearchParams,{visitor:function(r,n,i,s){return yr.isNode&&X.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function DF(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function OF(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function pC(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&X.isArray(i)?i.length:o,l?(X.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!X.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&X.isArray(i[o])&&(i[o]=OF(i[o])),!a)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(n,i)=>{t(DF(n),i,r,0)}),r}return null}function $F(e,t,r){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Du={transitional:fC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=X.isObject(t);if(s&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return i?JSON.stringify(pC(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return FF(t,this.formSerializer).toString();if((a=X.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ap(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),$F(t)):t}],transformResponse:[function(t){const r=this.transitional||Du.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Nt.from(a,Nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yr.classes.FormData,Blob:yr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Du.headers[e]={}});const NF=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IF=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&NF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},gv=Symbol("internals");function $l(e){return e&&String(e).trim().toLowerCase()}function rh(e){return e===!1||e==null?e:X.isArray(e)?e.map(rh):String(e)}function zF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const WF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _g(e,t,r,n,i){if(X.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!X.isString(t)){if(X.isString(n))return t.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(t)}}function HF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qF(e,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let sn=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,l,c){const u=$l(l);if(!u)throw new Error("header name must be a non-empty string");const h=X.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=rh(a))}const o=(a,l)=>X.forEach(a,(c,u)=>s(c,u,l));if(X.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(X.isString(t)&&(t=t.trim())&&!WF(t))o(IF(t),r);else if(X.isObject(t)&&X.isIterable(t)){let a={},l,c;for(const u of t){if(!X.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?X.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=$l(t),t){const n=X.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return zF(i);if(X.isFunction(r))return r.call(this,i,n);if(X.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$l(t),t){const n=X.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||_g(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=$l(o),o){const a=X.findKey(n,o);a&&(!r||_g(n,n[a],a,r))&&(delete n[a],i=!0)}}return X.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||_g(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return X.forEach(this,(i,s)=>{const o=X.findKey(n,s);if(o){r[o]=rh(i),delete r[s];return}const a=t?HF(s):String(s).trim();a!==s&&delete r[s],r[a]=rh(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&X.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[gv]=this[gv]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=$l(o);n[a]||(qF(i,o),n[a]=!0)}return X.isArray(t)?t.forEach(s):s(t),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(sn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});X.freezeMethods(sn);function Cg(e,t){const r=this||Du,n=t||r,i=sn.from(n.headers);let s=n.data;return X.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function gC(e){return!!(e&&e.__CANCEL__)}function ml(e,t,r){Nt.call(this,e??"canceled",Nt.ERR_CANCELED,t,r),this.name="CanceledError"}X.inherits(ml,Nt,{__CANCEL__:!0});function mC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function UF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function VF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[s];o||(o=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function YF(e,t){let r=0,n=1e3/t,i,s;const o=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},n-h)))},()=>i&&o(i)]}const Gh=(e,t,r=3)=>{let n=0;const i=VF(50,250);return YF(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,c=i(l),u=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},mv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},xv=e=>(...t)=>X.asap(()=>e(...t)),GF=yr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,yr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(yr.origin),yr.navigator&&/(msie|trident)/i.test(yr.navigator.userAgent)):()=>!0,XF=yr.hasStandardBrowserEnv?{write(e,t,r,n,i,s,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];X.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),X.isString(n)&&a.push(`path=${n}`),X.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),X.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function QF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function KF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xC(e,t,r){let n=!QF(t);return e&&(n||r==!1)?KF(e,t):t}const yv=e=>e instanceof sn?{...e}:e;function Fo(e,t){t=t||{};const r={};function n(c,u,h,f){return X.isPlainObject(c)&&X.isPlainObject(u)?X.merge.call({caseless:f},c,u):X.isPlainObject(u)?X.merge({},u):X.isArray(u)?u.slice():u}function i(c,u,h,f){if(X.isUndefined(u)){if(!X.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function s(c,u){if(!X.isUndefined(u))return n(void 0,u)}function o(c,u){if(X.isUndefined(u)){if(!X.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(yv(c),yv(u),h,!0)};return X.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||i,f=h(e[u],t[u],u);X.isUndefined(f)&&h!==a||(r[u]=f)}),r}const yC=e=>{const t=Fo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=sn.from(o),t.url=hC(xC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),X.isFormData(r)){if(yr.hasStandardBrowserEnv||yr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(X.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&o.set(u,h)})}}if(yr.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(t)),n||n!==!1&&GF(t.url))){const l=i&&s&&XF.read(s);l&&o.set(i,l)}return t},JF=typeof XMLHttpRequest<"u",ZF=JF&&function(e){return new Promise(function(r,n){const i=yC(e);let s=i.data;const o=sn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const v=sn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};mC(function(_){r(_),m()},function(_){n(_),m()},k),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const k=S&&S.message?S.message:"Network Error",C=new Nt(k,Nt.ERR_NETWORK,e,y);C.event=S||null,n(C),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||fC;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),n(new Nt(S,k.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&X.forEach(o.toJSON(),function(S,k){y.setRequestHeader(k,S)}),X.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,g]=Gh(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=Gh(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=v=>{y&&(n(!v||v.type?new ml(null,e,y):v),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=UF(i.url);if(b&&yr.protocols.indexOf(b)===-1){n(new Nt("Unsupported protocol "+b+":",Nt.ERR_BAD_REQUEST,e));return}y.send(s||null)})},tD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Nt?u:new ml(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new Nt(`timeout ${t} of ms exceeded`,Nt.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>X.asap(a),l}},eD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},rD=async function*(e,t){for await(const r of nD(e))yield*eD(r,t)},nD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},bv=(e,t,r,n)=>{const i=rD(e,t);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},vv=64*1024,{isFunction:md}=X,iD=(({Request:e,Response:t})=>({Request:e,Response:t}))(X.global),{ReadableStream:wv,TextEncoder:kv}=X.global,Sv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sD=e=>{e=X.merge.call({skipUndefined:!0},iD,e);const{fetch:t,Request:r,Response:n}=e,i=t?md(t):typeof fetch=="function",s=md(r),o=md(n);if(!i)return!1;const a=i&&md(wv),l=i&&(typeof kv=="function"?(g=>m=>g.encode(m))(new kv):async g=>new Uint8Array(await new r(g).arrayBuffer())),c=s&&a&&Sv(()=>{let g=!1;const m=new r(yr.origin,{body:new wv,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),u=o&&a&&Sv(()=>X.isReadableStream(new n("").body)),h={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(m,y)=>{let x=m&&m[g];if(x)return x.call(m);throw new Nt(`Response type '${g}' is not supported`,Nt.ERR_NOT_SUPPORT,y)})});const f=async g=>{if(g==null)return 0;if(X.isBlob(g))return g.size;if(X.isSpecCompliantForm(g))return(await new r(yr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(X.isArrayBufferView(g)||X.isArrayBuffer(g))return g.byteLength;if(X.isURLSearchParams(g)&&(g=g+""),X.isString(g))return(await l(g)).byteLength},p=async(g,m)=>{const y=X.toFiniteNumber(g.getContentLength());return y??f(m)};return async g=>{let{url:m,method:y,data:x,signal:b,cancelToken:v,timeout:S,onDownloadProgress:k,onUploadProgress:C,responseType:_,headers:A,withCredentials:O="same-origin",fetchOptions:F}=yC(g),$=t||fetch;_=_?(_+"").toLowerCase():"text";let H=tD([b,v&&v.toAbortSignal()],S),N=null;const M=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let E;try{if(C&&c&&y!=="get"&&y!=="head"&&(E=await p(A,x))!==0){let D=new r(m,{method:"POST",body:x,duplex:"half"}),q;if(X.isFormData(x)&&(q=D.headers.get("content-type"))&&A.setContentType(q),D.body){const[G,Q]=mv(E,Gh(xv(C)));x=bv(D.body,vv,G,Q)}}X.isString(O)||(O=O?"include":"omit");const L=s&&"credentials"in r.prototype,B={...F,signal:H,method:y.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:L?O:void 0};N=s&&new r(m,B);let j=await(s?$(N,F):$(m,B));const P=u&&(_==="stream"||_==="response");if(u&&(k||P&&M)){const D={};["status","statusText","headers"].forEach(ut=>{D[ut]=j[ut]});const q=X.toFiniteNumber(j.headers.get("content-length")),[G,Q]=k&&mv(q,Gh(xv(k),!0))||[];j=new n(bv(j.body,vv,G,()=>{Q&&Q(),M&&M()}),D)}_=_||"text";let I=await h[X.findKey(h,_)||"text"](j,g);return!P&&M&&M(),await new Promise((D,q)=>{mC(D,q,{data:I,headers:sn.from(j.headers),status:j.status,statusText:j.statusText,config:g,request:N})})}catch(L){throw M&&M(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,g,N),{cause:L.cause||L}):Nt.from(L,L&&L.code,g,N)}}},oD=new Map,bC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let o=s.length,a=o,l,c,u=oD;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:sD(t)),u=c;return c};bC();const vy={http:SF,xhr:ZF,fetch:{get:bC}};X.forEach(vy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _v=e=>`- ${e}`,aD=e=>X.isFunction(e)||e===null||e===!1;function lD(e,t){e=X.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let o=0;o<r;o++){n=e[o];let a;if(i=n,!aD(n)&&(i=vy[(a=String(n)).toLowerCase()],i===void 0))throw new Nt(`Unknown adapter '${a}'`);if(i&&(X.isFunction(i)||(i=i.get(t))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(_v).join(`
`):" "+_v(o[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const vC={getAdapter:lD,adapters:vy};function Tg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ml(null,e)}function Cv(e){return Tg(e),e.headers=sn.from(e.headers),e.data=Cg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vC.getAdapter(e.adapter||Du.adapter,e)(e).then(function(n){return Tg(e),n.data=Cg.call(e,e.transformResponse,n),n.headers=sn.from(n.headers),n},function(n){return gC(n)||(Tg(e),n&&n.response&&(n.response.data=Cg.call(e,e.transformResponse,n.response),n.response.headers=sn.from(n.response.headers))),Promise.reject(n)})}const wC="1.13.2",lp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Tv={};lp.transitional=function(t,r,n){function i(s,o){return"[Axios v"+wC+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new Nt(i(o," has been removed"+(r?" in "+r:"")),Nt.ERR_DEPRECATED);return r&&!Tv[o]&&(Tv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};lp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function cD(e,t,r){if(typeof e!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Nt("option "+s+" must be "+l,Nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nt("Unknown option "+s,Nt.ERR_BAD_OPTION)}}const nh={assertOptions:cD,validators:lp},ui=nh.validators;let Co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new pv,response:new pv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Fo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&nh.assertOptions(n,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),i!=null&&(X.isFunction(i)?r.paramsSerializer={serialize:i}:nh.assertOptions(i,{encode:ui.function,serialize:ui.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nh.assertOptions(r,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&X.merge(s.common,s[r.method]);s&&X.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=sn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,f;if(!l){const g=[Cv.bind(this),void 0];for(g.unshift(...a),g.push(...c),f=g.length,u=Promise.resolve(r);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=r;for(;h<f;){const g=a[h++],m=a[h++];try{p=g(p)}catch(y){m.call(this,y);break}}try{u=Cv.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Fo(this.defaults,t);const r=xC(t.baseURL,t.url,t.allowAbsoluteUrls);return hC(r,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){Co.prototype[t]=function(r,n){return this.request(Fo(n||{},{method:t,url:r,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(Fo(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Co.prototype[t]=r(),Co.prototype[t+"Form"]=r(!0)});let uD=class kC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new ml(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new kC(function(i){t=i}),cancel:t}}};function dD(e){return function(r){return e.apply(null,r)}}function hD(e){return X.isObject(e)&&e.isAxiosError===!0}const a0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(a0).forEach(([e,t])=>{a0[t]=e});function SC(e){const t=new Co(e),r=tC(Co.prototype.request,t);return X.extend(r,Co.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return SC(Fo(e,i))},r}const K=SC(Du);K.Axios=Co;K.CanceledError=ml;K.CancelToken=uD;K.isCancel=gC;K.VERSION=wC;K.toFormData=ap;K.AxiosError=Nt;K.Cancel=K.CanceledError;K.all=function(t){return Promise.all(t)};K.spread=dD;K.isAxiosError=hD;K.mergeConfig=Fo;K.AxiosHeaders=sn;K.formToJSON=e=>pC(X.isHTMLForm(e)?new FormData(e):e);K.getAdapter=vC.getAdapter;K.HttpStatusCode=a0;K.default=K;const{Axios:NK,AxiosError:IK,CanceledError:zK,isCancel:WK,CancelToken:HK,VERSION:qK,all:UK,Cancel:VK,isAxiosError:YK,spread:GK,toFormData:XK,AxiosHeaders:QK,HttpStatusCode:KK,formToJSON:JK,getAdapter:ZK,mergeConfig:tJ}=K,fD="/react/assets/Logo-DbMALHZL.png";function Ke({dbType:e="sql",handlerName:t=""}){const r=Pn(),n=Ru(),[i,s]=T.useState(e),[o,a]=T.useState(t),[l,c]=T.useState([]),[u,h]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[y,x]=T.useState(!1),[b,v]=T.useState(!0);T.useEffect(()=>{s(e),a(t)},[e,t]),T.useEffect(()=>{S()},[]);const S=async()=>{try{const O=await K.get("/api/current_state");O.data.success&&(s(O.data.db_type),a(O.data.handler),c(O.data.available_handlers||[]),await k(O.data.handler))}catch(O){console.error("Failed to fetch current state:",O)}finally{v(!1)}},k=async O=>{try{const F=await K.get("/api/check_credentials");if(console.log(" Credentials check response:",F.data),F.data.success){const $=F.data.needs_credentials,H=F.data.handler_supports_credentials!==!1;m($),x(H),p(!$&&H),$&&H&&!n.pathname.includes("/credentials")&&(console.log(` Credentials needed for ${O}, redirecting...`),r(`/credentials/${O}`))}}catch(F){console.error("Failed to check credentials:",F),m(!1),x(!1),p(!1)}finally{v(!1)}},C=async()=>{if(u)return;h(!0);const O=i==="sql"?"nosql":"sql";try{const F=await K.post("/api/switch_handler",{type:O,handler:null});F.data.success?(s(F.data.db_type),a(F.data.handler),await k(F.data.handler),F.data.needs_credentials||(r("/"),setTimeout(()=>{window.location.reload()},100))):(console.error("Switch failed:",F.data.error),alert("Failed to switch: "+F.data.error))}catch(F){console.error("Switch error:",F),alert("Failed to switch database type")}finally{h(!1)}},_=async O=>{if(!u){h(!0);try{const F=await K.post("/api/switch_handler",{type:i,handler:O});F.data.success?(a(F.data.handler),await k(F.data.handler),F.data.needs_credentials||(r("/"),window.location.reload())):(console.error("Handler switch failed:",F.data.error),alert("Failed to switch handler: "+F.data.error))}catch(F){console.error("Handler switch error:",F),alert("Failed to switch handler")}finally{h(!1)}}},A=async()=>{var F,$;if(window.confirm(`Are you sure you want to sign out from ${o}?

This will:
 Remove your stored credentials
 Redirect you to the credentials page
 Require re-entering credentials on next use`))try{const H=await K.post("/api/sign_out",{handler_name:o});H.data.success?(console.log(" Signed out successfully"),p(!1),m(!0),r(`/credentials/${o}`),setTimeout(()=>{window.location.reload()},100)):alert("Failed to sign out: "+H.data.error)}catch(H){console.error("Sign out error:",H),alert("Failed to sign out: "+((($=(F=H.response)==null?void 0:F.data)==null?void 0:$.error)||H.message))}};return d.jsxs("div",{className:"sidebar",children:[d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:d.jsx("img",{src:fD,alt:"DBDragoness Logo",style:{width:"140px",height:"140px",objectFit:"contain"}})}),d.jsxs("h2",{children:["DBDragoness (",i.toUpperCase(),")"]}),d.jsx("p",{style:{fontSize:"0.9em",color:"#f0f0f0",marginBottom:"10px"},children:o||"No Handler"}),l.length>1&&d.jsx("div",{style:{marginBottom:"15px"},children:d.jsx("select",{value:o,onChange:O=>_(O.target.value),disabled:u,style:{width:"100%",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",border:"1px solid #9370db",borderRadius:"5px",fontSize:"0.9em"},children:l.map(O=>d.jsx("option",{value:O,children:O},O))})}),d.jsx("a",{href:"/react/",children:" Home"}),d.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),r("/query")},children:" Query"}),d.jsxs("a",{href:"#",onClick:O=>{O.preventDefault(),C()},style:{opacity:u?.5:1,cursor:u?"wait":"pointer"},children:[""," ",u?"Switching...":`Switch to ${i==="sql"?"NoSQL":"SQL"}`]}),!b&&y&&f&&!g&&d.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),A()},style:{marginTop:"20px",borderTop:"1px solid rgba(147, 112, 219, 0.3)",paddingTop:"15px",color:"#ff6b6b"},children:" Sign Out"})]})}function pD({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(e+"_copy"),[s,o]=T.useState(!1),[a,l]=T.useState(""),[c,u]=T.useState(!1),h=async f=>{var p,g;if(f.preventDefault(),l(""),n){if(!n.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){l("Database name must start with a letter, contain only letters, numbers, underscores.");return}}else{l("Database name cannot be empty!");return}if(n===e){l("New name must be different from current name.");return}u(!0);try{const m=await K.post("/api/databases/rename",{old_name:e,new_name:n,keep_old:s});m.data.success?(r(n),t()):l(m.data.error||"Failed to rename database")}catch(m){console.error("Rename error:",m),l(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to rename database")}finally{u(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"500px",width:"95%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:f=>f.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"20px"},children:"Rename Database"}),a&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:a}),d.jsxs("form",{onSubmit:h,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Database Name:"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("input",{type:"text",value:n,onChange:f=>{const p=f.target.value;p.length<=63&&i(p)},maxLength:63,placeholder:"Enter new name",style:{width:"100%",padding:"10px",paddingRight:"60px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},disabled:c}),d.jsxs("span",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#9ca3af",pointerEvents:"none"},children:[n.length,"/63"]})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer"},children:[d.jsx("input",{type:"checkbox",checked:s,onChange:f=>o(f.target.checked),style:{marginRight:"8px"},disabled:c}),"Keep old database as backup"]}),d.jsx("p",{style:{color:"#aaa",fontSize:"12px",marginTop:"5px",marginLeft:"24px"},children:"If unchecked, the old database will be deleted after successful copy"})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},disabled:c,children:"Cancel"}),d.jsx("button",{type:"submit",disabled:c,style:{background:c?"#ccc":"#9370db",cursor:c?"not-allowed":"pointer"},children:c?s?"Copying...":"Renaming...":s?"Copy":"Rename"})]})]})]})})}function gD({dbName:e,currentDbType:t,currentHandler:r,onClose:n,onSuccess:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(e+"_converted"),[h,f]=T.useState({sql:[],nosql:[]}),[p,g]=T.useState(""),[m,y]=T.useState(!1),[x,b]=T.useState(""),[v,S]=T.useState(0),[k,C]=T.useState(""),[_,A]=T.useState(""),[O,F]=T.useState(!1),[$,H]=T.useState(""),[N,M]=T.useState(3);T.useEffect(()=>{E()},[]);const E=async()=>{try{const P=await K.get("/api/available_handlers");P.data.success&&f({sql:P.data.sql,nosql:P.data.nosql})}catch(P){console.error("Failed to fetch handlers:",P)}},L=()=>{if(!s)return[];const I=(s==="sql"?h.sql:h.nosql).filter(Q=>!(Q===r&&s===t));if(!p)return I;const D=p.toLowerCase(),q=I.filter(Q=>Q.toLowerCase().startsWith(D)),G=I.filter(Q=>Q.toLowerCase().includes(D)&&!Q.toLowerCase().startsWith(D));return[...q,...G]},B=async P=>{if(P.preventDefault(),b(""),!s||!a){b("Please select target database type and handler");return}if(!c.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){b("Database name must start with a letter, contain only letters, numbers, underscores.");return}y(!0),F(!0),S(0);try{const D=(await fetch("/api/databases/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_db:e,target_db_name:c,target_type:s,target_handler:a})})).body.getReader(),q=new TextDecoder;for(;;){const{done:G,value:Q}=await D.read();if(G)break;const Y=q.decode(Q).split(`
`);for(const nt of Y)if(nt.startsWith("data: "))try{const at=JSON.parse(nt.substring(6));if(at.error){b(at.error),F(!1),y(!1);return}if(at.progress!==void 0&&(S(at.progress),C(at.stage||""),A(at.current||"")),at.progress===100){H(`Successfully converted ${e} to ${c}!`);let pt=3;M(pt);const Tt=setInterval(()=>{pt-=1,M(pt),pt===0&&(clearInterval(Tt),i(c,s,a),n())},1e3)}}catch(at){console.error("Failed to parse SSE data:",at)}}}catch(I){console.error("Conversion error:",I),b(I.message||"Failed to convert database"),F(!1),y(!1)}},j=L();return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:O?void 0:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"95%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)",maxHeight:"90vh",overflowY:"auto"},onClick:P=>P.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:"Convert Database"}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:["Current: ",d.jsx("strong",{children:e})," (",t.toUpperCase()," -"," ",r,")"]}),!O&&!$&&d.jsxs("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid #ffc107",borderRadius:"5px",padding:"15px",marginBottom:"20px",color:"#ffc107",fontSize:"0.9em"},children:[d.jsx("strong",{children:" Important:"}),d.jsxs("ul",{style:{marginTop:"10px",paddingLeft:"20px"},children:[d.jsx("li",{children:"The original database will remain untouched"}),d.jsx("li",{children:"We strive to transfer all metadata (triggers, procedures, constraints)"}),d.jsx("li",{children:"Some metadata may be lost if the target database doesn't support it"}),d.jsx("li",{children:"Please verify the target database capabilities before converting"})]})]}),x&&d.jsx("div",{className:"error",style:{marginBottom:"15px",padding:"10px",background:"rgba(220, 53, 69, 0.2)",border:"1px solid #dc3545",borderRadius:"5px",color:"#ff6b6b"},children:x}),$&&d.jsxs("div",{style:{padding:"20px",background:"rgba(40, 167, 69, 0.2)",border:"1px solid #28a745",borderRadius:"5px",color:"#28a745",textAlign:"center",fontSize:"1.1em"},children:[" ",$,d.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9em"},children:["Redirecting in ",N," second",N!==1?"s":"","..."]})]}),O&&!$&&d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("div",{style:{background:"rgba(147, 112, 219, 0.2)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:d.jsxs("div",{style:{height:"30px",background:"linear-gradient(90deg, #9370db, #ba55d3)",width:`${v}%`,transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.9em"},children:[v,"%"]})}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",textAlign:"center"},children:[k==="export"&&"Exporting data...",k==="switch"&&"Switching handler...",k==="import"&&"Importing data...",k==="complete"&&"Finalizing...",_&&d.jsx("span",{style:{display:"block",marginTop:"5px",color:"#9370db"},children:_})]})]}),!O&&!$&&d.jsxs("form",{onSubmit:B,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Target Database Type:"}),d.jsxs("select",{value:s,onChange:P=>{o(P.target.value),l(""),g("")},style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},required:!0,children:[d.jsx("option",{value:"",children:"-- Select Type --"}),d.jsx("option",{value:"sql",children:"SQL"}),d.jsx("option",{value:"nosql",children:"NoSQL"})]})]}),s&&d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Search Handler:"}),d.jsx("input",{type:"text",value:p,onChange:P=>g(P.target.value),placeholder:"Type to search...",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",marginBottom:"10px"}}),d.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.05)"},children:j.length===0?d.jsx("div",{style:{padding:"15px",color:"#aaa",textAlign:"center"},children:"No handlers found"}):j.map(P=>d.jsxs("div",{onClick:()=>{l(P),g("")},style:{padding:"12px 15px",cursor:"pointer",background:a===P?"rgba(147, 112, 219, 0.3)":"transparent",color:"#f0f0f0",borderBottom:"1px solid rgba(147, 112, 219, 0.2)",transition:"background 0.2s"},onMouseEnter:I=>{a!==P&&(I.currentTarget.style.background="rgba(147, 112, 219, 0.15)")},onMouseLeave:I=>{a!==P&&(I.currentTarget.style.background="transparent")},children:[P,a===P&&d.jsx("span",{style:{float:"right",color:"#28a745"},children:""})]},P))}),a&&d.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(40, 167, 69, 0.1)",border:"1px solid #28a745",borderRadius:"5px",color:"#28a745",fontSize:"0.9em"},children:["Selected: ",d.jsx("strong",{children:a})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Database Name:"}),d.jsx("input",{type:"text",value:c,onChange:P=>u(P.target.value),placeholder:"Enter new database name",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:m,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:m?"not-allowed":"pointer",fontSize:"14px",opacity:m?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:m||!a,style:{padding:"10px 20px",background:m||!a?"#ccc":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:m||!a?"not-allowed":"pointer",fontSize:"14px"},children:m?"Converting...":"Convert"})]})]})]})})}function mD({dbName:e,handlerName:t}){const[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState(!1);T.useEffect(()=>{r&&!i&&l()},[r]);const l=async()=>{a(!0);try{const c=await K.get(`/api/db/${e}/connection_info`);c.data.success&&s(c.data)}catch(c){console.error("Failed to fetch connection info:",c)}finally{a(!1)}};return d.jsx("div",{id:`conn-${e}`,style:{marginBottom:"15px"},children:d.jsxs("details",{style:{marginBottom:"15px",padding:"10px",background:"#1e0033e6",borderRadius:"4px",border:"1px solid #ddd"},open:r,onToggle:c=>n(c.target.open),children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",background:"#1e0033e6",color:"#c0bae7ff",padding:"8px"},children:[" ",e," - Connection Info"]}),o&&d.jsx("p",{children:"Loading..."}),i&&d.jsxs("div",{style:{marginTop:"10px",padding:"15px",background:"#1e0033e6",borderLeft:"3px solid #6a5acd"},children:[d.jsx("p",{children:d.jsx("strong",{children:" Connection String:"})}),d.jsx("br",{}),d.jsx("code",{style:{display:"block",background:"black",color:"#f8f8f2",padding:"10px",borderRadius:"4px",overflowX:"auto",marginBottom:"15px"},children:i.connection_string}),d.jsx("p",{children:d.jsx("strong",{children:" Test Code:"})}),d.jsx("br",{}),d.jsx("pre",{style:{background:"black",color:"#f8f8f2",padding:"15px",borderRadius:"4px",overflowX:"auto",fontSize:"0.9em"},children:i.test_code}),i.notes&&i.notes.length>0&&d.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderLeft:"3px solid #ffc107",borderRadius:"4px"},children:[d.jsx("strong",{style:{color:"black"},children:" Tips:"}),d.jsx("ul",{style:{margin:"5px 0",paddingLeft:"20px",fontSize:"0.9em",color:"black"},children:i.notes.map((c,u)=>d.jsx("li",{children:c},u))})]})]})]})})}function xD(){np();const e=Pn(),[t,r]=T.useState([]),[n,i]=T.useState("sql"),[s,o]=T.useState(""),[a,l]=T.useState([]),[c,u]=T.useState(""),[h,f]=T.useState(""),[p,g]=T.useState(!0),[m,y]=T.useState(""),[x,b]=T.useState([]),[v,S]=T.useState(!1),[k,C]=T.useState(null),[_,A]=T.useState(1),[O]=T.useState(10),[F,$]=T.useState(1),[H,N]=T.useState(0),[M,E]=T.useState(!1),[L,B]=T.useState(""),[j,P]=T.useState(!1),[I,D]=T.useState("");T.useEffect(()=>{q()},[]),T.useEffect(()=>{G()},[]),T.useEffect(()=>{m&&ut(m)},[_]);const q=async()=>{try{g(!0);const st=await K.get("/api/databases");if(st.data.success){const ht=st.data.databases;b(ht),r(ht),i(st.data.db_type),o(st.data.handler),l(st.data.available_handlers||[]);const Rt=st.data.databases.length;N(Rt),$(Math.ceil(Rt/O))}else f(st.data.error||"Failed to fetch databases")}catch(st){console.error("Failed to fetch databases:",st)}finally{g(!1)}},G=async()=>{try{const st=await K.get("/api/check_credentials");if(st.data.success&&st.data.needs_credentials){e(`/credentials/${st.data.handler}`);return}q()}catch(st){console.error("Failed to check credentials:",st),q()}},Q=st=>{q()},ut=async st=>{S(!0);try{const ht=await K.get("/api/databases/search",{params:{q:st,page:_,per_page:O}});ht.data.success&&(r(ht.data.databases),$(ht.data.total_pages),N(ht.data.total))}catch(ht){console.error("Search error:",ht)}finally{S(!1)}},Y=st=>{y(st),A(1),k&&clearTimeout(k);const ht=setTimeout(()=>{ut(st)},300);C(ht)},nt=async st=>{var ht,Rt;if(st.preventDefault(),f(""),c){if(!c.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){f("Database name must start with a letter, contain only letters, numbers, underscores.");return}}else{f("Database name cannot be empty!");return}if(t.includes(c)){f("Database name already exists.");return}try{const Wt=await K.post("/api/databases",{action:"create",db_name:c});Wt.data.success?(u(""),q(),e(`/db/${c}`)):f(Wt.data.error||"Failed to create database")}catch(Wt){console.error("Create database error:",Wt);const se=((Rt=(ht=Wt.response)==null?void 0:ht.data)==null?void 0:Rt.error)||"Failed to create database";f(se)}},at=async st=>{var ht,Rt;if(window.confirm(`Are you sure you want to delete database ${st}?`))try{const Wt=await K.post("/api/databases",{action:"delete",db_name:st});Wt.data.success?(b(se=>se.filter(be=>be!==st)),r(se=>se.filter(be=>be!==st)),m?ut(m):q()):f(Wt.data.error||"Failed to delete database")}catch(Wt){console.error("Delete database error:",Wt);const se=((Rt=(ht=Wt.response)==null?void 0:ht.data)==null?void 0:Rt.error)||"Failed to delete database";f(se)}},pt=async st=>{f(""),g(!0);try{const ht=await K.post("/api/switch_handler",{type:n,handler:st});if(ht.data.success){o(ht.data.handler),i(ht.data.db_type),l(ht.data.available_handlers||[]);const Rt=await K.get("/api/check_credentials");if(Rt.data.success&&Rt.data.needs_credentials){e(`/credentials/${Rt.data.handler}`,{replace:!0});return}q()}else f(ht.data.error||"Failed to switch handler")}catch(ht){console.error("Switch handler error:",ht),f("Failed to switch handler")}finally{g(!1)}},Tt=m?t:t.slice((_-1)*O,_*O),Et=()=>{y(""),r(x),$(Math.ceil(x.length/O)),A(1)};return p?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:n,handlerName:s}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading databases..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:n,handlerName:s}),d.jsxs("div",{className:"center",children:[d.jsxs("h1",{children:["Database Manager (",n.toUpperCase()," - ",s,")"]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"handler_select",children:"Database Type:"}),d.jsx("select",{id:"handler_select",value:s,onChange:st=>pt(st.target.value),children:a.map(st=>d.jsx("option",{value:st,children:st},st))})]}),h&&d.jsx("p",{style:{color:"red"},children:h}),d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",id:"search-databases",placeholder:"Search databases on this page...",value:m,onChange:st=>Y(st.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",outline:"none",background:"rgba(147, 112, 219, 0.1)",boxShadow:"0 4px 15px rgba(147, 112, 219, 0.3)",transition:"all 0.3s"}}),d.jsx("button",{onClick:Et,style:{marginLeft:"10px",padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Clear"}),d.jsx("div",{id:"search-info",style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:m&&(v?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):Tt.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",H," database",H!==1?"s":""," ","match"]}))})]}),d.jsxs("form",{onSubmit:nt,id:"db_form",style:{display:"flex",alignItems:"center",gap:"12px",whiteSpace:"nowrap",width:"100%",maxWidth:"400px",minWidth:"280px"},children:[d.jsxs("div",{style:{position:"relative",flexGrow:1,minWidth:0,display:"flex",alignItems:"center"},children:[d.jsx("input",{type:"text",id:"db_name_input",name:"db_name",placeholder:"New Database Name",value:c,onChange:st=>{const ht=st.target.value;ht.length<=63&&u(ht)},maxLength:63,style:{width:"100%",padding:"8px 12px",paddingRight:"60px",borderRadius:"4px",outline:"none",boxShadow:"0 0 0 2px rgba(147,112,219,0.2)",fontSize:"14px"}}),d.jsxs("span",{style:{position:"absolute",right:"12px",fontSize:"12px",color:"#6b7280",pointerEvents:"none",padding:"0 4px"},children:[c.length,"/63"]})]}),d.jsx("button",{type:"submit",style:{backgroundColor:"#9370db",color:"white",padding:"8px 24px",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",flexShrink:0,fontSize:"14px",fontWeight:"500"},onMouseOver:st=>st.currentTarget.style.backgroundColor="#7c5bbb",onMouseOut:st=>st.currentTarget.style.backgroundColor="#9370db",children:"Create"})]}),d.jsxs("table",{className:"db-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Database Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:Tt.map(st=>d.jsxs("tr",{children:[d.jsx("td",{children:st}),d.jsxs("td",{children:[d.jsx("button",{className:"view-btn",onClick:()=>e(`/db/${st}`),style:{background:"#1e9530"},children:"View"}),d.jsx("button",{onClick:()=>{B(st),E(!0)},style:{background:"#ff9800"},children:"Rename"}),d.jsx("button",{onClick:()=>{D(st),P(!0)},style:{background:"#334155"},children:"Convert"}),d.jsx("button",{onClick:()=>{const ht=t.indexOf(st),Rt=Math.floor(ht/O)+1;Rt!==_&&A(Rt),setTimeout(()=>{const Wt=document.getElementById(`conn-${st}`);Wt?(Wt.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const se=Wt.querySelector("details");se&&(se.open=!0)},500)):setTimeout(()=>{const se=document.getElementById(`conn-${st}`);se&&(se.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const be=se.querySelector("details");be&&(be.open=!0)},300))},200)},Rt!==_?300:0)},style:{background:"#17a2b8"},children:"Connection Info"}),d.jsx("button",{onClick:()=>at(st),style:{background:"#dc3545"},children:"Delete"})]})]},st))})]}),F>1&&d.jsxs("div",{className:"pagination",children:[_>1?d.jsx("a",{href:"#",onClick:st=>{st.preventDefault(),A(_-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",_," of ",F," (",H," total)"]}),_<F?d.jsx("a",{href:"#",onClick:st=>{st.preventDefault(),A(_+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),t.length>0&&d.jsxs("div",{style:{marginTop:"40px"},children:[d.jsx("h2",{children:"Connection Strings"}),d.jsx("p",{style:{color:"white",fontSize:"0.9em"},children:" Note: Replace placeholder values with your actual credentials where needed."}),d.jsx("div",{style:{background:"#1e0033e6",padding:"15px",borderRadius:"5px",marginTop:"20px"},children:Tt.map(st=>d.jsx(mD,{dbName:st,handlerName:s},st))}),F>1&&d.jsxs("div",{className:"pagination",style:{marginTop:"20px"},children:[_>1?d.jsx("a",{href:"#",onClick:st=>{st.preventDefault(),A(_-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",_," of ",F]}),_<F?d.jsx("a",{href:"#",onClick:st=>{st.preventDefault(),A(_+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),M&&d.jsx(pD,{dbName:L,onClose:()=>E(!1),onSuccess:Q}),j&&d.jsx(gD,{dbName:I,currentDbType:n,currentHandler:s,onClose:()=>P(!1),onSuccess:(st,ht,Rt)=>{window.location.href=`/react/db/${st}`}})]})]})}function yD({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(1),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState([]),[h,f]=T.useState({}),[p,g]=T.useState({}),[m,y]=T.useState([]),[x,b]=T.useState(""),[v,S]=T.useState(!1),[k,C]=T.useState(!0),[_,A]=T.useState("");T.useEffect(()=>{O()},[]);const O=async()=>{try{const E=await K.get(`/api/db/${e}/supported_types`);E.data.success&&y(E.data.types||["TEXT","INTEGER","REAL","BLOB"])}catch(E){console.error("Failed to fetch types:",E),y(["TEXT","INTEGER","REAL","BLOB"])}try{const E=await K.get(`/api/db/${e}/capabilities`);E.data.success&&C(E.data.capabilities.supports_non_pk_autoincrement)}catch(E){console.error("Failed to fetch capabilities:",E),C(!0)}try{const E=await K.get("/api/current_state");E.data.success&&A(E.data.handler)}catch(E){console.error("Failed to fetch handler name:",E)}},F=(E,L)=>L==="PostgreSQL"?["SERIAL","BIGSERIAL","SMALLSERIAL","INTEGER","BIGINT","SMALLINT"].includes(E==null?void 0:E.toUpperCase()):L==="MySQL"?["INT","INTEGER","BIGINT","SMALLINT","TINYINT","MEDIUMINT"].includes(E==null?void 0:E.toUpperCase()):["INTEGER","INT","BIGINT","SMALLINT","TINYINT"].includes(E==null?void 0:E.toUpperCase()),$=E=>{if(E.preventDefault(),b(""),!s.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){b("Table name must start with a letter, contain only letters, numbers, underscores.");return}const L=parseInt(a);if(isNaN(L)||L<1||L>20){b("Number of columns must be between 1 and 20. More can be added later!");return}const B=[];for(let j=0;j<L;j++)B.push({name:"",type:m[0]||"TEXT",is_pk:!1,is_not_null:!1,is_autoincrement:!1,is_unique:!1});u(B),f({}),g({}),i(2)},H=(E,L,B)=>{const j=[...c];if(L==="is_autoincrement"&&B===!0){j.forEach((P,I)=>{I===E?(P.is_autoincrement=!0,P.is_unique=!0,P.is_not_null=!0):P.is_autoincrement&&(P.is_autoincrement=!1,P.is_unique=!!P.is_pk,P.is_not_null=!!P.is_pk)}),u(j);return}if(L==="is_autoincrement"&&B===!1){j[E]={...j[E],is_autoincrement:!1,is_unique:!!j[E].is_pk,is_not_null:!!j[E].is_pk},u(j);return}L==="is_unique"&&B===!1&&j[E].is_autoincrement||L==="is_not_null"&&B===!1&&j[E].is_autoincrement||(j[E]={...j[E],[L]:B},u(j))},N=(E,L)=>{const B=[...c];L?(B.forEach((j,P)=>{P!==E&&(j.is_pk=!1,j.is_not_null=!1,j.is_unique=!1)}),B[E].is_pk=!0,B[E].is_not_null=!0,B[E].is_unique=!0):(B[E].is_pk=!1,B[E].is_not_null=!1,B[E].is_unique=!1),u(B)},M=async E=>{var L,B;E.preventDefault(),b(""),S(!0);for(const j of c)if(!j.name||!j.type){b("All columns must have a name and type."),S(!1);return}try{const j=c.map(I=>{const D={...I},q=h[I.name];return q&&q.trim()&&(D.check_constraint=q.trim()),D}),P=await K.post(`/api/db/${e}/create_table`,{table_name:s,columns:j});P.data.success?(r(P.data.table_name),t()):b(P.data.error||"Failed to create table")}catch(j){console.error("Create table error:",j),b("Failed to create table: "+(((B=(L=j.response)==null?void 0:L.data)==null?void 0:B.error)||j.message))}finally{S(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"1100px",width:"95%",maxHeight:"85vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:E=>E.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"20px"},children:["Create Table in ",e]}),x&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:x}),n===1&&d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Table Name:"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("input",{type:"text",value:s,onChange:E=>{const L=E.target.value;L.length<=63&&o(L)},maxLength:63,placeholder:"e.g., users, products",style:{width:"100%",padding:"10px",paddingRight:"60px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"}}),d.jsxs("span",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#9ca3af",pointerEvents:"none"},children:[s.length,"/63"]})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Number of Columns (1-20):"}),d.jsx("input",{type:"number",value:a,onChange:E=>l(E.target.value),min:"1",max:"20",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},children:"Cancel"}),d.jsx("button",{onClick:$,style:{background:"#9370db"},children:"Next"})]})]}),n===2&&d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginBottom:"15px"},children:["Define Columns for ",s]}),d.jsx("div",{style:{marginBottom:"20px",overflowX:"auto",overflowY:"visible",paddingBottom:"10px",maxWidth:"100%"},children:d.jsx("div",{style:{minWidth:"1200px",display:"flex",flexDirection:"column",gap:"10px"},children:c.map((E,L)=>d.jsxs("div",{children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px 230px 120px 120px 120px 100px 100px",gap:"8px",alignItems:"center",padding:"12px",background:"rgba(147, 112, 219, 0.15)",borderRadius:"8px",width:"100%",boxSizing:"border-box"},children:[d.jsx("input",{type:"text",value:E.name,onChange:B=>H(L,"name",B.target.value),placeholder:`Column ${L+1}`,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",width:"100%"},children:[d.jsx("select",{value:E.type.includes("(")?E.type.split("(")[0]:E.type,onChange:B=>{var I;const j=B.target.value;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(j)){const D=E.type.includes("(")&&((I=E.type.match(/\((\d+)\)/))==null?void 0:I[1])||"255";H(L,"type",`${j}(${D})`)}else H(L,"type",j)},style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",flex:1,minWidth:"90px"},children:m.map(B=>d.jsx("option",{value:B,children:B},B))}),(()=>{var P;const B=E.type.includes("(")?E.type.split("(")[0]:E.type;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(B)){const I=E.type.includes("(")&&((P=E.type.match(/\((\d+)\)/))==null?void 0:P[1])||"";return d.jsx("input",{type:"text",value:I,onChange:D=>{const q=D.target.value;(q===""||/^\d+$/.test(q))&&(q===""?H(L,"type",B):H(L,"type",`${B}(${q})`))},onBlur:D=>{D.target.value===""&&H(L,"type",`${B}(255)`)},placeholder:"Len",style:{width:"70px",padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",textAlign:"center"}})}return null})()]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:E.is_pk,onChange:B=>N(L,B.target.checked),style:{marginRight:"5px"}}),"Primary Key"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:E.is_pk||E.is_autoincrement?"not-allowed":"pointer",opacity:E.is_pk||E.is_autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:E.is_pk||E.is_not_null||E.is_autoincrement||!1,onChange:B=>H(L,"is_not_null",B.target.checked),disabled:E.is_pk||E.is_autoincrement,style:{marginRight:"5px"}}),"Not Null"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:(k||E.is_pk)&&F(E.type,_)?"pointer":"not-allowed",opacity:(k||E.is_pk)&&F(E.type,_)?1:.6,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:E.is_autoincrement,onChange:B=>{if(F(E.type,_)){if(!k&&!E.is_pk)return;H(L,"is_autoincrement",B.target.checked)}},disabled:!k&&!E.is_pk||!F(E.type,_),style:{marginRight:"5px"}}),"Auto Inc"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:E.is_pk||E.is_autoincrement?"not-allowed":"pointer",opacity:E.is_pk||E.is_autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:E.is_pk||E.is_unique||E.is_autoincrement||!1,onChange:B=>{!E.is_pk&&!E.is_autoincrement&&H(L,"is_unique",B.target.checked)},disabled:E.is_pk||E.is_autoincrement,style:{marginRight:"5px"}}),"Unique"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:!!(h[E.name]||p[E.name]),onChange:B=>{if(B.target.checked)g({...p,[E.name]:!0}),h[E.name]||f({...h,[E.name]:""});else{const j={...h};delete j[E.name],f(j);const P={...p};delete P[E.name],g(P)}},style:{marginRight:"5px"}}),"CHECK"]})]}),(h[E.name]!==void 0||p[E.name])&&d.jsxs("div",{style:{marginTop:"5px",marginLeft:"15px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",border:"1.5px solid #4caf50",borderRadius:"5px"},children:[d.jsxs("div",{style:{marginBottom:"5px",color:"#4caf50",fontSize:"0.85em",fontWeight:"bold"},children:["CHECK Constraint for ",E.name,":"]}),d.jsx("input",{type:"text",value:h[E.name]||"",onChange:B=>{f({...h,[E.name]:B.target.value})},placeholder:"e.g., age > 0, price BETWEEN 0 AND 1000",style:{width:"100%",padding:"8px",border:"1.5px solid #4caf50",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontFamily:"monospace",fontSize:"0.9em"}}),d.jsxs("div",{style:{marginTop:"5px",fontSize:"0.75em",color:"#ccc"},children:[" Examples: age ",">"," 18, price ",">"," 0, status IN ('active', 'pending')"]})]})]},L))})})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>i(1),style:{background:"#6c757d"},children:"Back"}),d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},children:"Cancel"}),d.jsx("button",{onClick:M,disabled:v,style:{background:v?"#ccc":"#9370db",cursor:v?"not-allowed":"pointer"},children:v?"Creating...":"Create Table"})]})]})]})})}const bD="modulepreload",vD=function(e){return"/react/"+e},Ev={},ie=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=vD(l),l in Ev)return;Ev[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bD,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var jv={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},_C={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pR,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",h="month",f="quarter",p="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var E=["th","st","nd","rd"],L=M%100;return"["+M+(E[(L-20)%10]||E[L]||E[0])+"]"}},v=function(M,E,L){var B=String(M);return!B||B.length>=E?M:""+Array(E+1-B.length).join(L)+M},S={s:v,z:function(M){var E=-M.utcOffset(),L=Math.abs(E),B=Math.floor(L/60),j=L%60;return(E<=0?"+":"-")+v(B,2,"0")+":"+v(j,2,"0")},m:function M(E,L){if(E.date()<L.date())return-M(L,E);var B=12*(L.year()-E.year())+(L.month()-E.month()),j=E.clone().add(B,h),P=L-j<0,I=E.clone().add(B+(P?-1:1),h);return+(-(B+(L-j)/(P?j-I:I-j))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:h,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:f}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},k="en",C={};C[k]=b;var _="$isDayjsObject",A=function(M){return M instanceof H||!(!M||!M[_])},O=function M(E,L,B){var j;if(!E)return k;if(typeof E=="string"){var P=E.toLowerCase();C[P]&&(j=P),L&&(C[P]=L,j=P);var I=E.split("-");if(!j&&I.length>1)return M(I[0])}else{var D=E.name;C[D]=E,j=D}return!B&&j&&(k=j),j||!B&&k},F=function(M,E){if(A(M))return M.clone();var L=typeof E=="object"?E:{};return L.date=M,L.args=arguments,new H(L)},$=S;$.l=O,$.i=A,$.w=function(M,E){return F(M,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var H=function(){function M(L){this.$L=O(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[_]=!0}var E=M.prototype;return E.parse=function(L){this.$d=function(B){var j=B.date,P=B.utc;if(j===null)return new Date(NaN);if($.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var I=j.match(y);if(I){var D=I[2]-1||0,q=(I[7]||"0").substring(0,3);return P?new Date(Date.UTC(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,q)):new Date(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,q)}}return new Date(j)}(L),this.init()},E.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},E.$utils=function(){return $},E.isValid=function(){return this.$d.toString()!==m},E.isSame=function(L,B){var j=F(L);return this.startOf(B)<=j&&j<=this.endOf(B)},E.isAfter=function(L,B){return F(L)<this.startOf(B)},E.isBefore=function(L,B){return this.endOf(B)<F(L)},E.$g=function(L,B,j){return $.u(L)?this[B]:this.set(j,L)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(L,B){var j=this,P=!!$.u(B)||B,I=$.p(L),D=function(pt,Tt){var Et=$.w(j.$u?Date.UTC(j.$y,Tt,pt):new Date(j.$y,Tt,pt),j);return P?Et:Et.endOf(c)},q=function(pt,Tt){return $.w(j.toDate()[pt].apply(j.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(Tt)),j)},G=this.$W,Q=this.$M,ut=this.$D,Y="set"+(this.$u?"UTC":"");switch(I){case p:return P?D(1,0):D(31,11);case h:return P?D(1,Q):D(0,Q+1);case u:var nt=this.$locale().weekStart||0,at=(G<nt?G+7:G)-nt;return D(P?ut-at:ut+(6-at),Q);case c:case g:return q(Y+"Hours",0);case l:return q(Y+"Minutes",1);case a:return q(Y+"Seconds",2);case o:return q(Y+"Milliseconds",3);default:return this.clone()}},E.endOf=function(L){return this.startOf(L,!1)},E.$set=function(L,B){var j,P=$.p(L),I="set"+(this.$u?"UTC":""),D=(j={},j[c]=I+"Date",j[g]=I+"Date",j[h]=I+"Month",j[p]=I+"FullYear",j[l]=I+"Hours",j[a]=I+"Minutes",j[o]=I+"Seconds",j[s]=I+"Milliseconds",j)[P],q=P===c?this.$D+(B-this.$W):B;if(P===h||P===p){var G=this.clone().set(g,1);G.$d[D](q),G.init(),this.$d=G.set(g,Math.min(this.$D,G.daysInMonth())).$d}else D&&this.$d[D](q);return this.init(),this},E.set=function(L,B){return this.clone().$set(L,B)},E.get=function(L){return this[$.p(L)]()},E.add=function(L,B){var j,P=this;L=Number(L);var I=$.p(B),D=function(Q){var ut=F(P);return $.w(ut.date(ut.date()+Math.round(Q*L)),P)};if(I===h)return this.set(h,this.$M+L);if(I===p)return this.set(p,this.$y+L);if(I===c)return D(1);if(I===u)return D(7);var q=(j={},j[a]=n,j[l]=i,j[o]=r,j)[I]||1,G=this.$d.getTime()+L*q;return $.w(G,this)},E.subtract=function(L,B){return this.add(-1*L,B)},E.format=function(L){var B=this,j=this.$locale();if(!this.isValid())return j.invalidDate||m;var P=L||"YYYY-MM-DDTHH:mm:ssZ",I=$.z(this),D=this.$H,q=this.$m,G=this.$M,Q=j.weekdays,ut=j.months,Y=j.meridiem,nt=function(Tt,Et,st,ht){return Tt&&(Tt[Et]||Tt(B,P))||st[Et].slice(0,ht)},at=function(Tt){return $.s(D%12||12,Tt,"0")},pt=Y||function(Tt,Et,st){var ht=Tt<12?"AM":"PM";return st?ht.toLowerCase():ht};return P.replace(x,function(Tt,Et){return Et||function(st){switch(st){case"YY":return String(B.$y).slice(-2);case"YYYY":return $.s(B.$y,4,"0");case"M":return G+1;case"MM":return $.s(G+1,2,"0");case"MMM":return nt(j.monthsShort,G,ut,3);case"MMMM":return nt(ut,G);case"D":return B.$D;case"DD":return $.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return nt(j.weekdaysMin,B.$W,Q,2);case"ddd":return nt(j.weekdaysShort,B.$W,Q,3);case"dddd":return Q[B.$W];case"H":return String(D);case"HH":return $.s(D,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return pt(D,q,!0);case"A":return pt(D,q,!1);case"m":return String(q);case"mm":return $.s(q,2,"0");case"s":return String(B.$s);case"ss":return $.s(B.$s,2,"0");case"SSS":return $.s(B.$ms,3,"0");case"Z":return I}return null}(Tt)||I.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(L,B,j){var P,I=this,D=$.p(B),q=F(L),G=(q.utcOffset()-this.utcOffset())*n,Q=this-q,ut=function(){return $.m(I,q)};switch(D){case p:P=ut()/12;break;case h:P=ut();break;case f:P=ut()/3;break;case u:P=(Q-G)/6048e5;break;case c:P=(Q-G)/864e5;break;case l:P=Q/i;break;case a:P=Q/n;break;case o:P=Q/r;break;default:P=Q}return j?P:$.a(P)},E.daysInMonth=function(){return this.endOf(h).$D},E.$locale=function(){return C[this.$L]},E.locale=function(L,B){if(!L)return this.$L;var j=this.clone(),P=O(L,B,!0);return P&&(j.$L=P),j},E.clone=function(){return $.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},M}(),N=H.prototype;return F.prototype=N,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",p],["$D",g]].forEach(function(M){N[M[1]]=function(E){return this.$g(E,M[0],M[1])}}),F.extend=function(M,E){return M.$i||(M(E,H,F),M.$i=!0),F},F.locale=O,F.isDayjs=A,F.unix=function(M){return F(1e3*M)},F.en=C[k],F.Ls=C,F.p={},F})})(_C);var wD=_C.exports;const kD=jS(wD);var CC=Object.defineProperty,w=(e,t)=>CC(e,"name",{value:t,configurable:!0}),SD=(e,t)=>{for(var r in t)CC(e,r,{get:t[r],enumerable:!0})},Ri={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},rt={trace:w((...e)=>{},"trace"),debug:w((...e)=>{},"debug"),info:w((...e)=>{},"info"),warn:w((...e)=>{},"warn"),error:w((...e)=>{},"error"),fatal:w((...e)=>{},"fatal")},wy=w(function(e="fatal"){let t=Ri.fatal;typeof e=="string"?e.toLowerCase()in Ri&&(t=Ri[e]):typeof e=="number"&&(t=e),rt.trace=()=>{},rt.debug=()=>{},rt.info=()=>{},rt.warn=()=>{},rt.error=()=>{},rt.fatal=()=>{},t<=Ri.fatal&&(rt.fatal=console.error?console.error.bind(console,kn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",kn("FATAL"))),t<=Ri.error&&(rt.error=console.error?console.error.bind(console,kn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",kn("ERROR"))),t<=Ri.warn&&(rt.warn=console.warn?console.warn.bind(console,kn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",kn("WARN"))),t<=Ri.info&&(rt.info=console.info?console.info.bind(console,kn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",kn("INFO"))),t<=Ri.debug&&(rt.debug=console.debug?console.debug.bind(console,kn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kn("DEBUG"))),t<=Ri.trace&&(rt.trace=console.debug?console.debug.bind(console,kn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kn("TRACE")))},"setLogLevel"),kn=w(e=>`%c${kD().format("ss.SSS")} : ${e} : `,"format");const ih={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return ih.hue2rgb(s,i,e+1/3)*255;case"g":return ih.hue2rgb(s,i,e)*255;case"b":return ih.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(n==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/a+(t<r?6:0))*60;case t:return((r-e)/a+2)*60;case r:return((e-t)/a+4)*60;default:return-1}}},_D={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},CD={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Dt={channel:ih,lang:_D,unit:CD},cs={};for(let e=0;e<=255;e++)cs[e]=Dt.unit.dec2hex(e);const hr={ALL:0,RGB:1,HSL:2};class TD{constructor(){this.type=hr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=hr.ALL}is(t){return this.type===t}}class ED{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new TD}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=hr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Dt.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Dt.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Dt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Dt.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Dt.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Dt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(hr.HSL)&&r!==void 0?r:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(hr.HSL)&&r!==void 0?r:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(hr.HSL)&&r!==void 0?r:(this._ensureHSL(),Dt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(hr.RGB)&&r!==void 0?r:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(hr.RGB)&&r!==void 0?r:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(hr.RGB)&&r!==void 0?r:(this._ensureRGB(),Dt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(hr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(hr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(hr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(hr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(hr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(hr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const cp=new ED({r:0,g:0,b:0,a:0},"transparent"),Pa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Pa.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,c=s?0:-1,u=o?255:15;return cp.set({r:(n>>l*(c+3)&u)*a,g:(n>>l*(c+2)&u)*a,b:(n>>l*(c+1)&u)*a,a:s?(n&u)*a/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${cs[Math.round(t)]}${cs[Math.round(r)]}${cs[Math.round(n)]}${cs[Math.round(i*255)]}`:`#${cs[Math.round(t)]}${cs[Math.round(r)]}${cs[Math.round(n)]}`}},mo={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(mo.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return Dt.channel.clamp.h(parseFloat(r)*.9);case"rad":return Dt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Dt.channel.clamp.h(parseFloat(r)*360)}}return Dt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(mo.re);if(!r)return;const[,n,i,s,o,a]=r;return cp.set({h:mo._hue2deg(n),s:Dt.channel.clamp.s(parseFloat(i)),l:Dt.channel.clamp.l(parseFloat(s)),a:o?Dt.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Dt.lang.round(t)}, ${Dt.lang.round(r)}%, ${Dt.lang.round(n)}%, ${i})`:`hsl(${Dt.lang.round(t)}, ${Dt.lang.round(r)}%, ${Dt.lang.round(n)}%)`}},jc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=jc.colors[e];if(t)return Pa.parse(t)},stringify:e=>{const t=Pa.stringify(e);for(const r in jc.colors)if(jc.colors[r]===t)return r}},sc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(sc.re);if(!r)return;const[,n,i,s,o,a,l,c,u]=r;return cp.set({r:Dt.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Dt.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Dt.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:c?Dt.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Dt.lang.round(t)}, ${Dt.lang.round(r)}, ${Dt.lang.round(n)}, ${Dt.lang.round(i)})`:`rgb(${Dt.lang.round(t)}, ${Dt.lang.round(r)}, ${Dt.lang.round(n)})`}},_i={format:{keyword:jc,hex:Pa,rgb:sc,rgba:sc,hsl:mo,hsla:mo},parse:e=>{if(typeof e!="string")return e;const t=Pa.parse(e)||sc.parse(e)||mo.parse(e)||jc.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(hr.HSL)||e.data.r===void 0?mo.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?sc.stringify(e):Pa.stringify(e)},TC=(e,t)=>{const r=_i.parse(e);for(const n in t)r[n]=Dt.channel.clamp[n](t[n]);return _i.stringify(r)},Ac=(e,t,r=0,n=1)=>{if(typeof e!="number")return TC(e,{a:t});const i=cp.set({r:Dt.channel.clamp.r(e),g:Dt.channel.clamp.g(t),b:Dt.channel.clamp.b(r),a:Dt.channel.clamp.a(n)});return _i.stringify(i)},jD=e=>{const{r:t,g:r,b:n}=_i.parse(e),i=.2126*Dt.channel.toLinear(t)+.7152*Dt.channel.toLinear(r)+.0722*Dt.channel.toLinear(n);return Dt.lang.round(i)},AD=e=>jD(e)>=.5,Ou=e=>!AD(e),EC=(e,t,r)=>{const n=_i.parse(e),i=n[t],s=Dt.channel.clamp[t](i+r);return i!==s&&(n[t]=s),_i.stringify(n)},vt=(e,t)=>EC(e,"l",t),At=(e,t)=>EC(e,"l",-t),U=(e,t)=>{const r=_i.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return TC(e,n)},LD=(e,t,r=50)=>{const{r:n,g:i,b:s,a:o}=_i.parse(e),{r:a,g:l,b:c,a:u}=_i.parse(t),h=r/100,f=h*2-1,p=o-u,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,y=1-m,x=n*m+a*y,b=i*m+l*y,v=s*m+c*y,S=o*h+u*(1-h);return Ac(x,b,v,S)},ft=(e,t=100)=>{const r=_i.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,LD(r,e,t)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:jC,setPrototypeOf:Av,isFrozen:MD,getPrototypeOf:RD,getOwnPropertyDescriptor:BD}=Object;let{freeze:Fr,seal:Mn,create:l0}=Object,{apply:c0,construct:u0}=typeof Reflect<"u"&&Reflect;Fr||(Fr=function(t){return t});Mn||(Mn=function(t){return t});c0||(c0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});u0||(u0=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const xd=Dr(Array.prototype.forEach),PD=Dr(Array.prototype.lastIndexOf),Lv=Dr(Array.prototype.pop),Nl=Dr(Array.prototype.push),FD=Dr(Array.prototype.splice),sh=Dr(String.prototype.toLowerCase),Eg=Dr(String.prototype.toString),jg=Dr(String.prototype.match),Il=Dr(String.prototype.replace),DD=Dr(String.prototype.indexOf),OD=Dr(String.prototype.trim),Wn=Dr(Object.prototype.hasOwnProperty),Ar=Dr(RegExp.prototype.test),zl=$D(TypeError);function Dr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return c0(e,t,n)}}function $D(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u0(e,r)}}function Ht(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sh;Av&&Av(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(MD(t)||(t[n]=s),i=s)}e[i]=!0}return e}function ND(e){for(let t=0;t<e.length;t++)Wn(e,t)||(e[t]=null);return e}function Fi(e){const t=l0(null);for(const[r,n]of jC(e))Wn(e,r)&&(Array.isArray(n)?t[r]=ND(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Fi(n):t[r]=n);return t}function Wl(e,t){for(;e!==null;){const n=BD(e,t);if(n){if(n.get)return Dr(n.get);if(typeof n.value=="function")return Dr(n.value)}e=RD(e)}function r(){return null}return r}const Mv=Fr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ag=Fr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lg=Fr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ID=Fr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mg=Fr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zD=Fr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rv=Fr(["#text"]),Bv=Fr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rg=Fr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pv=Fr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yd=Fr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WD=Mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),HD=Mn(/<%[\w\W]*|[\w\W]*%>/gm),qD=Mn(/\$\{[\w\W]*/gm),UD=Mn(/^data-[\-\w.\u00B7-\uFFFF]+$/),VD=Mn(/^aria-[\-\w]+$/),AC=Mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YD=Mn(/^(?:\w+script|data):/i),GD=Mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LC=Mn(/^html$/i),XD=Mn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Fv=Object.freeze({__proto__:null,ARIA_ATTR:VD,ATTR_WHITESPACE:GD,CUSTOM_ELEMENT:XD,DATA_ATTR:UD,DOCTYPE_NAME:LC,ERB_EXPR:HD,IS_ALLOWED_URI:AC,IS_SCRIPT_OR_DATA:YD,MUSTACHE_EXPR:WD,TMPLIT_EXPR:qD});const Hl={element:1,text:3,progressingInstruction:7,comment:8,document:9},QD=function(){return typeof window>"u"?null:window},KD=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Dv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function MC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QD();const t=Ct=>MC(Ct);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Hl.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=e,g=l.prototype,m=Wl(g,"cloneNode"),y=Wl(g,"remove"),x=Wl(g,"nextSibling"),b=Wl(g,"childNodes"),v=Wl(g,"parentNode");if(typeof o=="function"){const Ct=r.createElement("template");Ct.content&&Ct.content.ownerDocument&&(r=Ct.content.ownerDocument)}let S,k="";const{implementation:C,createNodeIterator:_,createDocumentFragment:A,getElementsByTagName:O}=r,{importNode:F}=n;let $=Dv();t.isSupported=typeof jC=="function"&&typeof v=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:N,TMPLIT_EXPR:M,DATA_ATTR:E,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:P}=Fv;let{IS_ALLOWED_URI:I}=Fv,D=null;const q=Ht({},[...Mv,...Ag,...Lg,...Mg,...Rv]);let G=null;const Q=Ht({},[...Bv,...Rg,...Pv,...yd]);let ut=Object.seal(l0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,nt=null;const at=Object.seal(l0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let pt=!0,Tt=!0,Et=!1,st=!0,ht=!1,Rt=!0,Wt=!1,se=!1,be=!1,Tr=!1,te=!1,Se=!1,on=!0,Ze=!1;const Be="user-content-";let Nr=!0,an=!1,ln={},Te=null;const Fn=Ht({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ji=null;const Ai=Ht({},["audio","video","img","source","image","track"]);let Ir=null;const si=Ht({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vn="http://www.w3.org/1998/Math/MathML",wn="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml";let Ve=Ue,oi=!1,Dn=null;const zr=Ht({},[vn,wn,Ue],Eg);let Er=Ht({},["mi","mo","mn","ms","mtext"]),Wr=Ht({},["annotation-xml"]);const Ye=Ht({},["title","style","font","a","script"]);let lr=null;const On=["application/xhtml+xml","text/html"],ai="text/html";let et=null,bt=null;const Ft=r.createElement("form"),Yt=function(z){return z instanceof RegExp||z instanceof Function},le=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(bt&&bt===z)){if((!z||typeof z!="object")&&(z={}),z=Fi(z),lr=On.indexOf(z.PARSER_MEDIA_TYPE)===-1?ai:z.PARSER_MEDIA_TYPE,et=lr==="application/xhtml+xml"?Eg:sh,D=Wn(z,"ALLOWED_TAGS")?Ht({},z.ALLOWED_TAGS,et):q,G=Wn(z,"ALLOWED_ATTR")?Ht({},z.ALLOWED_ATTR,et):Q,Dn=Wn(z,"ALLOWED_NAMESPACES")?Ht({},z.ALLOWED_NAMESPACES,Eg):zr,Ir=Wn(z,"ADD_URI_SAFE_ATTR")?Ht(Fi(si),z.ADD_URI_SAFE_ATTR,et):si,ji=Wn(z,"ADD_DATA_URI_TAGS")?Ht(Fi(Ai),z.ADD_DATA_URI_TAGS,et):Ai,Te=Wn(z,"FORBID_CONTENTS")?Ht({},z.FORBID_CONTENTS,et):Fn,Y=Wn(z,"FORBID_TAGS")?Ht({},z.FORBID_TAGS,et):Fi({}),nt=Wn(z,"FORBID_ATTR")?Ht({},z.FORBID_ATTR,et):Fi({}),ln=Wn(z,"USE_PROFILES")?z.USE_PROFILES:!1,pt=z.ALLOW_ARIA_ATTR!==!1,Tt=z.ALLOW_DATA_ATTR!==!1,Et=z.ALLOW_UNKNOWN_PROTOCOLS||!1,st=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ht=z.SAFE_FOR_TEMPLATES||!1,Rt=z.SAFE_FOR_XML!==!1,Wt=z.WHOLE_DOCUMENT||!1,Tr=z.RETURN_DOM||!1,te=z.RETURN_DOM_FRAGMENT||!1,Se=z.RETURN_TRUSTED_TYPE||!1,be=z.FORCE_BODY||!1,on=z.SANITIZE_DOM!==!1,Ze=z.SANITIZE_NAMED_PROPS||!1,Nr=z.KEEP_CONTENT!==!1,an=z.IN_PLACE||!1,I=z.ALLOWED_URI_REGEXP||AC,Ve=z.NAMESPACE||Ue,Er=z.MATHML_TEXT_INTEGRATION_POINTS||Er,Wr=z.HTML_INTEGRATION_POINTS||Wr,ut=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&Yt(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ut.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&Yt(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ut.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ut.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ht&&(Tt=!1),te&&(Tr=!0),ln&&(D=Ht({},Rv),G=[],ln.html===!0&&(Ht(D,Mv),Ht(G,Bv)),ln.svg===!0&&(Ht(D,Ag),Ht(G,Rg),Ht(G,yd)),ln.svgFilters===!0&&(Ht(D,Lg),Ht(G,Rg),Ht(G,yd)),ln.mathMl===!0&&(Ht(D,Mg),Ht(G,Pv),Ht(G,yd))),z.ADD_TAGS&&(typeof z.ADD_TAGS=="function"?at.tagCheck=z.ADD_TAGS:(D===q&&(D=Fi(D)),Ht(D,z.ADD_TAGS,et))),z.ADD_ATTR&&(typeof z.ADD_ATTR=="function"?at.attributeCheck=z.ADD_ATTR:(G===Q&&(G=Fi(G)),Ht(G,z.ADD_ATTR,et))),z.ADD_URI_SAFE_ATTR&&Ht(Ir,z.ADD_URI_SAFE_ATTR,et),z.FORBID_CONTENTS&&(Te===Fn&&(Te=Fi(Te)),Ht(Te,z.FORBID_CONTENTS,et)),Nr&&(D["#text"]=!0),Wt&&Ht(D,["html","head","body"]),D.table&&(Ht(D,["tbody"]),delete Y.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw zl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=z.TRUSTED_TYPES_POLICY,k=S.createHTML("")}else S===void 0&&(S=KD(p,i)),S!==null&&typeof k=="string"&&(k=S.createHTML(""));Fr&&Fr(z),bt=z}},Ee=Ht({},[...Ag,...Lg,...ID]),cn=Ht({},[...Mg,...zD]),zt=function(z){let lt=v(z);(!lt||!lt.tagName)&&(lt={namespaceURI:Ve,tagName:"template"});const xt=sh(z.tagName),ee=sh(lt.tagName);return Dn[z.namespaceURI]?z.namespaceURI===wn?lt.namespaceURI===Ue?xt==="svg":lt.namespaceURI===vn?xt==="svg"&&(ee==="annotation-xml"||Er[ee]):!!Ee[xt]:z.namespaceURI===vn?lt.namespaceURI===Ue?xt==="math":lt.namespaceURI===wn?xt==="math"&&Wr[ee]:!!cn[xt]:z.namespaceURI===Ue?lt.namespaceURI===wn&&!Wr[ee]||lt.namespaceURI===vn&&!Er[ee]?!1:!cn[xt]&&(Ye[xt]||!Ee[xt]):!!(lr==="application/xhtml+xml"&&Dn[z.namespaceURI]):!1},cr=function(z){Nl(t.removed,{element:z});try{v(z).removeChild(z)}catch{y(z)}},jr=function(z,lt){try{Nl(t.removed,{attribute:lt.getAttributeNode(z),from:lt})}catch{Nl(t.removed,{attribute:null,from:lt})}if(lt.removeAttribute(z),z==="is")if(Tr||te)try{cr(lt)}catch{}else try{lt.setAttribute(z,"")}catch{}},Qs=function(z){let lt=null,xt=null;if(be)z="<remove></remove>"+z;else{const de=jg(z,/^[\r\n\t ]+/);xt=de&&de[0]}lr==="application/xhtml+xml"&&Ve===Ue&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const ee=S?S.createHTML(z):z;if(Ve===Ue)try{lt=new f().parseFromString(ee,lr)}catch{}if(!lt||!lt.documentElement){lt=C.createDocument(Ve,"template",null);try{lt.documentElement.innerHTML=oi?k:ee}catch{}}const je=lt.body||lt.documentElement;return z&&xt&&je.insertBefore(r.createTextNode(xt),je.childNodes[0]||null),Ve===Ue?O.call(lt,Wt?"html":"body")[0]:Wt?lt.documentElement:je},ss=function(z){return _.call(z.ownerDocument||z,z,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},tr=function(z){return z instanceof h&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof u)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},$n=function(z){return typeof a=="function"&&z instanceof a};function er(Ct,z,lt){xd(Ct,xt=>{xt.call(t,z,lt,bt)})}const Cl=function(z){let lt=null;if(er($.beforeSanitizeElements,z,null),tr(z))return cr(z),!0;const xt=et(z.nodeName);if(er($.uponSanitizeElement,z,{tagName:xt,allowedTags:D}),Rt&&z.hasChildNodes()&&!$n(z.firstElementChild)&&Ar(/<[/\w!]/g,z.innerHTML)&&Ar(/<[/\w!]/g,z.textContent)||z.nodeType===Hl.progressingInstruction||Rt&&z.nodeType===Hl.comment&&Ar(/<[/\w]/g,z.data))return cr(z),!0;if(!(at.tagCheck instanceof Function&&at.tagCheck(xt))&&(!D[xt]||Y[xt])){if(!Y[xt]&&os(xt)&&(ut.tagNameCheck instanceof RegExp&&Ar(ut.tagNameCheck,xt)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(xt)))return!1;if(Nr&&!Te[xt]){const ee=v(z)||z.parentNode,je=b(z)||z.childNodes;if(je&&ee){const de=je.length;for(let Pe=de-1;Pe>=0;--Pe){const Hr=m(je[Pe],!0);Hr.__removalCount=(z.__removalCount||0)+1,ee.insertBefore(Hr,x(z))}}}return cr(z),!0}return z instanceof l&&!zt(z)||(xt==="noscript"||xt==="noembed"||xt==="noframes")&&Ar(/<\/no(script|embed|frames)/i,z.innerHTML)?(cr(z),!0):(ht&&z.nodeType===Hl.text&&(lt=z.textContent,xd([H,N,M],ee=>{lt=Il(lt,ee," ")}),z.textContent!==lt&&(Nl(t.removed,{element:z.cloneNode()}),z.textContent=lt)),er($.afterSanitizeElements,z,null),!1)},Ks=function(z,lt,xt){if(on&&(lt==="id"||lt==="name")&&(xt in r||xt in Ft))return!1;if(!(Tt&&!nt[lt]&&Ar(E,lt))){if(!(pt&&Ar(L,lt))){if(!(at.attributeCheck instanceof Function&&at.attributeCheck(lt,z))){if(!G[lt]||nt[lt]){if(!(os(z)&&(ut.tagNameCheck instanceof RegExp&&Ar(ut.tagNameCheck,z)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(z))&&(ut.attributeNameCheck instanceof RegExp&&Ar(ut.attributeNameCheck,lt)||ut.attributeNameCheck instanceof Function&&ut.attributeNameCheck(lt,z))||lt==="is"&&ut.allowCustomizedBuiltInElements&&(ut.tagNameCheck instanceof RegExp&&Ar(ut.tagNameCheck,xt)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(xt))))return!1}else if(!Ir[lt]){if(!Ar(I,Il(xt,j,""))){if(!((lt==="src"||lt==="xlink:href"||lt==="href")&&z!=="script"&&DD(xt,"data:")===0&&ji[z])){if(!(Et&&!Ar(B,Il(xt,j,"")))){if(xt)return!1}}}}}}}return!0},os=function(z){return z!=="annotation-xml"&&jg(z,P)},Li=function(z){er($.beforeSanitizeAttributes,z,null);const{attributes:lt}=z;if(!lt||tr(z))return;const xt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let ee=lt.length;for(;ee--;){const je=lt[ee],{name:de,namespaceURI:Pe,value:Hr}=je,li=et(de),Js=Hr;let Ae=de==="value"?Js:OD(Js);if(xt.attrName=li,xt.attrValue=Ae,xt.keepAttr=!0,xt.forceKeepAttr=void 0,er($.uponSanitizeAttribute,z,xt),Ae=xt.attrValue,Ze&&(li==="id"||li==="name")&&(jr(de,z),Ae=Be+Ae),Rt&&Ar(/((--!?|])>)|<\/(style|title|textarea)/i,Ae)){jr(de,z);continue}if(li==="attributename"&&jg(Ae,"href")){jr(de,z);continue}if(xt.forceKeepAttr)continue;if(!xt.keepAttr){jr(de,z);continue}if(!st&&Ar(/\/>/i,Ae)){jr(de,z);continue}ht&&xd([H,N,M],El=>{Ae=Il(Ae,El," ")});const Tl=et(z.nodeName);if(!Ks(Tl,li,Ae)){jr(de,z);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Pe)switch(p.getAttributeType(Tl,li)){case"TrustedHTML":{Ae=S.createHTML(Ae);break}case"TrustedScriptURL":{Ae=S.createScriptURL(Ae);break}}if(Ae!==Js)try{Pe?z.setAttributeNS(Pe,de,Ae):z.setAttribute(de,Ae),tr(z)?cr(z):Lv(t.removed)}catch{jr(de,z)}}er($.afterSanitizeAttributes,z,null)},Zo=function Ct(z){let lt=null;const xt=ss(z);for(er($.beforeSanitizeShadowDOM,z,null);lt=xt.nextNode();)er($.uponSanitizeShadowNode,lt,null),Cl(lt),Li(lt),lt.content instanceof s&&Ct(lt.content);er($.afterSanitizeShadowDOM,z,null)};return t.sanitize=function(Ct){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lt=null,xt=null,ee=null,je=null;if(oi=!Ct,oi&&(Ct="<!-->"),typeof Ct!="string"&&!$n(Ct))if(typeof Ct.toString=="function"){if(Ct=Ct.toString(),typeof Ct!="string")throw zl("dirty is not a string, aborting")}else throw zl("toString is not a function");if(!t.isSupported)return Ct;if(se||le(z),t.removed=[],typeof Ct=="string"&&(an=!1),an){if(Ct.nodeName){const Hr=et(Ct.nodeName);if(!D[Hr]||Y[Hr])throw zl("root node is forbidden and cannot be sanitized in-place")}}else if(Ct instanceof a)lt=Qs("<!---->"),xt=lt.ownerDocument.importNode(Ct,!0),xt.nodeType===Hl.element&&xt.nodeName==="BODY"||xt.nodeName==="HTML"?lt=xt:lt.appendChild(xt);else{if(!Tr&&!ht&&!Wt&&Ct.indexOf("<")===-1)return S&&Se?S.createHTML(Ct):Ct;if(lt=Qs(Ct),!lt)return Tr?null:Se?k:""}lt&&be&&cr(lt.firstChild);const de=ss(an?Ct:lt);for(;ee=de.nextNode();)Cl(ee),Li(ee),ee.content instanceof s&&Zo(ee.content);if(an)return Ct;if(Tr){if(te)for(je=A.call(lt.ownerDocument);lt.firstChild;)je.appendChild(lt.firstChild);else je=lt;return(G.shadowroot||G.shadowrootmode)&&(je=F.call(n,je,!0)),je}let Pe=Wt?lt.outerHTML:lt.innerHTML;return Wt&&D["!doctype"]&&lt.ownerDocument&&lt.ownerDocument.doctype&&lt.ownerDocument.doctype.name&&Ar(LC,lt.ownerDocument.doctype.name)&&(Pe="<!DOCTYPE "+lt.ownerDocument.doctype.name+`>
`+Pe),ht&&xd([H,N,M],Hr=>{Pe=Il(Pe,Hr," ")}),S&&Se?S.createHTML(Pe):Pe},t.setConfig=function(){let Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};le(Ct),se=!0},t.clearConfig=function(){bt=null,se=!1},t.isValidAttribute=function(Ct,z,lt){bt||le({});const xt=et(Ct),ee=et(z);return Ks(xt,ee,lt)},t.addHook=function(Ct,z){typeof z=="function"&&Nl($[Ct],z)},t.removeHook=function(Ct,z){if(z!==void 0){const lt=PD($[Ct],z);return lt===-1?void 0:FD($[Ct],lt,1)[0]}return Lv($[Ct])},t.removeHooks=function(Ct){$[Ct]=[]},t.removeAllHooks=function(){$=Dv()},t}var tl=MC(),RC=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Lc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,JD=/\s*%%.*\n/gm,$a,BC=($a=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},w($a,"UnknownDiagramError"),$a),Do={},ky=w(function(e,t){e=e.replace(RC,"").replace(Lc,"").replace(JD,`
`);for(const[r,{detector:n}]of Object.entries(Do))if(n(e,t))return r;throw new BC(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),d0=w((...e)=>{for(const{id:t,detector:r,loader:n}of e)PC(t,r,n)},"registerLazyLoadedDiagrams"),PC=w((e,t,r)=>{Do[e]&&rt.warn(`Detector with key ${e} already exists. Overwriting.`),Do[e]={detector:t,loader:r},rt.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),ZD=w(e=>Do[e].loader,"getDiagramLoader"),h0=w((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>h0(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=h0(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Ie=h0,up="#ffffff",dp="#f2f2f2",Mr=w((e,t)=>t?U(e,{s:-40,l:10}):U(e,{s:-40,l:-10}),"mkBorder"),Na,tO=(Na=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,S,k,C;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||U(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||U(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Mr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Mr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ft(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ft(this.tertiaryColor),this.lineColor=this.lineColor||ft(this.background),this.arrowheadColor=this.arrowheadColor||ft(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?At(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||At(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ft(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||vt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||At(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,10)):(this.rowOdd=this.rowOdd||vt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||vt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.darkMode)for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScale"+_]=At(this["cScale"+_],75);else for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScale"+_]=At(this["cScale"+_],25);for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScaleInv"+_]=this["cScaleInv"+_]||ft(this["cScale"+_]);for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this.darkMode?this["cScalePeer"+_]=this["cScalePeer"+_]||vt(this["cScale"+_],10):this["cScalePeer"+_]=this["cScalePeer"+_]||At(this["cScale"+_],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScaleLabel"+_]=this["cScaleLabel"+_]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let _=0;_<5;_++)this["surface"+_]=this["surface"+_]||U(this.mainBkg,{h:180,s:-15,l:t*(5+_*3)}),this["surfacePeer"+_]=this["surfacePeer"+_]||U(this.mainBkg,{h:180,s:-15,l:t*(8+_*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||U(this.primaryColor,{h:64}),this.fillType3=this.fillType3||U(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||U(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||U(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||U(this.primaryColor,{h:128}),this.fillType7=this.fillType7||U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||U(this.primaryColor,{l:-10}),this.pie5=this.pie5||U(this.secondaryColor,{l:-10}),this.pie6=this.pie6||U(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||U(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?vt(this.quadrant1Fill):At(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((x=this.xyChart)==null?void 0:x.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((b=this.xyChart)==null?void 0:b.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((C=this.xyChart)==null?void 0:C.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?At(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Na,"Theme"),Na),eO=w(e=>{const t=new tO;return t.calculate(e),t},"getThemeVariables"),Ia,rO=(Ia=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=vt(this.primaryColor,16),this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=ft(this.background),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=vt(ft("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ac(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=At("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=At(this.sectionBkgColor,10),this.taskBorderColor=Ac(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ac(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||vt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,S,k;this.secondBkg=vt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=vt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=vt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||ft(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScalePeer"+C]=this["cScalePeer"+C]||vt(this["cScale"+C],10);for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||U(this.mainBkg,{h:30,s:-30,l:-(-10+C*4)}),this["surfacePeer"+C]=this["surfacePeer"+C]||U(this.mainBkg,{h:30,s:-30,l:-(-7+C*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?vt(this.quadrant1Fill):At(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((v=this.radar)==null?void 0:v.graticuleOpacity)||.3,legendBoxSize:((S=this.radar)==null?void 0:S.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?At(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=vt(this.secondaryColor,20),this.git1=vt(this.pie2||this.secondaryColor,20),this.git2=vt(this.pie3||this.tertiaryColor,20),this.git3=vt(this.pie4||U(this.primaryColor,{h:-30}),20),this.git4=vt(this.pie5||U(this.primaryColor,{h:-60}),20),this.git5=vt(this.pie6||U(this.primaryColor,{h:-90}),10),this.git6=vt(this.pie7||U(this.primaryColor,{h:60}),10),this.git7=vt(this.pie8||U(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||vt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||vt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Ia,"Theme"),Ia),nO=w(e=>{const t=new rO;return t.calculate(e),t},"getThemeVariables"),za,iO=(za=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=U(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ac(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,S,k;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||At(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||At(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=At(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||At(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||U(this["cScale"+C],{h:180});for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||U(this.mainBkg,{h:30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||U(this.mainBkg,{h:30,l:-(7+C*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ft(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ft(this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=vt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||vt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||vt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||U(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||U(this.primaryColor,{l:-10}),this.pie5=this.pie5||U(this.secondaryColor,{l:-30}),this.pie6=this.pie6||U(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||U(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?vt(this.quadrant1Fill):At(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((v=this.xyChart)==null?void 0:v.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)),this.gitInv0=this.gitInv0||At(ft(this.git0),25),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(za,"Theme"),za),sO=w(e=>{const t=new iO;return t.calculate(e),t},"getThemeVariables"),Wa,oO=(Wa=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=vt("#cde498",10),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.primaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,S,k;this.actorBorder=At(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||At(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||At(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=At(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||At(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||U(this["cScale"+C],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||U(this.mainBkg,{h:30,s:-30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||U(this.mainBkg,{h:30,s:-30,l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||vt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||vt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||U(this.primaryColor,{l:-30}),this.pie5=this.pie5||U(this.secondaryColor,{l:-30}),this.pie6=this.pie6||U(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||U(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?vt(this.quadrant1Fill):At(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((v=this.xyChart)==null?void 0:v.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=vt(this.git0,25),this.git1=vt(this.git1,25),this.git2=vt(this.git2,25),this.git3=vt(this.git3,25),this.git4=vt(this.git4,25),this.git5=vt(this.git5,25),this.git6=vt(this.git6,25),this.git7=vt(this.git7,25)):(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ft(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ft(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Wa,"Theme"),Wa),aO=w(e=>{const t=new oO;return t.calculate(e),t},"getThemeVariables"),Ha,lO=(Ha=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=vt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=Mr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Mr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Mr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ft(this.primaryColor),this.secondaryTextColor=ft(this.secondaryColor),this.tertiaryTextColor=ft(this.tertiaryColor),this.lineColor=ft(this.background),this.textColor=ft(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||vt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,S,k;this.secondBkg=vt(this.contrast,55),this.border2=this.contrast,this.actorBorder=vt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||ft(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||vt(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||At(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||U(this.mainBkg,{l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||U(this.mainBkg,{l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=vt(this.contrast,30),this.sectionBkgColor2=vt(this.contrast,30),this.taskBorderColor=At(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=vt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=At(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?vt(this.quadrant1Fill):At(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((v=this.radar)==null?void 0:v.graticuleOpacity)||.3,legendBoxSize:((S=this.radar)==null?void 0:S.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=At(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||U(this.primaryColor,{h:-30}),this.git4=this.pie5||U(this.primaryColor,{h:-60}),this.git5=this.pie6||U(this.primaryColor,{h:-90}),this.git6=this.pie7||U(this.primaryColor,{h:60}),this.git7=this.pie8||U(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ft(this.git0),this.gitInv1=this.gitInv1||ft(this.git1),this.gitInv2=this.gitInv2||ft(this.git2),this.gitInv3=this.gitInv3||ft(this.git3),this.gitInv4=this.gitInv4||ft(this.git4),this.gitInv5=this.gitInv5||ft(this.git5),this.gitInv6=this.gitInv6||ft(this.git6),this.gitInv7=this.gitInv7||ft(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Ha,"Theme"),Ha),cO=w(e=>{const t=new lO;return t.calculate(e),t},"getThemeVariables"),Gi={base:{getThemeVariables:eO},dark:{getThemeVariables:nO},default:{getThemeVariables:sO},forest:{getThemeVariables:aO},neutral:{getThemeVariables:cO}},di={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},FC={...di,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Gi.default.getThemeVariables(),sequence:{...di.sequence,messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:w(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:w(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...di.gantt,tickInterval:void 0,useWidth:void 0},c4:{...di.c4,useWidth:void 0,personFont:w(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...di.flowchart,inheritDir:!1},external_personFont:w(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:w(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:w(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:w(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:w(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:w(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:w(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:w(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:w(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:w(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:w(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:w(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:w(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:w(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:w(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:w(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:w(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:w(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:w(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:w(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...di.pie,useWidth:984},xyChart:{...di.xyChart,useWidth:void 0},requirement:{...di.requirement,useWidth:void 0},packet:{...di.packet},radar:{...di.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},DC=w((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...DC(e[n],"")]:[...r,t+n],[]),"keyify"),uO=new Set(DC(FC,"")),OC=FC,Xh=w(e=>{if(rt.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Xh(t));return}for(const t of Object.keys(e)){if(rt.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!uO.has(t)||e[t]==null){rt.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){rt.debug("sanitizing object",t),Xh(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(rt.debug("sanitizing css option",t),e[t]=dO(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}rt.debug("After sanitization",e)}},"sanitizeDirective"),dO=w(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),el=Object.freeze(OC),Xr=Ie({},el),Qh,Oo=[],Mc=Ie({},el),hp=w((e,t)=>{let r=Ie({},e),n={};for(const i of t)IC(i),n=Ie(n,i);if(r=Ie(r,n),n.theme&&n.theme in Gi){const i=Ie({},Qh),s=Ie(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Gi&&(r.themeVariables=Gi[r.theme].getThemeVariables(s))}return Mc=r,zC(Mc),Mc},"updateCurrentConfig"),hO=w(e=>(Xr=Ie({},el),Xr=Ie(Xr,e),e.theme&&Gi[e.theme]&&(Xr.themeVariables=Gi[e.theme].getThemeVariables(e.themeVariables)),hp(Xr,Oo),Xr),"setSiteConfig"),fO=w(e=>{Qh=Ie({},e)},"saveConfigFromInitialize"),pO=w(e=>(Xr=Ie(Xr,e),hp(Xr,Oo),Xr),"updateSiteConfig"),$C=w(()=>Ie({},Xr),"getSiteConfig"),NC=w(e=>(zC(e),Ie(Mc,e),vr()),"setConfig"),vr=w(()=>Ie({},Mc),"getConfig"),IC=w(e=>{e&&(["secure",...Xr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(rt.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&IC(e[t])}))},"sanitize"),gO=w(e=>{var t;Xh(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Oo.push(e),hp(Xr,Oo)},"addDirective"),Kh=w((e=Xr)=>{Oo=[],hp(e,Oo)},"reset"),mO={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Ov={},xO=w(e=>{Ov[e]||(rt.warn(mO[e]),Ov[e]=!0)},"issueWarning"),zC=w(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&xO("LAZY_LOAD_DEPRECATED")},"checkConfig"),eJ=w(()=>{let e={};Qh&&(e=Ie(e,Qh));for(const t of Oo)e=Ie(e,t);return e},"getUserDefinedConfig"),$u=/<br\s*\/?>/gi,yO=w(e=>e?qC(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),bO=(()=>{let e=!1;return()=>{e||(WC(),e=!0)}})();function WC(){const e="data-temp-href-target";tl.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),tl.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}w(WC,"setupDompurifyHooks");var HC=w(e=>(bO(),tl.sanitize(e)),"removeScript"),$v=w((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=HC(e):n!=="loose"&&(e=qC(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=SO(e))}return e},"sanitizeMore"),Rn=w((e,t)=>e&&(t.dompurifyConfig?e=tl.sanitize($v(e,t),t.dompurifyConfig).toString():e=tl.sanitize($v(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),vO=w((e,t)=>typeof e=="string"?Rn(e,t):e.flat().map(r=>Rn(r,t)),"sanitizeTextOrArray"),wO=w(e=>$u.test(e),"hasBreaks"),kO=w(e=>e.split($u),"splitBreaks"),SO=w(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),qC=w(e=>e.replace($u,"#br#"),"breakToPlaceholder"),_O=w(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),qe=w(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),CO=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),TO=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),Nv=w(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],o=t[n+1];EO(s,o)&&(i=s+","+o,n++,r.pop())}r.push(jO(i))}return r.join("")},"parseGenericTypes"),f0=w((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),EO=w((e,t)=>{const r=f0(e,"~"),n=f0(t,"~");return r===1&&n===1},"shouldCombineSets"),jO=w(e=>{const t=f0(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Iv=w(()=>window.MathMLElement!==void 0,"isMathMLSupported"),p0=/\$\$(.*)\$\$/g,rl=w(e=>{var t;return(((t=e.match(p0))==null?void 0:t.length)??0)>0},"hasKatex"),rJ=w(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await Sy(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),AO=w(async(e,t)=>{if(!rl(e))return e;if(!(Iv()||t.legacyMathML||t.forceLegacyMathML))return e.replace(p0,"MathML is unsupported in this environment.");{const{default:r}=await ie(async()=>{const{default:i}=await import("./katex-BbEIqZs1.js");return{default:i}},[]),n=t.forceLegacyMathML||!Iv()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split($u).map(i=>rl(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(p0,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Sy=w(async(e,t)=>Rn(await AO(e,t),t),"renderKatexSanitized"),xl={getRows:yO,sanitizeText:Rn,sanitizeTextOrArray:vO,hasBreaks:wO,splitBreaks:kO,lineBreakRegex:$u,removeScript:HC,getUrl:_O,evaluate:qe,getMax:CO,getMin:TO},LO=w(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),MO=w(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),UC=w(function(e,t,r,n){const i=MO(t,r,n);LO(e,i)},"configureSvgSize"),RO=w(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,o=i.height;rt.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;rt.info(`Graph bounds: ${a}x${l}`,e),a=s+r*2,l=o+r*2,rt.info(`Calculated bounds: ${a}x${l}`),UC(t,l,a,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",c)},"setupGraphViewbox"),oh={},BO=w((e,t,r)=>{let n="";return e in oh&&oh[e]?n=oh[e](r):rt.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),PO=w((e,t)=>{t!==void 0&&(oh[e]=t)},"addStylesForDiagram"),FO=BO,VC={};SD(VC,{clear:()=>DO,getAccDescription:()=>IO,getAccTitle:()=>$O,getDiagramTitle:()=>WO,setAccDescription:()=>NO,setAccTitle:()=>OO,setDiagramTitle:()=>zO});var _y="",Cy="",Ty="",Ey=w(e=>Rn(e,vr()),"sanitizeText"),DO=w(()=>{_y="",Ty="",Cy=""},"clear"),OO=w(e=>{_y=Ey(e).replace(/^\s+/g,"")},"setAccTitle"),$O=w(()=>_y,"getAccTitle"),NO=w(e=>{Ty=Ey(e).replace(/\n\s+/g,`
`)},"setAccDescription"),IO=w(()=>Ty,"getAccDescription"),zO=w(e=>{Cy=Ey(e)},"setDiagramTitle"),WO=w(()=>Cy,"getDiagramTitle"),zv=rt,HO=wy,re=vr,nJ=NC,iJ=el,jy=w(e=>Rn(e,re()),"sanitizeText"),qO=RO,UO=w(()=>VC,"getCommonDb"),Jh={},Zh=w((e,t,r)=>{var n;Jh[e]&&zv.warn(`Diagram with id ${e} already registered. Overwriting.`),Jh[e]=t,r&&PC(e,r),PO(e,t.styles),(n=t.injectUtils)==null||n.call(t,zv,HO,re,jy,qO,UO(),()=>{})},"registerDiagram"),g0=w(e=>{if(e in Jh)return Jh[e];throw new VO(e)},"getDiagram"),qa,VO=(qa=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},w(qa,"DiagramNotFoundError"),qa),YO={value:()=>{}};function YC(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new ah(r)}function ah(e){this._=e}function GO(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}ah.prototype=YC.prototype={constructor:ah,on:function(e,t){var r=this._,n=GO(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=XO(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=Wv(r[i],e.name,t);else if(t==null)for(i in r)r[i]=Wv(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new ah(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function XO(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function Wv(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=YO,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var m0="http://www.w3.org/1999/xhtml";const Hv={svg:"http://www.w3.org/2000/svg",xhtml:m0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fp(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Hv.hasOwnProperty(t)?{space:Hv[t],local:e}:e}function QO(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===m0&&t.documentElement.namespaceURI===m0?t.createElement(e):t.createElementNS(r,e)}}function KO(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function GC(e){var t=fp(e);return(t.local?KO:QO)(t)}function JO(){}function Ay(e){return e==null?JO:function(){return this.querySelector(e)}}function ZO(e){typeof e!="function"&&(e=Ay(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new xn(n,this._parents)}function t$(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function e$(){return[]}function XC(e){return e==null?e$:function(){return this.querySelectorAll(e)}}function r$(e){return function(){return t$(e.apply(this,arguments))}}function n$(e){typeof e=="function"?e=r$(e):e=XC(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(n.push(e.call(l,l.__data__,c,o)),i.push(l));return new xn(n,i)}function QC(e){return function(){return this.matches(e)}}function KC(e){return function(t){return t.matches(e)}}var i$=Array.prototype.find;function s$(e){return function(){return i$.call(this.children,e)}}function o$(){return this.firstElementChild}function a$(e){return this.select(e==null?o$:s$(typeof e=="function"?e:KC(e)))}var l$=Array.prototype.filter;function c$(){return Array.from(this.children)}function u$(e){return function(){return l$.call(this.children,e)}}function d$(e){return this.selectAll(e==null?c$:u$(typeof e=="function"?e:KC(e)))}function h$(e){typeof e!="function"&&(e=QC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new xn(n,this._parents)}function JC(e){return new Array(e.length)}function f$(){return new xn(this._enter||this._groups.map(JC),this._parents)}function tf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tf.prototype={constructor:tf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function p$(e){return function(){return e}}function g$(e,t,r,n,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):r[o]=new tf(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function m$(e,t,r,n,i,s,o){var a,l,c=new Map,u=t.length,h=s.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=o.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<h;++a)p=o.call(e,s[a],a,s)+"",(l=c.get(p))?(n[a]=l,l.__data__=s[a],c.delete(p)):r[a]=new tf(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function x$(e){return e.__data__}function y$(e,t){if(!arguments.length)return Array.from(this,x$);var r=t?m$:g$,n=this._parents,i=this._groups;typeof e!="function"&&(e=p$(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=n[c],h=i[c],f=h.length,p=b$(e.call(u,u&&u.__data__,c,n)),g=p.length,m=a[c]=new Array(g),y=o[c]=new Array(g),x=l[c]=new Array(f);r(u,h,m,y,x,p,t);for(var b=0,v=0,S,k;b<g;++b)if(S=m[b]){for(b>=v&&(v=b+1);!(k=y[v])&&++v<g;);S._next=k||null}}return o=new xn(o,n),o._enter=a,o._exit=l,o}function b$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v$(){return new xn(this._exit||this._groups.map(JC),this._parents)}function w$(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function k$(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=r[l],u=n[l],h=c.length,f=a[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<i;++l)a[l]=r[l];return new xn(a,this._parents)}function S$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function _$(e){e||(e=C$);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new xn(i,this._parents).order()}function C$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function T$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function E$(){return Array.from(this)}function j$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function A$(){let e=0;for(const t of this)++e;return e}function L$(){return!this.node()}function M$(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function R$(e){return function(){this.removeAttribute(e)}}function B$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function P$(e,t){return function(){this.setAttribute(e,t)}}function F$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function D$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function O$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function $$(e,t){var r=fp(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?B$:R$:typeof t=="function"?r.local?O$:D$:r.local?F$:P$)(r,t))}function ZC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function N$(e){return function(){this.style.removeProperty(e)}}function I$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function z$(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function W$(e,t,r){return arguments.length>1?this.each((t==null?N$:typeof t=="function"?z$:I$)(e,t,r??"")):nl(this.node(),e)}function nl(e,t){return e.style.getPropertyValue(t)||ZC(e).getComputedStyle(e,null).getPropertyValue(t)}function H$(e){return function(){delete this[e]}}function q$(e,t){return function(){this[e]=t}}function U$(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function V$(e,t){return arguments.length>1?this.each((t==null?H$:typeof t=="function"?U$:q$)(e,t)):this.node()[e]}function tT(e){return e.trim().split(/^|\s+/)}function Ly(e){return e.classList||new eT(e)}function eT(e){this._node=e,this._names=tT(e.getAttribute("class")||"")}eT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function rT(e,t){for(var r=Ly(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function nT(e,t){for(var r=Ly(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Y$(e){return function(){rT(this,e)}}function G$(e){return function(){nT(this,e)}}function X$(e,t){return function(){(t.apply(this,arguments)?rT:nT)(this,e)}}function Q$(e,t){var r=tT(e+"");if(arguments.length<2){for(var n=Ly(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?X$:t?Y$:G$)(r,t))}function K$(){this.textContent=""}function J$(e){return function(){this.textContent=e}}function Z$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function tN(e){return arguments.length?this.each(e==null?K$:(typeof e=="function"?Z$:J$)(e)):this.node().textContent}function eN(){this.innerHTML=""}function rN(e){return function(){this.innerHTML=e}}function nN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function iN(e){return arguments.length?this.each(e==null?eN:(typeof e=="function"?nN:rN)(e)):this.node().innerHTML}function sN(){this.nextSibling&&this.parentNode.appendChild(this)}function oN(){return this.each(sN)}function aN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lN(){return this.each(aN)}function cN(e){var t=typeof e=="function"?e:GC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uN(){return null}function dN(e,t){var r=typeof e=="function"?e:GC(e),n=t==null?uN:typeof t=="function"?t:Ay(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function hN(){var e=this.parentNode;e&&e.removeChild(this)}function fN(){return this.each(hN)}function pN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mN(e){return this.select(e?gN:pN)}function xN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function yN(e){return function(t){e.call(this,t,this.__data__)}}function bN(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function vN(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function wN(e,t,r){return function(){var n=this.__on,i,s=yN(t);if(n){for(var o=0,a=n.length;o<a;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function kN(e,t,r){var n=bN(e+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=n[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?wN:vN,i=0;i<s;++i)this.each(a(n[i],t,r));return this}function iT(e,t,r){var n=ZC(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function SN(e,t){return function(){return iT(this,e,t)}}function _N(e,t){return function(){return iT(this,e,t.apply(this,arguments))}}function CN(e,t){return this.each((typeof t=="function"?_N:SN)(e,t))}function*TN(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var sT=[null];function xn(e,t){this._groups=e,this._parents=t}function Nu(){return new xn([[document.documentElement]],sT)}function EN(){return this}xn.prototype=Nu.prototype={constructor:xn,select:ZO,selectAll:n$,selectChild:a$,selectChildren:d$,filter:h$,data:y$,enter:f$,exit:v$,join:w$,merge:k$,selection:EN,order:S$,sort:_$,call:T$,nodes:E$,node:j$,size:A$,empty:L$,each:M$,attr:$$,style:W$,property:V$,classed:Q$,text:tN,html:iN,raise:oN,lower:lN,append:cN,insert:dN,remove:fN,clone:mN,datum:xN,on:kN,dispatch:CN,[Symbol.iterator]:TN};function Xt(e){return typeof e=="string"?new xn([[document.querySelector(e)]],[document.documentElement]):new xn([[e]],sT)}function My(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Iu(){}var su=.7,ef=1/su,Fa="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jN=/^#([0-9a-f]{3,8})$/,AN=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),LN=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),MN=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${ou}\\)$`),RN=new RegExp(`^rgba\\(${ki},${ki},${ki},${ou}\\)$`),BN=new RegExp(`^hsl\\(${ou},${ki},${ki}\\)$`),PN=new RegExp(`^hsla\\(${ou},${ki},${ki},${ou}\\)$`),qv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};My(Iu,au,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uv,formatHex:Uv,formatHex8:FN,formatHsl:DN,formatRgb:Vv,toString:Vv});function Uv(){return this.rgb().formatHex()}function FN(){return this.rgb().formatHex8()}function DN(){return aT(this).formatHsl()}function Vv(){return this.rgb().formatRgb()}function au(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jN.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Yv(t):r===3?new Zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AN.exec(e))?new Zr(t[1],t[2],t[3],1):(t=LN.exec(e))?new Zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MN.exec(e))?bd(t[1],t[2],t[3],t[4]):(t=RN.exec(e))?bd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BN.exec(e))?Qv(t[1],t[2]/100,t[3]/100,1):(t=PN.exec(e))?Qv(t[1],t[2]/100,t[3]/100,t[4]):qv.hasOwnProperty(e)?Yv(qv[e]):e==="transparent"?new Zr(NaN,NaN,NaN,0):null}function Yv(e){return new Zr(e>>16&255,e>>8&255,e&255,1)}function bd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zr(e,t,r,n)}function ON(e){return e instanceof Iu||(e=au(e)),e?(e=e.rgb(),new Zr(e.r,e.g,e.b,e.opacity)):new Zr}function x0(e,t,r,n){return arguments.length===1?ON(e):new Zr(e,t,r,n??1)}function Zr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}My(Zr,x0,oT(Iu,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zr(To(this.r),To(this.g),To(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gv,formatHex:Gv,formatHex8:$N,formatRgb:Xv,toString:Xv}));function Gv(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}`}function $N(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}${xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xv(){const e=rf(this.opacity);return`${e===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${e===1?")":`, ${e})`}`}function rf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function To(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xo(e){return e=To(e),(e<16?"0":"")+e.toString(16)}function Qv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gn(e,t,r,n)}function aT(e){if(e instanceof Gn)return new Gn(e.h,e.s,e.l,e.opacity);if(e instanceof Iu||(e=au(e)),!e)return new Gn;if(e instanceof Gn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Gn(o,a,l,e.opacity)}function NN(e,t,r,n){return arguments.length===1?aT(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}My(Gn,NN,oT(Iu,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zr(Bg(e>=240?e-240:e+120,i,n),Bg(e,i,n),Bg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Gn(Kv(this.h),vd(this.s),vd(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rf(this.opacity);return`${e===1?"hsl(":"hsla("}${Kv(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kv(e){return e=(e||0)%360,e<0?e+360:e}function vd(e){return Math.max(0,Math.min(1,e||0))}function Bg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ry=e=>()=>e;function lT(e,t){return function(r){return e+r*t}}function IN(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sJ(e,t){var r=t-e;return r?lT(e,r>180||r<-180?r-360*Math.round(r/360):r):Ry(isNaN(e)?t:e)}function zN(e){return(e=+e)==1?cT:function(t,r){return r-t?IN(t,r,e):Ry(isNaN(t)?r:t)}}function cT(e,t){var r=t-e;return r?lT(e,r):Ry(isNaN(e)?t:e)}const Jv=function e(t){var r=zN(t);function n(i,s){var o=r((i=x0(i)).r,(s=x0(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),c=cT(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function hs(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pg=new RegExp(y0.source,"g");function WN(e){return function(){return e}}function HN(e){return function(t){return e(t)+""}}function qN(e,t){var r=y0.lastIndex=Pg.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=y0.exec(e))&&(i=Pg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:hs(n,i)})),r=Pg.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?HN(l[0].x):WN(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var Zv=180/Math.PI,b0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uT(e,t,r,n,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Zv,skewX:Math.atan(l)*Zv,scaleX:o,scaleY:a}}var wd;function UN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?b0:uT(t.a,t.b,t.c,t.d,t.e,t.f)}function VN(e){return e==null||(wd||(wd=document.createElementNS("http://www.w3.org/2000/svg","g")),wd.setAttribute("transform",e),!(e=wd.transform.baseVal.consolidate()))?b0:(e=e.matrix,uT(e.a,e.b,e.c,e.d,e.e,e.f))}function dT(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,f,p,g){if(c!==h||u!==f){var m=p.push("translate(",null,t,null,r);g.push({i:m-4,x:hs(c,h)},{i:m-2,x:hs(u,f)})}else(h||f)&&p.push("translate("+h+t+f+r)}function o(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:hs(c,u)})):u&&h.push(i(h)+"rotate("+u+n)}function a(c,u,h,f){c!==u?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:hs(c,u)}):u&&h.push(i(h)+"skewX("+u+n)}function l(c,u,h,f,p,g){if(c!==h||u!==f){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:hs(c,h)},{i:m-2,x:hs(u,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,f),o(c.rotate,u.rotate,h,f),a(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var g=-1,m=f.length,y;++g<m;)h[(y=f[g]).i]=y.x(p);return h.join("")}}}var YN=dT(UN,"px, ","px)","deg)"),GN=dT(VN,", ",")",")"),il=0,oc=0,ql=0,hT=1e3,nf,ac,sf=0,$o=0,pp=0,lu=typeof performance=="object"&&performance.now?performance:Date,fT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function By(){return $o||(fT(XN),$o=lu.now()+pp)}function XN(){$o=0}function of(){this._call=this._time=this._next=null}of.prototype=pT.prototype={constructor:of,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?By():+r)+(t==null?0:+t),!this._next&&ac!==this&&(ac?ac._next=this:nf=this,ac=this),this._call=e,this._time=r,v0()},stop:function(){this._call&&(this._call=null,this._time=1/0,v0())}};function pT(e,t,r){var n=new of;return n.restart(e,t,r),n}function QN(){By(),++il;for(var e=nf,t;e;)(t=$o-e._time)>=0&&e._call.call(void 0,t),e=e._next;--il}function tw(){$o=(sf=lu.now())+pp,il=oc=0;try{QN()}finally{il=0,JN(),$o=0}}function KN(){var e=lu.now(),t=e-sf;t>hT&&(pp-=t,sf=e)}function JN(){for(var e,t=nf,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:nf=r);ac=e,v0(n)}function v0(e){if(!il){oc&&(oc=clearTimeout(oc));var t=e-$o;t>24?(e<1/0&&(oc=setTimeout(tw,e-lu.now()-pp)),ql&&(ql=clearInterval(ql))):(ql||(sf=lu.now(),ql=setInterval(KN,hT)),il=1,fT(tw))}}function ew(e,t,r){var n=new of;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var ZN=YC("start","end","cancel","interrupt"),tI=[],gT=0,rw=1,w0=2,lh=3,nw=4,k0=5,ch=6;function gp(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;eI(e,r,{name:t,index:n,group:i,on:ZN,tween:tI,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gT})}function Py(e,t){var r=ii(e,t);if(r.state>gT)throw new Error("too late; already scheduled");return r}function Ti(e,t){var r=ii(e,t);if(r.state>lh)throw new Error("too late; already running");return r}function ii(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function eI(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=pT(s,0,r.time);function s(c){r.state=rw,r.timer.restart(o,r.delay,r.time),r.delay<=c&&o(c-r.delay)}function o(c){var u,h,f,p;if(r.state!==rw)return l();for(u in n)if(p=n[u],p.name===r.name){if(p.state===lh)return ew(o);p.state===nw?(p.state=ch,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=ch,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(ew(function(){r.state===lh&&(r.state=nw,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=w0,r.on.call("start",e,e.__data__,r.index,r.group),r.state===w0){for(r.state=lh,i=new Array(f=r.tween.length),u=0,h=-1;u<f;++u)(p=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function a(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=k0,1),h=-1,f=i.length;++h<f;)i[h].call(e,u);r.state===k0&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ch,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function rI(e,t){var r=e.__transition,n,i,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>w0&&n.state<k0,n.state=ch,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}function nI(e){return this.each(function(){rI(this,e)})}function iI(e,t){var r,n;return function(){var i=Ti(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function sI(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=Ti(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function oI(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ii(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?iI:sI)(r,e,t))}function Fy(e,t,r){var n=e._id;return e.each(function(){var i=Ti(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ii(i,n).value[t]}}function mT(e,t){var r;return(typeof t=="number"?hs:t instanceof au?Jv:(r=au(t))?(t=r,Jv):qN)(e,t)}function aI(e){return function(){this.removeAttribute(e)}}function lI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cI(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}function uI(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}function dI(e,t,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a)))}}function hI(e,t,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a)))}}function fI(e,t){var r=fp(e),n=r==="transform"?GN:mT;return this.attrTween(e,typeof t=="function"?(r.local?hI:dI)(r,n,Fy(this,"attr."+e,t)):t==null?(r.local?lI:aI)(r):(r.local?uI:cI)(r,n,t))}function pI(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function gI(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function mI(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&gI(e,s)),r}return i._value=t,i}function xI(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&pI(e,s)),r}return i._value=t,i}function yI(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=fp(e);return this.tween(r,(n.local?mI:xI)(n,t))}function bI(e,t){return function(){Py(this,e).delay=+t.apply(this,arguments)}}function vI(e,t){return t=+t,function(){Py(this,e).delay=t}}function wI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bI:vI)(t,e)):ii(this.node(),t).delay}function kI(e,t){return function(){Ti(this,e).duration=+t.apply(this,arguments)}}function SI(e,t){return t=+t,function(){Ti(this,e).duration=t}}function _I(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kI:SI)(t,e)):ii(this.node(),t).duration}function CI(e,t){if(typeof t!="function")throw new Error;return function(){Ti(this,e).ease=t}}function TI(e){var t=this._id;return arguments.length?this.each(CI(t,e)):ii(this.node(),t).ease}function EI(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Ti(this,e).ease=r}}function jI(e){if(typeof e!="function")throw new Error;return this.each(EI(this._id,e))}function AI(e){typeof e!="function"&&(e=QC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new es(n,this._parents,this._name,this._id)}function LI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],u=l.length,h=o[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;a<n;++a)o[a]=t[a];return new es(o,this._parents,this._name,this._id)}function MI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function RI(e,t,r){var n,i,s=MI(t)?Py:Ti;return function(){var o=s(this,e),a=o.on;a!==n&&(i=(n=a).copy()).on(t,r),o.on=i}}function BI(e,t){var r=this._id;return arguments.length<2?ii(this.node(),r).on.on(e):this.each(RI(r,e,t))}function PI(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function FI(){return this.on("end.remove",PI(this._id))}function DI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ay(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a=n[o],l=a.length,c=s[o]=new Array(l),u,h,f=0;f<l;++f)(u=a[f])&&(h=e.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,gp(c[f],t,r,f,c,ii(u,r)));return new es(s,this._parents,t,r)}function OI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=XC(e));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var l=n[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=e.call(u,u.__data__,h,l),p,g=ii(u,r),m=0,y=f.length;m<y;++m)(p=f[m])&&gp(p,t,r,m,f,g);s.push(f),o.push(u)}return new es(s,o,t,r)}var $I=Nu.prototype.constructor;function NI(){return new $I(this._groups,this._parents)}function II(e,t){var r,n,i;return function(){var s=nl(this,e),o=(this.style.removeProperty(e),nl(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}function xT(e){return function(){this.style.removeProperty(e)}}function zI(e,t,r){var n,i=r+"",s;return function(){var o=nl(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}function WI(e,t,r){var n,i,s;return function(){var o=nl(this,e),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),nl(this,e))),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a))}}function HI(e,t){var r,n,i,s="style."+t,o="end."+s,a;return function(){var l=Ti(this,e),c=l.on,u=l.value[s]==null?a||(a=xT(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(o,i=u),l.on=n}}function qI(e,t,r){var n=(e+="")=="transform"?YN:mT;return t==null?this.styleTween(e,II(e,n)).on("end.style."+e,xT(e)):typeof t=="function"?this.styleTween(e,WI(e,n,Fy(this,"style."+e,t))).each(HI(this._id,e)):this.styleTween(e,zI(e,n,t),r).on("end.style."+e,null)}function UI(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function VI(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&UI(e,o,r)),n}return s._value=t,s}function YI(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,VI(e,t,r??""))}function GI(e){return function(){this.textContent=e}}function XI(e){return function(){var t=e(this);this.textContent=t??""}}function QI(e){return this.tween("text",typeof e=="function"?XI(Fy(this,"text",e)):GI(e==null?"":e+""))}function KI(e){return function(t){this.textContent=e.call(this,t)}}function JI(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&KI(i)),t}return n._value=e,n}function ZI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,JI(e))}function t4(){for(var e=this._name,t=this._id,r=yT(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ii(l,t);gp(l,e,r,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new es(n,this._parents,e,r)}function e4(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var c=Ti(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var r4=0;function es(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function yT(){return++r4}var Bi=Nu.prototype;es.prototype={constructor:es,select:DI,selectAll:OI,selectChild:Bi.selectChild,selectChildren:Bi.selectChildren,filter:AI,merge:LI,selection:NI,transition:t4,call:Bi.call,nodes:Bi.nodes,node:Bi.node,size:Bi.size,empty:Bi.empty,each:Bi.each,on:BI,attr:fI,attrTween:yI,style:qI,styleTween:YI,text:QI,textTween:ZI,remove:FI,tween:oI,delay:wI,duration:_I,ease:TI,easeVarying:jI,end:e4,[Symbol.iterator]:Bi[Symbol.iterator]};function n4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var i4={time:null,delay:0,duration:250,ease:n4};function s4(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function o4(e){var t,r;e instanceof es?(t=e._id,e=e._name):(t=yT(),(r=i4).time=By(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&gp(l,e,t,c,o,r||s4(l,t));return new es(n,this._parents,e,t)}Nu.prototype.interrupt=nI;Nu.prototype.transition=o4;const S0=Math.PI,_0=2*S0,oo=1e-6,a4=_0-oo;function bT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function l4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bT;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class c4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bT:l4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-t,c=i-r,u=o-t,h=a-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>oo)if(!(Math.abs(h*l-c*u)>oo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=i-a,m=l*l+c*c,y=p*p+g*g,x=Math.sqrt(m),b=Math.sqrt(f),v=s*Math.tan((S0-Math.acos((m+f-y)/(2*x*b)))/2),S=v/b,k=v/x;Math.abs(S-1)>oo&&this._append`L${t+S*u},${r+S*h}`,this._append`A${s},${s},0,0,${+(h*p>u*g)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=t+a,u=r+l,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>oo||Math.abs(this._y1-u)>oo)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%_0+_0),f>a4?this._append`A${n},${n},0,1,${h},${t-a},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=u}`:f>oo&&this._append`A${n},${n},0,${+(f>=S0)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function la(e){return function(){return e}}const oJ=Math.abs,aJ=Math.atan2,lJ=Math.cos,cJ=Math.max,uJ=Math.min,dJ=Math.sin,hJ=Math.sqrt,iw=1e-12,Dy=Math.PI,sw=Dy/2,fJ=2*Dy;function pJ(e){return e>1?0:e<-1?Dy:Math.acos(e)}function gJ(e){return e>=1?sw:e<=-1?-sw:Math.asin(e)}function u4(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new c4(t)}function d4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vT(e){this._context=e}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function af(e){return new vT(e)}function h4(e){return e[0]}function f4(e){return e[1]}function p4(e,t){var r=la(!0),n=null,i=af,s=null,o=u4(a);e=typeof e=="function"?e:e===void 0?h4:la(e),t=typeof t=="function"?t:t===void 0?f4:la(t);function a(l){var c,u=(l=d4(l)).length,h,f=!1,p;for(n==null&&(s=i(p=o())),c=0;c<=u;++c)!(c<u&&r(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,c,l),+t(h,c,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:la(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:la(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:la(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}class wT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kT(e){return new wT(e,!0)}function ST(e){return new wT(e,!1)}function Fs(){}function lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mp(e){this._context=e}mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uh(e){return new mp(e)}function _T(e){this._context=e}_T.prototype={areaStart:Fs,areaEnd:Fs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g4(e){return new _T(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m4(e){return new CT(e)}function TT(e,t){this._basis=new mp(e),this._beta=t}TT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,o=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const x4=function e(t){function r(n){return t===1?new mp(n):new TT(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function cf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Oy(e,t){this._context=e,this._k=(1-t)/6}Oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ET=function e(t){function r(n){return new Oy(n,t)}return r.tension=function(n){return e(+n)},r}(0);function $y(e,t){this._context=e,this._k=(1-t)/6}$y.prototype={areaStart:Fs,areaEnd:Fs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y4=function e(t){function r(n){return new $y(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Ny(e,t){this._context=e,this._k=(1-t)/6}Ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b4=function e(t){function r(n){return new Ny(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Iy(e,t,r){var n=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>iw){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>iw){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,s,o,e._x2,e._y2)}function jT(e,t){this._context=e,this._alpha=t}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Iy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AT=function e(t){function r(n){return t?new jT(n,t):new Oy(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function LT(e,t){this._context=e,this._alpha=t}LT.prototype={areaStart:Fs,areaEnd:Fs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Iy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const v4=function e(t){function r(n){return t?new LT(n,t):new $y(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function MT(e,t){this._context=e,this._alpha=t}MT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const w4=function e(t){function r(n){return t?new MT(n,t):new Ny(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function RT(e){this._context=e}RT.prototype={areaStart:Fs,areaEnd:Fs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k4(e){return new RT(e)}function ow(e){return e<0?-1:1}function aw(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(ow(s)+ow(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function lw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-n)/3;e._context.bezierCurveTo(n+a,i+a*t,s-a,o-a*r,s,o)}function uf(e){this._context=e}uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fg(this,this._t0,lw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fg(this,lw(this,r=aw(this,e,t)),r);break;default:Fg(this,this._t0,r=aw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BT(e){this._context=new PT(e)}(BT.prototype=Object.create(uf.prototype)).point=function(e,t){uf.prototype.point.call(this,t,e)};function PT(e){this._context=e}PT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function FT(e){return new uf(e)}function DT(e){return new BT(e)}function OT(e){this._context=e}OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cw(e),i=cw(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cw(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function $T(e){return new OT(e)}function xp(e,t){this._context=e,this._t=t}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function NT(e){return new xp(e,.5)}function IT(e){return new xp(e,0)}function zT(e){return new xp(e,1)}function lc(e,t,r){this.k=e,this.x=t,this.y=r}lc.prototype={constructor:lc,scale:function(e){return e===1?this:new lc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lc.prototype;var S4=w(e=>{var i;const{securityLevel:t}=re();let r=Xt("body");if(t==="sandbox"){const o=((i=Xt(`#i${e}`).node())==null?void 0:i.contentDocument)??document;r=Xt(o.body)}return r.select(`#${e}`)},"selectSvgElement");function zy(e){return typeof e>"u"||e===null}w(zy,"isNothing");function WT(e){return typeof e=="object"&&e!==null}w(WT,"isObject");function HT(e){return Array.isArray(e)?e:zy(e)?[]:[e]}w(HT,"toArray");function qT(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}w(qT,"extend");function UT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}w(UT,"repeat");function VT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}w(VT,"isNegativeZero");var _4=zy,C4=WT,T4=HT,E4=UT,j4=VT,A4=qT,ze={isNothing:_4,isObject:C4,toArray:T4,repeat:E4,isNegativeZero:j4,extend:A4};function Wy(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}w(Wy,"formatError");function sl(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Wy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w(sl,"YAMLException$1");sl.prototype=Object.create(Error.prototype);sl.prototype.constructor=sl;sl.prototype.toString=w(function(t){return this.name+": "+Wy(this,t)},"toString");var Qr=sl;function dh(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+s.length}}w(dh,"getLine");function hh(e,t){return ze.repeat(" ",t-e.length)+e}w(hh,"padStart");function YT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=dh(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),h),a=ze.repeat(" ",t.indent)+hh((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=dh(e.buffer,n[o],i[o],e.position,h),a+=ze.repeat(" ",t.indent)+hh((e.line+1).toString(),u)+" | "+c.str+`
`,a+=ze.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=dh(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),h),a+=ze.repeat(" ",t.indent)+hh((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}w(YT,"makeSnippet");var L4=YT,M4=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],R4=["scalar","sequence","mapping"];function GT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}w(GT,"compileStyleAliases");function XT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(M4.indexOf(r)===-1)throw new Qr('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=GT(t.styleAliases||null),R4.indexOf(this.kind)===-1)throw new Qr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}w(XT,"Type$1");var wr=XT;function C0(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}w(C0,"compileList");function QT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(w(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}w(QT,"compileMap");function df(e){return this.extend(e)}w(df,"Schema$1");df.prototype.extend=w(function(t){var r=[],n=[];if(t instanceof wr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Qr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof wr))throw new Qr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Qr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Qr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof wr))throw new Qr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(df.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=C0(i,"implicit"),i.compiledExplicit=C0(i,"explicit"),i.compiledTypeMap=QT(i.compiledImplicit,i.compiledExplicit),i},"extend");var B4=df,P4=new wr("tag:yaml.org,2002:str",{kind:"scalar",construct:w(function(e){return e!==null?e:""},"construct")}),F4=new wr("tag:yaml.org,2002:seq",{kind:"sequence",construct:w(function(e){return e!==null?e:[]},"construct")}),D4=new wr("tag:yaml.org,2002:map",{kind:"mapping",construct:w(function(e){return e!==null?e:{}},"construct")}),O4=new B4({explicit:[P4,F4,D4]});function KT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}w(KT,"resolveYamlNull");function JT(){return null}w(JT,"constructYamlNull");function ZT(e){return e===null}w(ZT,"isNull");var $4=new wr("tag:yaml.org,2002:null",{kind:"scalar",resolve:KT,construct:JT,predicate:ZT,represent:{canonical:w(function(){return"~"},"canonical"),lowercase:w(function(){return"null"},"lowercase"),uppercase:w(function(){return"NULL"},"uppercase"),camelcase:w(function(){return"Null"},"camelcase"),empty:w(function(){return""},"empty")},defaultStyle:"lowercase"});function tE(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}w(tE,"resolveYamlBoolean");function eE(e){return e==="true"||e==="True"||e==="TRUE"}w(eE,"constructYamlBoolean");function rE(e){return Object.prototype.toString.call(e)==="[object Boolean]"}w(rE,"isBoolean");var N4=new wr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tE,construct:eE,predicate:rE,represent:{lowercase:w(function(e){return e?"true":"false"},"lowercase"),uppercase:w(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:w(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function nE(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}w(nE,"isHexCode");function iE(e){return 48<=e&&e<=55}w(iE,"isOctCode");function sE(e){return 48<=e&&e<=57}w(sE,"isDecCode");function oE(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!nE(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!iE(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!sE(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}w(oE,"resolveYamlInteger");function aE(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}w(aE,"constructYamlInteger");function lE(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ze.isNegativeZero(e)}w(lE,"isInteger");var I4=new wr("tag:yaml.org,2002:int",{kind:"scalar",resolve:oE,construct:aE,predicate:lE,represent:{binary:w(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:w(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:w(function(e){return e.toString(10)},"decimal"),hexadecimal:w(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z4=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function cE(e){return!(e===null||!z4.test(e)||e[e.length-1]==="_")}w(cE,"resolveYamlFloat");function uE(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}w(uE,"constructYamlFloat");var W4=/^[-+]?[0-9]+e/;function dE(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ze.isNegativeZero(e))return"-0.0";return r=e.toString(10),W4.test(r)?r.replace("e",".e"):r}w(dE,"representYamlFloat");function hE(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ze.isNegativeZero(e))}w(hE,"isFloat");var H4=new wr("tag:yaml.org,2002:float",{kind:"scalar",resolve:cE,construct:uE,predicate:hE,represent:dE,defaultStyle:"lowercase"}),fE=O4.extend({implicit:[$4,N4,I4,H4]}),q4=fE,pE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),gE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function mE(e){return e===null?!1:pE.exec(e)!==null||gE.exec(e)!==null}w(mE,"resolveYamlTimestamp");function xE(e){var t,r,n,i,s,o,a,l=0,c=null,u,h,f;if(t=pE.exec(e),t===null&&(t=gE.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],h=+(t[11]||0),c=(u*60+h)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&f.setTime(f.getTime()-c),f}w(xE,"constructYamlTimestamp");function yE(e){return e.toISOString()}w(yE,"representYamlTimestamp");var U4=new wr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:mE,construct:xE,instanceOf:Date,represent:yE});function bE(e){return e==="<<"||e===null}w(bE,"resolveYamlMerge");var V4=new wr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bE}),Hy=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vE(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Hy;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}w(vE,"resolveYamlBinary");function wE(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Hy,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}w(wE,"constructYamlBinary");function kE(e){var t="",r=0,n,i,s=e.length,o=Hy;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}w(kE,"representYamlBinary");function SE(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}w(SE,"isBinary");var Y4=new wr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vE,construct:wE,predicate:SE,represent:kE}),G4=Object.prototype.hasOwnProperty,X4=Object.prototype.toString;function _E(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,X4.call(i)!=="[object Object]")return!1;for(s in i)if(G4.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}w(_E,"resolveYamlOmap");function CE(e){return e!==null?e:[]}w(CE,"constructYamlOmap");var Q4=new wr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_E,construct:CE}),K4=Object.prototype.toString;function TE(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],K4.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}w(TE,"resolveYamlPairs");function EE(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}w(EE,"constructYamlPairs");var J4=new wr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:TE,construct:EE}),Z4=Object.prototype.hasOwnProperty;function jE(e){if(e===null)return!0;var t,r=e;for(t in r)if(Z4.call(r,t)&&r[t]!==null)return!1;return!0}w(jE,"resolveYamlSet");function AE(e){return e!==null?e:{}}w(AE,"constructYamlSet");var t6=new wr("tag:yaml.org,2002:set",{kind:"mapping",resolve:jE,construct:AE}),LE=q4.extend({implicit:[U4,V4],explicit:[Y4,Q4,J4,t6]}),Ds=Object.prototype.hasOwnProperty,hf=1,ME=2,RE=3,ff=4,Dg=1,e6=2,uw=3,r6=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n6=/[\x85\u2028\u2029]/,i6=/[,\[\]\{\}]/,BE=/^(?:!|!!|![a-z\-]+!)$/i,PE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function T0(e){return Object.prototype.toString.call(e)}w(T0,"_class");function Zn(e){return e===10||e===13}w(Zn,"is_EOL");function Ms(e){return e===9||e===32}w(Ms,"is_WHITE_SPACE");function Rr(e){return e===9||e===32||e===10||e===13}w(Rr,"is_WS_OR_EOL");function yo(e){return e===44||e===91||e===93||e===123||e===125}w(yo,"is_FLOW_INDICATOR");function FE(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}w(FE,"fromHexCode");function DE(e){return e===120?2:e===117?4:e===85?8:0}w(DE,"escapedHexLen");function OE(e){return 48<=e&&e<=57?e-48:-1}w(OE,"fromDecimalCode");function E0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}w(E0,"simpleEscapeSequence");function $E(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}w($E,"charFromCodepoint");var NE=new Array(256),IE=new Array(256);for(to=0;to<256;to++)NE[to]=E0(to)?1:0,IE[to]=E0(to);var to;function zE(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||LE,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}w(zE,"State$1");function qy(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=L4(r),new Qr(t,r)}w(qy,"generateError");function jt(e,t){throw qy(e,t)}w(jt,"throwError");function cu(e,t){e.onWarning&&e.onWarning.call(null,qy(e,t))}w(cu,"throwWarning");var dw={YAML:w(function(t,r,n){var i,s,o;t.version!==null&&jt(t,"duplication of %YAML directive"),n.length!==1&&jt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&jt(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&jt(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&cu(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:w(function(t,r,n){var i,s;n.length!==2&&jt(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],BE.test(i)||jt(t,"ill-formed tag handle (first argument) of the TAG directive"),Ds.call(t.tagMap,i)&&jt(t,'there is a previously declared suffix for "'+i+'" tag handle'),PE.test(s)||jt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{jt(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function Xi(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||jt(e,"expected valid JSON character");else r6.test(a)&&jt(e,"the stream contains non-printable characters");e.result+=a}}w(Xi,"captureSegment");function j0(e,t,r,n){var i,s,o,a;for(ze.isObject(r)||jt(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Ds.call(t,s)||(t[s]=r[s],n[s]=!0)}w(j0,"mergeMappings");function bo(e,t,r,n,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&jt(e,"nested arrays are not supported inside keys"),typeof i=="object"&&T0(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&T0(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)j0(e,t,s[c],r);else j0(e,t,s,r);else!e.json&&!Ds.call(r,i)&&Ds.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,jt(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}w(bo,"storeMappingPair");function yp(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):jt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}w(yp,"readLineBreak");function Me(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ms(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Zn(i))for(yp(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&cu(e,"deficient indentation"),n}w(Me,"skipSeparationSpace");function zu(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Rr(r)))}w(zu,"testDocumentSeparator");function bp(e,t){t===1?e.result+=" ":t>1&&(e.result+=ze.repeat(`
`,t-1))}w(bp,"writeFoldedLines");function WE(e,t,r){var n,i,s,o,a,l,c,u,h=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),Rr(p)||yo(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Rr(i)||r&&yo(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Rr(i)||r&&yo(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Rr(n))break}else{if(e.position===e.lineStart&&zu(e)||r&&yo(p))break;if(Zn(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,Me(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(Xi(e,s,o,!1),bp(e,e.line-l),s=o=e.position,a=!1),Ms(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Xi(e,s,o,!1),e.result?!0:(e.kind=h,e.result=f,!1)}w(WE,"readPlainScalar");function HE(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Xi(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Zn(r)?(Xi(e,n,i,!0),bp(e,Me(e,!1,t)),n=i=e.position):e.position===e.lineStart&&zu(e)?jt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);jt(e,"unexpected end of the stream within a single quoted scalar")}w(HE,"readSingleQuotedScalar");function qE(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Xi(e,r,e.position,!0),e.position++,!0;if(a===92){if(Xi(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Zn(a))Me(e,!1,t);else if(a<256&&NE[a])e.result+=IE[a],e.position++;else if((o=DE(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=FE(a))>=0?s=(s<<4)+o:jt(e,"expected hexadecimal character");e.result+=$E(s),e.position++}else jt(e,"unknown escape sequence");r=n=e.position}else Zn(a)?(Xi(e,r,n,!0),bp(e,Me(e,!1,t)),r=n=e.position):e.position===e.lineStart&&zu(e)?jt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}jt(e,"unexpected end of the stream within a double quoted scalar")}w(qE,"readDoubleQuotedScalar");function UE(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,u,h,f,p,g=Object.create(null),m,y,x,b;if(b=e.input.charCodeAt(e.position),b===91)u=93,p=!1,a=[];else if(b===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),b=e.input.charCodeAt(++e.position);b!==0;){if(Me(e,!0,t),b=e.input.charCodeAt(e.position),b===u)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?b===44&&jt(e,"expected the node content, but found ','"):jt(e,"missed comma between flow collection entries"),y=m=x=null,h=f=!1,b===63&&(c=e.input.charCodeAt(e.position+1),Rr(c)&&(h=f=!0,e.position++,Me(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,No(e,t,hf,!1,!0),y=e.tag,m=e.result,Me(e,!0,t),b=e.input.charCodeAt(e.position),(f||e.line===n)&&b===58&&(h=!0,b=e.input.charCodeAt(++e.position),Me(e,!0,t),No(e,t,hf,!1,!0),x=e.result),p?bo(e,a,g,y,m,x,n,i,s):h?a.push(bo(e,null,g,y,m,x,n,i,s)):a.push(m),Me(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}jt(e,"unexpected end of the stream within a flow collection")}w(UE,"readFlowCollection");function VE(e,t){var r,n,i=Dg,s=!1,o=!1,a=t,l=0,c=!1,u,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Dg===i?i=h===43?uw:e6:jt(e,"repeat of a chomping mode identifier");else if((u=OE(h))>=0)u===0?jt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?jt(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(Ms(h)){do h=e.input.charCodeAt(++e.position);while(Ms(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Zn(h)&&h!==0)}for(;h!==0;){for(yp(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Zn(h)){l++;continue}if(e.lineIndent<a){i===uw?e.result+=ze.repeat(`
`,s?1+l:l):i===Dg&&s&&(e.result+=`
`);break}for(n?Ms(h)?(c=!0,e.result+=ze.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=ze.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=ze.repeat(`
`,l):e.result+=ze.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Zn(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Xi(e,r,e.position,!1)}return!0}w(VE,"readBlockScalar");function A0(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,jt(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Rr(o))));){if(a=!0,e.position++,Me(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,No(e,t,RE,!1,!0),s.push(e.result),Me(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)jt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}w(A0,"readBlockSequence");function YE(e,t,r){var n,i,s,o,a,l,c=e.tag,u=e.anchor,h={},f=Object.create(null),p=null,g=null,m=null,y=!1,x=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),b=e.input.charCodeAt(e.position);b!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,jt(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&Rr(n))b===63?(y&&(bo(e,h,f,p,g,null,o,a,l),p=g=m=null),x=!0,y=!0,i=!0):y?(y=!1,i=!0):jt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(o=e.line,a=e.lineStart,l=e.position,!No(e,r,ME,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Ms(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),Rr(b)||jt(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(bo(e,h,f,p,g,null,o,a,l),p=g=m=null),x=!0,y=!1,i=!1,p=e.tag,g=e.result;else if(x)jt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(x)jt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,l=e.position),No(e,t,ff,!0,i)&&(y?g=e.result:m=e.result),y||(bo(e,h,f,p,g,m,o,a,l),p=g=m=null),Me(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)jt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&bo(e,h,f,p,g,null,o,a,l),x&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),x}w(YE,"readBlockMapping");function GE(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&jt(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):jt(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Rr(o);)o===33&&(n?jt(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),BE.test(i)||jt(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),i6.test(s)&&jt(e,"tag suffix cannot contain flow indicator characters")}s&&!PE.test(s)&&jt(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{jt(e,"tag name is malformed: "+s)}return r?e.tag=s:Ds.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:jt(e,'undeclared tag handle "'+i+'"'),!0}w(GE,"readTagProperty");function XE(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&jt(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Rr(r)&&!yo(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&jt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}w(XE,"readAnchorProperty");function QE(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Rr(n)&&!yo(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&jt(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ds.call(e.anchorMap,r)||jt(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Me(e,!0,-1),!0}w(QE,"readAlias");function No(e,t,r,n,i){var s,o,a,l=1,c=!1,u=!1,h,f,p,g,m,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ff===r||RE===r,n&&Me(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;GE(e)||XE(e);)Me(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||ff===r)&&(hf===r||ME===r?m=t:m=t+1,y=e.position-e.lineStart,l===1?a&&(A0(e,y)||YE(e,y,m))||UE(e,m)?u=!0:(o&&VE(e,m)||HE(e,m)||qE(e,m)?u=!0:QE(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&jt(e,"alias node should not have any properties")):WE(e,m,hf===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&A0(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&jt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(g=e.implicitTypes[h],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ds.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,f=p.length;h<f;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){g=p[h];break}g||jt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&jt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):jt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}w(No,"composeNode");function KE(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Me(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Rr(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&jt(e,"directive name must not be less than one character in length");o!==0;){for(;Ms(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Zn(o));break}if(Zn(o))break;for(r=e.position;o!==0&&!Rr(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&yp(e),Ds.call(dw,n)?dw[n](e,n,i):cu(e,'unknown document directive "'+n+'"')}if(Me(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Me(e,!0,-1)):s&&jt(e,"directives end mark is expected"),No(e,e.lineIndent-1,ff,!1,!0),Me(e,!0,-1),e.checkLineBreaks&&n6.test(e.input.slice(t,e.position))&&cu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zu(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Me(e,!0,-1));return}if(e.position<e.length-1)jt(e,"end of the stream or a document separator is expected");else return}w(KE,"readDocument");function Uy(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new zE(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,jt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)KE(r);return r.documents}w(Uy,"loadDocuments");function s6(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Uy(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}w(s6,"loadAll$1");function JE(e,t){var r=Uy(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Qr("expected a single document in the stream, but found more")}}w(JE,"load$1");var o6=JE,a6={load:o6},ZE=Object.prototype.toString,tj=Object.prototype.hasOwnProperty,Vy=65279,l6=9,uu=10,c6=13,u6=32,d6=33,h6=34,L0=35,f6=37,p6=38,g6=39,m6=42,ej=44,x6=45,pf=58,y6=61,b6=62,v6=63,w6=64,rj=91,nj=93,k6=96,ij=123,S6=124,sj=125,Cr={};Cr[0]="\\0";Cr[7]="\\a";Cr[8]="\\b";Cr[9]="\\t";Cr[10]="\\n";Cr[11]="\\v";Cr[12]="\\f";Cr[13]="\\r";Cr[27]="\\e";Cr[34]='\\"';Cr[92]="\\\\";Cr[133]="\\N";Cr[160]="\\_";Cr[8232]="\\L";Cr[8233]="\\P";var _6=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],C6=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function oj(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&tj.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}w(oj,"compileStyleMap");function aj(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Qr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ze.repeat("0",n-t.length)+t}w(aj,"encodeHex");var T6=1,du=2;function lj(e){this.schema=e.schema||LE,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ze.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=oj(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?du:T6,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}w(lj,"State");function M0(e,t){for(var r=ze.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}w(M0,"indentString");function gf(e,t){return`
`+ze.repeat(" ",e.indent*t)}w(gf,"generateNextLine");function cj(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}w(cj,"testImplicitResolving");function hu(e){return e===u6||e===l6}w(hu,"isWhitespace");function ol(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Vy||65536<=e&&e<=1114111}w(ol,"isPrintable");function R0(e){return ol(e)&&e!==Vy&&e!==c6&&e!==uu}w(R0,"isNsCharOrWhitespace");function B0(e,t,r){var n=R0(e),i=n&&!hu(e);return(r?n:n&&e!==ej&&e!==rj&&e!==nj&&e!==ij&&e!==sj)&&e!==L0&&!(t===pf&&!i)||R0(t)&&!hu(t)&&e===L0||t===pf&&i}w(B0,"isPlainSafe");function uj(e){return ol(e)&&e!==Vy&&!hu(e)&&e!==x6&&e!==v6&&e!==pf&&e!==ej&&e!==rj&&e!==nj&&e!==ij&&e!==sj&&e!==L0&&e!==p6&&e!==m6&&e!==d6&&e!==S6&&e!==y6&&e!==b6&&e!==g6&&e!==h6&&e!==f6&&e!==w6&&e!==k6}w(uj,"isPlainSafeFirst");function dj(e){return!hu(e)&&e!==pf}w(dj,"isPlainSafeLast");function Ta(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}w(Ta,"codePointAt");function Yy(e){var t=/^\n* /;return t.test(e)}w(Yy,"needIndentIndicator");var hj=1,P0=2,fj=3,pj=4,ha=5;function gj(e,t,r,n,i,s,o,a){var l,c=0,u=null,h=!1,f=!1,p=n!==-1,g=-1,m=uj(Ta(e,0))&&dj(Ta(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ta(e,l),!ol(c))return ha;m=m&&B0(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ta(e,l),c===uu)h=!0,p&&(f=f||l-g-1>n&&e[g+1]!==" ",g=l);else if(!ol(c))return ha;m=m&&B0(c,u,a),u=c}f=f||p&&l-g-1>n&&e[g+1]!==" "}return!h&&!f?m&&!o&&!i(e)?hj:s===du?ha:P0:r>9&&Yy(e)?ha:o?s===du?ha:P0:f?pj:fj}w(gj,"chooseScalarStyle");function mj(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===du?'""':"''";if(!e.noCompatMode&&(_6.indexOf(t)!==-1||C6.test(t)))return e.quotingType===du?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return cj(e,c)}switch(w(l,"testAmbiguity"),gj(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case hj:return t;case P0:return"'"+t.replace(/'/g,"''")+"'";case fj:return"|"+F0(t,e.indent)+D0(M0(t,s));case pj:return">"+F0(t,e.indent)+D0(M0(xj(t,o),s));case ha:return'"'+yj(t)+'"';default:throw new Qr("impossible error: invalid scalar style")}}()}w(mj,"writeScalar");function F0(e,t){var r=Yy(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}w(F0,"blockHeader");function D0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}w(D0,"dropEndingNewline");function xj(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,O0(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+O0(l,t),i=s}return n}w(xj,"foldString");function O0(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}w(O0,"foldLine");function yj(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ta(e,i),n=Cr[r],!n&&ol(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||aj(r);return t}w(yj,"escapeString");function bj(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Ci(e,t,a,!1,!1)||typeof a>"u"&&Ci(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}w(bj,"writeFlowSequence");function $0(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(Ci(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Ci(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=gf(e,t)),e.dump&&uu===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}w($0,"writeBlockSequence");function vj(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),Ci(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ci(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}w(vj,"writeFlowMapping");function wj(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,u,h,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Qr("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)f="",(!n||i!=="")&&(f+=gf(e,t)),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),Ci(e,t+1,c,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&uu===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=gf(e,t)),Ci(e,t+1,u,!0,h)&&(e.dump&&uu===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}w(wj,"writeBlockMapping");function N0(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,ZE.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(tj.call(a.represent,l))n=a.represent[l](t,l);else throw new Qr("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}w(N0,"detectType");function Ci(e,t,r,n,i,s,o){e.tag=null,e.dump=r,N0(e,r,!1)||N0(e,r,!0);var a=ZE.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",h,f;if(u&&(h=e.duplicates.indexOf(r),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(u&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(wj(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(vj(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?$0(e,t-1,e.dump,i):$0(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(bj(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&mj(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Qr("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}w(Ci,"writeNode");function kj(e,t){var r=[],n=[],i,s;for(mf(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}w(kj,"getDuplicateReferences");function mf(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)mf(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)mf(e[n[i]],t,r)}w(mf,"inspectNode");function E6(e,t){t=t||{};var r=new lj(t);r.noRefs||kj(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Ci(r,0,n,!0,!0)?r.dump+`
`:""}w(E6,"dump$1");function j6(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}w(j6,"renamed");var A6=fE,L6=a6.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var pr={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},hw={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function cc(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=me(e),t=me(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],o=i-r,a=s-n;return{angle:Math.atan(a/o),deltaX:o,deltaY:a}}w(cc,"calculateDeltaAndAngle");var me=w(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),M6=w(e=>({x:w(function(t,r,n){let i=0;const s=me(n[0]).x<me(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(pr,e.arrowTypeStart)){const{angle:p,deltaX:g}=cc(n[0],n[1]);i=pr[e.arrowTypeStart]*Math.cos(p)*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(pr,e.arrowTypeEnd)){const{angle:p,deltaX:g}=cc(n[n.length-1],n[n.length-2]);i=pr[e.arrowTypeEnd]*Math.cos(p)*(g>=0?1:-1)}const o=Math.abs(me(t).x-me(n[n.length-1]).x),a=Math.abs(me(t).y-me(n[n.length-1]).y),l=Math.abs(me(t).x-me(n[0]).x),c=Math.abs(me(t).y-me(n[0]).y),u=pr[e.arrowTypeStart],h=pr[e.arrowTypeEnd],f=1;if(o<h&&o>0&&a<h){let p=h+f-o;p*=s==="right"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+f-l;p*=s==="right"?-1:1,i+=p}return me(t).x+i},"x"),y:w(function(t,r,n){let i=0;const s=me(n[0]).y<me(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(pr,e.arrowTypeStart)){const{angle:p,deltaY:g}=cc(n[0],n[1]);i=pr[e.arrowTypeStart]*Math.abs(Math.sin(p))*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(pr,e.arrowTypeEnd)){const{angle:p,deltaY:g}=cc(n[n.length-1],n[n.length-2]);i=pr[e.arrowTypeEnd]*Math.abs(Math.sin(p))*(g>=0?1:-1)}const o=Math.abs(me(t).y-me(n[n.length-1]).y),a=Math.abs(me(t).x-me(n[n.length-1]).x),l=Math.abs(me(t).y-me(n[0]).y),c=Math.abs(me(t).x-me(n[0]).x),u=pr[e.arrowTypeStart],h=pr[e.arrowTypeEnd],f=1;if(o<h&&o>0&&a<h){let p=h+f-o;p*=s==="up"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+f-l;p*=s==="up"?-1:1,i+=p}return me(t).y+i},"y")}),"getLineFunctionsWithOffset"),Gy=w(({flowchart:e})=>{var i,s;const t=((i=e==null?void 0:e.subGraphTitleMargin)==null?void 0:i.top)??0,r=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),R6=w(e=>{const{handDrawnSeed:t}=re();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),yl=w(e=>{const t=B6([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),B6=w(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i==null?void 0:i.trim())}),t},"styles2Map"),Sj=w(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),St=w(e=>{const{stylesArray:t}=yl(e),r=[],n=[],i=[],s=[];return t.forEach(o=>{const a=o[0];Sj(a)?r.push(o.join(":")+" !important"):(n.push(o.join(":")+" !important"),a.includes("stroke")&&i.push(o.join(":")+" !important"),a==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),kt=w((e,t)=>{var l;const{themeVariables:r,handDrawnSeed:n}=re(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:o}=yl(e);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:n,strokeWidth:((l=o.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:P6(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),P6=w(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),Xy={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.BLANK_URL=Xe.relativeFirstCharacters=Xe.whitespaceEscapeCharsRegex=Xe.urlSchemeRegex=Xe.ctrlCharactersRegex=Xe.htmlCtrlEntityRegex=Xe.htmlEntitiesRegex=Xe.invalidProtocolRegex=void 0;Xe.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Xe.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Xe.htmlCtrlEntityRegex=/&(newline|tab);/gi;Xe.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Xe.urlSchemeRegex=/^.+(:|&colon;)/gim;Xe.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Xe.relativeFirstCharacters=[".","/"];Xe.BLANK_URL="about:blank";Object.defineProperty(Xy,"__esModule",{value:!0});var _j=Xy.sanitizeUrl=void 0,fr=Xe;function F6(e){return fr.relativeFirstCharacters.indexOf(e[0])>-1}function D6(e){var t=e.replace(fr.ctrlCharactersRegex,"");return t.replace(fr.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function O6(e){return URL.canParse(e)}function fw(e){try{return decodeURIComponent(e)}catch{return e}}function $6(e){if(!e)return fr.BLANK_URL;var t,r=fw(e.trim());do r=D6(r).replace(fr.htmlCtrlEntityRegex,"").replace(fr.ctrlCharactersRegex,"").replace(fr.whitespaceEscapeCharsRegex,"").trim(),r=fw(r),t=r.match(fr.ctrlCharactersRegex)||r.match(fr.htmlEntitiesRegex)||r.match(fr.htmlCtrlEntityRegex)||r.match(fr.whitespaceEscapeCharsRegex);while(t&&t.length>0);var n=r;if(!n)return fr.BLANK_URL;if(F6(n))return n;var i=n.trimStart(),s=i.match(fr.urlSchemeRegex);if(!s)return n;var o=s[0].toLowerCase().trim();if(fr.invalidProtocolRegex.test(o))return fr.BLANK_URL;var a=i.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://"))return a;if(o==="http:"||o==="https:"){if(!O6(a))return fr.BLANK_URL;var l=new URL(a);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return a}_j=Xy.sanitizeUrl=$6;var Cj=typeof global=="object"&&global&&global.Object===Object&&global,N6=typeof self=="object"&&self&&self.Object===Object&&self,Ei=Cj||N6||Function("return this")(),xf=Ei.Symbol,Tj=Object.prototype,I6=Tj.hasOwnProperty,z6=Tj.toString,Ul=xf?xf.toStringTag:void 0;function W6(e){var t=I6.call(e,Ul),r=e[Ul];try{e[Ul]=void 0;var n=!0}catch{}var i=z6.call(e);return n&&(t?e[Ul]=r:delete e[Ul]),i}var H6=Object.prototype,q6=H6.toString;function U6(e){return q6.call(e)}var V6="[object Null]",Y6="[object Undefined]",pw=xf?xf.toStringTag:void 0;function bl(e){return e==null?e===void 0?Y6:V6:pw&&pw in Object(e)?W6(e):U6(e)}function Go(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var G6="[object AsyncFunction]",X6="[object Function]",Q6="[object GeneratorFunction]",K6="[object Proxy]";function Qy(e){if(!Go(e))return!1;var t=bl(e);return t==X6||t==Q6||t==G6||t==K6}var Og=Ei["__core-js_shared__"],gw=function(){var e=/[^.]+$/.exec(Og&&Og.keys&&Og.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function J6(e){return!!gw&&gw in e}var Z6=Function.prototype,t8=Z6.toString;function Xo(e){if(e!=null){try{return t8.call(e)}catch{}try{return e+""}catch{}}return""}var e8=/[\\^$.*+?()[\]{}|]/g,r8=/^\[object .+?Constructor\]$/,n8=Function.prototype,i8=Object.prototype,s8=n8.toString,o8=i8.hasOwnProperty,a8=RegExp("^"+s8.call(o8).replace(e8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l8(e){if(!Go(e)||J6(e))return!1;var t=Qy(e)?a8:r8;return t.test(Xo(e))}function c8(e,t){return e==null?void 0:e[t]}function Qo(e,t){var r=c8(e,t);return l8(r)?r:void 0}var fu=Qo(Object,"create");function u8(){this.__data__=fu?fu(null):{},this.size=0}function d8(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h8="__lodash_hash_undefined__",f8=Object.prototype,p8=f8.hasOwnProperty;function g8(e){var t=this.__data__;if(fu){var r=t[e];return r===h8?void 0:r}return p8.call(t,e)?t[e]:void 0}var m8=Object.prototype,x8=m8.hasOwnProperty;function y8(e){var t=this.__data__;return fu?t[e]!==void 0:x8.call(t,e)}var b8="__lodash_hash_undefined__";function v8(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fu&&t===void 0?b8:t,this}function Io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Io.prototype.clear=u8;Io.prototype.delete=d8;Io.prototype.get=g8;Io.prototype.has=y8;Io.prototype.set=v8;function w8(){this.__data__=[],this.size=0}function vp(e,t){return e===t||e!==e&&t!==t}function wp(e,t){for(var r=e.length;r--;)if(vp(e[r][0],t))return r;return-1}var k8=Array.prototype,S8=k8.splice;function _8(e){var t=this.__data__,r=wp(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():S8.call(t,r,1),--this.size,!0}function C8(e){var t=this.__data__,r=wp(t,e);return r<0?void 0:t[r][1]}function T8(e){return wp(this.__data__,e)>-1}function E8(e,t){var r=this.__data__,n=wp(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}is.prototype.clear=w8;is.prototype.delete=_8;is.prototype.get=C8;is.prototype.has=T8;is.prototype.set=E8;var pu=Qo(Ei,"Map");function j8(){this.size=0,this.__data__={hash:new Io,map:new(pu||is),string:new Io}}function A8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kp(e,t){var r=e.__data__;return A8(t)?r[typeof t=="string"?"string":"hash"]:r.map}function L8(e){var t=kp(this,e).delete(e);return this.size-=t?1:0,t}function M8(e){return kp(this,e).get(e)}function R8(e){return kp(this,e).has(e)}function B8(e,t){var r=kp(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Us(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Us.prototype.clear=j8;Us.prototype.delete=L8;Us.prototype.get=M8;Us.prototype.has=R8;Us.prototype.set=B8;var P8="Expected a function";function Wu(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(P8);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Wu.Cache||Us),r}Wu.Cache=Us;function F8(){this.__data__=new is,this.size=0}function D8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function O8(e){return this.__data__.get(e)}function $8(e){return this.__data__.has(e)}var N8=200;function I8(e,t){var r=this.__data__;if(r instanceof is){var n=r.__data__;if(!pu||n.length<N8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Us(n)}return r.set(e,t),this.size=r.size,this}function vl(e){var t=this.__data__=new is(e);this.size=t.size}vl.prototype.clear=F8;vl.prototype.delete=D8;vl.prototype.get=O8;vl.prototype.has=$8;vl.prototype.set=I8;var yf=function(){try{var e=Qo(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Ky(e,t,r){t=="__proto__"&&yf?yf(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function I0(e,t,r){(r!==void 0&&!vp(e[t],r)||r===void 0&&!(t in e))&&Ky(e,t,r)}function z8(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[++i];if(r(s[l],l,s)===!1)break}return t}}var W8=z8(),Ej=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mw=Ej&&typeof module=="object"&&module&&!module.nodeType&&module,H8=mw&&mw.exports===Ej,xw=H8?Ei.Buffer:void 0,yw=xw?xw.allocUnsafe:void 0;function q8(e,t){if(t)return e.slice();var r=e.length,n=yw?yw(r):new e.constructor(r);return e.copy(n),n}var bw=Ei.Uint8Array;function U8(e){var t=new e.constructor(e.byteLength);return new bw(t).set(new bw(e)),t}function V8(e,t){var r=t?U8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Y8(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var vw=Object.create,G8=function(){function e(){}return function(t){if(!Go(t))return{};if(vw)return vw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function jj(e,t){return function(r){return e(t(r))}}var Aj=jj(Object.getPrototypeOf,Object),X8=Object.prototype;function Sp(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||X8;return e===r}function Q8(e){return typeof e.constructor=="function"&&!Sp(e)?G8(Aj(e)):{}}function Hu(e){return e!=null&&typeof e=="object"}var K8="[object Arguments]";function ww(e){return Hu(e)&&bl(e)==K8}var Lj=Object.prototype,J8=Lj.hasOwnProperty,Z8=Lj.propertyIsEnumerable,bf=ww(function(){return arguments}())?ww:function(e){return Hu(e)&&J8.call(e,"callee")&&!Z8.call(e,"callee")},vf=Array.isArray,t9=9007199254740991;function Mj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t9}function _p(e){return e!=null&&Mj(e.length)&&!Qy(e)}function e9(e){return Hu(e)&&_p(e)}function r9(){return!1}var Rj=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kw=Rj&&typeof module=="object"&&module&&!module.nodeType&&module,n9=kw&&kw.exports===Rj,Sw=n9?Ei.Buffer:void 0,i9=Sw?Sw.isBuffer:void 0,Jy=i9||r9,s9="[object Object]",o9=Function.prototype,a9=Object.prototype,Bj=o9.toString,l9=a9.hasOwnProperty,c9=Bj.call(Object);function u9(e){if(!Hu(e)||bl(e)!=s9)return!1;var t=Aj(e);if(t===null)return!0;var r=l9.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Bj.call(r)==c9}var d9="[object Arguments]",h9="[object Array]",f9="[object Boolean]",p9="[object Date]",g9="[object Error]",m9="[object Function]",x9="[object Map]",y9="[object Number]",b9="[object Object]",v9="[object RegExp]",w9="[object Set]",k9="[object String]",S9="[object WeakMap]",_9="[object ArrayBuffer]",C9="[object DataView]",T9="[object Float32Array]",E9="[object Float64Array]",j9="[object Int8Array]",A9="[object Int16Array]",L9="[object Int32Array]",M9="[object Uint8Array]",R9="[object Uint8ClampedArray]",B9="[object Uint16Array]",P9="[object Uint32Array]",fe={};fe[T9]=fe[E9]=fe[j9]=fe[A9]=fe[L9]=fe[M9]=fe[R9]=fe[B9]=fe[P9]=!0;fe[d9]=fe[h9]=fe[_9]=fe[f9]=fe[C9]=fe[p9]=fe[g9]=fe[m9]=fe[x9]=fe[y9]=fe[b9]=fe[v9]=fe[w9]=fe[k9]=fe[S9]=!1;function F9(e){return Hu(e)&&Mj(e.length)&&!!fe[bl(e)]}function D9(e){return function(t){return e(t)}}var Pj=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rc=Pj&&typeof module=="object"&&module&&!module.nodeType&&module,O9=Rc&&Rc.exports===Pj,$g=O9&&Cj.process,_w=function(){try{var e=Rc&&Rc.require&&Rc.require("util").types;return e||$g&&$g.binding&&$g.binding("util")}catch{}}(),Cw=_w&&_w.isTypedArray,Zy=Cw?D9(Cw):F9;function z0(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var $9=Object.prototype,N9=$9.hasOwnProperty;function I9(e,t,r){var n=e[t];(!(N9.call(e,t)&&vp(n,r))||r===void 0&&!(t in e))&&Ky(e,t,r)}function z9(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?Ky(r,a,l):I9(r,a,l)}return r}function W9(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var H9=9007199254740991,q9=/^(?:0|[1-9]\d*)$/;function Fj(e,t){var r=typeof e;return t=t??H9,!!t&&(r=="number"||r!="symbol"&&q9.test(e))&&e>-1&&e%1==0&&e<t}var U9=Object.prototype,V9=U9.hasOwnProperty;function Y9(e,t){var r=vf(e),n=!r&&bf(e),i=!r&&!n&&Jy(e),s=!r&&!n&&!i&&Zy(e),o=r||n||i||s,a=o?W9(e.length,String):[],l=a.length;for(var c in e)(t||V9.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Fj(c,l)))&&a.push(c);return a}function G9(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var X9=Object.prototype,Q9=X9.hasOwnProperty;function K9(e){if(!Go(e))return G9(e);var t=Sp(e),r=[];for(var n in e)n=="constructor"&&(t||!Q9.call(e,n))||r.push(n);return r}function Dj(e){return _p(e)?Y9(e,!0):K9(e)}function J9(e){return z9(e,Dj(e))}function Z9(e,t,r,n,i,s,o){var a=z0(e,r),l=z0(t,r),c=o.get(l);if(c){I0(e,r,c);return}var u=s?s(a,l,r+"",e,t,o):void 0,h=u===void 0;if(h){var f=vf(l),p=!f&&Jy(l),g=!f&&!p&&Zy(l);u=l,f||p||g?vf(a)?u=a:e9(a)?u=Y8(a):p?(h=!1,u=q8(l,!0)):g?(h=!1,u=V8(l,!0)):u=[]:u9(l)||bf(l)?(u=a,bf(a)?u=J9(a):(!Go(a)||Qy(a))&&(u=Q8(l))):h=!1}h&&(o.set(l,u),i(u,l,n,s,o),o.delete(l)),I0(e,r,u)}function Oj(e,t,r,n,i){e!==t&&W8(t,function(s,o){if(i||(i=new vl),Go(s))Z9(e,t,o,r,Oj,n,i);else{var a=n?n(z0(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),I0(e,o,a)}},Dj)}function $j(e){return e}function tz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Tw=Math.max;function ez(e,t,r){return t=Tw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=Tw(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),tz(e,this,a)}}function rz(e){return function(){return e}}var nz=yf?function(e,t){return yf(e,"toString",{configurable:!0,enumerable:!1,value:rz(t),writable:!0})}:$j,iz=800,sz=16,oz=Date.now;function az(e){var t=0,r=0;return function(){var n=oz(),i=sz-(n-r);if(r=n,i>0){if(++t>=iz)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lz=az(nz);function cz(e,t){return lz(ez(e,t,$j),e+"")}function uz(e,t,r){if(!Go(r))return!1;var n=typeof t;return(n=="number"?_p(r)&&Fj(t,r.length):n=="string"&&t in r)?vp(r[t],e):!1}function dz(e){return cz(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&uz(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,s)}return t})}var hz=dz(function(e,t,r){Oj(e,t,r)}),fz="",pz={curveBasis:uh,curveBasisClosed:g4,curveBasisOpen:m4,curveBumpX:kT,curveBumpY:ST,curveBundle:x4,curveCardinalClosed:y4,curveCardinalOpen:b4,curveCardinal:ET,curveCatmullRomClosed:v4,curveCatmullRomOpen:w4,curveCatmullRom:AT,curveLinear:af,curveLinearClosed:k4,curveMonotoneX:FT,curveMonotoneY:DT,curveNatural:$T,curveStep:NT,curveStepAfter:zT,curveStepBefore:IT},gz=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mz=w(function(e,t){const r=Nj(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(a=>a.args);Xh(o),n=Ie(n,[...o])}else n=r.args;if(!n)return;let i=ky(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),Nj=w(function(e,t=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${gz.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(i,"").replace(/'/gm,'"'),rt.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const o=[];for(;(s=Lc.exec(e))!==null;)if(s.index===Lc.lastIndex&&Lc.lastIndex++,s&&!t||t&&((r=s[1])!=null&&r.match(t))||t&&((n=s[2])!=null&&n.match(t))){const a=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:a,args:l})}return o.length===0?{type:e,args:null}:o.length===1?o[0]:o}catch(i){return rt.error(`ERROR: ${i.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),xz=w(function(e){return e.replace(Lc,"")},"removeDirectives"),yz=w(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function tb(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return pz[r]??t}w(tb,"interpolateToCurve");function Ij(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?_j(r):r}w(Ij,"formatUrl");var bz=w((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s){rt.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function eb(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}w(eb,"distance");function zj(e){let t,r=0;e.forEach(i=>{r+=eb(i,t),t=i});const n=r/2;return rb(e,n)}w(zj,"traverseEdge");function Wj(e){return e.length===1?e[0]:zj(e)}w(Wj,"calcLabelPosition");var Ew=w((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),rb=w((e,t)=>{let r,n=t;for(const i of e){if(r){const s=eb(i,r);if(s===0)return r;if(s<n)n-=s;else{const o=n/s;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:Ew((1-o)*r.x+o*i.x,5),y:Ew((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),vz=w((e,t,r)=>{rt.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=rb(t,25),s=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(o)*s+(t[0].x+i.x)/2,a.y=-Math.cos(o)*s+(t[0].y+i.y)/2,a},"calcCardinalityPosition");function Hj(e,t,r){const n=structuredClone(r);rt.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=rb(n,i),o=10+e*.5,a=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(a+Math.PI)*o+(n[0].x+s.x)/2,l.y=-Math.cos(a+Math.PI)*o+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(a-Math.PI)*o+(n[0].x+s.x)/2-5,l.y=-Math.cos(a-Math.PI)*o+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(a)*o+(n[0].x+s.x)/2-5,l.y=-Math.cos(a)*o+(n[0].y+s.y)/2-5):(l.x=Math.sin(a)*o+(n[0].x+s.x)/2,l.y=-Math.cos(a)*o+(n[0].y+s.y)/2),l}w(Hj,"calcTerminalLabelPosition");function qj(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}w(qj,"getStylesFromArray");var jw=0,wz=w(()=>(jw++,"id-"+Math.random().toString(36).substr(2,12)+"-"+jw),"generateId");function Uj(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}w(Uj,"makeRandomHex");var kz=w(e=>Uj(e.length),"random"),Sz=w(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),_z=w(function(e,t){const r=t.text.replace(xl.lineBreakRegex," "),[,n]=Cp(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),Cz=Wu((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),xl.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((o,a)=>{const l=rs(`${o} `,r),c=rs(s,r);if(l>t){const{hyphenatedStrings:f,remainingWord:p}=Tz(o,t,"-",r);i.push(s,...f),s=p}else c+l>=t?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===n.length&&i.push(s)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),Tz=Wu((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let o="";return i.forEach((a,l)=>{const c=`${o}${a}`;if(rs(c,n)>=t){const h=l+1,f=i.length===h,p=`${c}${r}`;s.push(f?c:p),o=""}else o=c}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function Vj(e,t){return nb(e,t).height}w(Vj,"calculateTextHeight");function rs(e,t){return nb(e,t).width}w(rs,"calculateTextWidth");var nb=Wu((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=Cp(r),o=["sans-serif",n],a=e.split(xl.lineBreakRegex),l=[],c=Xt("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const f of o){let p=0;const g={width:0,height:0,lineHeight:0};for(const m of a){const y=Sz();y.text=m||fz;const x=_z(u,y).style("font-size",s).style("font-weight",i).style("font-family",f),b=(x._groups||x)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,b.width)),p=Math.round(b.height),g.height+=p,g.lineHeight=Math.round(Math.max(g.lineHeight,p))}l.push(g)}u.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Ua,Ez=(Ua=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},w(Ua,"InitIDGenerator"),Ua),kd,jz=w(function(e){return kd=kd||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),kd.innerHTML=e,unescape(kd.textContent)},"entityDecode");function ib(e){return"str"in e}w(ib,"isDetailedError");var Az=w((e,t,r,n)=>{var s;if(!n)return;const i=(s=e.node())==null?void 0:s.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Cp=w(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function sb(e,t){return hz({},e,t)}w(sb,"cleanAndMerge");var Xn={assignWithDepth:Ie,wrapLabel:Cz,calculateTextHeight:Vj,calculateTextWidth:rs,calculateTextDimensions:nb,cleanAndMerge:sb,detectInit:mz,detectDirective:Nj,isSubstringInArray:yz,interpolateToCurve:tb,calcLabelPosition:Wj,calcCardinalityPosition:vz,calcTerminalLabelPosition:Hj,formatUrl:Ij,getStylesFromArray:qj,generateId:wz,random:kz,runFunc:bz,entityDecode:jz,insertTitle:Az,isLabelCoordinateInPath:Yj,parseFontSize:Cp,InitIDGenerator:Ez},Lz=w(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},"encodeEntities"),Ko=w(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),mJ=w((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function kr(e){return e??null}w(kr,"handleUndefinedAttr");function Yj(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}w(Yj,"isLabelCoordinateInPath");const Mz=Object.freeze({left:0,top:0,width:16,height:16}),wf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Gj=Object.freeze({...Mz,...wf}),Rz=Object.freeze({...Gj,body:"",hidden:!1}),Bz=Object.freeze({width:null,height:null}),Pz=Object.freeze({...Bz,...wf}),Fz=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:a};return Ng(c)?c:null}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:n,prefix:o.shift(),name:o.join("-")};return Ng(a)?a:null}if(r&&n===""){const a={provider:n,prefix:"",name:s};return Ng(a,r)?a:null}return null},Ng=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function Dz(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function Aw(e,t){const r=Dz(e,t);for(const n in Rz)n in wf?n in e&&!(n in r)&&(r[n]=wf[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function Oz(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(r[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=n[o]&&n[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function Lw(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=Aw(n[a]||i[a],s)}return o(t),r.forEach(o),Aw(e,s)}function $z(e,t){if(e.icons[t])return Lw(e,t,[]);const r=Oz(e,[t])[t];return r?Lw(e,t,r):null}const Nz=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Iz=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Mw(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(Nz);if(n===null||!n.length)return e;const i=[];let s=n.shift(),o=Iz.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");o=!o}}function zz(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(o+1)}return{defs:r,content:e}}function Wz(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Hz(e,t,r){const n=zz(e);return Wz(n.defs,t+n.content+r)}const qz=e=>e==="unset"||e==="undefined"||e==="none";function Uz(e,t){const r={...Gj,...e},n={...Pz,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(m=>{const y=[],x=m.hFlip,b=m.vFlip;let v=m.rotate;x?b?v+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):b&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let S;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:S=i.height/2+i.top,y.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:S=i.width/2+i.left,y.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}v%2===1&&(i.left!==i.top&&(S=i.left,i.left=i.top,i.top=S),i.width!==i.height&&(S=i.width,i.width=i.height,i.height=S)),y.length&&(s=Hz(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const o=n.width,a=n.height,l=i.width,c=i.height;let u,h;o===null?(h=a===null?"1em":a==="auto"?c:a,u=Mw(h,l/c)):(u=o==="auto"?l:o,h=a===null?Mw(u,c/l):a==="auto"?c:a);const f={},p=(m,y)=>{qz(y)||(f[m]=y.toString())};p("width",u),p("height",h);const g=[i.left,i.top,l,c];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:s}}const Vz=/\sid="(\S+)"/g,Rw=new Map;function Yz(e){e=e.replace(/[0-9]+$/,"")||"a";const t=Rw.get(e)||0;return Rw.set(e,t+1),t?`${e}${t}`:e}function Gz(e){const t=[];let r;for(;r=Vz.exec(e);)t.push(r[1]);if(!t.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const s=Yz(i),o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}function Xz(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function ob(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Jo=ob();function Xj(e){Jo=e}var Bc={exec:()=>null};function Zt(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Br.caret,"$1"),r=r.replace(i,o),n},getRegex:()=>new RegExp(r,t)};return n}var Qz=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Br={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Kz=/^(?:[ \t]*(?:\n|$))+/,Jz=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Zz=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,t7=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ab=/(?:[*+-]|\d{1,9}[.)])/,Qj=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Kj=Zt(Qj).replace(/bull/g,ab).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),e7=Zt(Qj).replace(/bull/g,ab).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,r7=/^[^\n]+/,cb=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,n7=Zt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",cb).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),i7=Zt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ab).getRegex(),Tp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ub=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,s7=Zt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ub).replace("tag",Tp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jj=Zt(lb).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex(),o7=Zt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Jj).getRegex(),db={blockquote:o7,code:Jz,def:n7,fences:Zz,heading:t7,hr:qu,html:s7,lheading:Kj,list:i7,newline:Kz,paragraph:Jj,table:Bc,text:r7},Bw=Zt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex(),a7={...db,lheading:e7,table:Bw,paragraph:Zt(lb).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Bw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex()},l7={...db,html:Zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ub).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Zt(lb).replace("hr",qu).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Kj).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},c7=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,u7=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Zj=/^( {2,}|\\)\n(?!\s*$)/,d7=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ep=/[\p{P}\p{S}]/u,hb=/[\s\p{P}\p{S}]/u,t5=/[^\s\p{P}\p{S}]/u,h7=Zt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,hb).getRegex(),e5=/(?!~)[\p{P}\p{S}]/u,f7=/(?!~)[\s\p{P}\p{S}]/u,p7=/(?:[^\s\p{P}\p{S}]|~)/u,g7=Zt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Qz?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),r5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,m7=Zt(r5,"u").replace(/punct/g,Ep).getRegex(),x7=Zt(r5,"u").replace(/punct/g,e5).getRegex(),n5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",y7=Zt(n5,"gu").replace(/notPunctSpace/g,t5).replace(/punctSpace/g,hb).replace(/punct/g,Ep).getRegex(),b7=Zt(n5,"gu").replace(/notPunctSpace/g,p7).replace(/punctSpace/g,f7).replace(/punct/g,e5).getRegex(),v7=Zt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,t5).replace(/punctSpace/g,hb).replace(/punct/g,Ep).getRegex(),w7=Zt(/\\(punct)/,"gu").replace(/punct/g,Ep).getRegex(),k7=Zt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),S7=Zt(ub).replace("(?:-->|$)","-->").getRegex(),_7=Zt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",S7).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),kf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,C7=Zt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",kf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),i5=Zt(/^!?\[(label)\]\[(ref)\]/).replace("label",kf).replace("ref",cb).getRegex(),s5=Zt(/^!?\[(ref)\](?:\[\])?/).replace("ref",cb).getRegex(),T7=Zt("reflink|nolink(?!\\()","g").replace("reflink",i5).replace("nolink",s5).getRegex(),Pw=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,fb={_backpedal:Bc,anyPunctuation:w7,autolink:k7,blockSkip:g7,br:Zj,code:u7,del:Bc,emStrongLDelim:m7,emStrongRDelimAst:y7,emStrongRDelimUnd:v7,escape:c7,link:C7,nolink:s5,punctuation:h7,reflink:i5,reflinkSearch:T7,tag:_7,text:d7,url:Bc},E7={...fb,link:Zt(/^!?\[(label)\]\((.*?)\)/).replace("label",kf).getRegex(),reflink:Zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kf).getRegex()},W0={...fb,emStrongRDelimAst:b7,emStrongLDelim:x7,url:Zt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Pw).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Zt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Pw).getRegex()},j7={...W0,br:Zt(Zj).replace("{2,}","*").getRegex(),text:Zt(W0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sd={normal:db,gfm:a7,pedantic:l7},Vl={normal:fb,gfm:W0,breaks:j7,pedantic:E7},A7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fw=e=>A7[e];function fi(e,t){if(t){if(Br.escapeTest.test(e))return e.replace(Br.escapeReplace,Fw)}else if(Br.escapeTestNoEncode.test(e))return e.replace(Br.escapeReplaceNoEncode,Fw);return e}function Dw(e){try{e=encodeURI(e).replace(Br.percentDecode,"%")}catch{return null}return e}function Ow(e,t){var s;let r=e.replace(Br.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(Br.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Br.slashPipe,"|");return n}function Yl(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function L7(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function $w(e,t,r,n,i){let s=t.href,o=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}function M7(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var Sf=class{constructor(t){ot(this,"options");ot(this,"rules");ot(this,"lexer");this.options=t||Jo}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Yl(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=M7(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Yl(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Yl(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=Yl(r[0],`
`).split(`
`),i="",s="",o=[];for(;n.length>0;){let a=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),a=!0;else if(!a)l.push(n[c]);else break;n=n.slice(c);let u=l.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,s=s?`${s}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=f,n.length===0)break;let p=o.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let g=p,m=g.raw+`
`+n.join(`
`),y=this.blockquote(m);o[o.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,s=s.substring(0,s.length-g.text.length)+y.text;break}else if((p==null?void 0:p.type)==="list"){let g=p,m=g.raw+`
`+n.join(`
`),y=this.list(m);o[o.length-1]=y,i=i.substring(0,i.length-p.raw.length)+y.raw,s=s.substring(0,s.length-g.raw.length)+y.raw,n=m.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let o=this.rules.other.listItemRegex(n),a=!1;for(;t;){let c=!1,u="",h="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;u=r[0],t=t.substring(u.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),p=t.split(`
`,1)[0],g=!f.trim(),m=0;if(this.options.pedantic?(m=2,h=f.trimStart()):g?m=r[1].length+1:(m=r[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=f.slice(m),m+=r[1].length),g&&this.rules.other.blankLine.test(p)&&(u+=p+`
`,t=t.substring(p.length+1),c=!0),!c){let b=this.rules.other.nextBulletRegex(m),v=this.rules.other.hrRegex(m),S=this.rules.other.fencesBeginRegex(m),k=this.rules.other.headingBeginRegex(m),C=this.rules.other.htmlBeginRegex(m);for(;t;){let _=t.split(`
`,1)[0],A;if(p=_,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),A=p):A=p.replace(this.rules.other.tabCharGlobal,"    "),S.test(p)||k.test(p)||C.test(p)||b.test(p)||v.test(p))break;if(A.search(this.rules.other.nonSpaceChar)>=m||!p.trim())h+=`
`+A.slice(m);else{if(g||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||S.test(f)||k.test(f)||v.test(f))break;h+=`
`+p}!g&&!p.trim()&&(g=!0),u+=_+`
`,t=t.substring(_.length+1),f=A.slice(m)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let y=null,x;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(x=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!y,checked:x,loose:!1,text:h,tokens:[]}),s.raw+=u}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let u=s.items[c].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){var a;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=Ow(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=r[3])!=null&&a.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(let l of s)o.rows.push(Ow(l,o.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[u]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=Yl(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=L7(r[2],"()");if(o===-2)return;if(o>-1){let a=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,a).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),$w(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return $w(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,o,a,l=s,c=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,r=r.slice(-1*t.length+s);(i=u.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let h=[...i[0]][0].length,f=t.slice(0,s+i.index+h+a);if(Math.min(s,a)%2){let g=f.slice(1,-1);return{type:"em",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}let p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Vn=class H0{constructor(t){ot(this,"tokens");ot(this,"options");ot(this,"state");ot(this,"tokenizer");ot(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Jo,this.options.tokenizer=this.options.tokenizer||new Sf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Br,block:Sd.normal,inline:Vl.normal};this.options.pedantic?(r.block=Sd.pedantic,r.inline=Vl.pedantic):this.options.gfm&&(r.block=Sd.gfm,this.options.breaks?r.inline=Vl.breaks:r.inline=Vl.gfm),this.tokenizer.rules=r}static get rules(){return{block:Sd,inline:Vl}}static lex(t,r){return new H0(r).lex(t)}static lexInline(t,r){return new H0(r).inlineTokens(t)}lex(t){t=t.replace(Br.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,s,o;for(this.options.pedantic&&(t=t.replace(Br.tabCharGlobal,"    ").replace(Br.spaceLine,""));t;){let a;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(a=c.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let c=r.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},r.push(a));continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}let l=t;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a),n=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var l,c,u,h,f;let n=t,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},n))??n;let o=!1,a="";for(;t;){o||(a=""),o=!1;let p;if((h=(u=this.options.extensions)==null?void 0:u.inline)!=null&&h.some(m=>(p=m.call({lexer:this},t,r))?(t=t.substring(p.raw.length),r.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);let m=r.at(-1);p.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=p.raw,m.text+=p.text):r.push(p);continue}if(p=this.tokenizer.emStrong(t,n,a)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),r.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),r.push(p);continue}let g=t;if((f=this.options.extensions)!=null&&f.startInline){let m=1/0,y=t.slice(1),x;this.options.extensions.startInline.forEach(b=>{x=b.call({lexer:this},y),typeof x=="number"&&x>=0&&(m=Math.min(m,x))}),m<1/0&&m>=0&&(g=t.substring(0,m+1))}if(p=this.tokenizer.inlineText(g)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(a=p.raw.slice(-1)),o=!0;let m=r.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=p.raw,m.text+=p.text):r.push(p);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}},_f=class{constructor(t){ot(this,"options");ot(this,"parser");this.options=t||Jo}space(t){return""}code({text:t,lang:r,escaped:n}){var o;let i=(o=(r||"").match(Br.notSpaceStart))==null?void 0:o[0],s=t.replace(Br.endingNewline,"")+`
`;return i?'<pre><code class="language-'+fi(i)+'">'+(n?s:fi(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:fi(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let a=0;a<t.items.length;a++){let l=t.items[a];i+=this.listitem(l)}let s=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(t){var n;let r="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+fi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let o=t.rows[s];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${fi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=Dw(t);if(s===null)return i;t=s;let o='<a href="'+t+'"';return r&&(o+=' title="'+fi(r)+'"'),o+=">"+i+"</a>",o}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=Dw(t);if(s===null)return fi(n);t=s;let o=`<img src="${t}" alt="${n}"`;return r&&(o+=` title="${fi(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:fi(t.text)}},pb=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Yn=class q0{constructor(t){ot(this,"options");ot(this,"renderer");ot(this,"textRenderer");this.options=t||Jo,this.options.renderer=this.options.renderer||new _f,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pb}static parse(t,r){return new q0(r).parse(t)}static parseInline(t,r){return new q0(r).parseInline(t)}parse(t,r=!0){var i,s;let n="";for(let o=0;o<t.length;o++){let a=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){n+=u||"";continue}}let l=a;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"def":{n+=this.renderer.def(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<t.length&&t[o+1].type==="text";)c=t[++o],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r=this.renderer){var i,s;let n="";for(let o=0;o<t.length;o++){let a=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=c||"";continue}}let l=a;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Wd,uc=(Wd=class{constructor(t){ot(this,"options");ot(this,"block");this.options=t||Jo}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Vn.lex:Vn.lexInline}provideParser(){return this.block?Yn.parse:Yn.parseInline}},ot(Wd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ot(Wd,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Wd),R7=class{constructor(...t){ot(this,"defaults",ob());ot(this,"options",this.setOptions);ot(this,"parse",this.parseMarkdown(!0));ot(this,"parseInline",this.parseMarkdown(!1));ot(this,"Parser",Yn);ot(this,"Renderer",_f);ot(this,"TextRenderer",pb);ot(this,"Lexer",Vn);ot(this,"Tokenizer",Sf);ot(this,"Hooks",uc);this.use(...t)}walkTokens(t,r){var i,s;let n=[];for(let o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{let a=o;for(let l of a.header)n=n.concat(this.walkTokens(l.tokens,r));for(let l of a.rows)for(let c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{let a=o;n=n.concat(this.walkTokens(a.items,r));break}default:{let a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=r.renderers[s.name];o?r.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[s.level];o?o.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new _f(this.defaults);for(let o in n.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=n.renderer[a],c=s[a];s[a]=(...u)=>{let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Sf(this.defaults);for(let o in n.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=n.tokenizer[a],c=s[a];s[a]=(...u)=>{let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new uc;for(let o in n.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=n.hooks[a],c=s[a];uc.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async&&uc.passThroughHooksRespectAsync.has(o))return(async()=>{let f=await l.call(s,u);return c.call(s,f)})();let h=l.call(s,u);return c.call(s,h)}:s[a]=(...u)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(s,u);return f===!1&&(f=await c.apply(s,u)),f})();let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Vn.lex(t,r??this.defaults)}parser(t,r){return Yn.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():t?Vn.lex:Vn.lexInline)(a,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let u=await(s.hooks?await s.hooks.provideParser():t?Yn.parse:Yn.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(u):u})().catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let a=(s.hooks?s.hooks.provideLexer():t?Vn.lex:Vn.lexInline)(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?Yn.parse:Yn.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+fi(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},zo=new R7;function ne(e,t){return zo.parse(e,t)}ne.options=ne.setOptions=function(e){return zo.setOptions(e),ne.defaults=zo.defaults,Xj(ne.defaults),ne};ne.getDefaults=ob;ne.defaults=Jo;ne.use=function(...e){return zo.use(...e),ne.defaults=zo.defaults,Xj(ne.defaults),ne};ne.walkTokens=function(e,t){return zo.walkTokens(e,t)};ne.parseInline=zo.parseInline;ne.Parser=Yn;ne.parser=Yn.parse;ne.Renderer=_f;ne.TextRenderer=pb;ne.Lexer=Vn;ne.lexer=Vn.lex;ne.Tokenizer=Sf;ne.Hooks=uc;ne.parse=ne;ne.options;ne.setOptions;ne.use;ne.walkTokens;ne.parseInline;Yn.parse;Vn.lex;function o5(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(a,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?a.concat(c.map(function(u){var h,f;return(f=(h=u.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(a){return a.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(a,l){var c=o.match(/(?:^|\n)( *)$/),u=c?c[1]:"",h=a;typeof a=="string"&&a.includes(`
`)&&(h=String(a).split(`
`).map(function(f,p){return p===0?f:""+u+f}).join(`
`)),o+=h+n[l+1]}),o}var B7={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},U0=new Map,a5=new Map,P7=w(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(rt.debug("Registering icon pack:",t.name),"loader"in t)a5.set(t.name,t.loader);else if("icons"in t)U0.set(t.name,t.icons);else throw rt.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),l5=w(async(e,t)=>{const r=Fz(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=U0.get(n);if(!i){const o=a5.get(n);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await o(),prefix:n},U0.set(n,i)}catch(a){throw rt.error(a),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=$z(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),F7=w(async e=>{try{return await l5(e),!0}catch{return!1}},"isIconAvailable"),Uu=w(async(e,t,r)=>{let n;try{n=await l5(e,t==null?void 0:t.fallbackPrefix)}catch(o){rt.error(o),n=B7}const i=Uz(n,t),s=Xz(Gz(i.body),{...i.attributes,...r});return Rn(s,vr())},"getIconSVG");function c5(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=o5(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}w(c5,"preprocessMarkdown");function u5(e,t={}){const r=c5(e,t),n=ne.lexer(r),i=[[]];let s=0;function o(a,l="normal"){a.type==="text"?a.text.split(`
`).forEach((u,h)=>{h!==0&&(s++,i.push([])),u.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[s].push({content:f,type:l})})}):a.type==="strong"||a.type==="em"?a.tokens.forEach(c=>{o(c,a.type)}):a.type==="html"&&i[s].push({content:a.text,type:"normal"})}return w(o,"processNode"),n.forEach(a=>{var l;a.type==="paragraph"?(l=a.tokens)==null||l.forEach(c=>{o(c)}):a.type==="html"?i[s].push({content:a.text,type:"normal"}):i[s].push({content:a.raw,type:"normal"})}),i}w(u5,"markdownToLines");function d5(e,{markdownAutoWrap:t}={}){const r=ne.lexer(e);function n(i){var s,o,a;return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(n).join("")}</strong>`:i.type==="em"?`<em>${(o=i.tokens)==null?void 0:o.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(a=i.tokens)==null?void 0:a.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(rt.warn(`Unsupported markdown: ${i.type}`),i.raw)}return w(n,"output"),r.map(n).join("")}w(d5,"markdownToHTML");function h5(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}w(h5,"splitTextToChars");function f5(e,t){const r=h5(t.content);return gb(e,[],r,t.type)}w(f5,"splitWordToFitWidth");function gb(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,o=[...t,i];return e([{content:o.join(""),type:n}])?gb(e,o,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}w(gb,"splitWordToFitWidthRecursion");function p5(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Cf(e,t)}w(p5,"splitLineToFitWidth");function Cf(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},o=[...n];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),t(o))return Cf(e,t,r,o);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[a,l]=f5(t,s);r.push([a]),l.content&&e.unshift(l)}return Cf(e,t,r)}w(Cf,"splitLineToFitWidthRecursion");function V0(e,t){t&&e.attr("style",t)}w(V0,"applyStyle");async function g5(e,t,r,n,i=!1,s=vr()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const a=o.append("xhtml:div"),l=rl(t.label)?await Sy(t.label.replace(xl.lineBreakRegex,`
`),s):Rn(t.label,s),c=t.isNode?"nodeLabel":"edgeLabel",u=a.append("span");u.html(l),V0(u,t.labelStyle),u.attr("class",`${c} ${n}`),V0(a,t.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("line-height","1.5"),a.style("max-width",r+"px"),a.style("text-align","center"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&a.attr("class","labelBkg");let h=a.node().getBoundingClientRect();return h.width===r&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",r+"px"),h=a.node().getBoundingClientRect()),o.node()}w(g5,"addHtmlSpan");function jp(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}w(jp,"createTspan");function m5(e,t,r){const n=e.append("text"),i=jp(n,1,t);Ap(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}w(m5,"computeWidthOfText");function D7(e,t,r){var o;const n=e.append("text"),i=jp(n,1,t);Ap(i,[{content:r,type:"normal"}]);const s=(o=i.node())==null?void 0:o.getBoundingClientRect();return s&&n.remove(),s}w(D7,"computeDimensionOfText");function x5(e,t,r,n=!1){const s=t.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),a=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const u=w(f=>m5(s,1.1,f)<=e,"checkWidth"),h=u(c)?[c]:p5(c,u);for(const f of h){const p=jp(a,l,1.1);Ap(p,f),l++}}if(n){const c=a.node().getBBox(),u=2;return o.attr("x",c.x-u).attr("y",c.y-u).attr("width",c.width+2*u).attr("height",c.height+2*u),s.node()}else return a.node()}w(x5,"createFormattedText");function Ap(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}w(Ap,"updateTextContentAndStyles");async function y5(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,o)=>(r.push((async()=>{const a=`${s}:${o}`;return await F7(a)?await Uu(a,void 0,{class:"label-icon"}):`<i class='${Rn(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}w(y5,"replaceIconSubstring");var Vs=w(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:a=200,addSvgBackground:l=!1}={},c)=>{if(rt.debug("XYZ createText",t,r,n,i,s,o,"addSvgBackground: ",l),s){const u=d5(t,c),h=await y5(Ko(u),c),f=t.replace(/\\\\/g,"\\"),p={isNode:o,label:rl(t)?f:h,labelStyle:r.replace("fill:","color:")};return await g5(e,p,a,i,l,c)}else{const u=t.replace(/<br\s*\/?>/g,"<br/>"),h=u5(u.replace("<br>","<br/>"),c),f=x5(a,e,h,t?l:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(f).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Xt(f).select("rect").attr("style",p.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Xt(f).select("text").attr("style",g)}return f}},"createText");function Ig(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,o=Math.cos(s),a=Math.sin(s);for(const l of e){const[c,u]=l;l[0]=(c-n)*o-(u-i)*a+n,l[1]=(c-n)*a+(u-i)*o+i}}}function O7(e,t){return e[0]===t[0]&&e[1]===t[1]}function $7(e,t,r,n=1){const i=r,s=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,a=[0,0];if(i)for(const c of o)Ig(c,a,i);const l=function(c,u,h){const f=[];for(const b of c){const v=[...b];O7(v[0],v[v.length-1])||v.push([v[0][0],v[0][1]]),v.length>2&&f.push(v)}const p=[];u=Math.max(u,.1);const g=[];for(const b of f)for(let v=0;v<b.length-1;v++){const S=b[v],k=b[v+1];if(S[1]!==k[1]){const C=Math.min(S[1],k[1]);g.push({ymin:C,ymax:Math.max(S[1],k[1]),x:C===S[1]?S[0]:k[0],islope:(k[0]-S[0])/(k[1]-S[1])})}}if(g.sort((b,v)=>b.ymin<v.ymin?-1:b.ymin>v.ymin?1:b.x<v.x?-1:b.x>v.x?1:b.ymax===v.ymax?0:(b.ymax-v.ymax)/Math.abs(b.ymax-v.ymax)),!g.length)return p;let m=[],y=g[0].ymin,x=0;for(;m.length||g.length;){if(g.length){let b=-1;for(let v=0;v<g.length&&!(g[v].ymin>y);v++)b=v;g.splice(0,b+1).forEach(v=>{m.push({s:y,edge:v})})}if(m=m.filter(b=>!(b.edge.ymax<=y)),m.sort((b,v)=>b.edge.x===v.edge.x?0:(b.edge.x-v.edge.x)/Math.abs(b.edge.x-v.edge.x)),(h!==1||x%u==0)&&m.length>1)for(let b=0;b<m.length;b+=2){const v=b+1;if(v>=m.length)break;const S=m[b].edge,k=m[v].edge;p.push([[Math.round(S.x),y],[Math.round(k.x),y]])}y+=h,m.forEach(b=>{b.edge.x=b.edge.x+h*b.edge.islope}),x++}return p}(o,s,n);if(i){for(const c of o)Ig(c,a,-i);(function(c,u,h){const f=[];c.forEach(p=>f.push(...p)),Ig(f,u,h)})(l,a,-i)}return l}function Vu(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),$7(e,i,n,s||1)}class mb{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=Vu(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Lp(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class N7 extends mb{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Vu(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,o=[],a=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,u]of i)Lp([c,u])&&o.push([[c[0]-a,c[1]+l],[...u]],[[c[0]+a,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class I7 extends mb{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class z7{constructor(t){this.helper=t}fillPolygons(t,r){const n=Vu(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=i/4;for(const a of t){const l=Lp(a),c=l/i,u=Math.ceil(c)-1,h=l-u*i,f=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let g=0;g<u;g++){const m=p+h+g*i,y=f-o+2*Math.random()*o,x=m-o+2*Math.random()*o,b=this.helper.ellipse(y,x,s,s,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class W7{constructor(t){this.helper=t}fillPolygons(t,r){const n=Vu(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(o=>{const a=Lp(o),l=Math.floor(a/(n+i)),c=(a+i-l*(n+i))/2;let u=o[0],h=o[1];u[0]>h[0]&&(u=o[1],h=o[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<l;p++){const g=p*(n+i),m=g+n,y=[u[0]+g*Math.cos(f)+c*Math.cos(f),u[1]+g*Math.sin(f)+c*Math.sin(f)],x=[u[0]+m*Math.cos(f)+c*Math.cos(f),u[1]+m*Math.sin(f)+c*Math.sin(f)];s.push(...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],r))}}),s}}class H7{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=Vu(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const o=Lp(s),a=Math.round(o/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<a;h++){const f=2*h*r,p=2*(h+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],y=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],x=[m[0]+g*Math.cos(u+Math.PI/4),m[1]+g*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],x[0],x[1],n),...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],n))}}),i}}const Vr={};class q7{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const U7=0,zg=1,Nw=2,_d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Wg(e,t){return e.type===t}function xb(e){const t=[],r=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:U7,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:zg,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:Nw,text:""},a}(e);let n="BOD",i=0,s=r[i];for(;!Wg(s,Nw);){let o=0;const a=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return xb("M0,0"+e);i++,o=_d[s.text],n=s.text}else Wg(s,zg)?o=_d[n]:(i++,o=_d[s.text],n=s.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const c=r[l];if(!Wg(c,zg))throw new Error("Param not a number: "+n+","+c.text);a[a.length]=+c.text}if(typeof _d[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:a};t.push(l),i+=o,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function b5(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:o,data:a}of e)switch(o){case"M":s.push({key:"M",data:[...a]}),[t,r]=a,[n,i]=a;break;case"m":t+=a[0],r+=a[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...a]}),[t,r]=a;break;case"l":t+=a[0],r+=a[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],r=a[5];break;case"c":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],r=a[3];break;case"q":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],r=a[6];break;case"a":t+=a[5],r+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,r]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),r=a[0];break;case"v":r+=a[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],r=a[3];break;case"s":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],r=a[1];break;case"t":t+=a[0],r+=a[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function v5(e){const t=[];let r="",n=0,i=0,s=0,o=0,a=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[n,i]=u,[s,o]=u;break;case"C":t.push({key:"C",data:[...u]}),n=u[4],i=u[5],a=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],t.push({key:"L",data:[n,i]});break;case"V":i=u[0],t.push({key:"L",data:[n,i]});break;case"S":{let h=0,f=0;r==="C"||r==="S"?(h=n+(n-a),f=i+(i-l)):(h=n,f=i),t.push({key:"C",data:[h,f,...u]}),a=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[h,f]=u;let p=0,g=0;r==="Q"||r==="T"?(p=n+(n-a),g=i+(i-l)):(p=n,g=i);const m=n+2*(p-n)/3,y=i+2*(g-i)/3,x=h+2*(p-h)/3,b=f+2*(g-f)/3;t.push({key:"C",data:[m,y,x,b,h,f]}),a=p,l=g,n=h,i=f;break}case"Q":{const[h,f,p,g]=u,m=n+2*(h-n)/3,y=i+2*(f-i)/3,x=p+2*(h-p)/3,b=g+2*(f-g)/3;t.push({key:"C",data:[m,y,x,b,p,g]}),a=h,l=f,n=p,i=g;break}case"A":{const h=Math.abs(u[0]),f=Math.abs(u[1]),p=u[2],g=u[3],m=u[4],y=u[5],x=u[6];h===0||f===0?(t.push({key:"C",data:[n,i,y,x,y,x]}),n=y,i=x):(n!==y||i!==x)&&(w5(n,i,y,x,h,f,p,g,m).forEach(function(b){t.push({key:"C",data:b})}),n=y,i=x);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=o}r=c}return t}function Gl(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function w5(e,t,r,n,i,s,o,a,l,c){const u=(h=o,Math.PI*h/180);var h;let f=[],p=0,g=0,m=0,y=0;if(c)[p,g,m,y]=c;else{[e,t]=Gl(e,t,-u),[r,n]=Gl(r,n,-u);const N=(e-r)/2,M=(t-n)/2;let E=N*N/(i*i)+M*M/(s*s);E>1&&(E=Math.sqrt(E),i*=E,s*=E);const L=i*i,B=s*s,j=L*B-L*M*M-B*N*N,P=L*M*M+B*N*N,I=(a===l?-1:1)*Math.sqrt(Math.abs(j/P));m=I*i*M/s+(e+r)/2,y=I*-s*N/i+(t+n)/2,p=Math.asin(parseFloat(((t-y)/s).toFixed(9))),g=Math.asin(parseFloat(((n-y)/s).toFixed(9))),e<m&&(p=Math.PI-p),r<m&&(g=Math.PI-g),p<0&&(p=2*Math.PI+p),g<0&&(g=2*Math.PI+g),l&&p>g&&(p-=2*Math.PI),!l&&g>p&&(g-=2*Math.PI)}let x=g-p;if(Math.abs(x)>120*Math.PI/180){const N=g,M=r,E=n;g=l&&g>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=w5(r=m+i*Math.cos(g),n=y+s*Math.sin(g),M,E,i,s,o,0,l,[g,N,m,y])}x=g-p;const b=Math.cos(p),v=Math.sin(p),S=Math.cos(g),k=Math.sin(g),C=Math.tan(x/4),_=4/3*i*C,A=4/3*s*C,O=[e,t],F=[e+_*v,t-A*b],$=[r+_*k,n-A*S],H=[r,n];if(F[0]=2*O[0]-F[0],F[1]=2*O[1]-F[1],c)return[F,$,H].concat(f);{f=[F,$,H].concat(f);const N=[];for(let M=0;M<f.length;M+=3){const E=Gl(f[M][0],f[M][1],u),L=Gl(f[M+1][0],f[M+1][1],u),B=Gl(f[M+2][0],f[M+2][1],u);N.push([E[0],E[1],L[0],L[1],B[0],B[1]])}return N}}const V7={randOffset:function(e,t){return Pt(e,t)},randOffsetWithRange:function(e,t,r){return Tf(e,t,r)},ellipse:function(e,t,r,n,i){const s=S5(r,n,i);return Y0(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return Os(e,t,r,n,i,!0)}};function k5(e,t,r,n,i){return{type:"path",ops:Os(e,t,r,n,i)}}function fh(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...Os(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...Os(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?k5(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Y7(e,t,r,n,i){return function(s,o){return fh(s,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Iw(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=Cd(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Cd(r[0],1.5*(1+.22*t.roughness),Hw(t));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const a=Cd(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:Cd(o,1.5*(1+.22*t.roughness),Hw(t));for(const c of a)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function S5(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let o=Math.abs(e/2),a=Math.abs(t/2);const l=1-r.curveFitting;return o+=Pt(o*l,r),a+=Pt(a*l,r),{increment:s,rx:o,ry:a}}function Y0(e,t,r,n){const[i,s]=qw(n.increment,e,t,n.rx,n.ry,1,n.increment*Tf(.1,Tf(.4,1,r),r),r);let o=Ef(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[a]=qw(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Ef(a,null,r);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function zw(e,t,r,n,i,s,o,a,l){const c=e,u=t;let h=Math.abs(r/2),f=Math.abs(n/2);h+=Pt(.01*h,l),f+=Pt(.01*f,l);let p=i,g=s;for(;p<0;)p+=2*Math.PI,g+=2*Math.PI;g-p>2*Math.PI&&(p=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-p)/2),x=Uw(y,c,u,h,f,p,g,1,l);if(!l.disableMultiStroke){const b=Uw(y,c,u,h,f,p,g,1.5,l);x.push(...b)}return o&&(a?x.push(...Os(c,u,c+h*Math.cos(p),u+f*Math.sin(p),l),...Os(c,u,c+h*Math.cos(g),u+f*Math.sin(g),l)):x.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(p),u+f*Math.sin(p)]})),{type:"path",ops:x}}function Ww(e,t){const r=v5(b5(xb(e))),n=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of r)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":n.push(...Os(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]];break;case"C":{const[l,c,u,h,f,p]=a;n.push(...G7(l,c,u,h,f,p,s,t)),s=[f,p];break}case"Z":n.push(...Os(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Hg(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+Pt(i,t),n[0][1]+Pt(i,t)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[n[o][0]+Pt(i,t),n[o][1]+Pt(i,t)]})}}return{type:"fillPath",ops:r}}function ca(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!Vr[i])switch(i){case"zigzag":Vr[i]||(Vr[i]=new N7(n));break;case"cross-hatch":Vr[i]||(Vr[i]=new I7(n));break;case"dots":Vr[i]||(Vr[i]=new z7(n));break;case"dashed":Vr[i]||(Vr[i]=new W7(n));break;case"zigzag-line":Vr[i]||(Vr[i]=new H7(n));break;default:i="hachure",Vr[i]||(Vr[i]=new mb(n))}return Vr[i]}(t,V7).fillPolygons(e,t)}function Hw(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function _5(e){return e.randomizer||(e.randomizer=new q7(e.seed||0)),e.randomizer.next()}function Tf(e,t,r,n=1){return r.roughness*n*(_5(r)*(t-e)+e)}function Pt(e,t,r=1){return Tf(-e,e,t,r)}function Os(e,t,r,n,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=G0(e,t,r,n,i,!0,!1);if(o)return a;const l=G0(e,t,r,n,i,!0,!0);return a.concat(l)}function G0(e,t,r,n,i,s,o){const a=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const h=u/2,f=.2+.2*_5(i);let p=i.bowing*i.maxRandomnessOffset*(n-t)/200,g=i.bowing*i.maxRandomnessOffset*(e-r)/200;p=Pt(p,i,c),g=Pt(g,i,c);const m=[],y=()=>Pt(h,i,c),x=()=>Pt(u,i,c),b=i.preserveVertices;return o?m.push({op:"move",data:[e+(b?0:y()),t+(b?0:y())]}):m.push({op:"move",data:[e+(b?0:Pt(u,i,c)),t+(b?0:Pt(u,i,c))]}),o?m.push({op:"bcurveTo",data:[p+e+(r-e)*f+y(),g+t+(n-t)*f+y(),p+e+2*(r-e)*f+y(),g+t+2*(n-t)*f+y(),r+(b?0:y()),n+(b?0:y())]}):m.push({op:"bcurveTo",data:[p+e+(r-e)*f+x(),g+t+(n-t)*f+x(),p+e+2*(r-e)*f+x(),g+t+2*(n-t)*f+x(),r+(b?0:x()),n+(b?0:x())]}),m}function Cd(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+Pt(t,r),e[0][1]+Pt(t,r)]),n.push([e[0][0]+Pt(t,r),e[0][1]+Pt(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+Pt(t,r),e[i][1]+Pt(t,r)]),i===e.length-1&&n.push([e[i][0]+Pt(t,r),e[i][1]+Pt(t,r)]);return Ef(n,null,r)}function Ef(e,t,r){const n=e.length,i=[];if(n>3){const s=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<n;a++){const l=e[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*e[a+1][0]-o*e[a-1][0])/6,l[1]+(o*e[a+1][1]-o*e[a-1][1])/6],s[2]=[e[a+1][0]+(o*e[a][0]-o*e[a+2][0])/6,e[a+1][1]+(o*e[a][1]-o*e[a+2][1])/6],s[3]=[e[a+1][0],e[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...G0(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function qw(e,t,r,n,i,s,o,a){const l=[],c=[];if(a.roughness===0){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let u=0;u<=2*Math.PI;u+=e){const h=[t+n*Math.cos(u),r+i*Math.sin(u)];l.push(h),c.push(h)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const u=Pt(.5,a)-Math.PI/2;c.push([Pt(s,a)+t+.9*n*Math.cos(u-e),Pt(s,a)+r+.9*i*Math.sin(u-e)]);const h=2*Math.PI+u-.01;for(let f=u;f<h;f+=e){const p=[Pt(s,a)+t+n*Math.cos(f),Pt(s,a)+r+i*Math.sin(f)];l.push(p),c.push(p)}c.push([Pt(s,a)+t+n*Math.cos(u+2*Math.PI+.5*o),Pt(s,a)+r+i*Math.sin(u+2*Math.PI+.5*o)]),c.push([Pt(s,a)+t+.98*n*Math.cos(u+o),Pt(s,a)+r+.98*i*Math.sin(u+o)]),c.push([Pt(s,a)+t+.9*n*Math.cos(u+.5*o),Pt(s,a)+r+.9*i*Math.sin(u+.5*o)])}return[c,l]}function Uw(e,t,r,n,i,s,o,a,l){const c=s+Pt(.1,l),u=[];u.push([Pt(a,l)+t+.9*n*Math.cos(c-e),Pt(a,l)+r+.9*i*Math.sin(c-e)]);for(let h=c;h<=o;h+=e)u.push([Pt(a,l)+t+n*Math.cos(h),Pt(a,l)+r+i*Math.sin(h)]);return u.push([t+n*Math.cos(o),r+i*Math.sin(o)]),u.push([t+n*Math.cos(o),r+i*Math.sin(o)]),Ef(u,null,l)}function G7(e,t,r,n,i,s,o,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let u=[0,0];const h=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let p=0;p<h;p++)p===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(f?0:Pt(c[0],a)),o[1]+(f?0:Pt(c[0],a))]}),u=f?[i,s]:[i+Pt(c[p],a),s+Pt(c[p],a)],l.push({op:"bcurveTo",data:[e+Pt(c[p],a),t+Pt(c[p],a),r+Pt(c[p],a),n+Pt(c[p],a),u[0],u[1]]});return l}function Xl(e){return[...e]}function Vw(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Xl(e[0]),Xl(e[1]),Xl(e[2]),Xl(e[2]));else{const i=[];i.push(e[0],e[0]);for(let a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);const s=[],o=1-t;n.push(Xl(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],n.push(s[1],s[2],s[3])}}return n}function ph(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function X7(e,t,r){const n=ph(t,r);if(n===0)return ph(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),ph(e,ao(t,r,i))}function ao(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function X0(e,t,r,n){const i=n||[];if(function(a,l){const c=a[l+0],u=a[l+1],h=a[l+2],f=a[l+3];let p=3*u[0]-2*c[0]-f[0];p*=p;let g=3*u[1]-2*c[1]-f[1];g*=g;let m=3*h[0]-2*f[0]-c[0];m*=m;let y=3*h[1]-2*f[1]-c[1];return y*=y,p<m&&(p=m),g<y&&(g=y),p+g}(e,t)<r){const a=e[t+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(ph(s,o))>1&&i.push(a)):i.push(a),i.push(e[t+3])}else{const l=e[t+0],c=e[t+1],u=e[t+2],h=e[t+3],f=ao(l,c,.5),p=ao(c,u,.5),g=ao(u,h,.5),m=ao(f,p,.5),y=ao(p,g,.5),x=ao(m,y,.5);X0([l,f,m,x],0,r,i),X0([x,y,g,h],0,r,i)}var s,o;return i}function Q7(e,t){return jf(e,0,e.length,t)}function jf(e,t,r,n,i){const s=i||[],o=e[t],a=e[r-1];let l=0,c=1;for(let u=t+1;u<r-1;++u){const h=X7(e[u],o,a);h>l&&(l=h,c=u)}return Math.sqrt(l)>n?(jf(e,t,c+1,n,s),jf(e,c,r,n,s)):(s.length||s.push(o),s.push(a)),s}function qg(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)X0(e,3*s,t,n);return r&&r>0?jf(n,0,n.length,r):n}const dn="none";class Af{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const o=this._o(s);return this._d("line",[k5(t,r,n,i,o)],o)}rectangle(t,r,n,i,s){const o=this._o(s),a=[],l=Y7(t,r,n,i,o);if(o.fill){const c=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];o.fillStyle==="solid"?a.push(Hg([c],o)):a.push(ca([c],o))}return o.stroke!==dn&&a.push(l),this._d("rectangle",a,o)}ellipse(t,r,n,i,s){const o=this._o(s),a=[],l=S5(n,i,o),c=Y0(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){const u=Y0(t,r,o,l).opset;u.type="fillPath",a.push(u)}else a.push(ca([c.estimatedPoints],o));return o.stroke!==dn&&a.push(c.opset),this._d("ellipse",a,o)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[fh(t,!1,n)],n)}arc(t,r,n,i,s,o,a=!1,l){const c=this._o(l),u=[],h=zw(t,r,n,i,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const p=zw(t,r,n,i,s,o,!0,!1,f);p.type="fillPath",u.push(p)}else u.push(function(f,p,g,m,y,x,b){const v=f,S=p;let k=Math.abs(g/2),C=Math.abs(m/2);k+=Pt(.01*k,b),C+=Pt(.01*C,b);let _=y,A=x;for(;_<0;)_+=2*Math.PI,A+=2*Math.PI;A-_>2*Math.PI&&(_=0,A=2*Math.PI);const O=(A-_)/b.curveStepCount,F=[];for(let $=_;$<=A;$+=O)F.push([v+k*Math.cos($),S+C*Math.sin($)]);return F.push([v+k*Math.cos(A),S+C*Math.sin(A)]),F.push([v,S]),ca([F],b)}(t,r,n,i,s,o,c));return c.stroke!==dn&&u.push(h),this._d("arc",u,c)}curve(t,r){const n=this._o(r),i=[],s=Iw(t,n);if(n.fill&&n.fill!==dn)if(n.fillStyle==="solid"){const o=Iw(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=t;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...qg(Vw([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):o.push(...qg(Vw(c),10,(1+n.roughness)/2))}o.length&&i.push(ca([o],n))}return n.stroke!==dn&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=fh(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Hg([t],n)):i.push(ca([t],n))),n.stroke!==dn&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==dn,o=n.stroke!==dn,a=!!(n.simplification&&n.simplification<1),l=function(u,h,f){const p=v5(b5(xb(u))),g=[];let m=[],y=[0,0],x=[];const b=()=>{x.length>=4&&m.push(...qg(x,h)),x=[]},v=()=>{b(),m.length&&(g.push(m),m=[])};for(const{key:k,data:C}of p)switch(k){case"M":v(),y=[C[0],C[1]],m.push(y);break;case"L":b(),m.push([C[0],C[1]]);break;case"C":if(!x.length){const _=m.length?m[m.length-1]:y;x.push([_[0],_[1]])}x.push([C[0],C[1]]),x.push([C[2],C[3]]),x.push([C[4],C[5]]);break;case"Z":b(),m.push([y[0],y[1]])}if(v(),!f)return g;const S=[];for(const k of g){const C=Q7(k,f);C.length&&S.push(C)}return S}(t,1,a?4-4*(n.simplification||1):(1+n.roughness)/2),c=Ww(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const u=Ww(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(Hg(l,n));else i.push(ca(l,n));return o&&(a?l.forEach(u=>{i.push(fh(u,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(o=>+o.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:dn};break;case"fillPath":o={d:this.opsToPath(s),stroke:dn,strokeWidth:0,fill:n.fill||dn};break;case"fillSketch":o=this.fillSketch(s,n)}o&&i.push(o)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||dn,strokeWidth:n,fill:dn}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class K7{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Af(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const o=typeof n=="number"&&n>=0?s.data.map(a=>+a.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o),o}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o),o}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o),o}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,o,a=!1,l){const c=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(c),c}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const Td="http://www.w3.org/2000/svg";class J7{constructor(t,r){this.svg=t,this.gen=new Af(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Td,"g"),o=t.options.fixedDecimalPlaceDigits;for(const a of r){let l=null;switch(a.type){case"path":l=i.createElementNS(Td,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Td,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(Td,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o)}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o)}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,o,a=!1,l){const c=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(c)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var wt={canvas:(e,t)=>new K7(e,t),svg:(e,t)=>new J7(e,t),generator:e=>new Af(e),newSeed:()=>Af.newSeed()},Bt=w(async(e,t,r)=>{var h,f;let n;const i=t.useHtmlLabels||qe((h=re())==null?void 0:h.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=s.insert("g").attr("class","label").attr("style",kr(t.labelStyle));let a;t.label===void 0?a="":a=typeof t.label=="string"?t.label:t.label[0];const l=await Vs(o,Rn(Ko(a),re()),{useHtmlLabels:i,width:t.width||((f=re().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const u=((t==null?void 0:t.padding)??0)/2;if(i){const p=l.children[0],g=Xt(l),m=p.getElementsByTagName("img");if(m){const y=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(x=>new Promise(b=>{function v(){if(x.style.display="flex",x.style.flexDirection="column",y){const S=re().fontSize?re().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[C=OC.fontSize]=Cp(S),_=C*k+"px";x.style.minWidth=_,x.style.maxWidth=_}else x.style.width="100%";b(x)}w(v,"setupImage"),setTimeout(()=>{x.complete&&v()}),x.addEventListener("error",v),x.addEventListener("load",v)})))}c=p.getBoundingClientRect(),g.attr("width",c.width),g.attr("height",c.height)}return i?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:u,label:o}},"labelHelper"),Ug=w(async(e,t,r)=>{var l,c,u,h,f,p;const n=r.useHtmlLabels||qe((c=(l=re())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Vs(i,Rn(Ko(t),re()),{useHtmlLabels:n,width:r.width||((h=(u=re())==null?void 0:u.flowchart)==null?void 0:h.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=s.getBBox();const a=r.padding/2;if(qe((p=(f=re())==null?void 0:f.flowchart)==null?void 0:p.htmlLabels)){const g=s.children[0],m=Xt(s);o=g.getBoundingClientRect(),m.attr("width",o.width),m.attr("height",o.height)}return n?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:a,label:i}},"insertLabel"),_t=w((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Mt=w((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function qt(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}w(qt,"createPathFromPoints");function $s(e,t,r,n,i,s){const o=[],l=r-e,c=n-t,u=l/s,h=2*Math.PI/u,f=t+c/2;for(let p=0;p<=50;p++){const g=p/50,m=e+g*l,y=f+i*Math.sin(h*(m-e));o.push({x:m,y})}return o}w($s,"generateFullSineWavePoints");function gu(e,t,r,n,i,s){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(gu,"generateCirclePoints");var Z7=w((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,a=e.height/2,l,c;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,c=a):(i<0&&(o=-o),l=o,c=i===0?0:o*s/i),{x:r+l,y:n+c}},"intersectRect"),wl=Z7;function C5(e,t){t&&e.attr("style",t)}w(C5,"applyStyle");async function T5(e){const t=Xt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=re();let i=e.label;e.label&&rl(e.label)&&(i=await Sy(e.label.replace(xl.lineBreakRegex,`
`),n));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Rn(o,n)),C5(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}w(T5,"addHtmlLabel");var tW=w(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),qe(re().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),rt.info("vertexText"+i);const s={isNode:n,label:Ko(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await T5(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},"createLabel"),vo=tW,Ys=w((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),E5=w(async(e,t)=>{rt.info("Creating subgraph rect for ",t.id,t);const r=re(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:o}=n,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=St(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=qe(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),g=await Vs(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let m=g.getBBox();if(qe(r.flowchart.htmlLabels)){const _=g.children[0],A=Xt(g);m=_.getBoundingClientRect(),A.attr("width",m.width),A.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-y/2,v=t.y-x/2;rt.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const _=wt.svg(h),A=kt(t,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),O=_.path(Ys(b,v,y,x,0),A);S=h.insert(()=>(rt.debug("Rough node insert CXC",O),O),":first-child"),S.select("path:nth-child(2)").attr("style",c.join(";")),S.select("path").attr("style",u.join(";").replace("fill","stroke"))}else S=h.insert("rect",":first-child"),S.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",v).attr("width",y).attr("height",x);const{subGraphTitleTopMargin:k}=Gy(r);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),a){const _=p.select("span");_&&_.attr("style",a)}const C=S.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=m.height-t.padding/2,t.intersect=function(_){return wl(t,_)},{cluster:h,labelBBox:m}},"rect"),eW=w((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(a){return wl(t,a)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),rW=w(async(e,t)=>{const r=re(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:o,compositeTitleBackground:a,nodeBorder:l}=n,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),u=c.insert("g",":first-child"),h=c.insert("g").attr("class","cluster-label");let f=c.append("rect");const p=h.node().appendChild(await vo(t.label,t.labelStyle,void 0,!0));let g=p.getBBox();if(qe(r.flowchart.htmlLabels)){const O=p.children[0],F=Xt(p);g=O.getBoundingClientRect(),F.attr("width",g.width),F.attr("height",g.height)}const m=0*t.padding,y=m/2,x=(t.width<=g.width+t.padding?g.width+t.padding:t.width)+m;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+m,v=t.height+m-g.height-6,S=t.x-x/2,k=t.y-b/2;t.width=x;const C=t.y-t.height/2-y+g.height+2;let _;if(t.look==="handDrawn"){const O=t.cssClasses.includes("statediagram-cluster-alt"),F=wt.svg(c),$=t.rx||t.ry?F.path(Ys(S,k,x,b,10),{roughness:.7,fill:a,fillStyle:"solid",stroke:l,seed:i}):F.rectangle(S,k,x,b,{seed:i});_=c.insert(()=>$,":first-child");const H=F.rectangle(S,C,x,v,{fill:O?s:o,fillStyle:O?"hachure":"solid",stroke:l,seed:i});_=c.insert(()=>$,":first-child"),f=c.insert(()=>H)}else _=u.insert("rect",":first-child"),_.attr("class","outer").attr("x",S).attr("y",k).attr("width",x).attr("height",b).attr("data-look",t.look),f.attr("class","inner").attr("x",S).attr("y",C).attr("width",x).attr("height",v);h.attr("transform",`translate(${t.x-g.width/2}, ${k+1-(qe(r.flowchart.htmlLabels)?0:3)})`);const A=_.node().getBBox();return t.height=A.height,t.offsetX=0,t.offsetY=g.height-t.padding/2,t.labelBBox=g,t.intersect=function(O){return wl(t,O)},{cluster:c,labelBBox:g}},"roundedWithTitle"),nW=w(async(e,t)=>{rt.info("Creating subgraph rect for ",t.id,t);const r=re(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:o}=n,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=St(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=qe(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),g=await Vs(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let m=g.getBBox();if(qe(r.flowchart.htmlLabels)){const _=g.children[0],A=Xt(g);m=_.getBoundingClientRect(),A.attr("width",m.width),A.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-y/2,v=t.y-x/2;rt.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const _=wt.svg(h),A=kt(t,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),O=_.path(Ys(b,v,y,x,t.rx),A);S=h.insert(()=>(rt.debug("Rough node insert CXC",O),O),":first-child"),S.select("path:nth-child(2)").attr("style",c.join(";")),S.select("path").attr("style",u.join(";").replace("fill","stroke"))}else S=h.insert("rect",":first-child"),S.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",v).attr("width",y).attr("height",x);const{subGraphTitleTopMargin:k}=Gy(r);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),a){const _=p.select("span");_&&_.attr("style",a)}const C=S.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=m.height-t.padding/2,t.intersect=function(_){return wl(t,_)},{cluster:h,labelBBox:m}},"kanbanSection"),iW=w((e,t)=>{const r=re(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),a=o.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const u=t.height+l,h=t.x-c/2,f=t.y-u/2;t.width=c;let p;if(t.look==="handDrawn"){const y=wt.svg(o).rectangle(h,f,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});p=o.insert(()=>y,":first-child")}else p=a.insert("rect",":first-child"),p.attr("class","divider").attr("x",h).attr("y",f).attr("width",c).attr("height",u).attr("data-look",t.look);const g=p.node().getBBox();return t.height=g.height,t.offsetX=0,t.offsetY=0,t.intersect=function(m){return wl(t,m)},{cluster:o,labelBBox:{}}},"divider"),sW=E5,oW={rect:E5,squareRect:sW,roundedWithTitle:rW,noteGroup:eW,divider:iW,kanbanSection:nW},j5=new Map,aW=w(async(e,t)=>{const r=t.shape||"rect",n=await oW[r](e,t);return j5.set(t.id,n),n},"insertCluster"),kJ=w(()=>{j5=new Map},"clear");function A5(e,t){return e.intersect(t)}w(A5,"intersectNode");var lW=A5;function L5(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,a=s-n.y,l=Math.sqrt(t*t*a*a+r*r*o*o),c=Math.abs(t*r*o/l);n.x<i&&(c=-c);var u=Math.abs(t*r*a/l);return n.y<s&&(u=-u),{x:i+c,y:s+u}}w(L5,"intersectEllipse");var M5=L5;function R5(e,t,r){return M5(e,t,t,r)}w(R5,"intersectCircle");var cW=R5;function B5(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,o=t.x*e.y-e.x*t.y,a=i*r.x+s*r.y+o,l=i*n.x+s*n.y+o,c=1e-6;if(a!==0&&l!==0&&Q0(a,l))return;const u=n.y-r.y,h=r.x-n.x,f=n.x*r.y-r.x*n.y,p=u*e.x+h*e.y+f,g=u*t.x+h*t.y+f;if(Math.abs(p)<c&&Math.abs(g)<c&&Q0(p,g))return;const m=i*h-u*s;if(m===0)return;const y=Math.abs(m/2);let x=s*f-h*o;const b=x<0?(x-y)/m:(x+y)/m;x=u*o-i*f;const v=x<0?(x-y)/m:(x+y)/m;return{x:b,y:v}}}w(B5,"intersectLine");function Q0(e,t){return e*t>0}w(Q0,"sameSign");var uW=B5;function P5(e,t,r){let n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(u){o=Math.min(o,u.x),a=Math.min(a,u.y)}):(o=Math.min(o,t.x),a=Math.min(a,t.y));let l=n-e.width/2-o,c=i-e.height/2-a;for(let u=0;u<t.length;u++){let h=t[u],f=t[u<t.length-1?u+1:0],p=uW(e,r,{x:l+h.x,y:c+h.y},{x:l+f.x,y:c+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(u,h){let f=u.x-r.x,p=u.y-r.y,g=Math.sqrt(f*f+p*p),m=h.x-r.x,y=h.y-r.y,x=Math.sqrt(m*m+y*y);return g<x?-1:g===x?0:1}),s[0]):e}w(P5,"intersectPolygon");var dW=P5,mt={node:lW,circle:cW,ellipse:M5,polygon:dW,rect:wl};function F5(e,t){const{labelStyles:r}=St(t);t.labelStyle=r;const n=Mt(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=1,{cssStyles:a}=t,l=wt.svg(s),c=kt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const u=l.circle(0,0,o*2,c),h=s.insert(()=>u,":first-child");return h.attr("class","anchor").attr("style",kr(a)),_t(t,h),t.intersect=function(f){return rt.info("Circle intersect",t,o,f),mt.circle(t,o,f)},s}w(F5,"anchor");function K0(e,t,r,n,i,s,o){const l=(e+r)/2,c=(t+n)/2,u=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,p=h/i,g=f/s,m=Math.sqrt(p**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),x=l+y*s*Math.sin(u)*(o?-1:1),b=c-y*i*Math.cos(u)*(o?-1:1),v=Math.atan2((t-b)/s,(e-x)/i);let k=Math.atan2((n-b)/s,(r-x)/i)-v;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const C=[];for(let _=0;_<20;_++){const A=_/19,O=v+A*k,F=x+i*Math.cos(O),$=b+s*Math.sin(O);C.push({x:F,y:$})}return C}w(K0,"generateArcPoints");async function D5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.width+t.padding+20,a=s.height+t.padding,l=a/2,c=l/(2.5+a/50),{cssStyles:u}=t,h=[{x:o/2,y:-a/2},{x:-o/2,y:-a/2},...K0(-o/2,-a/2,-o/2,a/2,c,l,!1),{x:o/2,y:a/2},...K0(o/2,a/2,o/2,-a/2,c,l,!0)],f=wt.svg(i),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=qt(h),m=f.path(g,p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${c/2}, 0)`),_t(t,y),t.intersect=function(x){return mt.polygon(t,h,x)},i}w(D5,"bowTieRect");function Gs(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}w(Gs,"insertPolygonShape");async function O5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.height+t.padding,a=12,l=s.width+t.padding+a,c=0,u=l,h=-o,f=0,p=[{x:c+a,y:h},{x:u,y:h},{x:u,y:f},{x:c,y:f},{x:c,y:h+a},{x:c+a,y:h}];let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){const y=wt.svg(i),x=kt(t,{}),b=qt(p),v=y.path(b,x);g=i.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),m&&g.attr("style",m)}else g=Gs(i,l,o,p);return n&&g.attr("style",n),_t(t,g),t.intersect=function(y){return mt.polygon(t,p,y)},i}w(O5,"card");function $5(e,t){const{nodeStyles:r}=St(t);t.label="";const n=e.insert("g").attr("class",Mt(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],a=wt.svg(n),l=kt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=qt(o),u=a.path(c,l),h=n.insert(()=>u,":first-child");return i&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return mt.polygon(t,o,f)},n}w($5,"choice");async function yb(e,t,r){const{labelStyles:n,nodeStyles:i}=St(t);t.labelStyle=n;const{shapeSvg:s,bbox:o,halfPadding:a}=await Bt(e,t,Mt(t)),l=(r==null?void 0:r.padding)??a,c=o.width/2+l;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=wt.svg(s),p=kt(t,{}),g=f.circle(0,0,c*2,p);u=s.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",kr(h))}else u=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return _t(t,u),t.calcIntersect=function(f,p){const g=f.width/2;return mt.circle(f,g,p)},t.intersect=function(f){return rt.info("Circle intersect",t,c,f),mt.circle(t,c,f)},s}w(yb,"circle");function N5(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},o={x:-(n/2)*t,y:-(n/2)*r},a={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${a.x},${a.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}w(N5,"createLine");function I5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",Mt(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:o}=t,a=wt.svg(i),l=kt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=a.circle(0,0,s*2,l),u=N5(s),h=a.path(u,l),f=i.insert(()=>c,":first-child");return f.insert(()=>h),o&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),_t(t,f),t.intersect=function(p){return rt.info("crossedCircle intersect",t,{radius:s,point:p}),mt.circle(t,s,p)},i}w(I5,"crossedCircle");function Di(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(Di,"generateCirclePoints");async function z5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...Di(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Di(a/2+c*2,-c,c,20,-180,-270),...Di(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Di(a/2,l/2,c,20,0,90)],f=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Di(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Di(a/2+a*.1,-c,c,20,-180,-270),...Di(a/2+a*.1,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Di(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2,y:l/2+c}],p=wt.svg(i),g=kt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=qt(h).replace("Z",""),x=p.path(y,g),b=qt(f),v=p.path(b,{...g}),S=i.insert("g",":first-child");return S.insert(()=>v,":first-child").attr("stroke-opacity",0),S.insert(()=>x,":first-child"),S.attr("class","text"),u&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-a/2+c-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),_t(t,S),t.intersect=function(k){return mt.polygon(t,f,k)},i}w(z5,"curlyBraceLeft");function Oi(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:p,y:g})}return o}w(Oi,"generateCirclePoints");async function W5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...Oi(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Oi(a/2+c*2,-c,c,20,-180,-270),...Oi(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Oi(a/2,l/2,c,20,0,90)],f=[{x:-a/2,y:-l/2-c},{x:a/2,y:-l/2-c},...Oi(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Oi(a/2+c*2,-c,c,20,-180,-270),...Oi(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Oi(a/2,l/2,c,20,0,90),{x:a/2,y:l/2+c},{x:-a/2,y:l/2+c}],p=wt.svg(i),g=kt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=qt(h).replace("Z",""),x=p.path(y,g),b=qt(f),v=p.path(b,{...g}),S=i.insert("g",":first-child");return S.insert(()=>v,":first-child").attr("stroke-opacity",0),S.insert(()=>x,":first-child"),S.attr("class","text"),u&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-a/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),_t(t,S),t.intersect=function(k){return mt.polygon(t,f,k)},i}w(W5,"curlyBraceRight");function nr(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(nr,"generateCirclePoints");async function H5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...nr(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...nr(a/2+c*2,-c,c,20,-180,-270),...nr(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...nr(a/2,l/2,c,20,0,90)],f=[...nr(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...nr(-a/2-c/2,-c,c,20,0,90),...nr(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...nr(-a/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...nr(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...nr(a/2+c*2,-c,c,20,-180,-270),...nr(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...nr(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2-c-c/2,y:l/2+c},...nr(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...nr(-a/2-c/2,-c,c,20,0,90),...nr(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...nr(-a/2+c+c/2,l/2,c,30,-180,-270)],g=wt.svg(i),m=kt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=qt(h).replace("Z",""),b=g.path(x,m),S=qt(f).replace("Z",""),k=g.path(S,m),C=qt(p),_=g.path(C,{...m}),A=i.insert("g",":first-child");return A.insert(()=>_,":first-child").attr("stroke-opacity",0),A.insert(()=>b,":first-child"),A.insert(()=>k,":first-child"),A.attr("class","text"),u&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-a/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),_t(t,A),t.intersect=function(O){return mt.polygon(t,p,O)},i}w(H5,"curlyBraces");async function q5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=80,a=20,l=Math.max(o,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),c=Math.max(a,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/2,{cssStyles:h}=t,f=wt.svg(i),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l,m=c,y=g-u,x=m/4,b=[{x:y,y:0},{x,y:0},{x:0,y:m/2},{x,y:m},{x:y,y:m},...gu(-y,-m/2,u,50,270,90)],v=qt(b),S=f.path(v,p),k=i.insert(()=>S,":first-child");return k.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",n),k.attr("transform",`translate(${-l/2}, ${-c/2})`),_t(t,k),t.intersect=function(C){return mt.polygon(t,b,C)},i}w(q5,"curvedTrapezoid");var hW=w((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),fW=w((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),pW=w((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function U5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+t.padding,t.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+t.padding,t.height??0);let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=wt.svg(i),g=fW(0,0,a,u,l,c),m=pW(0,c,a,u,l,c),y=p.path(g,kt(t,{})),x=p.path(m,kt(t,{fill:"none"}));h=i.insert(()=>x,":first-child"),h=i.insert(()=>y,":first-child"),h.attr("class","basic label-container"),f&&h.attr("style",f)}else{const p=hW(0,0,a,u,l,c);h=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",kr(f)).attr("style",n)}return h.attr("label-offset-y",c),h.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),_t(t,h),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(p){const g=mt.rect(t,p),m=g.x-(t.x??0);if(l!=0&&(Math.abs(m)<(t.width??0)/2||Math.abs(m)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-c)){let y=c*c*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},i}w(U5,"cylinder");async function V5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=s.width+t.padding,l=s.height+t.padding,c=l*.2,u=-a/2,h=-l/2-c/2,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:u,y:h+c},{x:-u,y:h+c},{x:-u,y:-h},{x:u,y:-h},{x:u,y:h},{x:-u,y:h},{x:-u,y:h+c}],y=p.polygon(m.map(b=>[b.x,b.y]),g),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),o.attr("transform",`translate(${u+(t.padding??0)/2-(s.x-(s.left??0))}, ${h+c+(t.padding??0)/2-(s.y-(s.top??0))})`),_t(t,x),t.intersect=function(b){return mt.rect(t,b)},i}w(V5,"dividedRectangle");async function Y5(e,t){var f,p;const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o}=await Bt(e,t,Mt(t)),l=s.width/2+o+5,c=s.width/2+o;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=wt.svg(i),m=kt(t,{roughness:.2,strokeWidth:2.5}),y=kt(t,{roughness:.2,strokeWidth:1.5}),x=g.circle(0,0,l*2,m),b=g.circle(0,0,c*2,y);u=i.insert("g",":first-child"),u.attr("class",kr(t.cssClasses)).attr("style",kr(h)),(f=u.node())==null||f.appendChild(x),(p=u.node())==null||p.appendChild(b)}else{u=i.insert("g",":first-child");const g=u.insert("circle",":first-child"),m=u.insert("circle");u.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return _t(t,u),t.intersect=function(g){return rt.info("DoubleCircle intersect",t,l,g),mt.circle(t,l,g)},i}w(Y5,"doublecircle");function G5(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=St(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",Mt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:a}=t,l=wt.svg(s),{nodeBorder:c}=r,u=kt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,o*2,u),f=s.insert(()=>h,":first-child");return f.selectAll("path").attr("style",`fill: ${c} !important;`),a&&a.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),_t(t,f),t.intersect=function(p){return rt.info("filledCircle intersect",t,{radius:o,point:p}),mt.circle(t,o,p)},s}w(G5,"filledCircle");async function X5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=s.width+(t.padding??0),l=a+s.height,c=a+s.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:h}=t,f=wt.svg(i),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=qt(u),m=f.path(g,p),y=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=a,t.height=l,_t(t,y),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(x){return rt.info("Triangle intersect",t,u,x),mt.polygon(t,u,x)},i}w(X5,"flippedTriangle");function Q5(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=St(t);t.label="";const o=e.insert("g").attr("class",Mt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t;let l=Math.max(70,(t==null?void 0:t.width)??0),c=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(l=Math.max(10,(t==null?void 0:t.width)??0),c=Math.max(70,(t==null?void 0:t.height)??0));const u=-1*l/2,h=-1*c/2,f=wt.svg(o),p=kt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=f.rectangle(u,h,l,c,p),m=o.insert(()=>g,":first-child");a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),_t(t,m);const y=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=y/2||0,t.height+=y/2||0),t.intersect=function(x){return mt.rect(t,x)},o}w(Q5,"forkJoin");async function K5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:o,bbox:a}=await Bt(e,t,Mt(t)),l=Math.max(i,a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s,a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/2,{cssStyles:h}=t,f=wt.svg(o),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2,y:-c/2},{x:l/2-u,y:-c/2},...gu(-l/2+u,0,u,50,90,270),{x:l/2-u,y:c/2},{x:-l/2,y:c/2}],m=qt(g),y=f.path(m,p),x=o.insert(()=>y,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),_t(t,x),t.intersect=function(b){return rt.info("Pill intersect",t,{radius:u,point:b}),mt.polygon(t,g,b)},o}w(K5,"halfRoundedRectangle");async function J5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.height+(t.padding??0),a=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,c=wt.svg(i),u=kt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=a/2;const f=h/6;h=h+f;const p=o/2,g=p/2,m=h-g,y=[{x:-m,y:-p},{x:0,y:-p},{x:m,y:-p},{x:h,y:0},{x:m,y:p},{x:0,y:p},{x:-m,y:p},{x:-h,y:0}],x=qt(y),b=c.path(x,u),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=a,t.height=o,_t(t,v),t.intersect=function(S){return mt.polygon(t,y,S)},i}w(J5,"hexagon");async function Z5(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await Bt(e,t,Mt(t)),s=Math.max(30,(t==null?void 0:t.width)??0),o=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:a}=t,l=wt.svg(i),c=kt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],h=qt(u),f=l.path(h,c),p=i.insert(()=>f,":first-child");return p.attr("class","basic label-container"),a&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",a),n&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-s/2}, ${-o/2})`),_t(t,p),t.intersect=function(g){return rt.info("Pill intersect",t,{points:u}),mt.polygon(t,u,g)},i}w(Z5,"hourglass");async function tA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=St(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:h}=await Bt(e,t,"icon-shape default"),f=t.pos==="t",p=a,g=a,{nodeBorder:m}=r,{stylesMap:y}=yl(t),x=-g/2,b=-p/2,v=t.label?8:0,S=wt.svg(c),k=kt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const C=S.rectangle(x,b,g,p,k),_=Math.max(g,u.width),A=p+u.height+v,O=S.rectangle(-_/2,-A/2,_,A,{...k,fill:"transparent",stroke:"none"}),F=c.insert(()=>C,":first-child"),$=c.insert(()=>O);if(t.icon){const H=c.append("g");H.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const N=H.node().getBBox(),M=N.width,E=N.height,L=N.x,B=N.y;H.attr("transform",`translate(${-M/2-L},${f?u.height/2+v/2-E/2-B:-u.height/2-v/2-E/2-B})`),H.attr("style",`color: ${y.get("stroke")??m};`)}return h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${f?-A/2:A/2-u.height})`),F.attr("transform",`translate(0,${f?u.height/2+v/2:-u.height/2-v/2})`),_t(t,$),t.intersect=function(H){if(rt.info("iconSquare intersect",t,H),!t.label)return mt.rect(t,H);const N=t.x??0,M=t.y??0,E=t.height??0;let L=[];return f?L=[{x:N-u.width/2,y:M-E/2},{x:N+u.width/2,y:M-E/2},{x:N+u.width/2,y:M-E/2+u.height+v},{x:N+g/2,y:M-E/2+u.height+v},{x:N+g/2,y:M+E/2},{x:N-g/2,y:M+E/2},{x:N-g/2,y:M-E/2+u.height+v},{x:N-u.width/2,y:M-E/2+u.height+v}]:L=[{x:N-g/2,y:M-E/2},{x:N+g/2,y:M-E/2},{x:N+g/2,y:M-E/2+p},{x:N+u.width/2,y:M-E/2+p},{x:N+u.width/2/2,y:M+E/2},{x:N-u.width/2,y:M+E/2},{x:N-u.width/2,y:M-E/2+p},{x:N-g/2,y:M-E/2+p}],mt.polygon(t,L,H)},c}w(tA,"icon");async function eA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=St(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:h}=await Bt(e,t,"icon-shape default"),f=20,p=t.label?8:0,g=t.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:x}=yl(t),b=wt.svg(c),v=kt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=x.get("fill");v.stroke=S??y;const k=c.append("g");t.icon&&k.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const C=k.node().getBBox(),_=C.width,A=C.height,O=C.x,F=C.y,$=Math.max(_,A)*Math.SQRT2+f*2,H=b.circle(0,0,$,v),N=Math.max($,u.width),M=$+u.height+p,E=b.rectangle(-N/2,-M/2,N,M,{...v,fill:"transparent",stroke:"none"}),L=c.insert(()=>H,":first-child"),B=c.insert(()=>E);return k.attr("transform",`translate(${-_/2-O},${g?u.height/2+p/2-A/2-F:-u.height/2-p/2-A/2-F})`),k.attr("style",`color: ${x.get("stroke")??m};`),h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${g?-M/2:M/2-u.height})`),L.attr("transform",`translate(0,${g?u.height/2+p/2:-u.height/2-p/2})`),_t(t,B),t.intersect=function(j){return rt.info("iconSquare intersect",t,j),mt.rect(t,j)},c}w(eA,"iconCircle");async function rA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=St(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:h,label:f}=await Bt(e,t,"icon-shape default"),p=t.pos==="t",g=a+h*2,m=a+h*2,{nodeBorder:y,mainBkg:x}=r,{stylesMap:b}=yl(t),v=-m/2,S=-g/2,k=t.label?8:0,C=wt.svg(c),_=kt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const A=b.get("fill");_.stroke=A??x;const O=C.path(Ys(v,S,m,g,5),_),F=Math.max(m,u.width),$=g+u.height+k,H=C.rectangle(-F/2,-$/2,F,$,{..._,fill:"transparent",stroke:"none"}),N=c.insert(()=>O,":first-child").attr("class","icon-shape2"),M=c.insert(()=>H);if(t.icon){const E=c.append("g");E.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const L=E.node().getBBox(),B=L.width,j=L.height,P=L.x,I=L.y;E.attr("transform",`translate(${-B/2-P},${p?u.height/2+k/2-j/2-I:-u.height/2-k/2-j/2-I})`),E.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-$/2:$/2-u.height})`),N.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),_t(t,M),t.intersect=function(E){if(rt.info("iconSquare intersect",t,E),!t.label)return mt.rect(t,E);const L=t.x??0,B=t.y??0,j=t.height??0;let P=[];return p?P=[{x:L-u.width/2,y:B-j/2},{x:L+u.width/2,y:B-j/2},{x:L+u.width/2,y:B-j/2+u.height+k},{x:L+m/2,y:B-j/2+u.height+k},{x:L+m/2,y:B+j/2},{x:L-m/2,y:B+j/2},{x:L-m/2,y:B-j/2+u.height+k},{x:L-u.width/2,y:B-j/2+u.height+k}]:P=[{x:L-m/2,y:B-j/2},{x:L+m/2,y:B-j/2},{x:L+m/2,y:B-j/2+g},{x:L+u.width/2,y:B-j/2+g},{x:L+u.width/2/2,y:B+j/2},{x:L-u.width/2,y:B+j/2},{x:L-u.width/2,y:B-j/2+g},{x:L-m/2,y:B-j/2+g}],mt.polygon(t,P,E)},c}w(rA,"iconRounded");async function nA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=St(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:h,label:f}=await Bt(e,t,"icon-shape default"),p=t.pos==="t",g=a+h*2,m=a+h*2,{nodeBorder:y,mainBkg:x}=r,{stylesMap:b}=yl(t),v=-m/2,S=-g/2,k=t.label?8:0,C=wt.svg(c),_=kt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const A=b.get("fill");_.stroke=A??x;const O=C.path(Ys(v,S,m,g,.1),_),F=Math.max(m,u.width),$=g+u.height+k,H=C.rectangle(-F/2,-$/2,F,$,{..._,fill:"transparent",stroke:"none"}),N=c.insert(()=>O,":first-child"),M=c.insert(()=>H);if(t.icon){const E=c.append("g");E.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const L=E.node().getBBox(),B=L.width,j=L.height,P=L.x,I=L.y;E.attr("transform",`translate(${-B/2-P},${p?u.height/2+k/2-j/2-I:-u.height/2-k/2-j/2-I})`),E.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-$/2:$/2-u.height})`),N.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),_t(t,M),t.intersect=function(E){if(rt.info("iconSquare intersect",t,E),!t.label)return mt.rect(t,E);const L=t.x??0,B=t.y??0,j=t.height??0;let P=[];return p?P=[{x:L-u.width/2,y:B-j/2},{x:L+u.width/2,y:B-j/2},{x:L+u.width/2,y:B-j/2+u.height+k},{x:L+m/2,y:B-j/2+u.height+k},{x:L+m/2,y:B+j/2},{x:L-m/2,y:B+j/2},{x:L-m/2,y:B-j/2+u.height+k},{x:L-u.width/2,y:B-j/2+u.height+k}]:P=[{x:L-m/2,y:B-j/2},{x:L+m/2,y:B-j/2},{x:L+m/2,y:B-j/2+g},{x:L+u.width/2,y:B-j/2+g},{x:L+u.width/2/2,y:B+j/2},{x:L-u.width/2,y:B+j/2},{x:L-u.width/2,y:B-j/2+g},{x:L-m/2,y:B-j/2+g}],mt.polygon(t,P,E)},c}w(nA,"iconSquare");async function iA(e,t,{config:{flowchart:r}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:o}=St(t);t.labelStyle=o;const a=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(t.label?a??0:0,(t==null?void 0:t.assetWidth)??i),c=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:l,u=t.constraint==="on"?c/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(c,a??0);const{shapeSvg:h,bbox:f,label:p}=await Bt(e,t,"image-shape default"),g=t.pos==="t",m=-c/2,y=-u/2,x=t.label?8:0,b=wt.svg(h),v=kt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=b.rectangle(m,y,c,u,v),k=Math.max(c,f.width),C=u+f.height+x,_=b.rectangle(-k/2,-C/2,k,C,{...v,fill:"none",stroke:"none"}),A=h.insert(()=>S,":first-child"),O=h.insert(()=>_);if(t.img){const F=h.append("image");F.attr("href",t.img),F.attr("width",c),F.attr("height",u),F.attr("preserveAspectRatio","none"),F.attr("transform",`translate(${-c/2},${g?C/2-u:-C/2})`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-u/2-f.height/2-x/2:u/2-f.height/2+x/2})`),A.attr("transform",`translate(0,${g?f.height/2+x/2:-f.height/2-x/2})`),_t(t,O),t.intersect=function(F){if(rt.info("iconSquare intersect",t,F),!t.label)return mt.rect(t,F);const $=t.x??0,H=t.y??0,N=t.height??0;let M=[];return g?M=[{x:$-f.width/2,y:H-N/2},{x:$+f.width/2,y:H-N/2},{x:$+f.width/2,y:H-N/2+f.height+x},{x:$+c/2,y:H-N/2+f.height+x},{x:$+c/2,y:H+N/2},{x:$-c/2,y:H+N/2},{x:$-c/2,y:H-N/2+f.height+x},{x:$-f.width/2,y:H-N/2+f.height+x}]:M=[{x:$-c/2,y:H-N/2},{x:$+c/2,y:H-N/2},{x:$+c/2,y:H-N/2+u},{x:$+f.width/2,y:H-N/2+u},{x:$+f.width/2/2,y:H+N/2},{x:$-f.width/2,y:H+N/2},{x:$-f.width/2,y:H-N/2+u},{x:$-c/2,y:H-N/2+u}],mt.polygon(t,M,F)},h}w(iA,"imageSquare");async function sA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:-3*a/6,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=wt.svg(i),f=kt(t,{}),p=qt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Gs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,_t(t,c),t.intersect=function(h){return mt.polygon(t,l,h)},i}w(sA,"inv_trapezoid");async function Mp(e,t,r){const{labelStyles:n,nodeStyles:i}=St(t);t.labelStyle=n;const{shapeSvg:s,bbox:o}=await Bt(e,t,Mt(t)),a=Math.max(o.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),l=Math.max(o.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),c=-a/2,u=-l/2;let h,{rx:f,ry:p}=t;const{cssStyles:g}=t;if(r!=null&&r.rx&&r.ry&&(f=r.rx,p=r.ry),t.look==="handDrawn"){const m=wt.svg(s),y=kt(t,{}),x=f||p?m.path(Ys(c,u,a,l,f||0),y):m.rectangle(c,u,a,l,y);h=s.insert(()=>x,":first-child"),h.attr("class","basic label-container").attr("style",kr(g))}else h=s.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",i).attr("rx",kr(f)).attr("ry",kr(p)).attr("x",c).attr("y",u).attr("width",a).attr("height",l);return _t(t,h),t.calcIntersect=function(m,y){return mt.rect(m,y)},t.intersect=function(m){return mt.rect(t,m)},s}w(Mp,"drawRect");async function oA(e,t){const{shapeSvg:r,bbox:n,label:i}=await Bt(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),_t(t,s),t.intersect=function(l){return mt.rect(t,l)},r}w(oA,"labelRect");async function aA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:-(3*a)/6,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=wt.svg(i),f=kt(t,{}),p=qt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Gs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,_t(t,c),t.intersect=function(h){return mt.polygon(t,l,h)},i}w(aA,"lean_left");async function lA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:-3*a/6,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=wt.svg(i),f=kt(t,{}),p=qt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Gs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,_t(t,c),t.intersect=function(h){return mt.polygon(t,l,h)},i}w(lA,"lean_right");function cA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",Mt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,o=Math.max(35,(t==null?void 0:t.width)??0),a=Math.max(35,(t==null?void 0:t.height)??0),l=7,c=[{x:o,y:0},{x:0,y:a+l/2},{x:o-2*l,y:a+l/2},{x:0,y:2*a},{x:o,y:a-l/2},{x:2*l,y:a-l/2}],u=wt.svg(i),h=kt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=qt(c),p=u.path(f,h),g=i.insert(()=>p,":first-child");return s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("transform",`translate(-${o/2},${-a})`),_t(t,g),t.intersect=function(m){return rt.info("lightningBolt intersect",t,m),mt.polygon(t,c,m)},i}w(cA,"lightningBolt");var gW=w((e,t,r,n,i,s,o)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+o}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),mW=w((e,t,r,n,i,s,o)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+o}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),xW=w((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function uA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0),t.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+(t.padding??0),t.height??0),h=u*.1;let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=wt.svg(i),m=mW(0,0,a,u,l,c,h),y=xW(0,c,a,u,l,c),x=kt(t,{}),b=g.path(m,x),v=g.path(y,x);i.insert(()=>v,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const g=gW(0,0,a,u,l,c,h);f=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",kr(p)).attr("style",n)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),_t(t,f),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),t.intersect=function(g){const m=mt.rect(t,g),y=m.x-(t.x??0);if(l!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-c)){let x=c*c*(1-y*y/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,g.y-(t.y??0)>0&&(x=-x),m.y+=x}return m},i}w(uA,"linedCylinder");async function dA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=l+c,{cssStyles:h}=t,f=wt.svg(i),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-a/2-a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:u/2},...$s(-a/2-a/2*.1,u/2,a/2+a/2*.1,u/2,c,.8),{x:a/2+a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:-u/2},{x:-a/2,y:-u/2},{x:-a/2,y:u/2*1.1},{x:-a/2,y:-u/2}],m=f.polygon(g.map(x=>[x.x,x.y]),p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)+a/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),_t(t,y),t.intersect=function(x){return mt.polygon(t,g,x)},i}w(dA,"linedWaveEdgedRect");async function hA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,u=-a/2,h=-l/2,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{}),m=[{x:u-c,y:h+c},{x:u-c,y:h+l+c},{x:u+a-c,y:h+l+c},{x:u+a-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h+l-c},{x:u+a+c,y:h+l-c},{x:u+a+c,y:h-c},{x:u+c,y:h-c},{x:u+c,y:h},{x:u,y:h},{x:u,y:h+c}],y=[{x:u,y:h+c},{x:u+a-c,y:h+c},{x:u+a-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h},{x:u,y:h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=qt(m),b=p.path(x,g),v=qt(y),S=p.path(v,{...g,fill:"none"}),k=i.insert(()=>S,":first-child");return k.insert(()=>b,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),_t(t,k),t.intersect=function(C){return mt.polygon(t,m,C)},i}w(hA,"multiRect");async function fA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=l+c,h=-a/2,f=-u/2,p=5,{cssStyles:g}=t,m=$s(h-p,f+u+p,h+a-p,f+u+p,c,.8),y=m==null?void 0:m[m.length-1],x=[{x:h-p,y:f+p},{x:h-p,y:f+u+p},...m,{x:h+a-p,y:y.y-p},{x:h+a,y:y.y-p},{x:h+a,y:y.y-2*p},{x:h+a+p,y:y.y-2*p},{x:h+a+p,y:f-p},{x:h+p,y:f-p},{x:h+p,y:f},{x:h,y:f},{x:h,y:f+p}],b=[{x:h,y:f+p},{x:h+a-p,y:f+p},{x:h+a-p,y:y.y-p},{x:h+a,y:y.y-p},{x:h+a,y:f},{x:h,y:f}],v=wt.svg(i),S=kt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const k=qt(x),C=v.path(k,S),_=qt(b),A=v.path(_,S),O=i.insert(()=>C,":first-child");return O.insert(()=>A),O.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",n),O.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-c/2-(s.y-(s.top??0))})`),_t(t,O),t.intersect=function(F){return mt.polygon(t,x,F)},i}w(fA,"multiWaveEdgedRectangle");async function pA(e,t,{config:{themeVariables:r}}){var b;const{labelStyles:n,nodeStyles:i}=St(t);t.labelStyle=n,t.useHtmlLabels||((b=vr().flowchart)==null?void 0:b.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:a,label:l}=await Bt(e,t,Mt(t)),c=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-c/2,f=-u/2,{cssStyles:p}=t,g=wt.svg(o),m=kt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(h,f,c,u,m),x=o.insert(()=>y,":first-child");return x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),_t(t,x),t.intersect=function(v){return mt.rect(t,v)},o}w(pA,"note");var yW=w((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function gA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.width+t.padding,a=s.height+t.padding,l=o+a,c=.5,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=wt.svg(i),g=kt(t,{}),m=yW(0,0,l),y=p.path(m,g);h=i.insert(()=>y,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),f&&h.attr("style",f)}else h=Gs(i,l,l,u),h.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&h.attr("style",n),_t(t,h),t.calcIntersect=function(p,g){const m=p.width,y=[{x:m/2,y:0},{x:m,y:-m/2},{x:m/2,y:-m},{x:0,y:-m/2}],x=mt.polygon(p,y,g);return{x:x.x-.5,y:x.y-.5}},t.intersect=function(p){return this.calcIntersect(t,p)},i}w(gA,"question");async function mA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),c=-a/2,u=-l/2,h=u/2,f=[{x:c+h,y:u},{x:c,y:0},{x:c+h,y:-u},{x:-c,y:-u},{x:-c,y:u}],{cssStyles:p}=t,g=wt.svg(i),m=kt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=qt(f),x=g.path(y,m),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-h/2},0)`),o.attr("transform",`translate(${-h/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),_t(t,b),t.intersect=function(v){return mt.polygon(t,f,v)},i}w(mA,"rect_left_inv_arrow");async function xA(e,t){var A,O;const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=s.insert("g"),a=s.insert("g").attr("class","label").attr("style",n),l=t.description,c=t.label,u=a.node().appendChild(await vo(c,t.labelStyle,!0,!0));let h={width:0,height:0};if(qe((O=(A=re())==null?void 0:A.flowchart)==null?void 0:O.htmlLabels)){const F=u.children[0],$=Xt(u);h=F.getBoundingClientRect(),$.attr("width",h.width),$.attr("height",h.height)}rt.info("Text 2",l);const f=l||[],p=u.getBBox(),g=a.node().appendChild(await vo(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),m=g.children[0],y=Xt(g);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height);const x=(t.padding||0)/2;Xt(g).attr("transform","translate( "+(h.width>p.width?0:(p.width-h.width)/2)+", "+(p.height+x+5)+")"),Xt(u).attr("transform","translate( "+(h.width<p.width?0:-(p.width-h.width)/2)+", 0)"),h=a.node().getBBox(),a.attr("transform","translate("+-h.width/2+", "+(-h.height/2-x+3)+")");const b=h.width+(t.padding||0),v=h.height+(t.padding||0),S=-h.width/2-x,k=-h.height/2-x;let C,_;if(t.look==="handDrawn"){const F=wt.svg(s),$=kt(t,{}),H=F.path(Ys(S,k,b,v,t.rx||0),$),N=F.line(-h.width/2-x,-h.height/2-x+p.height+x,h.width/2+x,-h.height/2-x+p.height+x,$);_=s.insert(()=>(rt.debug("Rough node insert CXC",H),N),":first-child"),C=s.insert(()=>(rt.debug("Rough node insert CXC",H),H),":first-child")}else C=o.insert("rect",":first-child"),_=o.insert("line"),C.attr("class","outer title-state").attr("style",n).attr("x",-h.width/2-x).attr("y",-h.height/2-x).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),_.attr("class","divider").attr("x1",-h.width/2-x).attr("x2",h.width/2+x).attr("y1",-h.height/2-x+p.height+x).attr("y2",-h.height/2-x+p.height+x);return _t(t,C),t.intersect=function(F){return mt.rect(t,F)},s}w(xA,"rectWithTitle");function dc(e,t,r,n,i,s,o){const l=(e+r)/2,c=(t+n)/2,u=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,p=h/i,g=f/s,m=Math.sqrt(p**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),x=l+y*s*Math.sin(u)*(o?-1:1),b=c-y*i*Math.cos(u)*(o?-1:1),v=Math.atan2((t-b)/s,(e-x)/i);let k=Math.atan2((n-b)/s,(r-x)/i)-v;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const C=[];for(let _=0;_<20;_++){const A=_/19,O=v+A*k,F=x+i*Math.cos(O),$=b+s*Math.sin(O);C.push({x:F,y:$})}return C}w(dc,"generateArcPoints");async function yA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=(t==null?void 0:t.padding)??0,a=(t==null?void 0:t.padding)??0,l=(t!=null&&t.width?t==null?void 0:t.width:s.width)+o*2,c=(t!=null&&t.height?t==null?void 0:t.height:s.height)+a*2,u=t.radius||5,h=t.taper||5,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{});t.stroke&&(g.stroke=t.stroke),t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-l/2+h,y:-c/2},{x:l/2-h,y:-c/2},...dc(l/2-h,-c/2,l/2,-c/2+h,u,u,!0),{x:l/2,y:-c/2+h},{x:l/2,y:c/2-h},...dc(l/2,c/2-h,l/2-h,c/2,u,u,!0),{x:l/2-h,y:c/2},{x:-l/2+h,y:c/2},...dc(-l/2+h,c/2,-l/2,c/2-h,u,u,!0),{x:-l/2,y:c/2-h},{x:-l/2,y:-c/2+h},...dc(-l/2,-c/2+h,-l/2+h,-c/2,u,u,!0)],y=qt(m),x=p.path(y,g),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container outer-path"),f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),_t(t,b),t.intersect=function(v){return mt.polygon(t,m,v)},i}w(yA,"roundedRect");async function bA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=(t==null?void 0:t.padding)??0,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-s.width/2-a,h=-s.height/2-a,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:u,y:h},{x:u+l+8,y:h},{x:u+l+8,y:h+c},{x:u-8,y:h+c},{x:u-8,y:h},{x:u,y:h},{x:u,y:h+c}],y=p.polygon(m.map(b=>[b.x,b.y]),g),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container").attr("style",kr(f)),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),o.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-(s.y-(s.top??0))})`),_t(t,x),t.intersect=function(b){return mt.rect(t,b)},i}w(bA,"shadedProcess");async function vA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=-a/2,u=-l/2,{cssStyles:h}=t,f=wt.svg(i),p=kt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:c,y:u},{x:c,y:u+l},{x:c+a,y:u+l},{x:c+a,y:u-l/2}],m=qt(g),y=f.path(m,p),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),_t(t,x),t.intersect=function(b){return mt.polygon(t,g,b)},i}w(vA,"slopedRect");async function wA(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Mp(e,t,r)}w(wA,"squareRect");async function kA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.height+t.padding,a=s.width+o/4+t.padding,l=o/2,{cssStyles:c}=t,u=wt.svg(i),h=kt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:-a/2+l,y:-o/2},{x:a/2-l,y:-o/2},...gu(-a/2+l,0,l,50,90,270),{x:a/2-l,y:o/2},...gu(a/2-l,0,l,50,270,450)],p=qt(f),g=u.path(p,h),m=i.insert(()=>g,":first-child");return m.attr("class","basic label-container outer-path"),c&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),_t(t,m),t.intersect=function(y){return mt.polygon(t,f,y)},i}w(kA,"stadium");async function SA(e,t){return Mp(e,t,{rx:5,ry:5})}w(SA,"state");function _A(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=St(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:o,stateBorder:a,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),u=wt.svg(c),h=kt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=u.circle(0,0,14,{...h,stroke:o,strokeWidth:2}),p=a??l,g=u.circle(0,0,5,{...h,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=c.insert(()=>f,":first-child");return m.insert(()=>g),s&&m.selectAll("path").attr("style",s),i&&m.selectAll("path").attr("style",i),_t(t,m),t.intersect=function(y){return mt.circle(t,7,y)},c}w(_A,"stateEnd");function CA(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const a=wt.svg(i).circle(0,0,14,R6(n));s=i.insert(()=>a),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return _t(t,s),t.intersect=function(o){return mt.circle(t,7,o)},i}w(CA,"stateStart");async function TA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=((t==null?void 0:t.padding)||0)/2,a=s.width+t.padding,l=s.height+t.padding,c=-s.width/2-o,u=-s.height/2-o,h=[{x:0,y:0},{x:a,y:0},{x:a,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const f=wt.svg(i),p=kt(t,{}),g=f.rectangle(c-8,u,a+16,l,p),m=f.line(c,u,c,u+l,p),y=f.line(c+a,u,c+a,u+l,p);i.insert(()=>m,":first-child"),i.insert(()=>y,":first-child");const x=i.insert(()=>g,":first-child"),{cssStyles:b}=t;x.attr("class","basic label-container").attr("style",kr(b)),_t(t,x)}else{const f=Gs(i,a,l,h);n&&f.attr("style",n),_t(t,f)}return t.intersect=function(f){return mt.polygon(t,h,f)},i}w(TA,"subroutine");async function EA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=-o/2,c=-a/2,u=.2*a,h=.2*a,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{}),m=[{x:l-u/2,y:c},{x:l+o+u/2,y:c},{x:l+o+u/2,y:c+a},{x:l-u/2,y:c+a}],y=[{x:l+o-u/2,y:c+a},{x:l+o+u/2,y:c+a},{x:l+o+u/2,y:c+a-h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=qt(m),b=p.path(x,g),v=qt(y),S=p.path(v,{...g,fillStyle:"solid"}),k=i.insert(()=>S,":first-child");return k.insert(()=>b,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),_t(t,k),t.intersect=function(C){return mt.polygon(t,m,C)},i}w(EA,"taggedRect");async function jA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=.2*a,h=.2*l,f=l+c,{cssStyles:p}=t,g=wt.svg(i),m=kt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-a/2-a/2*.1,y:f/2},...$s(-a/2-a/2*.1,f/2,a/2+a/2*.1,f/2,c,.8),{x:a/2+a/2*.1,y:-f/2},{x:-a/2-a/2*.1,y:-f/2}],x=-a/2+a/2*.1,b=-f/2-h*.4,v=[{x:x+a-u,y:(b+l)*1.4},{x:x+a,y:b+l-h},{x:x+a,y:(b+l)*.9},...$s(x+a,(b+l)*1.3,x+a-u,(b+l)*1.5,-l*.03,.5)],S=qt(y),k=g.path(S,m),C=qt(v),_=g.path(C,{...m,fillStyle:"solid"}),A=i.insert(()=>_,":first-child");return A.insert(()=>k,":first-child"),A.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),_t(t,A),t.intersect=function(O){return mt.polygon(t,y,O)},i}w(jA,"taggedWaveEdgedRectangle");async function AA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),a=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),l=-o/2,c=-a/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",a),_t(t,u),t.intersect=function(h){return mt.rect(t,h)},i}w(AA,"text");var bW=w((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),vW=w((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),wW=w((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function LA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o,halfPadding:a}=await Bt(e,t,Mt(t)),l=t.look==="neo"?a*2:a,c=s.height+l,u=c/2,h=u/(2.5+c/50),f=s.width+h+l,{cssStyles:p}=t;let g;if(t.look==="handDrawn"){const m=wt.svg(i),y=vW(0,0,f,c,h,u),x=wW(0,0,f,c,h,u),b=m.path(y,kt(t,{})),v=m.path(x,kt(t,{fill:"none"}));g=i.insert(()=>v,":first-child"),g=i.insert(()=>b,":first-child"),g.attr("class","basic label-container"),p&&g.attr("style",p)}else{const m=bW(0,0,f,c,h,u);g=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",kr(p)).attr("style",n),g.attr("class","basic label-container"),p&&g.selectAll("path").attr("style",p),n&&g.selectAll("path").attr("style",n)}return g.attr("label-offset-x",h),g.attr("transform",`translate(${-f/2}, ${c/2} )`),o.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),_t(t,g),t.intersect=function(m){const y=mt.rect(t,m),x=y.y-(t.y??0);if(u!=0&&(Math.abs(x)<(t.height??0)/2||Math.abs(x)==(t.height??0)/2&&Math.abs(y.x-(t.x??0))>(t.width??0)/2-h)){let b=h*h*(1-x*x/(u*u));b!=0&&(b=Math.sqrt(Math.abs(b))),b=h-b,m.x-(t.x??0)>0&&(b=-b),y.x+=b}return y},i}w(LA,"tiltedCylinder");async function MA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=s.width+t.padding,a=s.height+t.padding,l=[{x:-3*a/6,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=wt.svg(i),f=kt(t,{}),p=qt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Gs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,_t(t,c),t.intersect=function(h){return mt.polygon(t,l,h)},i}w(MA,"trapezoid");async function RA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=60,a=20,l=Math.max(o,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:u}=t,h=wt.svg(i),f=kt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],g=qt(p),m=h.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),_t(t,y),t.intersect=function(x){return mt.polygon(t,p,x)},i}w(RA,"trapezoidalPentagon");async function BA(e,t){var b;const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=qe((b=re().flowchart)==null?void 0:b.htmlLabels),l=s.width+(t.padding??0),c=l+s.height,u=l+s.height,h=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=qt(h),y=p.path(m,g),x=i.insert(()=>y,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return f&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=l,t.height=c,_t(t,x),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(t.padding??0)/(a?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(v){return rt.info("Triangle intersect",t,h,v),mt.polygon(t,h,v)},i}w(BA,"triangle");async function PA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/8,u=l+c,{cssStyles:h}=t,p=70-a,g=p>0?p/2:0,m=wt.svg(i),y=kt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-a/2-g,y:u/2},...$s(-a/2-g,u/2,a/2+g,u/2,c,.8),{x:a/2+g,y:-u/2},{x:-a/2-g,y:-u/2}],b=qt(x),v=m.path(b,y),S=i.insert(()=>v,":first-child");return S.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c-(s.y-(s.top??0))})`),_t(t,S),t.intersect=function(k){return mt.polygon(t,x,k)},i}w(PA,"waveEdgedRectangle");async function FA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Bt(e,t,Mt(t)),o=100,a=50,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/c;let h=l,f=c;h>f*u?f=h/u:h=f*u,h=Math.max(h,o),f=Math.max(f,a);const p=Math.min(f*.2,f/4),g=f+p*2,{cssStyles:m}=t,y=wt.svg(i),x=kt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-h/2,y:g/2},...$s(-h/2,g/2,h/2,g/2,p,1),{x:h/2,y:-g/2},...$s(h/2,-g/2,-h/2,-g/2,p,-1)],v=qt(b),S=y.path(v,x),k=i.insert(()=>S,":first-child");return k.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),_t(t,k),t.intersect=function(C){return mt.polygon(t,b,C)},i}w(FA,"waveRectangle");async function DA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Bt(e,t,Mt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,u=-a/2,h=-l/2,{cssStyles:f}=t,p=wt.svg(i),g=kt(t,{}),m=[{x:u-c,y:h-c},{x:u-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h-c}],y=`M${u-c},${h-c} L${u+a},${h-c} L${u+a},${h+l} L${u-c},${h+l} L${u-c},${h-c}
                M${u-c},${h} L${u+a},${h}
                M${u},${h-c} L${u},${h+l}`;t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=p.path(y,g),b=i.insert(()=>x,":first-child");return b.attr("transform",`translate(${c/2}, ${c/2})`),b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),_t(t,b),t.intersect=function(v){return mt.polygon(t,m,v)},i}w(DA,"windowPane");async function bb(e,t){var q,G,Q,ut;const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:Y}=vr(),{background:nt}=Y,at={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${nt}`]};await bb(e,at)}const n=vr();t.useHtmlLabels=n.htmlLabels;let i=((q=n.er)==null?void 0:q.diagramPadding)??10,s=((G=n.er)==null?void 0:G.entityPadding)??6;const{cssStyles:o}=t,{labelStyles:a,nodeStyles:l}=St(t);if(r.attributes.length===0&&t.label){const Y={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};rs(t.label,n)+Y.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const nt=await Mp(e,t,Y);if(!qe(n.htmlLabels)){const at=nt.select("text"),pt=(Q=at.node())==null?void 0:Q.getBBox();at.attr("transform",`translate(${-pt.width/2}, 0)`)}return nt}n.htmlLabels||(i*=1.25,s*=1.25);let c=Mt(t);c||(c="node default");const u=e.insert("g").attr("class",c).attr("id",t.domId||t.id),h=await fa(u,t.label??"",n,0,0,["name"],a);h.height+=s;let f=0;const p=[],g=[];let m=0,y=0,x=0,b=0,v=!0,S=!0;for(const Y of r.attributes){const nt=await fa(u,Y.type,n,0,f,["attribute-type"],a);m=Math.max(m,nt.width+i);const at=await fa(u,Y.name,n,0,f,["attribute-name"],a);y=Math.max(y,at.width+i);const pt=await fa(u,Y.keys.join(),n,0,f,["attribute-keys"],a);x=Math.max(x,pt.width+i);const Tt=await fa(u,Y.comment,n,0,f,["attribute-comment"],a);b=Math.max(b,Tt.width+i);const Et=Math.max(nt.height,at.height,pt.height,Tt.height)+s;g.push({yOffset:f,rowHeight:Et}),f+=Et}let k=4;x<=i&&(v=!1,x=0,k--),b<=i&&(S=!1,b=0,k--);const C=u.node().getBBox();if(h.width+i*2-(m+y+x+b)>0){const Y=h.width+i*2-(m+y+x+b);m+=Y/k,y+=Y/k,x>0&&(x+=Y/k),b>0&&(b+=Y/k)}const _=m+y+x+b,A=wt.svg(u),O=kt(t,{});t.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");let F=0;g.length>0&&(F=g.reduce((Y,nt)=>Y+((nt==null?void 0:nt.rowHeight)??0),0));const $=Math.max(C.width+i*2,(t==null?void 0:t.width)||0,_),H=Math.max((F??0)+h.height,(t==null?void 0:t.height)||0),N=-$/2,M=-H/2;u.selectAll("g:not(:first-child)").each((Y,nt,at)=>{const pt=Xt(at[nt]),Tt=pt.attr("transform");let Et=0,st=0;if(Tt){const Rt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Tt);Rt&&(Et=parseFloat(Rt[1]),st=parseFloat(Rt[2]),pt.attr("class").includes("attribute-name")?Et+=m:pt.attr("class").includes("attribute-keys")?Et+=m+y:pt.attr("class").includes("attribute-comment")&&(Et+=m+y+x))}pt.attr("transform",`translate(${N+i/2+Et}, ${st+M+h.height+s/2})`)}),u.select(".name").attr("transform","translate("+-h.width/2+", "+(M+s/2)+")");const E=A.rectangle(N,M,$,H,O),L=u.insert(()=>E,":first-child").attr("style",o.join("")),{themeVariables:B}=vr(),{rowEven:j,rowOdd:P,nodeBorder:I}=B;p.push(0);for(const[Y,nt]of g.entries()){const pt=(Y+1)%2===0&&nt.yOffset!==0,Tt=A.rectangle(N,h.height+M+(nt==null?void 0:nt.yOffset),$,nt==null?void 0:nt.rowHeight,{...O,fill:pt?j:P,stroke:I});u.insert(()=>Tt,"g.label").attr("style",o.join("")).attr("class",`row-rect-${pt?"even":"odd"}`)}let D=A.line(N,h.height+M,$+N,h.height+M,O);u.insert(()=>D).attr("class","divider"),D=A.line(m+N,h.height+M,m+N,H+M,O),u.insert(()=>D).attr("class","divider"),v&&(D=A.line(m+y+N,h.height+M,m+y+N,H+M,O),u.insert(()=>D).attr("class","divider")),S&&(D=A.line(m+y+x+N,h.height+M,m+y+x+N,H+M,O),u.insert(()=>D).attr("class","divider"));for(const Y of p)D=A.line(N,h.height+M+Y,$+N,h.height+M+Y,O),u.insert(()=>D).attr("class","divider");if(_t(t,L),l&&t.look!=="handDrawn"){const Y=l.split(";"),nt=(ut=Y==null?void 0:Y.filter(at=>at.includes("stroke")))==null?void 0:ut.map(at=>`${at}`).join("; ");u.selectAll("path").attr("style",nt??""),u.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(Y){return mt.rect(t,Y)},u}w(bb,"erBox");async function fa(e,t,r,n=0,i=0,s=[],o=""){const a=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",o);t!==Nv(t)&&(t=Nv(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=a.node().appendChild(await Vs(a,t,{width:rs(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let u=l.children[0];for(u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");u.childNodes[0];)u=u.childNodes[0],u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(qe(r.htmlLabels)){const u=l.children[0];u.style.textAlign="start";const h=Xt(l);c=u.getBoundingClientRect(),h.attr("width",c.width),h.attr("height",c.height)}return c}w(fa,"addText");async function OA(e,t,r,n,i=r.class.padding??12){const s=n?0:3,o=e.insert("g").attr("class",Mt(t)).attr("id",t.domId||t.id);let a=null,l=null,c=null,u=null,h=0,f=0,p=0;if(a=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await hc(a,{text:`${b}`},0),h=a.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await hc(l,t,0,["font-weight: bolder"]);const g=l.node().getBBox();f=g.height,c=o.insert("g").attr("class","members-group text");let m=0;for(const b of t.members){const v=await hc(c,b,m,[b.parseClassifier()]);m+=v+s}p=c.node().getBBox().height,p<=0&&(p=i/2),u=o.insert("g").attr("class","methods-group text");let y=0;for(const b of t.methods){const v=await hc(u,b,y,[b.parseClassifier()]);y+=v+s}let x=o.node().getBBox();if(a!==null){const b=a.node().getBBox();a.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${h})`),x=o.node().getBBox(),c.attr("transform",`translate(0, ${h+f+i*2})`),x=o.node().getBBox(),u.attr("transform",`translate(0, ${h+f+(p?p+i*4:i*2)})`),x=o.node().getBBox(),{shapeSvg:o,bbox:x}}w(OA,"textHelper");async function hc(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=vr();let o="useHtmlLabels"in t?t.useHtmlLabels:qe(s.htmlLabels)??!0,a="";"text"in t?a=t.text:a=t.label,!o&&a.startsWith("\\")&&(a=a.substring(1)),rl(a)&&(o=!0);const l=await Vs(i,jy(Ko(a)),{width:rs(a,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let c,u=1;if(o){const h=l.children[0],f=Xt(l);u=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(u+=h.innerHTML.split("<mrow>").length-1);const p=h.getElementsByTagName("img");if(p){const g=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(m=>new Promise(y=>{function x(){var b;if(m.style.display="flex",m.style.flexDirection="column",g){const v=((b=s.fontSize)==null?void 0:b.toString())??window.getComputedStyle(document.body).fontSize,k=parseInt(v,10)*5+"px";m.style.minWidth=k,m.style.maxWidth=k}else m.style.width="100%";y(m)}w(x,"setupImage"),setTimeout(()=>{m.complete&&x()}),m.addEventListener("error",x),m.addEventListener("load",x)})))}c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}else{n.includes("font-weight: bolder")&&Xt(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const h=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(h.textContent=a[0]+a.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),a[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+r)+")"),c.height}w(hc,"addText");async function $A(e,t){var O,F;const r=re(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??qe(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:a,bbox:l}=await OA(e,t,r,s,i),{labelStyles:c,nodeStyles:u}=St(t);t.labelStyle=c,t.cssStyles=o.styles||"";const h=((O=o.styles)==null?void 0:O.join(";"))||u||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));const f=o.members.length===0&&o.methods.length===0&&!((F=r.class)!=null&&F.hideEmptyMembersBox),p=wt.svg(a),g=kt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=l.width;let y=l.height;o.members.length===0&&o.methods.length===0?y+=i:o.members.length>0&&o.methods.length===0&&(y+=i*2);const x=-m/2,b=-y/2,v=p.rectangle(x-n,b-n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0),m+2*n,y+2*n+(f?n*2:o.members.length===0&&o.methods.length===0?-n:0),g),S=a.insert(()=>v,":first-child");S.attr("class","basic label-container");const k=S.node().getBBox();a.selectAll(".text").each(($,H,N)=>{var P;const M=Xt(N[H]),E=M.attr("transform");let L=0;if(E){const D=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(E);D&&(L=parseFloat(D[2]))}let B=L+b+n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0);s||(B-=4);let j=x;(M.attr("class").includes("label-group")||M.attr("class").includes("annotation-group"))&&(j=-((P=M.node())==null?void 0:P.getBBox().width)/2||0,a.selectAll("text").each(function(I,D,q){window.getComputedStyle(q[D]).textAnchor==="middle"&&(j=0)})),M.attr("transform",`translate(${j}, ${B})`)});const C=a.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,_=a.select(".label-group").node().getBBox().height-(f?n/2:0)||0,A=a.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(o.members.length>0||o.methods.length>0||f){const $=p.line(k.x,C+_+b+n,k.x+k.width,C+_+b+n,g);a.insert(()=>$).attr("class","divider").attr("style",h)}if(f||o.members.length>0||o.methods.length>0){const $=p.line(k.x,C+_+A+b+i*2+n,k.x+k.width,C+_+A+b+n+i*2,g);a.insert(()=>$).attr("class","divider").attr("style",h)}if(o.look!=="handDrawn"&&a.selectAll("path").attr("style",h),S.select(":nth-child(2)").attr("style",h),a.selectAll(".divider").select("path").attr("style",h),t.labelStyle?a.selectAll("span").attr("style",t.labelStyle):a.selectAll("span").attr("style",h),!s){const $=RegExp(/color\s*:\s*([^;]*)/),H=$.exec(h);if(H){const N=H[0].replace("color","fill");a.selectAll("tspan").attr("style",N)}else if(c){const N=$.exec(c);if(N){const M=N[0].replace("color","fill");a.selectAll("tspan").attr("style",M)}}}return _t(t,S),t.intersect=function($){return mt.rect(t,$)},a}w($A,"classBox");async function NA(e,t){var C,_;const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const i=t,s=t,o=20,a=20,l="verifyMethod"in t,c=Mt(t),u=e.insert("g").attr("class",c).attr("id",t.domId??t.id);let h;l?h=await pi(u,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):h=await pi(u,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=h;const p=await pi(u,i.name,f,t.labelStyle+"; font-weight: bold;");if(f+=p+a,l){const A=await pi(u,`${i.requirementId?`ID: ${i.requirementId}`:""}`,f,t.labelStyle);f+=A;const O=await pi(u,`${i.text?`Text: ${i.text}`:""}`,f,t.labelStyle);f+=O;const F=await pi(u,`${i.risk?`Risk: ${i.risk}`:""}`,f,t.labelStyle);f+=F,await pi(u,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,t.labelStyle)}else{const A=await pi(u,`${s.type?`Type: ${s.type}`:""}`,f,t.labelStyle);f+=A,await pi(u,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,f,t.labelStyle)}const g=(((C=u.node())==null?void 0:C.getBBox().width)??200)+o,m=(((_=u.node())==null?void 0:_.getBBox().height)??200)+o,y=-g/2,x=-m/2,b=wt.svg(u),v=kt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=b.rectangle(y,x,g,m,v),k=u.insert(()=>S,":first-child");if(k.attr("class","basic label-container").attr("style",n),u.selectAll(".label").each((A,O,F)=>{const $=Xt(F[O]),H=$.attr("transform");let N=0,M=0;if(H){const j=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(H);j&&(N=parseFloat(j[1]),M=parseFloat(j[2]))}const E=M-m/2;let L=y+o/2;(O===0||O===1)&&(L=N),$.attr("transform",`translate(${L}, ${E+o})`)}),f>h+p+a){const A=b.line(y,x+h+p+a,y+g,x+h+p+a,v);u.insert(()=>A).attr("style",n)}return _t(t,k),t.intersect=function(A){return mt.rect(t,A)},u}w(NA,"requirementBox");async function pi(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=re(),o=s.htmlLabels??!0,a=await Vs(i,jy(Ko(t)),{width:rs(t,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:n},s);let l;if(o){const c=a.children[0],u=Xt(a);l=c.getBoundingClientRect(),u.attr("width",l.width),u.attr("height",l.height)}else{const c=a.children[0];for(const u of c.children)u.textContent=u.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&u.setAttribute("style",n);l=a.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}w(pi,"addText");var kW=w(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function IA(e,t,{config:r}){var H,N;const{labelStyles:n,nodeStyles:i}=St(t);t.labelStyle=n||"";const s=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:a,bbox:l,label:c}=await Bt(e,t,Mt(t)),u=t.padding||10;let h="",f;"ticket"in t&&t.ticket&&((H=r==null?void 0:r.kanban)!=null&&H.ticketBaseUrl)&&(h=(N=r==null?void 0:r.kanban)==null?void 0:N.ticketBaseUrl.replace("#TICKET#",t.ticket),f=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));const p={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,m;f?{label:g,bbox:m}=await Ug(f,"ticket"in t&&t.ticket||"",p):{label:g,bbox:m}=await Ug(a,"ticket"in t&&t.ticket||"",p);const{label:y,bbox:x}=await Ug(a,"assigned"in t&&t.assigned||"",p);t.width=o;const b=10,v=(t==null?void 0:t.width)||0,S=Math.max(m.height,x.height)/2,k=Math.max(l.height+b*2,(t==null?void 0:t.height)||0)+S,C=-v/2,_=-k/2;c.attr("transform","translate("+(u-v/2)+", "+(-S-l.height/2)+")"),g.attr("transform","translate("+(u-v/2)+", "+(-S+l.height/2)+")"),y.attr("transform","translate("+(u+v/2-x.width-2*s)+", "+(-S+l.height/2)+")");let A;const{rx:O,ry:F}=t,{cssStyles:$}=t;if(t.look==="handDrawn"){const M=wt.svg(a),E=kt(t,{}),L=O||F?M.path(Ys(C,_,v,k,O||0),E):M.rectangle(C,_,v,k,E);A=a.insert(()=>L,":first-child"),A.attr("class","basic label-container").attr("style",$||null)}else{A=a.insert("rect",":first-child"),A.attr("class","basic label-container __APA__").attr("style",i).attr("rx",O??5).attr("ry",F??5).attr("x",C).attr("y",_).attr("width",v).attr("height",k);const M="priority"in t&&t.priority;if(M){const E=a.append("line"),L=C+2,B=_+Math.floor((O??0)/2),j=_+k-Math.floor((O??0)/2);E.attr("x1",L).attr("y1",B).attr("x2",L).attr("y2",j).attr("stroke-width","4").attr("stroke",kW(M))}}return _t(t,A),t.height=k,t.intersect=function(M){return mt.rect(t,M)},a}w(IA,"kanbanItem");async function zA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Bt(e,t,Mt(t)),l=s.width+10*o,c=s.height+8*o,u=.15*l,{cssStyles:h}=t,f=s.width+20,p=s.height+20,g=Math.max(l,f),m=Math.max(c,p);a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let y;const x=`M0 0 
    a${u},${u} 1 0,0 ${g*.25},${-1*m*.1}
    a${u},${u} 1 0,0 ${g*.25},0
    a${u},${u} 1 0,0 ${g*.25},0
    a${u},${u} 1 0,0 ${g*.25},${m*.1}

    a${u},${u} 1 0,0 ${g*.15},${m*.33}
    a${u*.8},${u*.8} 1 0,0 0,${m*.34}
    a${u},${u} 1 0,0 ${-1*g*.15},${m*.33}

    a${u},${u} 1 0,0 ${-1*g*.25},${m*.15}
    a${u},${u} 1 0,0 ${-1*g*.25},0
    a${u},${u} 1 0,0 ${-1*g*.25},0
    a${u},${u} 1 0,0 ${-1*g*.25},${-1*m*.15}

    a${u},${u} 1 0,0 ${-1*g*.1},${-1*m*.33}
    a${u*.8},${u*.8} 1 0,0 0,${-1*m*.34}
    a${u},${u} 1 0,0 ${g*.1},${-1*m*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const b=wt.svg(i),v=kt(t,{}),S=b.path(x,v);y=i.insert(()=>S,":first-child"),y.attr("class","basic label-container").attr("style",kr(h))}else y=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",x);return y.attr("transform",`translate(${-g/2}, ${-m/2})`),_t(t,y),t.calcIntersect=function(b,v){return mt.rect(b,v)},t.intersect=function(b){return rt.info("Bang intersect",t,b),mt.rect(t,b)},i}w(zA,"bang");async function WA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Bt(e,t,Mt(t)),l=s.width+2*o,c=s.height+2*o,u=.15*l,h=.25*l,f=.35*l,p=.2*l,{cssStyles:g}=t;let m;const y=`M0 0 
    a${u},${u} 0 0,1 ${l*.25},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.4},${-1*l*.1}
    a${h},${h} 1 0,1 ${l*.35},${l*.2}

    a${u},${u} 1 0,1 ${l*.15},${c*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${c*.65}

    a${h},${u} 1 0,1 ${-1*l*.25},${l*.15}
    a${f},${f} 1 0,1 ${-1*l*.5},0
    a${u},${u} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${u},${u} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const x=wt.svg(i),b=kt(t,{}),v=x.path(y,b);m=i.insert(()=>v,":first-child"),m.attr("class","basic label-container").attr("style",kr(g))}else m=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),m.attr("transform",`translate(${-l/2}, ${-c/2})`),_t(t,m),t.calcIntersect=function(x,b){return mt.rect(x,b)},t.intersect=function(x){return rt.info("Cloud intersect",t,x),mt.rect(t,x)},i}w(WA,"cloud");async function HA(e,t){const{labelStyles:r,nodeStyles:n}=St(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Bt(e,t,Mt(t)),l=s.width+8*o,c=s.height+2*o,u=5,h=`
    M${-l/2} ${c/2-u}
    v${-c+2*u}
    q0,-${u} ${u},-${u}
    h${l-2*u}
    q${u},0 ${u},${u}
    v${c-2*u}
    q0,${u} -${u},${u}
    h${-l+2*u}
    q-${u},0 -${u},-${u}
    Z
  `,f=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",h);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>a.node()),_t(t,f),t.calcIntersect=function(p,g){return mt.rect(p,g)},t.intersect=function(p){return mt.rect(t,p)},i}w(HA,"defaultMindmapNode");async function qA(e,t){const r={padding:t.padding??0};return yb(e,t,r)}w(qA,"mindmapCircle");var SW=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:wA},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:yA},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:kA},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:TA},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:U5},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:yb},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:zA},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:WA},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:gA},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:J5},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lA},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:aA},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:MA},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:sA},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Y5},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:AA},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:O5},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:bA},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:CA},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:_A},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Q5},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Z5},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:z5},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:W5},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:H5},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:cA},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:PA},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:K5},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:LA},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:uA},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:q5},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:V5},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:BA},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:DA},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:G5},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:RA},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:X5},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:vA},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:fA},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:hA},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:D5},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:I5},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:jA},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:EA},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:FA},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:mA},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:dA}],_W=w(()=>{const t=[...Object.entries({state:SA,choice:$5,note:pA,rectWithTitle:xA,labelRect:oA,iconSquare:nA,iconCircle:eA,icon:tA,iconRounded:rA,imageSquare:iA,anchor:F5,kanbanItem:IA,mindmapCircle:qA,defaultMindmapNode:HA,classBox:$A,erBox:bb,requirementBox:NA}),...SW.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),UA=_W();function CW(e){return e in UA}w(CW,"isValidShape");var Rp=new Map;async function VA(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?UA[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Rp.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}w(VA,"insertNode");var SJ=w((e,t)=>{Rp.set(t.id,e)},"setNodeElem"),_J=w(()=>{Rp.clear()},"clear"),CJ=w(e=>{const t=Rp.get(e.id);rt.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),TW=w((e,t,r,n,i,s)=>{t.arrowTypeStart&&Yw(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&Yw(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),EW={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Yw=w((e,t,r,n,i,s,o)=>{var h;const a=EW[r];if(!a){rt.warn(`Unknown arrow type: ${r}`);return}const l=a.type,u=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const f=o.replace(/[^\dA-Za-z]/g,"_"),p=`${u}_${f}`;if(!document.getElementById(p)){const g=document.getElementById(u);if(g){const m=g.cloneNode(!0);m.id=p,m.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",o),a.fill&&x.setAttribute("fill",o)}),(h=g.parentNode)==null||h.appendChild(m)}}e.attr(`marker-${t}`,`url(${n}#${p})`)}else e.attr(`marker-${t}`,`url(${n}#${u})`)},"addEdgeMarker"),Lf=new Map,sr=new Map,TJ=w(()=>{Lf.clear(),sr.clear()},"clear"),Ed=w(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),jW=w(async(e,t)=>{let r=qe(re().flowchart.htmlLabels);const{labelStyles:n}=St(t);t.labelStyle=n;const i=await Vs(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});rt.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(i);let a=i.getBBox();if(r){const c=i.children[0],u=Xt(i);a=c.getBoundingClientRect(),u.attr("width",a.width),u.attr("height",a.height)}o.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),Lf.set(t.id,s),t.width=a.width,t.height=a.height;let l;if(t.startLabelLeft){const c=await vo(t.startLabelLeft,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),sr.get(t.id)||sr.set(t.id,{}),sr.get(t.id).startLeft=u,fc(l,t.startLabelLeft)}if(t.startLabelRight){const c=await vo(t.startLabelRight,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=u.node().appendChild(c),h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),sr.get(t.id)||sr.set(t.id,{}),sr.get(t.id).startRight=u,fc(l,t.startLabelRight)}if(t.endLabelLeft){const c=await vo(t.endLabelLeft,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(c),sr.get(t.id)||sr.set(t.id,{}),sr.get(t.id).endLeft=u,fc(l,t.endLabelLeft)}if(t.endLabelRight){const c=await vo(t.endLabelRight,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(c),sr.get(t.id)||sr.set(t.id,{}),sr.get(t.id).endRight=u,fc(l,t.endLabelRight)}return i},"insertEdgeLabel");function fc(e,t){re().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}w(fc,"setTerminalWidth");var AW=w((e,t)=>{rt.debug("Moving label abc88 ",e.id,e.label,Lf.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=re(),{subGraphTitleTotalMargin:i}=Gy(n);if(e.label){const s=Lf.get(e.id);let o=e.x,a=e.y;if(r){const l=Xn.calcLabelPosition(r);rt.debug("Moving label "+e.label+" from (",o,",",a,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(o=l.x,a=l.y)}s.attr("transform",`translate(${o}, ${a+i/2})`)}if(e.startLabelLeft){const s=sr.get(e.id).startLeft;let o=e.x,a=e.y;if(r){const l=Xn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.startLabelRight){const s=sr.get(e.id).startRight;let o=e.x,a=e.y;if(r){const l=Xn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.endLabelLeft){const s=sr.get(e.id).endLeft;let o=e.x,a=e.y;if(r){const l=Xn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.endLabelRight){const s=sr.get(e.id).endRight;let o=e.x,a=e.y;if(r){const l=Xn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}},"positionEdgeLabel"),LW=w((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),o=e.width/2,a=e.height/2;return i>=o||s>=a},"outsideNode"),MW=w((e,t,r)=>{rt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),o=e.width/2;let a=r.x<t.x?o-s:o+s;const l=e.height/2,c=Math.abs(t.y-r.y),u=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*l){let h=r.y<t.y?t.y-l-i:i-l-t.y;a=u*h/c;const f={x:r.x<t.x?r.x+a:r.x-u+a,y:r.y<t.y?r.y+c-h:r.y-c+h};return a===0&&(f.x=t.x,f.y=t.y),u===0&&(f.x=t.x),c===0&&(f.y=t.y),rt.debug(`abc89 top/bottom calc, Q ${c}, q ${h}, R ${u}, r ${a}`,f),f}else{r.x<t.x?a=t.x-o-n:a=n-o-t.x;let h=c*a/u,f=r.x<t.x?r.x+u-a:r.x-u+a,p=r.y<t.y?r.y+h:r.y-h;return rt.debug(`sides calc abc89, Q ${c}, q ${h}, R ${u}, r ${a}`,{_x:f,_y:p}),a===0&&(f=t.x,p=t.y),u===0&&(f=t.x),c===0&&(p=t.y),{x:f,y:p}}},"intersection"),Gw=w((e,t)=>{rt.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(rt.info("abc88 checking point",s,t),!LW(t,s)&&!i){const o=MW(t,n,s);rt.debug("abc88 inside",s,n,o),rt.debug("abc88 intersection",o,t);let a=!1;r.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),r.some(l=>l.x===o.x&&l.y===o.y)?rt.warn("abc88 no intersect",o,r):r.push(o),i=!0}else rt.warn("abc88 outside",s,n),n=s,i||r.push(s)}),rt.debug("returning points",r),r},"cutPathAtIntersect");function YA(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],o=e[n+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}w(YA,"extractCornerPoints");var Xw=w(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),o=r/s;return{x:t.x-o*n,y:t.y-o*i}},"findAdjacentPoint"),RW=w(function(e){const{cornerPointPositions:t}=YA(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],o=e[n],a=Xw(i,o,5),l=Xw(s,o,5),c=l.x-a.x,u=l.y-a.y;r.push(a);const h=Math.sqrt(2)*2;let f={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){rt.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const p=5;o.x===a.x?f={x:c<0?a.x-p+h:a.x+p-h,y:u<0?a.y-h:a.y+h}:f={x:c<0?a.x-h:a.x+h,y:u<0?a.y-p+h:a.y+p-h}}else rt.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(f,l)}else r.push(e[n]);return r},"fixCorners"),BW=w((e,t,r)=>{const n=e-t-r,i=2,s=2,o=i+s,a=Math.floor(n/o),l=Array(a).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),PW=w(function(e,t,r,n,i,s,o,a=!1){var M;const{handDrawnSeed:l}=re();let c=t.points,u=!1;const h=i;var f=s;const p=[];for(const E in t.cssCompiledStyles)Sj(E)||p.push(t.cssCompiledStyles[E]);rt.debug("UIO intersect check",t.points,f.x,h.x),f.intersect&&h.intersect&&!a&&(c=c.slice(1,t.points.length-1),c.unshift(h.intersect(c[0])),rt.debug("Last point UIO",t.start,"-->",t.end,c[c.length-1],f,f.intersect(c[c.length-1])),c.push(f.intersect(c[c.length-1])));const g=btoa(JSON.stringify(c));t.toCluster&&(rt.info("to cluster abc88",r.get(t.toCluster)),c=Gw(t.points,r.get(t.toCluster).node),u=!0),t.fromCluster&&(rt.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(c,null,2)),c=Gw(c.reverse(),r.get(t.fromCluster).node).reverse(),u=!0);let m=c.filter(E=>!Number.isNaN(E.y));m=RW(m);let y=uh;switch(y=af,t.curve){case"linear":y=af;break;case"basis":y=uh;break;case"cardinal":y=ET;break;case"bumpX":y=kT;break;case"bumpY":y=ST;break;case"catmullRom":y=AT;break;case"monotoneX":y=FT;break;case"monotoneY":y=DT;break;case"natural":y=$T;break;case"step":y=NT;break;case"stepAfter":y=zT;break;case"stepBefore":y=IT;break;default:y=uh}const{x,y:b}=M6(t),v=p4().x(x).y(b).curve(y);let S;switch(t.thickness){case"normal":S="edge-thickness-normal";break;case"thick":S="edge-thickness-thick";break;case"invisible":S="edge-thickness-invisible";break;default:S="edge-thickness-normal"}switch(t.pattern){case"solid":S+=" edge-pattern-solid";break;case"dotted":S+=" edge-pattern-dotted";break;case"dashed":S+=" edge-pattern-dashed";break;default:S+=" edge-pattern-solid"}let k,C=t.curve==="rounded"?GA(XA(m,t),5):v(m);const _=Array.isArray(t.style)?t.style:[t.style];let A=_.find(E=>E==null?void 0:E.startsWith("stroke:")),O=!1;if(t.look==="handDrawn"){const E=wt.svg(e);Object.assign([],m);const L=E.path(C,{roughness:.3,seed:l});S+=" transition",k=Xt(L).select("path").attr("id",t.id).attr("class"," "+S+(t.classes?" "+t.classes:"")).attr("style",_?_.reduce((j,P)=>j+";"+P,""):"");let B=k.attr("d");k.attr("d",B),e.node().appendChild(k.node())}else{const E=p.join(";"),L=_?_.reduce((G,Q)=>G+Q+";",""):"";let B="";t.animate&&(B=" edge-animation-fast"),t.animation&&(B=" edge-animation-"+t.animation);const j=(E?E+";"+L+";":L)+";"+(_?_.reduce((G,Q)=>G+";"+Q,""):"");k=e.append("path").attr("d",C).attr("id",t.id).attr("class"," "+S+(t.classes?" "+t.classes:"")+(B??"")).attr("style",j),A=(M=j.match(/stroke:([^;]+)/))==null?void 0:M[1],O=t.animate===!0||!!t.animation||E.includes("animation");const P=k.node(),I=typeof P.getTotalLength=="function"?P.getTotalLength():0,D=hw[t.arrowTypeStart]||0,q=hw[t.arrowTypeEnd]||0;if(t.look==="neo"&&!O){const Q=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?BW(I,D,q):`0 ${D} ${I-D-q} ${q}`}; stroke-dashoffset: 0;`;k.attr("style",Q+k.attr("style"))}}k.attr("data-edge",!0),k.attr("data-et","edge"),k.attr("data-id",t.id),k.attr("data-points",g),t.showPoints&&m.forEach(E=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",E.x).attr("cy",E.y)});let F="";(re().flowchart.arrowMarkerAbsolute||re().state.arrowMarkerAbsolute)&&(F=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,F=F.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),rt.info("arrowTypeStart",t.arrowTypeStart),rt.info("arrowTypeEnd",t.arrowTypeEnd),TW(k,t,F,o,n,A);const $=Math.floor(c.length/2),H=c[$];Xn.isLabelCoordinateInPath(H,k.attr("d"))||(u=!0);let N={};return u&&(N.updatedPath=c),N.originalPath=t.points,N},"insertEdge");function GA(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const o=e[s],a=e[s-1],l=e[s+1];if(s===0)r+=`M${o.x},${o.y}`;else if(s===n-1)r+=`L${o.x},${o.y}`;else{const c=o.x-a.x,u=o.y-a.y,h=l.x-o.x,f=l.y-o.y,p=Math.hypot(c,u),g=Math.hypot(h,f);if(p<i||g<i){r+=`L${o.x},${o.y}`;continue}const m=c/p,y=u/p,x=h/g,b=f/g,v=m*x+y*b,S=Math.max(-1,Math.min(1,v)),k=Math.acos(S);if(k<i||Math.abs(Math.PI-k)<i){r+=`L${o.x},${o.y}`;continue}const C=Math.min(t/Math.sin(k/2),p/2,g/2),_=o.x-m*C,A=o.y-y*C,O=o.x+x*C,F=o.y+b*C;r+=`L${_},${A}`,r+=`Q${o.x},${o.y} ${O},${F}`}}return r}w(GA,"generateRoundedPath");function J0(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}w(J0,"calculateDeltaAndAngle");function XA(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&pr[t.arrowTypeStart]){const i=pr[t.arrowTypeStart],s=e[0],o=e[1],{angle:a}=J0(s,o),l=i*Math.cos(a),c=i*Math.sin(a);r[0].x=s.x+l,r[0].y=s.y+c}const n=e.length;if(n>=2&&pr[t.arrowTypeEnd]){const i=pr[t.arrowTypeEnd],s=e[n-1],o=e[n-2],{angle:a}=J0(o,s),l=i*Math.cos(a),c=i*Math.sin(a);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}w(XA,"applyMarkerOffsetsToPoints");var FW=w((e,t,r,n)=>{t.forEach(i=>{KW[i](e,r,n)})},"insertMarkers"),DW=w((e,t,r)=>{rt.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),OW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),$W=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),NW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),IW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),zW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),WW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),HW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),qW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),UW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),VW=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),YW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),GW=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),XW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),QW=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),KW={extension:DW,composition:OW,aggregation:$W,dependency:NW,lollipop:IW,point:zW,circle:WW,cross:HW,barb:qW,only_one:UW,zero_or_one:VW,one_or_more:YW,zero_or_more:GW,requirement_arrow:XW,requirement_contains:QW},JW=FW,ZW={common:xl,getConfig:vr,insertCluster:aW,insertEdge:PW,insertEdgeLabel:jW,insertMarkers:JW,insertNode:VA,interpolateToCurve:tb,labelHelper:Bt,log:rt,positionEdgeLabel:AW},mu={},QA=w(e=>{for(const t of e)mu[t.name]=t},"registerLayoutLoaders"),tH=w(()=>{QA([{name:"dagre",loader:w(async()=>await ie(()=>import("./dagre-6UL2VRFP-DhhQmnW1.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:w(async()=>await ie(()=>import("./cose-bilkent-S5V4N54A-BLM-SdES.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");tH();var EJ=w(async(e,t)=>{if(!(e.layoutAlgorithm in mu))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=mu[e.layoutAlgorithm];return(await r.loader()).render(e,t,ZW,{algorithm:r.algorithm})},"render"),jJ=w((e="",{fallback:t="dagre"}={})=>{if(e in mu)return e;if(t in mu)return rt.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),KA="comm",JA="rule",ZA="decl",eH="@import",rH="@namespace",nH="@keyframes",iH="@layer",tL=Math.abs,vb=String.fromCharCode;function eL(e){return e.trim()}function gh(e,t,r){return e.replace(t,r)}function sH(e,t,r){return e.indexOf(t,r)}function Da(e,t){return e.charCodeAt(t)|0}function al(e,t,r){return e.slice(t,r)}function yi(e){return e.length}function oH(e){return e.length}function jd(e,t){return t.push(e),e}var Bp=1,ll=1,rL=0,Bn=0,Fe=0,kl="";function wb(e,t,r,n,i,s,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Bp,column:ll,length:o,return:"",siblings:a}}function aH(){return Fe}function lH(){return Fe=Bn>0?Da(kl,--Bn):0,ll--,Fe===10&&(ll=1,Bp--),Fe}function ti(){return Fe=Bn<rL?Da(kl,Bn++):0,ll++,Fe===10&&(ll=1,Bp++),Fe}function ys(){return Da(kl,Bn)}function mh(){return Bn}function Pp(e,t){return al(kl,e,t)}function xu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cH(e){return Bp=ll=1,rL=yi(kl=e),Bn=0,[]}function uH(e){return kl="",e}function Vg(e){return eL(Pp(Bn-1,Z0(e===91?e+2:e===40?e+1:e)))}function dH(e){for(;(Fe=ys())&&Fe<33;)ti();return xu(e)>2||xu(Fe)>3?"":" "}function hH(e,t){for(;--t&&ti()&&!(Fe<48||Fe>102||Fe>57&&Fe<65||Fe>70&&Fe<97););return Pp(e,mh()+(t<6&&ys()==32&&ti()==32))}function Z0(e){for(;ti();)switch(Fe){case e:return Bn;case 34:case 39:e!==34&&e!==39&&Z0(Fe);break;case 40:e===41&&Z0(e);break;case 92:ti();break}return Bn}function fH(e,t){for(;ti()&&e+Fe!==57;)if(e+Fe===84&&ys()===47)break;return"/*"+Pp(t,Bn-1)+"*"+vb(e===47?e:ti())}function pH(e){for(;!xu(ys());)ti();return Pp(e,Bn)}function gH(e){return uH(xh("",null,null,null,[""],e=cH(e),0,[0],e))}function xh(e,t,r,n,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,g=0,m=1,y=1,x=1,b=0,v="",S=i,k=s,C=n,_=v;y;)switch(g=b,b=ti()){case 40:if(g!=108&&Da(_,h-1)==58){sH(_+=gh(Vg(b),"&","&\f"),"&\f",tL(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:_+=Vg(b);break;case 9:case 10:case 13:case 32:_+=dH(g);break;case 92:_+=hH(mh()-1,7);continue;case 47:switch(ys()){case 42:case 47:jd(mH(fH(ti(),mh()),t,r,l),l),(xu(g||1)==5||xu(ys()||1)==5)&&yi(_)&&al(_,-1,void 0)!==" "&&(_+=" ");break;default:_+="/"}break;case 123*m:a[c++]=yi(_)*x;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+u:x==-1&&(_=gh(_,/\f/g,"")),p>0&&(yi(_)-h||m===0&&g===47)&&jd(p>32?Kw(_+";",n,r,h-1,l):Kw(gh(_," ","")+";",n,r,h-2,l),l);break;case 59:_+=";";default:if(jd(C=Qw(_,t,r,c,u,i,a,v,S=[],k=[],h,s),s),b===123)if(u===0)xh(_,t,C,C,S,s,h,a,k);else{switch(f){case 99:if(Da(_,3)===110)break;case 108:if(Da(_,2)===97)break;default:u=0;case 100:case 109:case 115:}u?xh(e,C,C,n&&jd(Qw(e,C,C,0,0,i,a,v,i,S=[],h,k),k),i,k,h,a,n?S:k):xh(_,C,C,C,[""],k,0,a,k)}}c=u=p=0,m=x=1,v=_="",h=o;break;case 58:h=1+yi(_),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&lH()==125)continue}switch(_+=vb(b),b*m){case 38:x=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(yi(_)-1)*x,x=1;break;case 64:ys()===45&&(_+=Vg(ti())),f=ys(),u=h=yi(v=_+=pH(mh())),b++;break;case 45:g===45&&yi(_)==2&&(m=0)}}return s}function Qw(e,t,r,n,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],g=oH(p),m=0,y=0,x=0;m<n;++m)for(var b=0,v=al(e,f+1,f=tL(y=o[m])),S=e;b<g;++b)(S=eL(y>0?p[b]+" "+v:gh(v,/&\f/g,p[b])))&&(l[x++]=S);return wb(e,t,r,i===0?JA:a,l,c,u,h)}function mH(e,t,r,n){return wb(e,t,r,KA,vb(aH()),al(e,2,-2),0,n)}function Kw(e,t,r,n,i){return wb(e,t,r,ZA,al(e,0,n),al(e,n+1,-1),n,i)}function tx(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function xH(e,t,r,n){switch(e.type){case iH:if(e.children.length)break;case eH:case rH:case ZA:return e.return=e.return||e.value;case KA:return"";case nH:return e.return=e.value+"{"+tx(e.children,n)+"}";case JA:if(!yi(e.value=e.props.join(",")))return""}return yi(r=tx(e.children,n))?e.return=e.value+"{"+r+"}":""}var yH=jj(Object.keys,Object),bH=Object.prototype,vH=bH.hasOwnProperty;function wH(e){if(!Sp(e))return yH(e);var t=[];for(var r in Object(e))vH.call(e,r)&&r!="constructor"&&t.push(r);return t}var ex=Qo(Ei,"DataView"),rx=Qo(Ei,"Promise"),nx=Qo(Ei,"Set"),ix=Qo(Ei,"WeakMap"),Jw="[object Map]",kH="[object Object]",Zw="[object Promise]",tk="[object Set]",ek="[object WeakMap]",rk="[object DataView]",SH=Xo(ex),_H=Xo(pu),CH=Xo(rx),TH=Xo(nx),EH=Xo(ix),lo=bl;(ex&&lo(new ex(new ArrayBuffer(1)))!=rk||pu&&lo(new pu)!=Jw||rx&&lo(rx.resolve())!=Zw||nx&&lo(new nx)!=tk||ix&&lo(new ix)!=ek)&&(lo=function(e){var t=bl(e),r=t==kH?e.constructor:void 0,n=r?Xo(r):"";if(n)switch(n){case SH:return rk;case _H:return Jw;case CH:return Zw;case TH:return tk;case EH:return ek}return t});var jH="[object Map]",AH="[object Set]",LH=Object.prototype,MH=LH.hasOwnProperty;function nk(e){if(e==null)return!0;if(_p(e)&&(vf(e)||typeof e=="string"||typeof e.splice=="function"||Jy(e)||Zy(e)||bf(e)))return!e.length;var t=lo(e);if(t==jH||t==AH)return!e.size;if(Sp(e))return!wH(e).length;for(var r in e)if(MH.call(e,r))return!1;return!0}var nL="c4",RH=w(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),BH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-CcR0X040.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:nL,diagram:e}},"loader"),PH={id:nL,detector:RH,loader:BH},FH=PH,iL="flowchart",DH=w((e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),OH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-C6SsUoPX.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:iL,diagram:e}},"loader"),$H={id:iL,detector:DH,loader:OH},NH=$H,sL="flowchart-v2",IH=w((e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),zH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-C6SsUoPX.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:sL,diagram:e}},"loader"),WH={id:sL,detector:IH,loader:zH},HH=WH,oL="er",qH=w(e=>/^\s*erDiagram/.test(e),"detector"),UH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-C1YVdfrk.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:oL,diagram:e}},"loader"),VH={id:oL,detector:qH,loader:UH},YH=VH,aL="gitGraph",GH=w(e=>/^\s*gitGraph/.test(e),"detector"),XH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-m3q8xy8B.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:aL,diagram:e}},"loader"),QH={id:aL,detector:GH,loader:XH},KH=QH,lL="gantt",JH=w(e=>/^\s*gantt/.test(e),"detector"),ZH=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./ganttDiagram-LVOFAZNH-0zQAzdFC.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:lL,diagram:e}},"loader"),tq={id:lL,detector:JH,loader:ZH},eq=tq,cL="info",rq=w(e=>/^\s*info/.test(e),"detector"),nq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./infoDiagram-ER5ION4S-DRwgaeN1.js");return{diagram:t}},__vite__mapDeps([24,19,2,4,5]));return{id:cL,diagram:e}},"loader"),iq={id:cL,detector:rq,loader:nq},uL="pie",sq=w(e=>/^\s*pie/.test(e),"detector"),oq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-CFFpfywz.js");return{diagram:t}},__vite__mapDeps([25,17,19,2,4,5,26,27,22]));return{id:uL,diagram:e}},"loader"),aq={id:uL,detector:sq,loader:oq},dL="quadrantChart",lq=w(e=>/^\s*quadrantChart/.test(e),"detector"),cq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-CQOmYPlh.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:dL,diagram:e}},"loader"),uq={id:dL,detector:lq,loader:cq},dq=uq,hL="xychart",hq=w(e=>/^\s*xychart(-beta)?/.test(e),"detector"),fq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-CkYYHndV.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:hL,diagram:e}},"loader"),pq={id:hL,detector:hq,loader:fq},gq=pq,fL="requirement",mq=w(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),xq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-CA2IK6LT.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:fL,diagram:e}},"loader"),yq={id:fL,detector:mq,loader:xq},bq=yq,pL="sequence",vq=w(e=>/^\s*sequenceDiagram/.test(e),"detector"),wq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-DfTcdM1V.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:pL,diagram:e}},"loader"),kq={id:pL,detector:vq,loader:wq},Sq=kq,gL="class",_q=w((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),Cq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-B_SjYelT.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:gL,diagram:e}},"loader"),Tq={id:gL,detector:_q,loader:Cq},Eq=Tq,mL="classDiagram",jq=w((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),Aq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-B_SjYelT.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:mL,diagram:e}},"loader"),Lq={id:mL,detector:jq,loader:Aq},Mq=Lq,xL="state",Rq=w((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),Bq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-z6W0x4Vj.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:xL,diagram:e}},"loader"),Pq={id:xL,detector:Rq,loader:Bq},Fq=Pq,yL="stateDiagram",Dq=w((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),Oq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-Ds-0ER73.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:yL,diagram:e}},"loader"),$q={id:yL,detector:Dq,loader:Oq},Nq=$q,bL="journey",Iq=w(e=>/^\s*journey/.test(e),"detector"),zq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-CN5gnuUd.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:bL,diagram:e}},"loader"),Wq={id:bL,detector:Iq,loader:zq},Hq=Wq,qq=w((e,t,r)=>{rt.debug(`rendering svg for syntax error
`);const n=S4(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),UC(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),vL={draw:qq},Uq=vL,Vq={db:{},renderer:vL,parser:{parse:w(()=>{},"parse")}},Yq=Vq,wL="flowchart-elk",Gq=w((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),Xq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-C6SsUoPX.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:wL,diagram:e}},"loader"),Qq={id:wL,detector:Gq,loader:Xq},Kq=Qq,kL="timeline",Jq=w(e=>/^\s*timeline/.test(e),"detector"),Zq=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-az503E-x.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:kL,diagram:e}},"loader"),tU={id:kL,detector:Jq,loader:Zq},eU=tU,SL="mindmap",rU=w(e=>/^\s*mindmap/.test(e),"detector"),nU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-DsXE1c5F.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:SL,diagram:e}},"loader"),iU={id:SL,detector:rU,loader:nU},sU=iU,_L="kanban",oU=w(e=>/^\s*kanban/.test(e),"detector"),aU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-C8-Itbb7.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:_L,diagram:e}},"loader"),lU={id:_L,detector:oU,loader:aU},cU=lU,CL="sankey",uU=w(e=>/^\s*sankey(-beta)?/.test(e),"detector"),dU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-1TZguCtj.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:CL,diagram:e}},"loader"),hU={id:CL,detector:uU,loader:dU},fU=hU,TL="packet",pU=w(e=>/^\s*packet(-beta)?/.test(e),"detector"),gU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-QD10G8Z_.js");return{diagram:t}},__vite__mapDeps([43,17,19,2,4,5]));return{id:TL,diagram:e}},"loader"),mU={id:TL,detector:pU,loader:gU},EL="radar",xU=w(e=>/^\s*radar-beta/.test(e),"detector"),yU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-DUkFIv3h.js");return{diagram:t}},__vite__mapDeps([44,17,19,2,4,5]));return{id:EL,diagram:e}},"loader"),bU={id:EL,detector:xU,loader:yU},jL="block",vU=w(e=>/^\s*block(-beta)?/.test(e),"detector"),wU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-BjjvcgQY.js");return{diagram:t}},__vite__mapDeps([45,11,5,2,1,14]));return{id:jL,diagram:e}},"loader"),kU={id:jL,detector:vU,loader:wU},SU=kU,AL="architecture",_U=w(e=>/^\s*architecture/.test(e),"detector"),CU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-Ce7AimaN.js");return{diagram:t}},__vite__mapDeps([46,17,19,2,4,5,7]));return{id:AL,diagram:e}},"loader"),TU={id:AL,detector:_U,loader:CU},EU=TU,LL="treemap",jU=w(e=>/^\s*treemap/.test(e),"detector"),AU=w(async()=>{const{diagram:e}=await ie(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-Cb9q6sga.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,2,4,5,23,27,22]));return{id:LL,diagram:e}},"loader"),LU={id:LL,detector:jU,loader:AU},ik=!1,Fp=w(()=>{ik||(ik=!0,Zh("error",Yq,e=>e.toLowerCase().trim()==="error"),Zh("---",{db:{clear:w(()=>{},"clear")},styles:{},renderer:{draw:w(()=>{},"draw")},parser:{parse:w(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:w(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),d0(Kq,sU,EU),d0(FH,cU,Mq,Eq,YH,eq,iq,aq,bq,Sq,HH,NH,eU,KH,Nq,Fq,Hq,dq,fU,mU,gq,SU,bU,LU))},"addDiagrams"),MU=w(async()=>{rt.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Do).map(async([r,{detector:n,loader:i}])=>{if(i)try{g0(r)}catch{try{const{diagram:s,id:o}=await i();Zh(o,s,n)}catch(s){throw rt.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Do[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){rt.error(`Failed to load ${t.length} external diagrams`);for(const r of t)rt.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),RU="graphics-document document";function ML(e,t){e.attr("role",RU),t!==""&&e.attr("aria-roledescription",t)}w(ML,"setA11yDiagramInfo");function RL(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}w(RL,"addSVGa11yTitleDescription");var Ao,sx=(Ao=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){var c,u;const n=vr(),i=ky(t,n);t=Lz(t)+`
`;try{g0(i)}catch{const h=ZD(i);if(!h)throw new BC(`Diagram ${i} not found.`);const{id:f,diagram:p}=await h();Zh(f,p)}const{db:s,parser:o,renderer:a,init:l}=g0(i);return o.parser&&(o.parser.yy=s),(c=s.clear)==null||c.call(s),l==null||l(n),r.title&&((u=s.setDiagramTitle)==null||u.call(s,r.title)),await o.parse(t),new Ao(i,t,s,o,a)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},w(Ao,"Diagram"),Ao),sk=[],BU=w(()=>{sk.forEach(e=>{e()}),sk=[]},"attachFunctions"),PU=w(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function BL(e){const t=e.match(RC);if(!t)return{text:e,metadata:{}};let r=L6(t[1],{schema:A6})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}w(BL,"extractFrontMatter");var FU=w(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),DU=w(e=>{const{text:t,metadata:r}=BL(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),OU=w(e=>{const t=Xn.detectInit(e)??{},r=Xn.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:xz(e),directive:t}},"processDirectives");function kb(e){const t=FU(e),r=DU(t),n=OU(r.text),i=sb(r.config,n.directive);return e=PU(n.text),{code:e,title:r.title,config:i}}w(kb,"preprocessDiagram");function PL(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}w(PL,"toBase64");var $U=5e4,NU="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",IU="sandbox",zU="loose",WU="http://www.w3.org/2000/svg",HU="http://www.w3.org/1999/xlink",qU="http://www.w3.org/1999/xhtml",UU="100%",VU="100%",YU="border:0;margin:0;",GU="margin:0",XU="allow-top-navigation-by-user-activation allow-popups",QU='The "iframe" tag is not supported by your browser.',KU=["foreignobject"],JU=["dominant-baseline"];function Sb(e){const t=kb(e);return Kh(),gO(t.config??{}),t}w(Sb,"processAndSetConfigs");async function FL(e,t){Fp();try{const{code:r,config:n}=Sb(e);return{diagramType:(await OL(r)).type,config:n}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}w(FL,"parse");var ok=w((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),ZU=w((e,t=new Map)=>{var n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const a=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{nk(l.styles)||a.forEach(c=>{r+=ok(l.id,c,l.styles)}),nk(l.textStyles)||(r+=ok(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return r},"createCssStyles"),tV=w((e,t,r,n)=>{const i=ZU(e,r),s=FO(t,i,e.themeVariables);return tx(gH(`${n}{${s}}`),xH)},"createUserStyles"),eV=w((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Ko(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),rV=w((e="",t)=>{var i,s;const r=(s=(i=t==null?void 0:t.viewBox)==null?void 0:i.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":VU,n=PL(`<body style="${GU}">${e}</body>`);return`<iframe style="width:${UU};height:${r};${YU}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${XU}">
  ${QU}
</iframe>`},"putIntoIFrame"),ak=w((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const o=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",WU);return i&&o.attr("xmlns:xlink",i),o.append("g"),e},"appendDivSvgG");function ox(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}w(ox,"sandboxedIframe");var nV=w((e,t,r,n)=>{var i,s,o;(i=e.getElementById(t))==null||i.remove(),(s=e.getElementById(r))==null||s.remove(),(o=e.getElementById(n))==null||o.remove()},"removeExistingElements"),iV=w(async function(e,t,r){var H,N,M,E,L,B;Fp();const n=Sb(t);t=n.code;const i=vr();rt.debug(i),t.length>((i==null?void 0:i.maxTextSize)??$U)&&(t=NU);const s="#"+e,o="i"+e,a="#"+o,l="d"+e,c="#"+l,u=w(()=>{const P=Xt(f?a:c).node();P&&"remove"in P&&P.remove()},"removeTempElements");let h=Xt("body");const f=i.securityLevel===IU,p=i.securityLevel===zU,g=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const j=ox(Xt(r),o);h=Xt(j.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Xt(r);ak(h,e,l,`font-family: ${g}`,HU)}else{if(nV(document,e,l,o),f){const j=ox(Xt("body"),o);h=Xt(j.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Xt("body");ak(h,e,l)}let m,y;try{m=await sx.fromText(t,{title:n.title})}catch(j){if(i.suppressErrorRendering)throw u(),j;m=await sx.fromText("error"),y=j}const x=h.select(c).node(),b=m.type,v=x.firstChild,S=v.firstChild,k=(N=(H=m.renderer).getClasses)==null?void 0:N.call(H,t,m),C=tV(i,b,k,s),_=document.createElement("style");_.innerHTML=C,v.insertBefore(_,S);try{await m.renderer.draw(t,e,jv.version,m)}catch(j){throw i.suppressErrorRendering?u():Uq.draw(t,e,jv.version),j}const A=h.select(`${c} svg`),O=(E=(M=m.db).getAccTitle)==null?void 0:E.call(M),F=(B=(L=m.db).getAccDescription)==null?void 0:B.call(L);$L(b,A,O,F),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",qU);let $=h.select(c).node().innerHTML;if(rt.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),$=eV($,f,qe(i.arrowMarkerAbsolute)),f){const j=h.select(c+" svg").node();$=rV($,j)}else p||($=tl.sanitize($,{ADD_TAGS:KU,ADD_ATTR:JU,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(BU(),y)throw y;return u(),{diagramType:b,svg:$,bindFunctions:m.db.bindFunctions}},"render");function DL(e={}){var n;const t=Ie({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),fO(t),t!=null&&t.theme&&t.theme in Gi?t.themeVariables=Gi[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Gi.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?hO(t):$C();wy(r.logLevel),Fp()}w(DL,"initialize");var OL=w((e,t={})=>{const{code:r}=kb(e);return sx.fromText(r,t)},"getDiagramFromText");function $L(e,t,r,n){ML(t,e),RL(t,r,n,t.attr("id"))}w($L,"addA11yInfo");var Wo=Object.freeze({render:iV,parse:FL,getDiagramFromText:OL,initialize:DL,getConfig:vr,setConfig:NC,getSiteConfig:$C,updateSiteConfig:pO,reset:w(()=>{Kh()},"reset"),globalReset:w(()=>{Kh(el)},"globalReset"),defaultConfig:el});wy(vr().logLevel);Kh(vr());var sV=w((e,t,r)=>{rt.warn(e),ib(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),NL=w(async function(e={querySelector:".mermaid"}){try{await oV(e)}catch(t){if(ib(t)&&rt.error(t.str),gn.parseError&&gn.parseError(t),!e.suppressErrors)throw rt.error("Use the suppressErrors option to suppress these errors"),t}},"run"),oV=w(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Wo.getConfig();rt.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");rt.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(rt.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Wo.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const s=new Xn.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){if(rt.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;o=l.innerHTML,o=o5(Xn.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Xn.detectInit(o);u&&rt.debug("Detected early reinit: ",u);try{const{svg:h,bindFunctions:f}=await HL(c,o,l);l.innerHTML=h,e&&await e(c),f&&f(l)}catch(h){sV(h,a,gn.parseError)}}if(a.length>0)throw a[0]},"runThrowsErrors"),IL=w(function(e){Wo.initialize(e)},"initialize"),aV=w(async function(e,t,r){rt.warn("mermaid.init is deprecated. Please use run instead."),e&&IL(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await NL(n)},"init"),lV=w(async(e,{lazyLoad:t=!0}={})=>{Fp(),d0(...e),t===!1&&await MU()},"registerExternalDiagrams"),zL=w(function(){if(gn.startOnLoad){const{startOnLoad:e}=Wo.getConfig();e&&gn.run().catch(t=>rt.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",zL,!1);var cV=w(function(e){gn.parseError=e},"setParseErrorHandler"),Mf=[],Yg=!1,WL=w(async()=>{if(!Yg){for(Yg=!0;Mf.length>0;){const e=Mf.shift();if(e)try{await e()}catch(t){rt.error("Error executing queue",t)}}Yg=!1}},"executeQueue"),uV=w(async(e,t)=>new Promise((r,n)=>{const i=w(()=>new Promise((s,o)=>{Wo.parse(e,t).then(a=>{s(a),r(a)},a=>{var l;rt.error("Error parsing",a),(l=gn.parseError)==null||l.call(gn,a),o(a),n(a)})}),"performCall");Mf.push(i),WL().catch(n)}),"parse"),HL=w((e,t,r)=>new Promise((n,i)=>{const s=w(()=>new Promise((o,a)=>{Wo.render(e,t,r).then(l=>{o(l),n(l)},l=>{var c;rt.error("Error parsing",l),(c=gn.parseError)==null||c.call(gn,l),a(l),i(l)})}),"performCall");Mf.push(s),WL().catch(i)}),"render"),dV=w(()=>Object.keys(Do).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),gn={startOnLoad:!0,mermaidAPI:Wo,parse:uV,render:HL,init:aV,run:NL,registerExternalDiagrams:lV,registerLayoutLoaders:QA,initialize:IL,parseError:void 0,contentLoaded:zL,setParseErrorHandler:cV,detectType:ky,registerIconPacks:P7,getRegisteredDiagramsMetadata:dV},qL=gn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */qL.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"});function hV({dbName:e,dbType:t}){var G,Q,ut;const[r,n]=T.useState(t==="sql"?"er":"collections"),[i,s]=T.useState(null),[o,a]=T.useState(""),[l,c]=T.useState(!1),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,m]=T.useState([]),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[S,k]=T.useState({from:"",to:"",cardinality:"||--o{",relationshipName:""}),[C,_]=T.useState(null);T.useEffect(()=>{if(!i||!i.tables)return;const Y={...i};O(Y,r)},[i,g,r]),T.useEffect(()=>{A()},[r]);const A=async()=>{var Y,nt;c(!0),h("");try{const at=await K.get(`/api/db/${e}/diagram_data`,{params:{type:r}});if(at.data.success){const pt=at.data.data;s(pt);const Tt=pt.relationships||[];m(Tt.map(Et=>({from:Et.from,to:Et.to,cardinality:Et.cardinality||"||--o{",column:Et.column,relationshipName:Et.relationshipName||Et.column||""}))),O(pt,r)}else h(at.data.error||"Failed to load diagram data")}catch(at){console.error("Failed to load diagram data:",at),h("Failed to load diagram data: "+(((nt=(Y=at.response)==null?void 0:Y.data)==null?void 0:nt.error)||at.message))}finally{c(!1)}},O=(Y,nt)=>{let at="";t==="sql"?nt==="er"?at=$(Y):nt==="schema"&&(at=H(Y)):nt==="collections"?at=N(Y):nt==="hierarchy"&&(at=M(Y)),a(at),I(at)},F=Y=>Y.replace(/[^a-zA-Z0-9_]/g,"_").toUpperCase(),$=Y=>{let nt=`erDiagram
`;return(Y.tables||[]).forEach(pt=>{const Tt=F(pt.name);nt+=`    ${Tt} {
`,(pt.fields||[]).forEach(st=>{let ht=[];st.pk&&ht.push("PK"),st.fk&&ht.push("FK"),st.notnull&&ht.push("NOT NULL");const Rt=(st.type||"TEXT").replace(/\(/g,"_").replace(/\)/g,"").replace(/,/g,"_").replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toUpperCase(),Wt=ht.length>0?` "${ht.join(",")}"`:"";nt+=`        ${Rt} ${st.name}${Wt}
`}),nt+=`    }
`}),g.forEach(pt=>{const Tt=F(pt.from),Et=F(pt.to),st=pt.cardinality||"||--o{",ht=pt.relationshipName?`"${pt.relationshipName}"`:pt.column?`"via ${pt.column}"`:'"has"';nt+=`    ${Tt} ${st} ${Et} : ${ht}
`}),nt},H=Y=>{let nt=`graph LR
`;const at=Y.tables||[];return at.forEach((pt,Tt)=>{var Rt;const Et=`T${Tt}`,st=pt.name||"unknown",ht=((Rt=pt.fields)==null?void 0:Rt.length)||0;nt+=`    ${Et}["${st}<br/>${ht} columns"]
`,Tt<at.length-1&&(nt+=`    ${Et} --> T${Tt+1}
`)}),nt},N=Y=>{let nt=`graph TB
`;const at=Y.collections||[];return at.length===0?"":(nt+=`    DB[" Database: ${e}<br/>Collections: ${Y.total_collections}<br/>Docs: ${Y.total_documents}"]

`,at.forEach((pt,Tt)=>{const Et="C"+Tt;nt+=`    ${Et}["${pt.name}<br/>Docs:${pt.document_count} Keys:${pt.key_count}"]
`,nt+=`    DB --> ${Et}
`}),nt)},M=Y=>{let nt=`graph TB
`;const at=Y.collections||[];return at.length===0?"":(at.forEach((pt,Tt)=>{const Et="COLL"+Tt;nt+=`    ${Et}[" ${pt.name}<br/>(${pt.document_count} docs)"]
`;const st=pt.fields||{};let ht=0;Object.entries(st).slice(0,12).forEach(([Rt,Wt])=>{const se=`F${Tt}_${ht}`;nt+=`    ${se}[" ${Rt}<br/>(${Wt.type})"]
`,nt+=`    ${Et} --> ${se}
`,ht++})}),nt)},E=()=>{if(!S.from||!S.to){alert("Please select both tables");return}if(S.from===S.to){alert("Cannot create self-referencing relationship");return}if(g.some(nt=>nt.from===S.from&&nt.to===S.to)&&C===null){alert("This relationship already exists");return}if(C!==null){const nt=[...g];nt[C]={...S},m(nt),_(null)}else m([...g,{...S}]);k({from:"",to:"",cardinality:"||--o{",relationshipName:""}),v(!1),setTimeout(()=>{O(i,r)},100)},L=Y=>{k({...g[Y]}),_(Y),v(!0)},B=Y=>{if(!window.confirm("Delete this relationship?"))return;const nt=g.filter((at,pt)=>pt!==Y);m(nt),setTimeout(()=>{O(i,r)},100)},j=()=>{k({from:"",to:"",cardinality:"||--o{",relationshipName:""}),_(null),v(!1)},P=Y=>({"||--||":"One-to-One","||--o{":"One-to-Many","}o--o{":"Many-to-Many","||--o|":"One-to-Zero-or-One"})[Y]||Y,I=async Y=>{if(Y)try{const nt=`mermaid-${Date.now()}`,{svg:at}=await qL.render(nt,Y);p(at)}catch(nt){console.error("Mermaid render error:",nt),h("Failed to render diagram: "+nt.message)}},D=()=>{if(!f)return;const at=new DOMParser().parseFromString(f,"image/svg+xml").documentElement;at.removeAttribute("width"),at.removeAttribute("height");const pt=at.getAttribute("viewBox");let Tt=1200,Et=800;if(pt){const te=pt.trim().split(/\s+/).map(Number);te.length===4&&(Tt=te[2],Et=te[3])}const st=2.5,ht=Math.round(Tt*st),Rt=Math.round(Et*st);if(at.setAttribute("width",ht),at.setAttribute("height",Rt),!at.querySelector('rect[fill="white"]')){const te=document.createElementNS("http://www.w3.org/2000/svg","rect");te.setAttribute("width","100%"),te.setAttribute("height","100%"),te.setAttribute("fill","white"),at.insertBefore(te,at.firstChild)}const se=new XMLSerializer().serializeToString(at),be="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(se))),Tr=new Image;Tr.onload=()=>{const te=document.createElement("canvas");te.width=ht,te.height=Rt;const Se=te.getContext("2d");Se.imageSmoothingEnabled=!0,Se.imageSmoothingQuality="high",Se.fillStyle="white",Se.fillRect(0,0,ht,Rt),Se.drawImage(Tr,0,0,ht,Rt),te.toBlob(on=>{const Ze=URL.createObjectURL(on),Be=document.createElement("a");Be.href=Ze,Be.download=`${e}_${r}_diagram.png`,Be.click(),URL.revokeObjectURL(Ze)},"image/png",1)},Tr.src=be},q=()=>({er:" Visual representation of entities and their relationships in your database",schema:" Overview of table structures, columns, and data types across your database",collections:" Summary of all collections with document counts and fields",hierarchy:" Field-level structure and data types in each collection"})[r]||"";return d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Database Diagrams"}),u&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:u}),d.jsxs("div",{style:{background:"#f8f8f8",padding:"25px",borderRadius:"12px",marginBottom:"20px"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082",fontSize:"1.05em"},children:" Select Diagram Type:"}),d.jsx("select",{value:r,onChange:Y=>n(Y.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"white",cursor:"pointer",color:"#333"},children:t==="sql"?d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"er",children:"Entity-Relationship (ER) Diagram"}),d.jsx("option",{value:"schema",children:"Schema/Table Structure Diagram"})]}):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"collections",children:"Collections Overview"}),d.jsx("option",{value:"hierarchy",children:"Data Hierarchy Diagram"})]})}),d.jsx("p",{style:{marginTop:"8px",fontSize:"0.9em",color:"#666",fontStyle:"italic"},children:q()})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[d.jsx("button",{onClick:()=>O(i,r),disabled:l||!i,style:{padding:"14px 32px",background:l?"#ccc":"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:l?"not-allowed":"pointer"},children:l?" Loading...":" Generate Diagram"}),f&&d.jsx("button",{onClick:D,style:{padding:"14px 32px",background:"linear-gradient(135deg, #2e7d32, #1b5e20)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:" Download as Image"}),r==="er"&&i&&d.jsx("button",{onClick:()=>x(!0),style:{padding:"14px 32px",background:"linear-gradient(135deg, #e91e63, #ad1457)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:" View Relationships"})]})]}),l&&d.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6a5acd"},children:[d.jsx("div",{style:{fontSize:"2.5em",marginBottom:"15px"},children:""}),d.jsx("p",{style:{fontSize:"1.1em"},children:"Generating diagram..."})]}),f&&!l&&d.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",marginTop:"20px",overflowX:"auto"},children:d.jsx("div",{dangerouslySetInnerHTML:{__html:f}})}),i&&!l&&d.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px"},children:[d.jsx("strong",{style:{color:"#2e7d32",fontSize:"1.05em"},children:" Diagram Statistics:"}),d.jsx("div",{style:{marginTop:"12px",color:"#1b5e20",lineHeight:"1.8"},children:t==="sql"?d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Total Tables:"})," ",((G=i.tables)==null?void 0:G.length)||0,d.jsx("br",{}),d.jsx("strong",{children:"Total Relationships:"})," ",g.length]}):d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Total Collections:"})," ",i.total_collections||0,d.jsx("br",{}),d.jsx("strong",{children:"Total Documents:"})," ",i.total_documents||0]})})]}),y&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:()=>{x(!1),v(!1),_(null),k({from:"",to:"",cardinality:"||--o{",relationshipName:""})},children:d.jsx("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #e91e63",boxShadow:"0 10px 40px rgba(233, 30, 99, 0.6)"},onClick:Y=>Y.stopPropagation(),children:b?d.jsxs(d.Fragment,{children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:[C!==null?" Edit":" Add"," ","Relationship"]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"From Table:"}),d.jsxs("select",{value:S.from,onChange:Y=>k({...S,from:Y.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select Table --"}),(Q=i==null?void 0:i.tables)==null?void 0:Q.map(Y=>d.jsx("option",{value:Y.name,children:Y.name},Y.name))]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"Cardinality:"}),d.jsxs("select",{value:S.cardinality,onChange:Y=>k({...S,cardinality:Y.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"||--||",children:"One-to-One (||--||)"}),d.jsxs("option",{value:"||--o{",children:["One-to-Many (||--o","{",")"]}),d.jsxs("option",{value:"}o--o{",children:["Many-to-Many (","{","o--o","{",")"]}),d.jsx("option",{value:"||--o|",children:"One-to-Zero-or-One (||--o|)"})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"To Table:"}),d.jsxs("select",{value:S.to,onChange:Y=>k({...S,to:Y.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select Table --"}),(ut=i==null?void 0:i.tables)==null?void 0:ut.map(Y=>d.jsx("option",{value:Y.name,children:Y.name},Y.name))]})]}),d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"Relationship Name (Optional):"}),d.jsx("input",{type:"text",value:S.relationshipName,onChange:Y=>k({...S,relationshipName:Y.target.value.slice(0,50)}),placeholder:"e.g., 'manages', 'belongs to', 'has many'",maxLength:50,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"}}),d.jsx("small",{style:{color:"#bb86fc",fontSize:"0.85em",marginTop:"5px",display:"block"},children:"Max 50 characters. Describes the relationship between tables."})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{onClick:j,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{onClick:E,style:{padding:"14px 28px",background:"#e91e63",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:C!==null?"Update":"Done"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:" Manage Relationships"}),d.jsx("button",{onClick:()=>v(!0),style:{width:"100%",padding:"14px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",marginBottom:"20px"},children:" Add Relationship"}),g.length>0?d.jsx("div",{style:{marginBottom:"20px"},children:g.map((Y,nt)=>d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.15)",padding:"15px",borderRadius:"8px",marginBottom:"10px",border:"1px solid #9370db"},children:[d.jsxs("div",{style:{color:"#f0f0f0",marginBottom:"8px",fontSize:"15px"},children:[d.jsx("strong",{children:Y.from})," ",P(Y.cardinality)," ",d.jsx("strong",{children:Y.to}),Y.relationshipName&&d.jsxs("span",{style:{color:"#bb86fc",fontSize:"0.9em"},children:[" ","(",Y.relationshipName,")"]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("button",{onClick:()=>L(nt),style:{flex:1,padding:"8px",background:"#1e9530",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Edit"}),d.jsx("button",{onClick:()=>B(nt),style:{flex:1,padding:"8px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Delete"})]})]},nt))}):d.jsx("p",{style:{textAlign:"center",color:"#ccc",fontStyle:"italic",padding:"20px"},children:'No relationships defined. Click "Add Relationship" to create one.'}),d.jsx("button",{onClick:()=>{x(!1),v(!1)},style:{width:"100%",padding:"12px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Close"})]})})})]})}function fV({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(!1),c=async u=>{var h,f;if(u.preventDefault(),o(""),!n.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){o("Collection name must start with a letter, contain only letters, numbers, underscores.");return}l(!0);try{const p=await K.post(`/api/db/${e}/create_collection`,{collection_name:n});p.data.success?r(n):o(p.data.error||"Failed to create collection")}catch(p){o("Failed to create: "+(((f=(h=p.response)==null?void 0:h.data)==null?void 0:f.error)||p.message))}finally{l(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:u=>u.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Create New Collection in ",e]}),s&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:s}),d.jsxs("form",{onSubmit:c,children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Collection Name:"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("input",{type:"text",value:n,onChange:u=>{const h=u.target.value;h.length<=63&&i(h)},maxLength:63,placeholder:"e.g. users, spells, potions",required:!0,disabled:a,style:{width:"100%",padding:"14px",paddingRight:"60px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px",boxSizing:"border-box"}}),d.jsxs("span",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#9ca3af",pointerEvents:"none"},children:[n.length,"/63"]})]})]}),d.jsx("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:"Collection will be created with no schema. Add documents freely after creation."}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,disabled:a,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"bold",opacity:a?.7:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,style:{padding:"14px 28px",background:a?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"bold",boxShadow:a?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:a?"Creating...":"Create Collection"})]})]})]})})}function pV({dbName:e}){const[t,r]=T.useState([]),[n,i]=T.useState(!0),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(!1),[h,f]=T.useState(""),[p,g]=T.useState(""),[m,y]=T.useState(null),[x,b]=T.useState(""),[v,S]=T.useState(!1),[k,C]=T.useState(""),[_,A]=T.useState(1),[O]=T.useState(10);T.useEffect(()=>{F()},[e]),T.useEffect(()=>{A(1)},[k]);const F=async()=>{try{i(!0);const P=await K.get(`/api/db/${e}/views`);P.data.success?(r(P.data.views||[]),S(P.data.supports_views||!1)):o(P.data.error||"Failed to fetch views")}catch(P){console.error("Failed to fetch views:",P),o("Failed to load views")}finally{i(!1)}},$=async P=>{var I,D;if(P.preventDefault(),o(""),l(""),!h.trim()||!p.trim()){o("View name and query are required");return}try{const q=await K.post(`/api/db/${e}/views/create`,{view_name:h,view_query:p});q.data.success?(l(q.data.message),f(""),g(""),u(!1),F()):o(q.data.error||"Failed to create view")}catch(q){o("Failed to create view: "+(((D=(I=q.response)==null?void 0:I.data)==null?void 0:D.error)||q.message))}},H=async P=>{var I,D;if(window.confirm(`Are you sure you want to delete view ${P}?`))try{const q=await K.post(`/api/db/${e}/views/delete`,{view_name:P});q.data.success?(l(q.data.message),y(null),b(""),F()):o(q.data.error||"Failed to delete view")}catch(q){o("Failed to delete view: "+(((D=(I=q.response)==null?void 0:I.data)==null?void 0:D.error)||q.message))}},N=async P=>{var I,D;try{const q=await K.get(`/api/db/${e}/view/${P}/definition`);q.data.success?(y(P),b(q.data.definition)):o(q.data.error||"Failed to fetch view definition")}catch(q){o("Failed to fetch view definition: "+(((D=(I=q.response)==null?void 0:I.data)==null?void 0:D.error)||q.message))}};if(n)return d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading views..."})});if(!v)return d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Views are not supported by this database handler."})});const M=t.filter(P=>P.name.toLowerCase().includes(k.toLowerCase())),E=Math.ceil(M.length/O),L=(_-1)*O,B=L+O,j=M.slice(L,B);return d.jsxs("div",{style:{padding:"20px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[d.jsxs("h3",{style:{margin:0,color:"#f0f0f0"},children:["Views in ",e]}),d.jsx("button",{onClick:()=>u(!0),style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create New View"})]}),s&&d.jsx("p",{className:"error",children:s}),a&&d.jsx("p",{className:"success",children:a}),t.length>0?d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("input",{type:"text",placeholder:"Search views...",value:k,onChange:P=>C(P.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),d.jsxs("div",{style:{marginTop:"10px",color:"#999",fontSize:"14px"},children:["Showing ",L+1,"-",Math.min(B,M.length)," of"," ",M.length," view",M.length!==1?"s":"",k&&` (filtered from ${t.length} total)`]})]}),M.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"View Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:j.map(P=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:P.name})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>N(P.name),style:{background:"#1e9530",marginRight:"10px"},children:"View Definition"}),d.jsx("button",{onClick:()=>H(P.name),style:{background:"#dc3545"},children:"Delete"})]})]},P.name))})]}),E>1&&d.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"20px"},children:[d.jsx("button",{onClick:()=>A(P=>Math.max(1,P-1)),disabled:_===1,style:{padding:"8px 15px",background:_===1?"#555":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:_===1?"not-allowed":"pointer"},children:"Previous"}),d.jsxs("span",{style:{color:"#f0f0f0"},children:["Page ",_," of ",E]}),d.jsx("button",{onClick:()=>A(P=>Math.min(E,P+1)),disabled:_===E,style:{padding:"8px 15px",background:_===E?"#555":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:_===E?"not-allowed":"pointer"},children:"Next"})]}),m&&x&&d.jsxs("div",{style:{marginTop:"30px",background:"rgba(147, 112, 219, 0.1)",padding:"20px",borderRadius:"10px"},children:[d.jsxs("h4",{style:{color:"#f0f0f0"},children:["View Definition: ",m]}),d.jsx("br",{}),d.jsx("pre",{style:{background:"rgba(30, 0, 51, 0.5)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:x})]})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No views match your search."})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No views found."}),c&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:d.jsxs("div",{style:{background:"#2a2a2a",padding:"30px",borderRadius:"10px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto"},children:[d.jsx("h3",{style:{color:"#f0f0f0",marginTop:0},children:"Create New View"}),d.jsxs("form",{onSubmit:$,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"View Name:"}),d.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),placeholder:"e.g., active_users_view",required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"View Query (SELECT statement):"}),d.jsx("textarea",{value:p,onChange:P=>g(P.target.value),placeholder:"SELECT column1, column2 FROM table_name WHERE condition",required:!0,rows:8,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>{u(!1),f(""),g("")},style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create View"})]})]})]})})]})}function gV({dbName:e,tables:t}){const[r,n]=T.useState(""),[i,s]=T.useState([]),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[y,x]=T.useState({list:!1,create:!1,delete:!1}),[b,v]=T.useState("RANGE"),[S,k]=T.useState(""),[C,_]=T.useState([{name:"",value:""}]);T.useEffect(()=>{A()},[e]),T.useEffect(()=>{r&&g&&(O(r),F())},[r,g]);const A=async()=>{try{const L=await K.get(`/api/db/${e}/partitions/support`);L.data.success&&m(L.data.supports_partitions||!1)}catch(L){console.error("Failed to check partitions support:",L),m(!1)}},O=async L=>{if(L)try{a(!0);const B=await K.get(`/api/db/${e}/table/${L}/partitions`);B.data.success?s(B.data.partitions||[]):c(B.data.error||"Failed to fetch partitions")}catch(B){console.error("Failed to fetch partitions:",B),c("Failed to load partitions")}finally{a(!1)}},F=async()=>{try{const L=await K.get(`/api/db/${e}/partitions/capabilities`);L.data.success&&x(L.data.capabilities)}catch(L){console.error("Failed to fetch partition capabilities",L)}},$=async L=>{var j,P;if(L.preventDefault(),c(""),h(""),!r||!S){c("Table and partition column are required");return}const B={type:b,column:S,definitions:C.filter(I=>I.name&&I.value)};if(b!=="HASH"&&B.definitions.length===0){c("At least one partition definition is required for RANGE and LIST partitions");return}try{const I=await K.post(`/api/db/${e}/table/${r}/partitions/create`,{partition_config:B});I.data.success?(h(I.data.message),p(!1),k(""),_([{name:"",value:""}]),O(r)):c(I.data.error||"Failed to create partition")}catch(I){c("Failed to create partition: "+(((P=(j=I.response)==null?void 0:j.data)==null?void 0:P.error)||I.message))}},H=async L=>{var B,j;if(window.confirm(`Are you sure you want to delete partition ${L}?`))try{const P=await K.post(`/api/db/${e}/table/${r}/partitions/delete`,{partition_name:L});P.data.success?(h(P.data.message),O(r)):c(P.data.error||"Failed to delete partition")}catch(P){c("Failed to delete partition: "+(((j=(B=P.response)==null?void 0:B.data)==null?void 0:j.error)||P.message))}},N=()=>{_([...C,{name:"",value:""}])},M=L=>{_(C.filter((B,j)=>j!==L))},E=(L,B,j)=>{const P=[...C];P[L][B]=j,_(P)};return g?d.jsxs("div",{style:{padding:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0",marginBottom:"20px"},children:"Table Partitions"}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Select Table:"}),d.jsxs("select",{value:r,onChange:L=>n(L.target.value),style:{padding:"10px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select a table --"}),t.map(L=>{const B=typeof L=="string"?L:L.name;return d.jsx("option",{value:B,children:B},B)})]})]}),l&&d.jsx("p",{className:"error",children:l}),u&&d.jsx("p",{className:"success",children:u}),r&&d.jsxs(d.Fragment,{children:[y.create?d.jsx("button",{onClick:()=>p(!0),style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"},children:"Create Partition"}):d.jsx("div",{style:{marginBottom:"20px",padding:"10px 14px",background:"rgba(255, 193, 7, 0.15)",borderLeft:"4px solid #ffc107",borderRadius:"6px",color:"#ffecb5",fontSize:"0.9em"},children:" This database does not support creating partitions after table creation."}),o?d.jsx("div",{className:"loading",children:"Loading partitions..."}):i.length>0?d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Partition Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Expression"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:i.map(L=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:L.name})}),d.jsx("td",{children:L.type||"N/A"}),d.jsx("td",{children:L.expression||"N/A"}),d.jsx("td",{children:y.delete&&d.jsx("button",{onClick:()=>H(L.name),style:{background:"#dc3545"},children:"Delete"})})]},L.name))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No partitions found for this table."})]}),f&&y.create&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:d.jsxs("div",{style:{background:"#2a2a2a",padding:"30px",borderRadius:"10px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto"},children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginTop:0},children:["Create Partition for ",r]}),d.jsxs("form",{onSubmit:$,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Partition Type:"}),d.jsxs("select",{value:b,onChange:L=>v(L.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"RANGE",children:"RANGE"}),d.jsx("option",{value:"LIST",children:"LIST"}),d.jsx("option",{value:"HASH",children:"HASH"})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Partition Column:"}),d.jsx("input",{type:"text",value:S,onChange:L=>k(L.target.value),placeholder:"e.g., created_date, id, category",required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"10px"},children:"Partition Definitions:"}),C.map((L,B)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[d.jsx("input",{type:"text",value:L.name,onChange:j=>E(B,"name",j.target.value),placeholder:"Partition name",style:{flex:1,padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),d.jsx("input",{type:"text",value:L.value,onChange:j=>E(B,"value",j.target.value),placeholder:b==="RANGE"?"For dates: 2023, 2024, etc. For numbers: 100, 1000, MAXVALUE":b==="LIST"?"For MySQL: Use numbers (1, 2, 3). Strings not supported!":"(Optional - auto-numbered if empty)",style:{flex:2,padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),C.length>1&&d.jsx("button",{type:"button",onClick:()=>M(B),style:{padding:"10px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]},B)),d.jsx("button",{type:"button",onClick:N,style:{padding:"8px 16px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"+ Add Partition"})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>{p(!1),k(""),_([{name:"",value:""}])},style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create"})]})]})]})})]}):d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Partitions are not supported by this database handler."})})}const mV=()=>{let e=localStorage.getItem("query_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("query_session_id",e)),e},Dp=(e="global")=>{const[t,r]=T.useState([]),[n,i]=T.useState(-1),[s,o]=T.useState(""),[a,l]=T.useState(!1),c=mV(),u=async()=>{try{l(!0);const m=await K.get("/api/query/history/session",{params:{context:e},headers:{"X-Session-ID":c}});m.data.success&&(console.log(" Fetched session queries:",m.data.queries.length,"for",m.data.handler),r(m.data.queries||[]))}catch(m){console.error(" Failed to fetch session queries:",m)}finally{l(!1)}},h=async m=>{try{console.log(" Adding query to history"),await K.post("/api/query/history/session",{query:m},{headers:{"X-Session-ID":c}}),await u(),i(-1),o(""),console.log(" Query added successfully")}catch(y){console.error(" Failed to add query to history:",y)}},f=async()=>{try{await K.delete("/api/query/history/session",{headers:{"X-Session-ID":c}}),r([]),i(-1),o("")}catch(m){console.error("Failed to clear history:",m)}},p=(m,y)=>{if(t.length===0)return null;let x=n;if(m==="up")if(n===-1)o(y),x=t.length-1;else if(n>0)x=n-1;else return null;else if(m==="down"){if(n===-1)return null;if(n<t.length-1)x=n+1;else return i(-1),s}return i(x),t[x]},g=()=>{i(-1),o("")};return T.useEffect(()=>{u()},[e]),{sessionQueries:t,loading:a,addQuery:h,clearHistory:f,navigateHistory:p,resetNavigation:g,currentIndex:n,draftQuery:s,refreshHistory:u}};function Op(){const[e,t]=T.useState([]),[r,n]=T.useState(!1),[i,s]=T.useState(-1),[o,a]=T.useState(""),l=T.useRef(null),c=T.useCallback(async m=>{if(!m||m.length<2){t([]),n(!1);return}try{const y=await K.post("/api/autocomplete/history",{query:m,limit:5});y.data.success&&y.data.suggestions.length>0?(t(y.data.suggestions),n(!0),s(-1)):(t([]),n(!1))}catch(y){console.error("Autocomplete error:",y),t([]),n(!1)}},[]);T.useCallback(m=>{const y=m.lastIndexOf(";");return y===-1?0:y+1},[]);const u=T.useCallback((m,y)=>{const x=m.lastIndexOf(";");if(x===-1)return y;const b=m.substring(0,x+1),S=m.substring(x+1).match(/^(\s*)/),k=S?S[1]:"";return b+k+y},[]),h=T.useCallback((m,y)=>{l.current&&clearTimeout(l.current),a(m),y(m),l.current=setTimeout(()=>{c(m)},300)},[c]),f=T.useCallback((m,y,x)=>{if(!r||e.length===0)return!1;switch(m.key){case"ArrowDown":return m.preventDefault(),s(b=>b<e.length-1?b+1:b),!0;case"ArrowUp":return m.preventDefault(),s(b=>b>0?b-1:-1),!0;case"Enter":if(i>=0){m.preventDefault();const b=u(y,e[i]);return x(b),n(!1),s(-1),!0}break;case"Escape":return n(!1),s(-1),!0;case"Tab":if(i>=0){m.preventDefault();const b=u(y,e[i]);return x(b),n(!1),s(-1),!0}break}return!1},[r,e,i,u]),p=T.useCallback((m,y)=>{const x=u(o,m);y(x),n(!1),s(-1)},[o,u]),g=T.useCallback(()=>{n(!1),s(-1)},[]);return{suggestions:e,showSuggestions:r,selectedIndex:i,handleQueryChange:h,handleKeyDown:f,selectSuggestion:p,hideSuggestions:g}}function xV({dbName:e,tableName:t,onClose:r,onSuccess:n}){const[i,s]=T.useState(t+"_copy"),[o,a]=T.useState(!1),[l,c]=T.useState(!1),[u,h]=T.useState(""),f=async p=>{var g,m;if(p.preventDefault(),h(""),!i.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){h("Name must start with a letter, contain only letters, numbers, underscores.");return}c(!0);try{const y=await K.post(`/api/db/${e}/table/${t}/rename`,{new_name:i,keep_old:o});y.data.success?(n(y.data.new_name),r()):h(y.data.error||"Failed to rename table")}catch(y){h(((m=(g=y.response)==null?void 0:g.data)==null?void 0:m.error)||"Failed to rename table")}finally{c(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:r,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"500px",width:"90%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:p=>p.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:"Rename/Copy Table"}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:["Current table: ",d.jsx("strong",{children:t})]}),u&&d.jsx("div",{className:"error",style:{marginBottom:"15px",padding:"10px",background:"rgba(220, 53, 69, 0.2)",border:"1px solid #dc3545",borderRadius:"5px",color:"#ff6b6b"},children:u}),d.jsxs("form",{onSubmit:f,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"new_name",style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Table Name:"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("input",{type:"text",id:"new_name",value:i,onChange:p=>{const g=p.target.value;g.length<=63&&s(g)},maxLength:63,required:!0,style:{width:"100%",padding:"10px",paddingRight:"60px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}}),d.jsxs("span",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#9ca3af",pointerEvents:"none"},children:[i.length,"/63"]})]})]}),d.jsx("div",{style:{marginBottom:"25px"},children:d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer"},children:[d.jsx("input",{type:"checkbox",checked:o,onChange:p=>a(p.target.checked),style:{marginRight:"8px"}}),d.jsx("span",{children:"Keep original table (copy instead of rename)"})]})}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:r,disabled:l,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:l?"not-allowed":"pointer",fontSize:"14px",opacity:l?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:l,style:{padding:"10px 20px",background:l?"#ccc":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:l?"not-allowed":"pointer",fontSize:"14px"},children:l?"Processing...":o?"Copy":"Rename"})]})]})]})})}function yV({dbName:e,tableName:t}){const[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState(!1);T.useEffect(()=>{r&&!i&&l()},[r]);const l=async()=>{a(!0);try{const c=await K.get(`/api/db/${e}/table/${t}/connection_info`);c.data.success&&s(c.data)}catch(c){console.error("Failed to fetch connection info:",c)}finally{a(!1)}};return d.jsx("div",{id:`conn-table-${t}`,style:{marginBottom:"15px"},children:d.jsxs("details",{style:{marginBottom:"15px",padding:"10px",background:"#1e0033e6",borderRadius:"4px",border:"1px solid #ddd"},open:r,onToggle:c=>n(c.target.open),children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",background:"#1e0033e6",color:"#c0bae7ff",padding:"8px"},children:[" ",t," - Connection Info"]}),o&&d.jsx("p",{children:"Loading..."}),i&&d.jsxs("div",{style:{marginTop:"10px",padding:"15px",background:"#1e0033e6",borderLeft:"3px solid #6a5acd"},children:[d.jsx("p",{children:d.jsx("strong",{children:" Connection String:"})}),d.jsx("br",{}),d.jsx("code",{style:{display:"block",background:"black",color:"#f8f8f2",padding:"10px",borderRadius:"4px",overflowX:"auto",marginBottom:"15px"},children:i.connection_string}),d.jsx("p",{children:d.jsx("strong",{children:" Table Access Code:"})}),d.jsx("br",{}),d.jsx("pre",{style:{background:"black",color:"#f8f8f2",padding:"15px",borderRadius:"4px",overflowX:"auto",fontSize:"0.9em"},children:i.test_code}),i.notes&&i.notes.length>0&&d.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderLeft:"3px solid #ffc107",borderRadius:"4px"},children:[d.jsx("strong",{style:{color:"black"},children:" Tips:"}),d.jsx("ul",{style:{margin:"5px 0",paddingLeft:"20px",fontSize:"0.9em",color:"black"},children:i.notes.map((c,u)=>d.jsx("li",{children:c},u))})]})]})]})})}function _b({dbName:e,tableName:t,isTable:r}){const[n,i]=T.useState("export"),[s,o]=T.useState("json"),[a,l]=T.useState(""),[c,u]=T.useState(!1),[h,f]=T.useState(""),[p,g]=T.useState(""),[m,y]=T.useState(""),x=async()=>{var S,k;f(""),g(""),u(!0);try{const C=r?`/api/db/${e}/table/${t}/export`:`/api/db/${e}/export`,_=await K.post(C,{format:s});if(_.data.success){y(_.data.content),g("Export generated successfully!");const A=new Blob([_.data.content],{type:s==="sql"?"text/plain":"application/json"}),O=window.URL.createObjectURL(A),F=document.createElement("a");F.href=O,F.download=_.data.filename,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(O),document.body.removeChild(F)}else f(_.data.error||"Export failed")}catch(C){f("Export failed: "+(((k=(S=C.response)==null?void 0:S.data)==null?void 0:k.error)||C.message))}finally{u(!1)}},b=async()=>{var S,k;if(f(""),g(""),!a.trim()){f("Please provide content to import");return}if(window.confirm(` WARNING: This will modify your ${r?"table":"database"}. Are you sure?`)){u(!0);try{const C=`/api/db/${e}/import`,_=await K.post(C,{content:a,format:s});_.data.success?(g(_.data.message||"Import completed successfully! Refreshing..."),l(""),setTimeout(()=>{window.location.reload()},2e3)):f(_.data.error||"Import failed")}catch(C){f("Import failed: "+(((k=(S=C.response)==null?void 0:S.data)==null?void 0:k.error)||C.message))}finally{u(!1)}}},v=S=>{const k=S.target.files[0];if(!k)return;const C=10*1024*1024;if(k.size>C){f("File too large. Maximum size is 10MB.");return}f(""),g(`Loading file: ${k.name}...`);const _=new FileReader;_.onload=A=>{l(A.target.result),g(`File loaded: ${k.name} (${(k.size/1024).toFixed(2)} KB)`)},_.onerror=()=>{f("Failed to read file. Please try again.")},_.readAsText(k)};return d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginBottom:"20px"},children:[" Import/Export"," ",r?`Table: ${t}`:`Database: ${e}`]}),h&&d.jsx("div",{className:"error",children:h}),p&&d.jsx("div",{className:"success",children:p}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("button",{onClick:()=>i("export"),style:{padding:"10px 20px",background:n==="export"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:" Export"}),d.jsx("button",{onClick:()=>i("import"),style:{padding:"10px 20px",background:n==="import"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Import"})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",marginRight:"10px"},children:"Format:"}),d.jsxs("select",{value:s,onChange:S=>o(S.target.value),style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"json",children:"JSON (Universal)"}),d.jsx("option",{value:"sql",children:"SQL (Native)"})]})]}),n==="export"&&d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:["Export your ",r?"table":"database"," to"," ",s.toUpperCase()," format.",s==="json"&&" JSON format is universal and can be imported into any database type.",s==="sql"&&" SQL format uses native SQL syntax specific to your database."]}),d.jsx("button",{onClick:x,disabled:c,style:{padding:"12px 30px",background:c?"#6c757d":"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:c?"not-allowed":"pointer",fontWeight:"bold"},children:c?" Generating...":" Export"}),m&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h4",{style:{color:"#f0f0f0"},children:"Preview:"}),d.jsx("textarea",{value:m,readOnly:!0,rows:15,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}})]})]}),n==="import"&&d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:[" Import will modify your ",r?"table":"database",". All operations are done as a transaction - if anything fails, changes will be rolled back."]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Upload File:"}),d.jsx("input",{type:"file",accept:s==="sql"?".sql":".json",onChange:v,style:{padding:"8px",color:"#f0f0f0",background:"rgba(30, 0, 51, 0.5)",border:"1.5px solid #9370db",borderRadius:"5px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Or paste content:"}),a&&d.jsx("button",{onClick:()=>l(""),style:{padding:"4px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.85em"},children:"Clear"})]}),d.jsx("textarea",{value:a,onChange:S=>l(S.target.value),rows:15,placeholder:`Paste your ${s.toUpperCase()} content here...`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}}),a&&d.jsxs("div",{style:{fontSize:"0.8em",color:"#999",marginTop:"5px"},children:["Content size: ",(a.length/1024).toFixed(2)," KB"]})]}),d.jsx("button",{onClick:b,disabled:c||!a.trim(),style:{padding:"12px 30px",background:c||!a.trim()?"#6c757d":"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:c||!a.trim()?"not-allowed":"pointer",fontWeight:"bold"},children:c?" Importing...":" Import"})]})]})}function bV(){var Zs,Ku;const{dbName:e}=Yo(),[t,r]=np(),n=Pn(),[i,s]=T.useState([]),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(""),[b,v]=T.useState([]),[S,k]=T.useState(!1),[C,_]=T.useState(null),[A,O]=T.useState(1),[F]=T.useState(10),[$,H]=T.useState(1),[N,M]=T.useState(0),[E,L]=T.useState(t.get("tab")||"tables"),[B,j]=T.useState(!1),[P,I]=T.useState(!1),[D,q]=T.useState(!1),[G,Q]=T.useState(!1),[ut,Y]=T.useState(""),[nt,at]=T.useState(!1),[pt,Tt]=T.useState(!1),[Et,st]=T.useState(!1),[ht,Rt]=T.useState([{id:1,query:"",name:"Stage 1",selected:!0}]),[Wt,se]=T.useState(2),[be,Tr]=T.useState("query"),[te,Se]=T.useState(!1),[on,Ze]=T.useState(""),[Be,Nr]=T.useState("visual"),[an,ln]=T.useState(""),[Te,Fn]=T.useState([""]),[ji,Ai]=T.useState(""),[Ir,si]=T.useState(""),[vn,wn]=T.useState("ASC"),[Ue,Ve]=T.useState(""),[oi,Dn]=T.useState(""),[zr,Er]=T.useState("INNER"),[Wr,Ye]=T.useState(""),[lr,On]=T.useState(""),[ai,et]=T.useState(""),[bt,Ft]=T.useState(null),[Yt,le]=T.useState(!0),[Ee,cn]=T.useState(""),[zt,cr]=T.useState(null),{sessionQueries:jr,addQuery:Qs,navigateHistory:ss,resetNavigation:tr}=Dp("database"),[$n,er]=T.useState(!1),[Cl,Ks]=T.useState([]),[os,Li]=T.useState(!1),[Zo,Ct]=T.useState(!1);T.useEffect(()=>{z(),Wb()},[e,A]),T.useEffect(()=>{E==="users"&&zb()},[E]),T.useEffect(()=>{const W=it=>{D&&!it.target.closest(".more-dropdown-container")&&q(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[D]),T.useEffect(()=>{y&&ee(y)},[A]),T.useEffect(()=>{Et&&Be==="visual"&&Nr("pipeline"),!Et&&Be==="pipeline"&&Nr("visual")},[Et]);const z=async()=>{try{h(!0);const W=await K.get(`/api/db/${e}/tables`,{params:{page:A,per_page:F}});if(W.data.success){if(W.data.tables){const it=W.data.tables;v(it),s(it),H(W.data.total_pages),M(W.data.total_tables||it.length)}else if(W.data.collections){const it=W.data.collections;v(it),s(it),H(W.data.total_pages),M(W.data.total_collections||it.length)}a(W.data.db_type),c(W.data.handler),Yp()}else p(W.data.error||"Failed to fetch tables")}catch(W){console.error("Failed to fetch tables:",W),window.location.reload(!0)}finally{h(!1)}},lt=W=>{m(`Table renamed/copied successfully to ${W}`),z(),Q(!1)},xt=W=>{if(!na(W,Ee,dt=>{cn(dt),tr()})){if(W.key==="ArrowUp"&&jr.length>0){W.preventDefault();const dt=ss("up",Ee);dt!==null&&cn(dt)}else if(W.key==="ArrowDown"&&jr.length>0){W.preventDefault();const dt=ss("down",Ee);dt!==null&&cn(dt)}}},ee=async W=>{k(!0);try{const it=await K.get(`/api/db/${e}/tables/search`,{params:{q:W,page:A,per_page:F}});if(it.data.success){const dt=it.data.tables||it.data.collections||[];s(dt),H(it.data.total_pages),M(it.data.total)}}catch(it){console.error("Search error:",it)}finally{k(!1)}},je=W=>{x(W),O(1),C&&clearTimeout(C);const it=setTimeout(()=>{ee(W)},300);_(it)},de=W=>{Li(!1),m(`Table ${W} created successfully`),z(),setTimeout(()=>{n(o==="nosql"?`/db/${e}/collection/${W}`:`/db/${e}/table/${W}`)},500)},Pe=async W=>{var it,dt,$t,Gt;if(W.preventDefault(),p(""),m(""),Ft(null),Be==="direct"){if(!Wr.trim()){p("Query cannot be empty");return}try{const Ot=o==="nosql"?`/api/db/${e}/nosql_query`:`/api/db/${e}/query`,$e=await K.post(Ot,{query:Wr});$e.data.success?(Ft($e.data.result),m("Query executed successfully")):p($e.data.error||"Query execution failed")}catch(Ot){p("Failed to execute query: "+(((dt=(it=Ot.response)==null?void 0:it.data)==null?void 0:dt.error)||Ot.message))}return}if(!an){p("Please select a table/collection");return}if(!Te.some(Ot=>Ot.trim())){p("Please add at least one field");return}try{const Ot=await K.post(`/api/db/${e}/aggregation`,{table:an,table_alias:lr||void 0,select_fields:Te.filter($e=>$e.trim()),group_by:ji||void 0,order_by:Ir||void 0,order_direction:vn,join_config:o==="sql"&&Ue?{table:Ue,table_alias:ai||void 0,on:oi,type:zr}:void 0});Ot.data.success?(Ft(Ot.data.result),m("Aggregation executed successfully")):p(Ot.data.error||"Aggregation failed")}catch(Ot){p("Failed to execute aggregation: "+(((Gt=($t=Ot.response)==null?void 0:$t.data)==null?void 0:Gt.error)||Ot.message))}},Hr=()=>{Fn([...Te,""])},li=W=>{Fn(Te.filter((it,dt)=>dt!==W))},Js=(W,it)=>{const dt=[...Te];dt[W]=it,Fn(dt)},Ae=()=>{ln(""),On(""),Fn([""]),Ai(""),si(""),wn("ASC"),Ve(""),et(""),Dn(""),Er("INNER"),Ye(""),Ft(null),le(!0)},Tl=()=>{Rt([...ht,{id:Wt,query:"",name:`Stage ${Wt}`,selected:!1}]),se(Wt+1)},El=W=>{ht.length!==1&&Rt(ht.filter(it=>it.id!==W))},Gu=(W,it,dt)=>{Rt(ht.map($t=>$t.id===W?{...$t,[it]:dt}:$t))},Xu=(W,it)=>{const dt=ht.findIndex(Ot=>Ot.id===W);if(it==="up"&&dt===0||it==="down"&&dt===ht.length-1)return;const $t=[...ht],Gt=it==="up"?dt-1:dt+1;[$t[dt],$t[Gt]]=[$t[Gt],$t[dt]],Rt($t)},Vp=async W=>{var $t,Gt;p(""),m(""),Ft(null);const it=W==="all"?ht:ht.filter(Ot=>Ot.selected);if(it.length===0){p("No stages selected for execution");return}const dt=it.filter(Ot=>!Ot.query.trim());if(dt.length>0){p(`Empty stages found: ${dt.map(Ot=>Ot.name).join(", ")}`);return}try{const Ot=[];for(const oa of it)try{const Al=JSON.parse(oa.query.trim());Ot.push(Al)}catch(Al){p(`Invalid JSON in stage "${oa.name}": ${Al.message}`);return}if(!on.trim()){p("Please enter a collection name to run the pipeline on");return}const $e=on.trim();if(!$e){p("Collection name is required for aggregation pipeline");return}const rr=`db.${$e}.aggregate(${JSON.stringify(Ot)})`;console.log("Executing aggregation:",rr);const sa=await K.post(`/api/db/${e}/nosql_query`,{query:rr});if(sa.data.success){const oa=[{stageName:`Pipeline (${it.length} stages on ${$e})`,result:sa.data.result}];Ft(oa),m(`Executed ${it.length} pipeline stage(s) on ${$e}`)}else p(sa.data.error||"Pipeline execution failed")}catch(Ot){p("Pipeline execution failed: "+(((Gt=($t=Ot.response)==null?void 0:$t.data)==null?void 0:Gt.error)||Ot.message))}},Yp=async()=>{try{const W=await K.get(`/api/db/${e}/users`);W.data.success&&er(W.data.supports_users)}catch(W){console.error("Failed to check users support:",W),er(!1)}},zb=async()=>{try{const W=await K.get(`/api/db/${e}/users`);W.data.success&&(Ks(W.data.users||[]),er(W.data.supports_users))}catch(W){console.error("Failed to fetch users:",W),er(!1)}},Wb=async()=>{try{const W=await K.get(`/api/db/${e}/capabilities`);if(W.data.success){at(W.data.capabilities.supports_procedures||!1),Tt(W.data.capabilities.supports_triggers||!1),st(W.data.capabilities.supports_aggregation_pipeline||!1),Se(W.data.capabilities.supports_aggregation||!1);const it=W.data.capabilities.supports_views||!1;j(it),console.log(`Views support for ${e}: ${it}`)}if(o==="sql")try{const it=await K.get(`/api/db/${e}/partitions/support`);if(it.data.success){const dt=it.data.supports_partitions||!1;I(dt),console.log(`Partitions support for ${e}: ${dt}`)}}catch(it){console.error("Failed to check partitions support:",it),I(!1)}Yp()}catch(W){console.error("Failed to check feature support:",W)}},ta=async W=>{var dt,$t;const it=o==="nosql"?"collection":"table";if(window.confirm(`Are you sure you want to delete ${it} ${W}?`))try{const Gt=await K.post(`/api/db/${e}/table/${W}/delete`);Gt.data.success?(m(`Table ${W} deleted successfully`),s(Ot=>Ot.filter($e=>($e.name||$e)!==W)),y?ee(y):z()):p(Gt.data.error||"Failed to delete table")}catch(Gt){p("Failed to delete table: "+((($t=(dt=Gt.response)==null?void 0:dt.data)==null?void 0:$t.error)||Gt.message))}},Gp=async W=>{var it,dt;if(W.preventDefault(),p(""),m(""),cr(null),!Ee.trim()){p("Query cannot be empty");return}try{const $t=o==="nosql"?`/api/db/${e}/nosql_query`:`/api/db/${e}/query`,Gt=await K.post($t,{query:Ee});Gt.data.success?(await Qs(Ee),cr(Gt.data.result),m("Query executed successfully")):p(Gt.data.error||"Query execution failed")}catch($t){p("Failed to execute query: "+(((dt=(it=$t.response)==null?void 0:it.data)==null?void 0:dt.error)||$t.message))}},qr=W=>{L(W),r({tab:W}),p(""),m(""),cr(null)},ea=i,un=()=>{x(""),s(b),H(Math.ceil(b.length/F)),O(1),z()},{suggestions:ra,showSuggestions:Nn,selectedIndex:Qu,handleQueryChange:Xp,handleKeyDown:na,selectSuggestion:jl,hideSuggestions:ia}=Op();return u?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading tables..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h3",{style:{margin:0,color:"#f0f0f0"},children:[o==="nosql"?"Collections":"Tables"," in ",e," (",o.toUpperCase(),")"]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[i.length," ",o==="nosql"?"collection":"table",i.length!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:W=>{W.preventDefault(),n("/")},style:{color:"#bb86fc"},children:" Back to Home"}),d.jsx("br",{}),d.jsx("br",{}),d.jsxs("button",{onClick:()=>{o==="nosql"?Ct(!0):Li(!0)},style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:["Create New ",o==="nosql"?"Collection":"Table"]}),d.jsx("br",{}),d.jsx("br",{}),os&&d.jsx(yD,{dbName:e,onClose:()=>Li(!1),onSuccess:de}),Zo&&d.jsx(fV,{dbName:e,onClose:()=>Ct(!1),onSuccess:de}),f&&d.jsx("p",{className:"error",children:f}),g&&d.jsx("p",{className:"success",children:g}),d.jsxs("div",{className:"tabs",children:[d.jsxs("button",{className:"tab-button",onClick:()=>qr("tables"),style:{background:E==="tables"?"#4b0082":"#9370db"},children:[" ",o==="nosql"?"Collections":"Tables"]}),d.jsx("button",{className:"tab-button",onClick:()=>qr("query"),style:{background:E==="query"?"#4b0082":"#9370db"},children:" Query"}),te&&d.jsx("button",{className:"tab-button",onClick:()=>qr("aggregation"),style:{background:E==="aggregation"?"#4b0082":"#9370db"},children:" Aggregation"}),d.jsx("button",{className:"tab-button",onClick:()=>qr("importexport"),style:{background:E==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),d.jsx("button",{className:"tab-button",onClick:()=>qr("diagrams"),style:{background:E==="diagrams"?"#4b0082":"#9370db"},children:" Diagrams"}),nt&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/procedures`),style:{background:"#9370db"},children:" Procedures"}),pt&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/triggers`),style:{background:"#9370db"},children:" Triggers"}),o==="sql"&&d.jsxs("div",{style:{position:"relative",display:"inline-block"},className:"more-dropdown-container",children:[d.jsx("button",{className:"tab-button",onClick:()=>q(!D),style:{background:"#9370db",position:"relative"},children:" More "}),D&&d.jsxs("div",{style:{position:"absolute",top:"100%",left:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",minWidth:"150px",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:[B&&d.jsx("button",{onClick:()=>{qr("views"),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:E==="views"?"#4b0082":"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer",borderBottom:"1px solid #444"},onMouseEnter:W=>W.target.style.background="#4b0082",onMouseLeave:W=>W.target.style.background=E==="views"?"#4b0082":"transparent",children:" Views"}),P&&d.jsx("button",{onClick:()=>{qr("partitions"),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:E==="partitions"?"#4b0082":"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer",borderBottom:"1px solid #444"},onMouseEnter:W=>W.target.style.background="#4b0082",onMouseLeave:W=>W.target.style.background=E==="partitions"?"#4b0082":"transparent",children:" Partitions"}),$n&&d.jsx("button",{onClick:()=>{n(`/db/${e}/users`),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:W=>W.target.style.background="#4b0082",onMouseLeave:W=>W.target.style.background="transparent",children:" Users"})]})]}),o==="nosql"&&$n&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/users`),style:{background:"#9370db"},children:" Users"})]}),E==="tables"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:`Search ${o==="nosql"?"collections":"tables"} on this page...`,value:y,onChange:W=>je(W.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:un,style:{marginLeft:"10px",padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Clear"}),d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:y&&(S?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):i.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",N," ",o==="nosql"?N===1?"collection matches":"collections match":N===1?"table matches":"tables match"]}))})]}),ea.length>0?d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:o==="nosql"?"Collection Name":"Table Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:ea.map(W=>{const it=typeof W=="string"?W:W.name,dt=typeof W=="object"&&W.count!==void 0?` (${W.count} doc${W.count!==1?"s":""})`:"";return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("strong",{children:it}),o==="nosql"&&d.jsx("span",{style:{color:"#999",fontSize:"0.9em"},children:dt})]}),d.jsxs("td",{children:[d.jsx("button",{className:"view-btn",onClick:()=>{n(o==="nosql"?`/db/${e}/collection/${it}`:`/db/${e}/table/${it}`)},style:{background:"#1e9530"},children:"View"}),d.jsx("button",{onClick:()=>{Y(it),Q(!0)},style:{background:"#ff9800"},children:"Rename"}),d.jsx("button",{onClick:()=>{const $t=document.getElementById(`conn-table-${it}`);$t&&($t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const Gt=$t.querySelector("details");Gt&&(Gt.open=!0)},500))},style:{background:"#17a2b8"},children:"Connection Info"}),d.jsx("button",{onClick:()=>ta(it),style:{background:"#dc3545"},children:"Delete"})]})]},it)})})]}):d.jsxs("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:["No ",o==="nosql"?"collections":"tables"," found."]}),$>1&&d.jsxs("div",{className:"pagination",children:[A>1?d.jsx("a",{href:"#",onClick:W=>{W.preventDefault(),O(A-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",A," of ",$," (",N," total)"]}),A<$?d.jsx("a",{href:"#",onClick:W=>{W.preventDefault(),O(A+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),ea.length>0&&d.jsxs("div",{style:{marginTop:"40px"},children:[d.jsx("h2",{children:"Table Connection Strings"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em"},children:" Connection info for accessing specific tables/collections"}),d.jsx("div",{style:{background:"#1e0033e6",padding:"15px",borderRadius:"5px",marginTop:"20px"},children:ea.map(W=>{const it=typeof W=="string"?W:W.name;return d.jsx(yV,{dbName:e,tableName:it},it)})})]}),$>1&&d.jsxs("div",{className:"pagination",children:[A>1?d.jsx("a",{href:"#",onClick:W=>{W.preventDefault(),O(A-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",A," of ",$," (",N," total)"]}),A<$?d.jsx("a",{href:"#",onClick:W=>{W.preventDefault(),O(A+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),E==="query"&&d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:["Execute ",o.toUpperCase()," Query"]}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:"Execute queries including JOINs, GROUP BY, aggregations, and more."}),d.jsxs("form",{onSubmit:Gp,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:Ee,onChange:W=>{Xp(W.target.value,it=>{cn(it),tr()})},onKeyDown:xt,onBlur:()=>{setTimeout(()=>ia(),200)},rows:10,cols:120,placeholder:o==="sql"?`Enter SQL query:

Examples:
  SELECT * FROM table_name
  SELECT * FROM table1 JOIN table2 ON table1.id = table2.id
  SELECT COUNT(*), category FROM products GROUP BY category
  SELECT AVG(price) FROM products WHERE category = 'electronics'`:`Enter NoSQL query (JSON format):

Examples:
  {"category": "electronics"}
  {"price": {"$gt": 100}}
  {"$and": [{"category": "books"}, {"price": {"$lt": 50}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),Nn&&ra.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:ra.map((W,it)=>d.jsx("div",{onClick:()=>{jl(W,dt=>{cn(dt),tr()})},style:{padding:"10px",cursor:"pointer",background:it===Qu?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:it<ra.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:dt=>{dt.target.style.background="#4b0082"},onMouseLeave:dt=>{dt.target.style.background=it===Qu?"#4b0082":"transparent"},children:W.length>100?W.substring(0,100)+"...":W},it))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",jr.length>0&&` (${jr.length} queries)`,Nn&&ra.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute Query"})]}),zt&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),typeof zt=="object"&&zt!==null&&!Array.isArray(zt)&&zt.result_type==="table"?Array.isArray(zt.result)&&zt.result.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(zt.result[0]).map(W=>d.jsx("th",{children:W},W))})}),d.jsx("tbody",{children:zt.result.map((W,it)=>d.jsx("tr",{children:Object.values(W).map((dt,$t)=>d.jsx("td",{children:dt!=null?typeof dt=="object"?JSON.stringify(dt):String(dt):"NULL"},$t))},it))})]})}),d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20",marginTop:"10px"},children:[d.jsx("strong",{children:"Rows returned:"})," ",zt.result.length]})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Procedure executed successfully. No results returned."}):typeof zt=="object"&&zt!==null&&!Array.isArray(zt)&&zt.result_type==="status"?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:((Zs=zt.result)==null?void 0:Zs.status)||`Rows affected: ${zt.rows_affected||0}`}):d.jsx(d.Fragment,{children:o==="nosql"&&Array.isArray(zt)&&zt.length>0?zt.map((W,it)=>{const dt=Object.keys(W)[0]||"doc_id",$t=W[dt]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",$t]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:dt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:$t})]}),Object.entries(W).map(([Gt,Ot])=>Gt===dt?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Gt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ot!=null?typeof Ot=="object"?JSON.stringify(Ot):String(Ot):"NULL"})]},Gt))]})]},it)}):o==="nosql"&&Array.isArray(zt)&&zt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",marginTop:"30px"},children:"Query executed successfully. No results returned."}):o==="sql"&&Array.isArray(zt)&&zt.length>0?zt[0]&&typeof zt[0]=="object"&&Object.keys(zt[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(zt[0]).map(W=>d.jsx("th",{children:W},W))})}),d.jsx("tbody",{children:zt.map((W,it)=>d.jsx("tr",{children:Object.values(W).map((dt,$t)=>d.jsx("td",{children:dt!=null?typeof dt=="object"?JSON.stringify(dt):String(dt):"NULL"},$t))},it))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(zt)&&zt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof zt=="object"&&zt.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",zt.rows_affected]}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(zt,null,2)})})]})]}),E==="aggregation"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Aggregation & Complex Queries"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:"Build and execute queries, aggregations, and pipelines"}),d.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[!Et&&d.jsx("button",{onClick:()=>Nr("visual"),style:{padding:"10px 20px",background:Be==="visual"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Visual Builder"}),Et&&d.jsx("button",{onClick:()=>Nr("pipeline"),style:{padding:"10px 20px",background:Be==="pipeline"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Pipeline"}),d.jsx("button",{onClick:()=>Nr("direct"),style:{padding:"10px 20px",background:Be==="direct"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Direct Query"}),d.jsx("button",{onClick:Ae,style:{padding:"10px 20px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginLeft:"auto"},children:" Reset"})]}),Be==="visual"&&!Et&&d.jsxs("form",{onSubmit:Pe,children:[d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Collection:":"Table:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:an,onChange:W=>ln(W.target.value),required:!0,style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsxs("option",{value:"",children:["Select ",o==="nosql"?"collection":"table"]}),i.map(W=>{const it=typeof W=="string"?W:W.name;return d.jsx("option",{value:it,children:it},it)})]}),o==="sql"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{style:{color:"#ccc"},children:"AS"}),d.jsx("input",{type:"text",value:lr,onChange:W=>On(W.target.value),placeholder:"alias (optional)",style:{padding:"8px",width:"150px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]})]})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsxs("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:["Select Fields"," ",o==="nosql"?"(projection)":"(use * for all, or functions like COUNT(*), AVG(price))"," ",":"]}),Te.map((W,it)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"8px"},children:[d.jsx("input",{type:"text",value:W,onChange:dt=>Js(it,dt.target.value),placeholder:o==="nosql"?"e.g., name, email, 1 (to include field)":"e.g., name, COUNT(*), AVG(price)",style:{padding:"8px",flex:1,border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),Te.length>1&&d.jsx("button",{type:"button",onClick:()=>li(it),style:{padding:"8px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]},it)),d.jsx("button",{type:"button",onClick:Hr,style:{padding:"6px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"0.9em"},children:"+ Add Field"})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Group By (optional):"}),d.jsx("input",{type:"text",value:ji,onChange:W=>Ai(W.target.value),placeholder:o==="nosql"?"e.g., $category, $userId":"e.g., category, user_id",style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),o==="nosql"&&d.jsx("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:" Use $ prefix for field names (e.g., $category)"})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Order By (optional):"}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("input",{type:"text",value:Ir,onChange:W=>si(W.target.value),placeholder:"e.g., name, count",style:{padding:"8px",flex:1,maxWidth:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsxs("select",{value:vn,onChange:W=>wn(W.target.value),style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"ASC",children:"Ascending"}),d.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),d.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(30, 0, 51, 0.3)",borderRadius:"8px"},children:[d.jsxs("h4",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[o==="nosql"?"Lookup (Join)":"JOIN"," (Optional)"]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"From Collection:":"Join Type:"}),o==="sql"?d.jsxs("select",{value:zr,onChange:W=>Er(W.target.value),style:{padding:"8px",width:"200px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"INNER",children:"INNER JOIN"}),d.jsx("option",{value:"LEFT",children:"LEFT JOIN"}),d.jsx("option",{value:"RIGHT",children:"RIGHT JOIN"})]}):null]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Lookup Collection:":"Join Table:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:Ue,onChange:W=>Ve(W.target.value),style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsxs("option",{value:"",children:["No ",o==="nosql"?"lookup":"join"]}),i.map(W=>{const it=typeof W=="string"?W:W.name;return d.jsx("option",{value:it,children:it},it)})]}),o==="sql"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{style:{color:"#ccc"},children:"AS"}),d.jsx("input",{type:"text",value:ai,onChange:W=>et(W.target.value),placeholder:"alias (optional)",style:{padding:"8px",width:"150px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]})]})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Local Field:":"Join ON condition:"}),d.jsx("input",{type:"text",value:oi,onChange:W=>Dn(W.target.value),placeholder:o==="nosql"?"e.g., department":"e.g., table1.id = table2.user_id",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]}),o==="nosql"&&Ue&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Foreign Field:"}),d.jsx("input",{type:"text",value:ai,onChange:W=>et(W.target.value),placeholder:"e.g., deptCode",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Output Array Field Name (as):"}),d.jsx("input",{type:"text",value:zr,onChange:W=>Er(W.target.value),placeholder:"e.g., departmentInfo",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsx("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:" This will create an array field with matched documents"})]})]}),o==="nosql"&&d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"10px",lineHeight:"1.6"},children:[" Example: To join users with departments:",d.jsx("br",{}),"- Lookup Collection: departments",d.jsx("br",{}),"- Local Field: department (field in users)",d.jsx("br",{}),"- Foreign Field: deptCode (field in departments)",d.jsx("br",{}),"- Output Array: departmentInfo"]})]})]}),d.jsx("button",{type:"submit",style:{padding:"12px 30px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Execute Aggregation"})]}),Be==="pipeline"&&Et&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[d.jsx("button",{onClick:Tl,style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Add Stage"}),d.jsx("button",{onClick:()=>Vp("selected"),style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Execute Selected"}),d.jsx("button",{onClick:()=>Vp("all"),style:{padding:"10px 20px",background:"#4b0082",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Execute All"})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:" Collection to run pipeline on:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:on,onChange:W=>Ze(W.target.value),style:{padding:"10px",width:"350px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"Select a collection"}),i.map(W=>{const it=typeof W=="string"?W:W.name;return d.jsx("option",{value:it,children:it},it)})]}),d.jsx("span",{style:{color:"#ccc",fontSize:"0.9em"},children:"(required for execution)"})]})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:ht.map((W,it)=>d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"10px",border:W.selected?"2px solid #6a5acd":"1px solid #9370db"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",checked:W.selected,onChange:dt=>Gu(W.id,"selected",dt.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),d.jsx("input",{type:"text",value:W.name,onChange:dt=>Gu(W.id,"name",dt.target.value),style:{padding:"8px",background:"rgba(30, 0, 51, 0.5)",border:"1px solid #9370db",borderRadius:"5px",color:"#f0f0f0",fontWeight:"bold"}}),d.jsxs("span",{style:{color:"#999",fontSize:"0.9em"},children:["#",it+1]})]}),d.jsxs("div",{style:{display:"flex",gap:"5px"},children:[it>0&&d.jsx("button",{onClick:()=>Xu(W.id,"up"),style:{padding:"5px 10px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""}),it<ht.length-1&&d.jsx("button",{onClick:()=>Xu(W.id,"down"),style:{padding:"5px 10px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""}),ht.length>1&&d.jsx("button",{onClick:()=>El(W.id),style:{padding:"5px 10px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]})]}),d.jsx("textarea",{value:W.query,onChange:dt=>Gu(W.id,"query",dt.target.value),rows:6,placeholder:`Enter stage query (JSON format):

Example:
{"$match": {"status": "active"}}
{"$group": {"_id": "$category", "count": {"$sum": 1}}}`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}})]},W.id))})]}),Be==="direct"&&d.jsxs("form",{onSubmit:Pe,children:[d.jsx("textarea",{value:Wr,onChange:W=>Ye(W.target.value),rows:10,cols:120,placeholder:o==="sql"?`Enter SQL aggregation query:

Examples:
  SELECT category, COUNT(*) as count FROM products GROUP BY category
  SELECT customer_id, AVG(total) FROM orders GROUP BY customer_id ORDER BY AVG(total) DESC
  SELECT p.category, AVG(p.price) FROM products p JOIN categories c ON p.category_id = c.id GROUP BY p.category`:`Enter NoSQL aggregation query (JSON format):

Examples:
  {"table": "products", "pipeline": [{"$group": {"_id": "$category", "count": {"$sum": 1}}}]}
  {"table": "orders", "pipeline": [{"$group": {"_id": "$customer_id", "avg": {"$avg": "$total"}}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{padding:"12px 30px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},children:"Execute Query"})]}),bt&&d.jsxs("div",{style:{marginTop:"30px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Results"}),Et&&Array.isArray(bt)&&((Ku=bt[0])!=null&&Ku.stageName)?bt.map((W,it)=>d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsxs("h4",{style:{color:"#6a5acd",marginBottom:"15px"},children:[" ",W.stageName]}),W.error?d.jsxs("div",{style:{padding:"15px",background:"#ffebee",borderLeft:"4px solid #f44336",borderRadius:"5px",color:"#c62828"},children:[" ",d.jsx("strong",{children:"Error:"})," ",W.error]}):W.result&&Array.isArray(W.result)&&W.result.length>0?W.result.map((dt,$t)=>{const Gt=Object.keys(dt)[0]||"doc_id",Ot=dt[Gt]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Ot]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Gt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ot})]}),Object.entries(dt).map(([$e,rr])=>$e===Gt?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:$e}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:rr!=null?typeof rr=="object"?JSON.stringify(rr):String(rr):"NULL"})]},$e))]})]},$t)}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Stage executed successfully. No results returned."})]},it)):o==="nosql"&&Array.isArray(bt)&&bt.length>0?bt.map((W,it)=>{const dt=Object.keys(W)[0]||"doc_id",$t=W[dt]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",$t]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:dt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:$t})]}),Object.entries(W).map(([Gt,Ot])=>Gt===dt?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Gt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ot!=null?typeof Ot=="object"?JSON.stringify(Ot):String(Ot):"NULL"})]},Gt))]})]},it)}):o==="sql"&&Array.isArray(bt)&&bt.length>0?bt[0]&&typeof bt[0]=="object"&&Object.keys(bt[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(bt[0]).map(W=>d.jsx("th",{children:W},W))})}),d.jsx("tbody",{children:bt.map((W,it)=>d.jsx("tr",{children:Object.values(W).map((dt,$t)=>d.jsx("td",{children:dt!=null?typeof dt=="object"?JSON.stringify(dt):String(dt):"NULL"},$t))},it))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(bt)&&bt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof bt=="object"&&bt.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",bt.rows_affected]}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(bt,null,2)})]})]}),E==="importexport"&&d.jsx(_b,{dbName:e,tableName:null,isTable:!1}),E==="diagrams"&&d.jsx(hV,{dbName:e,dbType:o}),E==="views"&&d.jsx(pV,{dbName:e}),E==="partitions"&&d.jsx(gV,{dbName:e,tables:i})]}),G&&d.jsx(xV,{dbName:e,tableName:ut,onClose:()=>Q(!1),onSuccess:lt})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yu(e){return e+.5|0}const bs=(e,t,r)=>Math.max(Math.min(e,r),t);function pc(e){return bs(Yu(e*2.55),0,255)}function Rs(e){return bs(Yu(e*255),0,255)}function Wi(e){return bs(Yu(e/2.55)/100,0,1)}function lk(e){return bs(Yu(e*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ax=[..."0123456789ABCDEF"],vV=e=>ax[e&15],wV=e=>ax[(e&240)>>4]+ax[e&15],Ad=e=>(e&240)>>4===(e&15),kV=e=>Ad(e.r)&&Ad(e.g)&&Ad(e.b)&&Ad(e.a);function SV(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Sn[e[1]]*17,g:255&Sn[e[2]]*17,b:255&Sn[e[3]]*17,a:t===5?Sn[e[4]]*17:255}:(t===7||t===9)&&(r={r:Sn[e[1]]<<4|Sn[e[2]],g:Sn[e[3]]<<4|Sn[e[4]],b:Sn[e[5]]<<4|Sn[e[6]],a:t===9?Sn[e[7]]<<4|Sn[e[8]]:255})),r}const _V=(e,t)=>e<255?t(e):"";function CV(e){var t=kV(e)?vV:wV;return e?"#"+t(e.r)+t(e.g)+t(e.b)+_V(e.a,t):void 0}const TV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UL(e,t,r){const n=t*Math.min(r,1-r),i=(s,o=(s+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function EV(e,t,r){const n=(i,s=(i+e/60)%6)=>r-r*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function jV(e,t,r){const n=UL(e,1,.5);let i;for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)n[i]*=1-t-r,n[i]+=t;return n}function AV(e,t,r,n,i){return e===i?(t-r)/n+(t<r?6:0):t===i?(r-e)/n+2:(e-t)/n+4}function Cb(e){const r=e.r/255,n=e.g/255,i=e.b/255,s=Math.max(r,n,i),o=Math.min(r,n,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=AV(r,n,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Tb(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Rs)}function Eb(e,t,r){return Tb(UL,e,t,r)}function LV(e,t,r){return Tb(jV,e,t,r)}function MV(e,t,r){return Tb(EV,e,t,r)}function VL(e){return(e%360+360)%360}function RV(e){const t=TV.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?pc(+t[5]):Rs(+t[5]));const i=VL(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=LV(i,s,o):t[1]==="hsv"?n=MV(i,s,o):n=Eb(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function BV(e,t){var r=Cb(e);r[0]=VL(r[0]+t),r=Eb(r),e.r=r[0],e.g=r[1],e.b=r[2]}function PV(e){if(!e)return;const t=Cb(e),r=t[0],n=lk(t[1]),i=lk(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${i}%, ${Wi(e.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const ck={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FV(){const e={},t=Object.keys(uk),r=Object.keys(ck);let n,i,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],i=0;i<r.length;i++)s=r[i],a=a.replace(s,ck[s]);s=parseInt(uk[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Ld;function DV(e){Ld||(Ld=FV(),Ld.transparent=[0,0,0,0]);const t=Ld[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const OV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $V(e){const t=OV.exec(e);let r=255,n,i,s;if(t){if(t[7]!==n){const o=+t[7];r=t[8]?pc(o):bs(o*255,0,255)}return n=+t[1],i=+t[3],s=+t[5],n=255&(t[2]?pc(n):bs(n,0,255)),i=255&(t[4]?pc(i):bs(i,0,255)),s=255&(t[6]?pc(s):bs(s,0,255)),{r:n,g:i,b:s,a:r}}}function NV(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Wi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Gg=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ua=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function IV(e,t,r){const n=ua(Wi(e.r)),i=ua(Wi(e.g)),s=ua(Wi(e.b));return{r:Rs(Gg(n+r*(ua(Wi(t.r))-n))),g:Rs(Gg(i+r*(ua(Wi(t.g))-i))),b:Rs(Gg(s+r*(ua(Wi(t.b))-s))),a:e.a+r*(t.a-e.a)}}function Md(e,t,r){if(e){let n=Cb(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=Eb(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function YL(e,t){return e&&Object.assign(t||{},e)}function dk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rs(e[3]))):(t=YL(e,{r:0,g:0,b:0,a:1}),t.a=Rs(t.a)),t}function zV(e){return e.charAt(0)==="r"?$V(e):RV(e)}class yu{constructor(t){if(t instanceof yu)return t;const r=typeof t;let n;r==="object"?n=dk(t):r==="string"&&(n=SV(t)||DV(t)||zV(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=YL(this._rgb);return t&&(t.a=Wi(t.a)),t}set rgb(t){this._rgb=dk(t)}rgbString(){return this._valid?NV(this._rgb):void 0}hexString(){return this._valid?CV(this._rgb):void 0}hslString(){return this._valid?PV(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,i=t.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=IV(this._rgb,t._rgb,r)),this}clone(){return new yu(this.rgb)}alpha(t){return this._rgb.a=Rs(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=Yu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Md(this._rgb,2,t),this}darken(t){return Md(this._rgb,2,-t),this}saturate(t){return Md(this._rgb,1,t),this}desaturate(t){return Md(this._rgb,1,-t),this}rotate(t){return BV(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pi(){}const WV=(()=>{let e=0;return()=>e++})();function Kt(e){return e==null}function ye(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Vt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Je(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function hi(e,t){return Je(e)?e:t}function It(e,t){return typeof e>"u"?t:e}const HV=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,GL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ce(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function oe(e,t,r,n){let i,s,o;if(ye(e))for(s=e.length,i=0;i<s;i++)t.call(r,e[i],i);else if(Vt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(r,e[o[i]],o[i])}function Rf(e,t){let r,n,i,s;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(i=e[r],s=t[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Bf(e){if(ye(e))return e.map(Bf);if(Vt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let i=0;for(;i<n;++i)t[r[i]]=Bf(e[r[i]]);return t}return e}function XL(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function qV(e,t,r,n){if(!XL(e))return;const i=t[e],s=r[e];Vt(i)&&Vt(s)?bu(i,s,n):t[e]=Bf(s)}function bu(e,t,r){const n=ye(t)?t:[t],i=n.length;if(!Vt(e))return e;r=r||{};const s=r.merger||qV;let o;for(let a=0;a<i;++a){if(o=n[a],!Vt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],e,o,r)}return e}function Pc(e,t){return bu(e,t,{merger:UV})}function UV(e,t,r){if(!XL(e))return;const n=t[e],i=r[e];Vt(n)&&Vt(i)?Pc(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Bf(i))}const hk={"":e=>e,x:e=>e.x,y:e=>e.y};function VV(e){const t=e.split("."),r=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function YV(e){const t=VV(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Ns(e,t){return(hk[t]||(hk[t]=YV(t)))(e)}function jb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const vu=e=>typeof e<"u",Is=e=>typeof e=="function",fk=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function GV(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Jt=Math.PI,ge=2*Jt,XV=ge+Jt,Pf=Number.POSITIVE_INFINITY,QV=Jt/180,Re=Jt/2,eo=Jt/4,pk=Jt*2/3,QL=Math.log10,Si=Math.sign;function Fc(e,t,r){return Math.abs(e-t)<r}function gk(e){const t=Math.round(e);e=Fc(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(QL(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function KV(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((i,s)=>i-s).pop(),t}function JV(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wu(e){return!JV(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ZV(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function tY(e,t,r){let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n][r],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Qn(e){return e*(Jt/180)}function Ab(e){return e*(180/Jt)}function mk(e){if(!Je(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function KL(e,t){const r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Jt&&(s+=ge),{angle:s,distance:i}}function lx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function eY(e,t){return(e-t+XV)%ge-Jt}function mr(e){return(e%ge+ge)%ge}function ku(e,t,r,n){const i=mr(e),s=mr(t),o=mr(r),a=mr(s-i),l=mr(o-i),c=mr(i-s),u=mr(i-o);return i===s||i===o||n&&s===o||a>l&&c<u}function br(e,t,r){return Math.max(t,Math.min(r,e))}function rY(e){return br(e,-32768,32767)}function Ui(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Lb(e,t,r){r=r||(o=>e[o]<t);let n=e.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const wo=(e,t,r,n)=>Lb(e,r,n?i=>{const s=e[i][t];return s<r||s===r&&e[i+1][t]===r}:i=>e[i][t]<r),nY=(e,t,r)=>Lb(e,r,n=>e[n][t]>=r);function iY(e,t,r){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>r;)i--;return n>0||i<e.length?e.slice(n,i):e}const JL=["push","pop","shift","splice","unshift"];function sY(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),JL.forEach(r=>{const n="_onData"+jb(r),i=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function xk(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(JL.forEach(s=>{delete e[s]}),delete e._chartjs)}function ZL(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const tM=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function eM(e,t){let r=[],n=!1;return function(...i){r=i,n||(n=!0,tM.call(window,()=>{n=!1,e.apply(t,r)}))}}function oY(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const Mb=e=>e==="start"?"left":e==="end"?"right":"center",gr=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,aY=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function lY(e,t,r){const n=t.length;let i=0,s=n;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(i=Math.min(wo(l,u,h).lo,r?n:wo(t,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(y=>!Kt(y[a.axis]));i-=Math.max(0,m)}i=br(i,0,n-1)}if(g){let m=Math.max(wo(l,o.axis,f,!0).hi+1,r?0:wo(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(m-1).findIndex(x=>!Kt(x[a.axis]));m+=Math.max(0,y)}s=br(m,i,n)-i}else s=n-i}return{start:i,count:s}}function cY(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=i,!0;const s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Rd=e=>e===0||e===1,yk=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ge/r)),bk=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*ge/r)+1,Dc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Re)+1,easeOutSine:e=>Math.sin(e*Re),easeInOutSine:e=>-.5*(Math.cos(Jt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rd(e)?e:yk(e,.075,.3),easeOutElastic:e=>Rd(e)?e:bk(e,.075,.3),easeInOutElastic(e){return Rd(e)?e:e<.5?.5*yk(e*2,.1125,.45):.5+.5*bk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Dc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Dc.easeInBounce(e*2)*.5:Dc.easeOutBounce(e*2-1)*.5+.5};function Rb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function vk(e){return Rb(e)?e:new yu(e)}function Xg(e){return Rb(e)?e:new yu(e).saturate(.5).darken(.1).hexString()}const uY=["x","y","borderWidth","radius","tension"],dY=["color","borderColor","backgroundColor"];function hY(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:dY},numbers:{type:"number",properties:uY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function fY(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wk=new Map;function pY(e,t){t=t||{};const r=e+JSON.stringify(t);let n=wk.get(r);return n||(n=new Intl.NumberFormat(e,t),wk.set(r,n)),n}function $p(e,t,r){return pY(t,r).format(e)}const gY={values(e){return ye(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let i,s=e;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=mY(e,r)}const o=QL(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$p(e,n,l)}};function mY(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Bb={formatters:gY};function xY(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ho=Object.create(null),cx=Object.create(null);function Oc(e,t){if(!t)return e;const r=t.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];e=e[s]||(e[s]=Object.create(null))}return e}function Qg(e,t,r){return typeof t=="string"?bu(Oc(e,t),r):bu(Oc(e,""),t)}class yY{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Xg(i.backgroundColor),this.hoverBorderColor=(n,i)=>Xg(i.borderColor),this.hoverColor=(n,i)=>Xg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return Qg(this,t,r)}get(t){return Oc(this,t)}describe(t,r){return Qg(cx,t,r)}override(t,r){return Qg(Ho,t,r)}route(t,r,n,i){const s=Oc(this,t),o=Oc(this,n),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],c=o[i];return Vt(l)?Object.assign({},c,l):It(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(r=>r(this))}}var Ce=new yY({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hY,fY,xY]);function bY(e){return!e||Kt(e.size)||Kt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ff(e,t,r,n,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,r.push(i)),s>n&&(n=s),n}function vY(e,t,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},s=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let o=0;const a=r.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=r[l],h!=null&&!ye(h))o=Ff(e,i,s,o,h);else if(ye(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!ye(f)&&(o=Ff(e,i,s,o,f));e.restore();const p=s.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function ro(e,t,r){const n=e.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((t-i)*n)/n+i}function kk(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ux(e,t,r,n){rM(e,t,r,n,null)}function rM(e,t,r,n,i){let s,o,a,l,c,u,h,f;const p=t.pointStyle,g=t.rotation,m=t.radius;let y=(g||0)*QV;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(r,n,i/2,m,0,0,ge):e.arc(r,n,m,0,ge),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=pk,e.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=pk,e.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+eo)*l,h=Math.cos(y+eo)*(i?i/2-c:l),a=Math.sin(y+eo)*l,f=Math.sin(y+eo)*(i?i/2-c:l),e.arc(r-h,n-a,c,y-Jt,y-Re),e.arc(r+f,n-o,c,y-Re,y),e.arc(r+h,n+a,c,y,y+Re),e.arc(r-f,n+o,c,y+Re,y+Jt),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(r-u,n-l,2*u,2*l);break}y+=eo;case"rectRot":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+f,n-o),e.lineTo(r+h,n+a),e.lineTo(r-f,n+o),e.closePath();break;case"crossRot":y+=eo;case"cross":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"star":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o),y+=eo,h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,e.moveTo(r-o,n-a),e.lineTo(r+o,n+a);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(y)*(i?i/2:m),n+Math.sin(y)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Vi(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Np(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ip(e){e.restore()}function wY(e,t,r,n,i){if(!t)return e.lineTo(r.x,r.y);if(i==="middle"){const s=(t.x+r.x)/2;e.lineTo(s,t.y),e.lineTo(s,r.y)}else i==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function kY(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function SY(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Kt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function _Y(e,t,r,n,i){if(i.strikethrough||i.underline){const s=e.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function CY(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function qo(e,t,r,n,i,s={}){const o=ye(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,SY(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&CY(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Kt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,r,n,s.maxWidth)),e.fillText(c,r,n,s.maxWidth),_Y(e,r,n,c,s),n+=Number(i.lineHeight);e.restore()}function Su(e,t){const{x:r,y:n,w:i,h:s,radius:o}=t;e.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Jt,Jt,!0),e.lineTo(r,n+s-o.bottomLeft),e.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Jt,Re,!0),e.lineTo(r+i-o.bottomRight,n+s),e.arc(r+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Re,0,!0),e.lineTo(r+i,n+o.topRight),e.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-Re,!0),e.lineTo(r+o.topLeft,n)}const TY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jY(e,t){const r=(""+e).match(TY);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const AY=e=>+e||0;function Pb(e,t){const r={},n=Vt(t),i=n?Object.keys(t):t,s=Vt(e)?n?o=>It(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)r[o]=AY(s(o));return r}function nM(e){return Pb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Eo(e){return Pb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function _r(e){const t=nM(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function He(e,t){e=e||{},t=t||Ce.font;let r=It(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=It(e.style,t.style);n&&!(""+n).match(EY)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:It(e.family,t.family),lineHeight:jY(It(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:It(e.weight,t.weight),string:""};return i.string=bY(i),i}function Bd(e,t,r,n){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function LY(e,t,r){const{min:n,max:i}=e,s=GL(t,(i-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function Xs(e,t){return Object.assign(Object.create(e),t)}function Fb(e,t=[""],r,n,i=()=>e[0]){const s=r||e;typeof n>"u"&&(n=aM("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:i,override:a=>Fb([a,...e],t,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return sM(a,l,()=>$Y(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return _k(a).includes(l)},ownKeys(a){return _k(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function cl(e,t,r,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:iM(e,n),setContext:s=>cl(e,s,r,n),override:s=>cl(e.override(s),t,r,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return sM(s,o,()=>RY(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function iM(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Is(r)?r:()=>r,isIndexable:Is(n)?n:()=>n}}const MY=(e,t)=>e?e+jb(t):t,Db=(e,t)=>Vt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sM(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function RY(e,t,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=e;let a=n[t];return Is(a)&&o.isScriptable(t)&&(a=BY(t,a,e,r)),ye(a)&&a.length&&(a=PY(t,a,e,o.isIndexable)),Db(t,a)&&(a=cl(a,i,s&&s[t],o)),a}function BY(e,t,r,n){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=r;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||n);return a.delete(e),Db(e,l)&&(l=Ob(i._scopes,i,e,l)),l}function PY(e,t,r,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&n(e))return t[s.index%t.length];if(Vt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Ob(c,i,e,u);t.push(cl(h,s,o&&o[e],a))}}return t}function oM(e,t,r){return Is(e)?e(t,r):e}const FY=(e,t)=>e===!0?t:typeof e=="string"?Ns(t,e):void 0;function DY(e,t,r,n,i){for(const s of t){const o=FY(r,s);if(o){e.add(o);const a=oM(o._fallback,r,i);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function Ob(e,t,r,n){const i=t._rootScopes,s=oM(t._fallback,r,n),o=[...e,...i],a=new Set;a.add(n);let l=Sk(a,o,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=Sk(a,o,s,l,n),l===null)?!1:Fb(Array.from(a),[""],i,s,()=>OY(t,r,n))}function Sk(e,t,r,n,i){for(;r;)r=DY(e,t,r,n,i);return r}function OY(e,t,r){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return ye(i)&&Vt(r)?r:i||{}}function $Y(e,t,r,n){let i;for(const s of t)if(i=aM(MY(s,e),r),typeof i<"u")return Db(e,i)?Ob(r,n,e,i):i}function aM(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function _k(e){let t=e._keys;return t||(t=e._keys=NY(e._scopes)),t}function NY(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function lM(e,t,r,n){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+r,u=t[c],o[a]={r:i.parse(Ns(u,s),c)};return o}const IY=Number.EPSILON||1e-14,ul=(e,t)=>t<e.length&&!e[t].skip&&e[t],cM=e=>e==="x"?"y":"x";function zY(e,t,r,n){const i=e.skip?t:e,s=t,o=r.skip?t:r,a=lx(s,i),l=lx(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function WY(e,t,r){const n=e.length;let i,s,o,a,l,c=ul(e,0);for(let u=0;u<n-1;++u)if(l=c,c=ul(e,u+1),!(!l||!c)){if(Fc(t[u],0,IY)){r[u]=r[u+1]=0;continue}i=r[u]/t[u],s=r[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[u]=i*o*t[u],r[u+1]=s*o*t[u])}}function HY(e,t,r="x"){const n=cM(r),i=e.length;let s,o,a,l=ul(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ul(e,c+1),!a)continue;const u=a[r],h=a[n];o&&(s=(u-o[r])/3,a[`cp1${r}`]=u-s,a[`cp1${n}`]=h-s*t[c]),l&&(s=(l[r]-u)/3,a[`cp2${r}`]=u+s,a[`cp2${n}`]=h+s*t[c])}}function qY(e,t="x"){const r=cM(t),n=e.length,i=Array(n).fill(0),s=Array(n);let o,a,l,c=ul(e,0);for(o=0;o<n;++o)if(a=l,l=c,c=ul(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[r]-l[r])/u:0}s[o]=a?c?Si(i[o-1])!==Si(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}WY(e,i,s),HY(e,s,t)}function Pd(e,t,r){return Math.max(Math.min(e,r),t)}function UY(e,t){let r,n,i,s,o,a=Vi(e[0],t);for(r=0,n=e.length;r<n;++r)o=s,s=a,a=r<n-1&&Vi(e[r+1],t),s&&(i=e[r],o&&(i.cp1x=Pd(i.cp1x,t.left,t.right),i.cp1y=Pd(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Pd(i.cp2x,t.left,t.right),i.cp2y=Pd(i.cp2y,t.top,t.bottom)))}function VY(e,t,r,n,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")qY(e,i);else{let c=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=zY(c,a,e[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&UY(e,r)}function $b(){return typeof window<"u"&&typeof document<"u"}function Nb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Df(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const zp=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function YY(e,t){return zp(e).getPropertyValue(t)}const GY=["top","right","bottom","left"];function jo(e,t,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=GY[i];n[s]=parseFloat(e[t+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const XY=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function QY(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:i,offsetY:s}=n;let o=!1,a,l;if(XY(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function co(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,i=zp(r),s=i.boxSizing==="border-box",o=jo(i,"padding"),a=jo(i,"border","width"),{x:l,y:c,box:u}=QY(e,r),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=t;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*r.width/n),y:Math.round((c-f)/g*r.height/n)}}function KY(e,t,r){let n,i;if(t===void 0||r===void 0){const s=e&&Nb(e);if(!s)t=e.clientWidth,r=e.clientHeight;else{const o=s.getBoundingClientRect(),a=zp(s),l=jo(a,"border","width"),c=jo(a,"padding");t=o.width-c.width-l.width,r=o.height-c.height-l.height,n=Df(a.maxWidth,s,"clientWidth"),i=Df(a.maxHeight,s,"clientHeight")}}return{width:t,height:r,maxWidth:n||Pf,maxHeight:i||Pf}}const vs=e=>Math.round(e*10)/10;function JY(e,t,r,n){const i=zp(e),s=jo(i,"margin"),o=Df(i.maxWidth,e,"clientWidth")||Pf,a=Df(i.maxHeight,e,"clientHeight")||Pf,l=KY(e,t,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=jo(i,"border","width"),p=jo(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=vs(Math.min(c,o,l.maxWidth)),u=vs(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vs(c/2)),(t!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=vs(Math.floor(u*n))),{width:c,height:u}}function Ck(e,t,r){const n=t||1,i=vs(e.height*n),s=vs(e.width*n);e.height=vs(e.height),e.width=vs(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=n,o.height=i,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ZY=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$b()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Tk(e,t){const r=YY(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function uo(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function tG(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function eG(e,t,r,n){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=uo(e,i,r),a=uo(i,s,r),l=uo(s,t,r),c=uo(o,a,r),u=uo(a,l,r);return uo(c,u,r)}const rG=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},nG=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Oa(e,t,r){return e?rG(t,r):nG()}function uM(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function dM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hM(e){return e==="angle"?{between:ku,compare:eY,normalize:mr}:{between:Ui,compare:(t,r)=>t-r,normalize:t=>t}}function Ek({start:e,end:t,count:r,loop:n,style:i}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:i}}function iG(e,t,r){const{property:n,start:i,end:s}=r,{between:o,normalize:a}=hM(n),l=t.length;let{start:c,end:u,loop:h}=e,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][n]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function fM(e,t,r){if(!r)return[e];const{property:n,start:i,end:s}=r,o=t.length,{compare:a,between:l,normalize:c}=hM(n),{start:u,end:h,loop:f,style:p}=iG(e,t,r),g=[];let m=!1,y=null,x,b,v;const S=()=>l(i,v,x)&&a(i,v)!==0,k=()=>a(s,x)===0||l(s,v,x),C=()=>m||S(),_=()=>!m||k();for(let A=u,O=u;A<=h;++A)b=t[A%o],!b.skip&&(x=c(b[n]),x!==v&&(m=l(x,i,s),y===null&&C()&&(y=a(x,i)===0?A:O),y!==null&&_()&&(g.push(Ek({start:y,end:A,loop:f,count:o,style:p})),y=null),O=A,v=x));return y!==null&&g.push(Ek({start:y,end:h,loop:f,count:o,style:p})),g}function pM(e,t){const r=[],n=e.segments;for(let i=0;i<n.length;i++){const s=fM(n[i],e.points,t);s.length&&r.push(...s)}return r}function sG(e,t,r,n){let i=0,s=t-1;if(r&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,r&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function oG(e,t,r,n){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=r;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,s.push({start:t%i,end:(l-1)%i,loop:n}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:n}),s}function aG(e,t){const r=e.points,n=e.options.spanGaps,i=r.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=sG(r,i,s,n);if(n===!0)return jk(e,[{start:o,end:a,loop:s}],r,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return jk(e,oG(r,o,l,c),r,t)}function jk(e,t,r,n){return!n||!n.setContext||!r?t:lG(e,t,r,n)}function lG(e,t,r,n){const i=e._chart.getContext(),s=Ak(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=r.length,c=[];let u=s,h=t[0].start,f=h;function p(g,m,y,x){const b=a?-1:1;if(g!==m){for(g+=l;r[g%l].skip;)g-=b;for(;r[m%l].skip;)m+=b;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:y,style:x}),u=x,h=m%l)}}for(const g of t){h=a?h:g.start;let m=r[h%l],y;for(f=h+1;f<=g.end;f++){const x=r[f%l];y=Ak(n.setContext(Xs(i,{type:"segment",p0:m,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),cG(y,u)&&p(h,f-1,g.loop,u),m=x,u=y}h<f-1&&p(h,f-1,g.loop,u)}return c}function Ak(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function cG(e,t){if(!t)return!1;const r=[],n=function(i,s){return Rb(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Fd(e,t,r){return e.options.clip?e[r]:t[r]}function uG(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:Fd(r,t,"left"),right:Fd(r,t,"right"),top:Fd(n,t,"top"),bottom:Fd(n,t,"bottom")}:t}function gM(e,t){const r=t._clip;if(r.disabled)return!1;const n=uG(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,i){const s=r.listeners[i],o=r.duration;s.forEach(a=>a({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=tM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),s.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),r+=s.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $i=new dG;const Lk="transparent",hG={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=vk(e||Lk),i=n.valid&&vk(t||Lk);return i&&i.valid?i.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class fG{constructor(t,r,n,i){const s=r[n];i=Bd([t.to,i,s,t.from]);const o=Bd([t.from,s,i]);this._active=!0,this._fn=t.fn||hG[t.type||typeof o],this._easing=Dc[t.easing]||Dc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Bd([t.to,r,i,t.from]),this._from=Bd([t.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class mM{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Vt(t))return;const r=Object.keys(Ce.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Vt(s))return;const o={};for(const a of r)o[a]=s[a];(ye(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,r){const n=r.options,i=gG(t,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&pG(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,r){const n=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,r));continue}const u=r[c];let h=s[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=h=new fG(f,t,c,u),i.push(h)}return i}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return $i.add(this._chart,n),!0}}function pG(e,t){const r=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const s=e[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function gG(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Mk(e,t){const r=e&&e.options||{},n=r.reverse,i=r.min===void 0?t:0,s=r.max===void 0?t:0;return{start:n?s:i,end:n?i:s}}function mG(e,t,r){if(r===!1)return!1;const n=Mk(e,r),i=Mk(t,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function xG(e){let t,r,n,i;return Vt(e)?(t=e.top,r=e.right,n=e.bottom,i=e.left):t=r=n=i=e,{top:t,right:r,bottom:n,left:i,disabled:e===!1}}function xM(e,t){const r=[],n=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function Rk(e,t,r,n={}){const i=e.keys,s=n.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===r){if(u=!0,n.all)continue;break}c=e.values[l],Je(c)&&(s||t===0||Si(t)===Si(c))&&(t+=c)}return!u&&!n.all?0:t}function yG(e,t){const{iScale:r,vScale:n}=t,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}function Kg(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function bG(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function vG(e){const{min:t,max:r,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function wG(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function Bk(e,t,r,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const s=e[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function Pk(e,t){const{chart:r,_cachedMeta:n}=e,i=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,c=o.axis,u=bG(s,o,n),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[l]:m,[c]:y}=g,x=g._stacks||(g._stacks={});f=x[c]=wG(i,u,m),f[a]=y,f._top=Bk(f,o,!0,n.type),f._bottom=Bk(f,o,!1,n.type);const b=f._visualValues||(f._visualValues={});b[a]=y}}function Jg(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function kG(e,t){return Xs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function SG(e,t,r){return Xs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Ql(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const Zg=e=>e==="reset"||e==="none",Fk=(e,t)=>t?e:Object.assign({},e),_G=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:xM(r,!0),values:null};class Qi{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ql(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=It(n.xAxisID,Jg(t,"x")),o=r.yAxisID=It(n.yAxisID,Jg(t,"y")),a=r.rAxisID=It(n.rAxisID,Jg(t,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,o,a),u=r.vAxisID=i(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xk(this._data,this),t._stacked&&Ql(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(Vt(r)){const i=this._cachedMeta;this._data=yG(r,i)}else if(n!==r){if(n){xk(n,this);const i=this._cachedMeta;Ql(i),i._parsed=[]}r&&Object.isExtensible(r)&&sY(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Kg(r.vScale,r),r.stack!==n.stack&&(i=!0,Ql(r),r.stack=n.stack),this._resyncElements(t),(i||s!==r._stacked)&&(Pk(this,r._parsed),r._stacked=Kg(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=t===0&&r===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{ye(i[t])?f=this.parseArrayData(n,i,t,r):Vt(i[t])?f=this.parseObjectData(n,i,t,r):f=this.parsePrimitiveData(n,i,t,r);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<r;++u)n._parsed[u+t]=h=f[u],l&&(p()&&(l=!1),c=h);n._sorted=l}o&&Pk(this,f)}parsePrimitiveData(t,r,n,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+n,h[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(r[g],g)};return h}parseArrayData(t,r,n,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=r[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,r,n,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=r[f],c[u]={x:s.parse(Ns(p,a),f),y:o.parse(Ns(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const i=this.chart,s=this._cachedMeta,o=r[t.axis],a={keys:xM(i,!0),values:r._stacks[t.axis]._visualValues};return Rk(a,o,s.index,{mode:n})}updateRangeFromParsed(t,r,n,i){const s=n[r.axis];let o=s===null?NaN:s;const a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=Rk(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&t===n.iScale,o=i.length,a=this._getOtherScale(t),l=_G(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=vG(a);let f,p;function g(){p=i[f];const m=p[a.axis];return!Je(p[t.axis])||u>m||h<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,t,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=r.length;i<s;++i)o=r[i][t.axis],Je(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=xG(It(this.options.clip,mG(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=SG(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=kG(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const i=r==="active",s=this._cachedDataOpts,o=t+"-"+r,a=s[o],l=this.enableOptionSharing&&vu(n);if(a)return Fk(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ce.elements[t]),g=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(Fk(m,l))),m}_resolveAnimations(t,r,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,n,r))}const c=new mM(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||Zg(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(t,r,n,i){Zg(i)?Object.assign(t,n):this._resolveAnimations(r,i).update(t,n)}updateSharedOptions(t,r,n){t&&!Zg(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,i){t.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,s=r.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,r,n=!0){const i=this._cachedMeta,s=i.data,o=t+r;let a;const l=c=>{for(c.length+=r,a=c.length-1;a>=o;a--)c[a]=c[a-r]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,r),n&&this.updateElements(s,t,r,"reset")}updateElements(t,r,n,i){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,r);n._stacked&&Ql(n,i)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,i]=t;this[r](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ot(Qi,"defaults",{}),ot(Qi,"datasetElementType",null),ot(Qi,"dataElementType",null);function CG(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(e));e._cache.$bar=ZL(n.sort((i,s)=>i-s))}return e._cache.$bar}function TG(e){const t=e.iScale,r=CG(t,e.type);let n=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(vu(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,s=r.length;i<s;++i)o=t.getPixelForValue(r[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return n}function EG(e,t,r,n){const i=r.barThickness;let s,o;return Kt(i)?(s=t.min*r.categoryPercentage,o=r.barPercentage):(s=i*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[e]-s/2}}function jG(e,t,r,n){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=r.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:r.barPercentage,start:c}}function AG(e,t,r,n){const i=r.parse(e[0],n),s=r.parse(e[1],n),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function yM(e,t,r,n){return ye(e)?AG(e,t,r,n):t[r.axis]=r.parse(e,n),t}function Dk(e,t,r,n){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,f;for(c=r,u=r+n;c<u;++c)f=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(yM(f,h,s,c));return l}function tm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function LG(e,t,r){return e!==0?Si(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function MG(e){let t,r,n,i,s;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:t,top:i,bottom:s}}function RG(e,t,r,n){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=MG(e);i==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[Ok(u,o,a,l)]=!0,i=c)),s[Ok(i,o,a,l)]=!0,e.borderSkipped=s}function Ok(e,t,r,n){return n?(e=BG(e,t,r),e=$k(e,r,t)):e=$k(e,t,r),e}function BG(e,t,r){return e===t?r:e===r?t:e}function $k(e,t,r){return e==="start"?t:e==="end"?r:e}function PG(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class yh extends Qi{parsePrimitiveData(t,r,n,i){return Dk(t,r,n,i)}parseArrayData(t,r,n,i){return Dk(t,r,n,i)}parseObjectData(t,r,n,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,g,m;for(f=n,p=n+i;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(Ns(m,c),f),h.push(yM(Ns(m,u),g,o,f));return h}updateRangeFromParsed(t,r,n,i){super.updateRangeFromParsed(t,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(t),o=s._custom,a=tm(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,i);for(let p=r;p<r+n;p++){const g=this.getParsed(p),m=s||Kt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),x=(g._stacks||{})[a.axis],b={horizontal:c,base:m.base,enableBorderRadius:!x||tm(g._custom)||o===x._top||o===x._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};f&&(b.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const v=b.options||t[p].options;RG(b,v,x,o),PG(b,v,u.ratio),this.updateElement(t[p],p,b,i)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(r),l=a&&a[n.axis],c=u=>{const h=u._parsed.find(p=>p[n.axis]===l),f=h&&h[u.vScale.axis];if(Kt(f)||isNaN(f))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[It(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const i=this._getStacks(t,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,o;for(s=0,o=r.data.length;s<o;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=t.barThickness;return{min:a||TG(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=tm(c);let h=l[r.axis],f=0,p=n?this.applyStack(r,l,n):h,g,m;p!==h&&(f=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Si(h)!==Si(c.barEnd)&&(f=0),f+=h);const y=!Kt(s)&&!u?s:f;let x=r.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(f+p):g=x,m=g-x,Math.abs(m)<o){m=LG(m,r,a)*o,h===a&&(x-=m/2);const b=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),S=Math.min(b,v),k=Math.max(b,v);x=Math.max(Math.min(x,k),S),g=x+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(a)){const b=Si(m)*r.getLineWidthForValue(a)/2;x+=b,m-=b}return{size:m,base:x,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){const n=r.scale,i=this.options,s=i.skipNull,o=It(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(r.grouped){const u=s?this._getStackCount(t):r.stackCount,h=i.barThickness==="flex"?jG(t,r,i,u*c):EG(t,r,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(It(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(o,r.min*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}ot(yh,"id","bar"),ot(yh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ot(yh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function FG(e,t,r){let n=1,i=1,s=0,o=0;if(t<ge){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(v,S,k)=>ku(v,a,l,!0)?1:Math.max(S,S*r,k,k*r),g=(v,S,k)=>ku(v,a,l,!0)?-1:Math.min(S,S*r,k,k*r),m=p(0,c,h),y=p(Re,u,f),x=g(Jt,c,h),b=g(Jt+Re,u,f);n=(m-x)/2,i=(y-b)/2,s=-(m+x)/2,o=-(y+b)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:o}}class Ea extends Qi{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Vt(n[t])){const{key:l="value"}=this._parsing;s=c=>+Ns(n[c],l)}let o,a;for(o=t,a=t+r;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Qn(this.options.rotation-90)}_getCircumference(){return Qn(this.options.circumference)}_getRotationExtents(){let t=ge,r=-ge;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),r=Math.max(r,s+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(HV(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=FG(h,u,l),y=(n.width-o)/f,x=(n.height-o)/p,b=Math.max(Math.min(y,x)/2,0),v=GL(this.options.radius,b),S=Math.max(v*l,0),k=(v-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=m*v,i.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/ge)}updateElements(t,r,n,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,i);let x=this._getRotation(),b;for(b=0;b<r;++b)x+=this._circumference(b,s);for(b=r;b<r+n;++b){const v=this._circumference(b,s),S=t[b],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:g,innerRadius:p};y&&(k.options=m||this.resolveDataElementOptions(b,S.active?"active":i)),x+=v,this.updateElement(S,b,k,i)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,i;for(i=0;i<r.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?ge*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=$p(r._parsed[t],n.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let r=0;const n=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,i=t.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(It(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ot(Ea,"id","doughnut"),ot(Ea,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ot(Ea,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ot(Ea,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data,{labels:{pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:n,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class bh extends Qi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=lY(r,i,o);this._drawStart=a,this._drawCount=l,cY(r)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,i),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,y=wu(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none",b=r+n,v=t.length;let S=r>0&&this.getParsed(r-1);for(let k=0;k<v;++k){const C=t[k],_=x?C:{};if(k<r||k>=b){_.skip=!0;continue}const A=this.getParsed(k),O=Kt(A[p]),F=_[f]=o.getPixelForValue(A[f],k),$=_[p]=s||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],k);_.skip=isNaN(F)||isNaN($)||O,_.stop=k>0&&Math.abs(A[f]-S[f])>y,m&&(_.parsed=A,_.raw=c.data[k]),h&&(_.options=u||this.resolveDataElementOptions(k,C.active?"active":i)),x||this.updateElement(C,k,_,i),S=A}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ot(bh,"id","line"),ot(bh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ot(bh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $c extends Qi{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=$p(r._parsed[t].r,n.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,r,n,i){return lM.bind(this)(t,r,n,i)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,n=t.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,r,n,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Jt;let p=f,g;const m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,i,m);for(g=r;g<r+n;g++){const y=t[g];let x=p,b=p+this._computeAngle(g,i,m),v=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=b,s&&(l.animateScale&&(v=0),l.animateRotate&&(x=b=f));const S={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:x,endAngle:b,options:this.resolveDataElementOptions(g,y.active?"active":i)};this.updateElement(y,g,S,i)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(t,r,n){return this.chart.getDataVisibility(t)?Qn(this.resolveDataElementOptions(t,r).angle||n):0}}ot($c,"id","polarArea"),ot($c,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ot($c,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return r.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class dx extends Ea{}ot(dx,"id","pie"),ot(dx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Nc extends Qi{getLabelAndValue(t){const r=this._cachedMeta.vScale,n=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(t,r,n,i){return lM.bind(this)(t,r,n,i)}update(t){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,r,n,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=r;a<r+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,f=o?s.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}ot(Nc,"id","radar"),ot(Nc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ot(Nc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function no(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ib{constructor(t){ot(this,"options");this.options=t||{}}static override(t){Object.assign(Ib.prototype,t)}init(){}formats(){return no()}parse(){return no()}format(){return no()}add(){return no()}diff(){return no()}startOf(){return no()}endOf(){return no()}}var DG={_date:Ib};function OG(e,t,r,n){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?nY:wo;if(n){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=c(s,t,r-h),p=c(s,t,r+h);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,t,r);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!Kt(m[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(m=>!Kt(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Wp(e,t,r,n,i){const s=e.getSortedVisibleDatasetMetas(),o=r[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=OG(s[a],t,o,i);for(let p=h;p<=f;++p){const g=u[p];g.skip||n(g,c,p)}}}function $G(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,i){const s=t?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function em(e,t,r,n,i){const s=[];return!i&&!e.isPointInArea(t)||Wp(e,r,t,function(a,l,c){!i&&!Vi(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function NG(e,t,r,n){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=KL(o,{x:t.x,y:t.y});ku(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Wp(e,r,t,s),i}function IG(e,t,r,n,i,s){let o=[];const a=$G(r);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const g=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!p)return;const y=a(t,g);y<l?(o=[{element:u,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:f})}return Wp(e,r,t,c),o}function rm(e,t,r,n,i,s){return!s&&!e.isPointInArea(t)?[]:r==="r"&&!n?NG(e,t,r,i):IG(e,t,r,n,i,s)}function Nk(e,t,r,n,i){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return Wp(e,r,t,(l,c,u)=>{l[o]&&l[o](t[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:s}var zG={modes:{index(e,t,r,n){const i=co(t,e),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?em(e,i,s,n,o):rm(e,i,s,!1,n,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,r,n){const i=co(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?em(e,i,s,n,o):rm(e,i,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,r,n){const i=co(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;return em(e,i,s,n,o)},nearest(e,t,r,n){const i=co(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;return rm(e,i,s,r.intersect,n,o)},x(e,t,r,n){const i=co(t,e);return Nk(e,i,"x",r.intersect,n)},y(e,t,r,n){const i=co(t,e);return Nk(e,i,"y",r.intersect,n)}}};const bM=["left","top","right","bottom"];function Kl(e,t){return e.filter(r=>r.pos===t)}function Ik(e,t){return e.filter(r=>bM.indexOf(r.pos)===-1&&r.box.axis===t)}function Jl(e,t){return e.sort((r,n)=>{const i=t?n:r,s=t?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function WG(e){const t=[];let r,n,i,s,o,a;for(r=0,n=(e||[]).length;r<n;++r)i=e[r],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function HG(e){const t={};for(const r of e){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!bM.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function qG(e,t){const r=HG(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=r[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return r}function UG(e){const t=WG(e),r=Jl(t.filter(c=>c.box.fullSize),!0),n=Jl(Kl(t,"left"),!0),i=Jl(Kl(t,"right")),s=Jl(Kl(t,"top"),!0),o=Jl(Kl(t,"bottom")),a=Ik(t,"x"),l=Ik(t,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Kl(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function zk(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function vM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function VG(e,t,r,n){const{pos:i,box:s}=r,o=e.maxPadding;if(!Vt(i)){r.size&&(e[i]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?s.height:s.width),r.size=h.size/h.count,e[i]+=r.size}s.getPadding&&vM(o,s.getPadding());const a=Math.max(0,t.outerWidth-zk(o,e,"left","right")),l=Math.max(0,t.outerHeight-zk(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function YG(e){const t=e.maxPadding;function r(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function GG(e,t){const r=t.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],r[o])}),s}return n(e?["left","right"]:["top","bottom"])}function gc(e,t,r,n){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,GG(a.horizontal,t));const{same:h,other:f}=VG(t,r,a,n);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&gc(i,t,r,n)||u}function Dd(e,t,r,n,i){e.top=r,e.left=t,e.right=t+n,e.bottom=r+i,e.width=n,e.height=i}function Wk(e,t,r,n){const i=r.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;vu(c.start)&&(o=c.start),l.fullSize?Dd(l,i.left,o,r.outerWidth-i.right-i.left,f):Dd(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;vu(c.start)&&(s=c.start),l.fullSize?Dd(l,s,i.top,f,r.outerHeight-i.bottom-i.top):Dd(l,s,t.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}var En={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const i=_r(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(r-i.height,0),a=UG(e.boxes),l=a.vertical,c=a.horizontal;oe(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:r,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);vM(f,_r(n));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=qG(l.concat(c),h);gc(a.fullSize,p,h,g),gc(l,p,h,g),gc(c,p,h,g)&&gc(l,p,h,g),YG(p),Wk(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,Wk(a.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},oe(a.chartArea,m=>{const y=m.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class wM{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,i){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(t){return!0}updateConfig(t){}}class XG extends wM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vh="$chartjs",QG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hk=e=>e===null||e==="";function KG(e,t){const r=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[vh]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Hk(i)){const s=Tk(e,"width");s!==void 0&&(e.width=s)}if(Hk(n))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Tk(e,"height");s!==void 0&&(e.height=s)}return e}const kM=ZY?{passive:!0}:!1;function JG(e,t,r){e&&e.addEventListener(t,r,kM)}function ZG(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,kM)}function tX(e,t){const r=QG[e.type]||e.type,{x:n,y:i}=co(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Of(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function eX(e,t,r){const n=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Of(a.addedNodes,n),o=o&&!Of(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function rX(e,t,r){const n=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Of(a.removedNodes,n),o=o&&!Of(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const _u=new Map;let qk=0;function SM(){const e=window.devicePixelRatio;e!==qk&&(qk=e,_u.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function nX(e,t){_u.size||window.addEventListener("resize",SM),_u.set(e,t)}function iX(e){_u.delete(e),_u.size||window.removeEventListener("resize",SM)}function sX(e,t,r){const n=e.canvas,i=n&&Nb(n);if(!i)return;const s=eM((a,l)=>{const c=i.clientWidth;r(a,l),c<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),nX(e,s),o}function nm(e,t,r){r&&r.disconnect(),t==="resize"&&iX(e)}function oX(e,t,r){const n=e.canvas,i=eM(s=>{e.ctx!==null&&r(tX(s,e))},e);return JG(n,t,i),i}class aX extends wM{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(KG(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[vh])return!1;const n=r[vh].initial;["height","width"].forEach(s=>{const o=n[s];Kt(o)?r.removeAttribute(s):r.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[vh],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const i=t.$proxies||(t.$proxies={}),o={attach:eX,detach:rX,resize:sX}[r]||oX;i[r]=o(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),i=n[r];if(!i)return;({attach:nm,detach:nm,resize:nm}[r]||ZG)(t,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,i){return JY(t,r,n,i)}isAttached(t){const r=t&&Nb(t);return!!(r&&r.isConnected)}}function lX(e){return!$b()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?XG:aX}class ri{constructor(){ot(this,"x");ot(this,"y");ot(this,"active",!1);ot(this,"options");ot(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return wu(this.x)&&wu(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const i={};return t.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}ot(ri,"defaults",{}),ot(ri,"defaultRoutes");function cX(e,t){const r=e.options.ticks,n=uX(e),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?hX(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return fX(t,c,s,o/i),c;const u=dX(s,t,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Od(t,c,u,Kt(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Od(t,c,u,s[h],s[h+1]);return Od(t,c,u,l,Kt(p)?t.length:l+p),c}return Od(t,c,u),c}function uX(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),i=e._maxLength/r;return Math.floor(Math.min(n,i))}function dX(e,t,r){const n=pX(e),i=t.length/r;if(!n)return Math.max(i,1);const s=KV(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function hX(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function fX(e,t,r,n){let i=0,s=r[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=r[i*n])}function Od(e,t,r,n,i){const s=It(n,0),o=Math.min(It(i,e.length),e.length);let a=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)a++,u=Math.round(s+a*r);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*r))}function pX(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const gX=e=>e==="left"?"right":e==="right"?"left":e,Uk=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,Vk=(e,t)=>Math.min(t||e,e);function Yk(e,t){const r=[],n=e.length/t,i=e.length;let s=0;for(;s<i;s+=n)r.push(e[Math.floor(s)]);return r}function mX(e,t,r){const n=e.ticks.length,i=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function xX(e,t){oe(e,r=>{const n=r.gc,i=n.length/2;let s;if(i>t){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function Zl(e){return e.drawTicks?e.tickLength:0}function Gk(e,t){if(!e.display)return 0;const r=He(e.font,t),n=_r(e.padding);return(ye(e.text)?e.text.length:1)*r.lineHeight+n.height}function yX(e,t){return Xs(e,{scale:t,type:"scale"})}function bX(e,t,r){return Xs(e,{tick:r,index:t,type:"tick"})}function vX(e,t,r){let n=Mb(e);return(r&&t!=="right"||!r&&t==="right")&&(n=gX(n)),n}function wX(e,t,r,n){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,p,g;const m=o-i,y=a-s;if(e.isHorizontal()){if(p=gr(n,s,a),Vt(r)){const x=Object.keys(r)[0],b=r[x];g=u[x].getPixelForValue(b)+m-t}else r==="center"?g=(c.bottom+c.top)/2+m-t:g=Uk(e,r,t);f=a-s}else{if(Vt(r)){const x=Object.keys(r)[0],b=r[x];p=u[x].getPixelForValue(b)-y+t}else r==="center"?p=(c.left+c.right)/2-y+t:p=Uk(e,r,t);g=gr(n,o,i),h=r==="left"?-Re:Re}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class Sl extends ri{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return t=hi(t,Number.POSITIVE_INFINITY),r=hi(r,Number.NEGATIVE_INFINITY),n=hi(n,Number.POSITIVE_INFINITY),i=hi(i,Number.NEGATIVE_INFINITY),{min:hi(t,n),max:hi(r,i),minDefined:Je(t),maxDefined:Je(r)}}getMinMax(t){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(r=Math.min(r,o.min)),s||(n=Math.max(n,o.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:hi(r,hi(n,r)),max:hi(n,hi(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LY(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Yk(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=cX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n],s.label=ce(r.callback,[s.value,n,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=Vk(this.ticks.length,t.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=br(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Zl(t.grid)-r.padding-Gk(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Ab(Math.min(Math.asin(br((u.highest.height+6)/a,-1,1)),Math.asin(br(l/c,-1,1))-Math.asin(br(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Gk(i,r.options.font);if(a?(t.width=this.maxWidth,t.height=Zl(s)+l):(t.height=this.maxHeight,t.width=Zl(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,g=Qn(this.labelRotation),m=Math.cos(g),y=Math.sin(g);if(a){const x=n.mirror?0:y*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+x+p)}else{const x=n.mirror?0:m*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*r.height):(f=n*t.height,p=i*r.width):s==="start"?p=r.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,p=r.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)Kt(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Yk(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/Vk(r,n));let c=0,u=0,h,f,p,g,m,y,x,b,v,S,k;for(h=0;h<r;h+=l){if(g=t[h].label,m=this._resolveTickFontOptions(h),i.font=y=m.string,x=s[y]=s[y]||{data:{},gc:[]},b=m.lineHeight,v=S=0,!Kt(g)&&!ye(g))v=Ff(i,x.data,x.gc,v,g),S=b;else if(ye(g))for(f=0,p=g.length;f<p;++f)k=g[f],!Kt(k)&&!ye(k)&&(v=Ff(i,x.data,x.gc,v,k),S+=b);o.push(v),a.push(S),c=Math.max(v,c),u=Math.max(S,u)}xX(s,r);const C=o.indexOf(c),_=a.indexOf(u),A=O=>({width:o[O]||0,height:a[O]||0});return{first:A(0),last:A(r-1),widest:A(C),highest:A(_),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return rY(this._alignToPixels?ro(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=bX(this.getContext(),t,n))}return this.$context||(this.$context=yX(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Qn(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Zl(s),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,y=m/2,x=function(L){return ro(n,L,m)};let b,v,S,k,C,_,A,O,F,$,H,N;if(o==="top")b=x(this.bottom),_=this.bottom-f,O=b-y,$=x(t.top)+y,N=t.bottom;else if(o==="bottom")b=x(this.top),$=t.top,N=x(t.bottom)-y,_=b+y,O=this.top+f;else if(o==="left")b=x(this.right),C=this.right-f,A=b-y,F=x(t.left)+y,H=t.right;else if(o==="right")b=x(this.left),F=t.left,H=x(t.right)-y,C=b+y,A=this.left+f;else if(r==="x"){if(o==="center")b=x((t.top+t.bottom)/2+.5);else if(Vt(o)){const L=Object.keys(o)[0],B=o[L];b=x(this.chart.scales[L].getPixelForValue(B))}$=t.top,N=t.bottom,_=b+y,O=_+f}else if(r==="y"){if(o==="center")b=x((t.left+t.right)/2);else if(Vt(o)){const L=Object.keys(o)[0],B=o[L];b=x(this.chart.scales[L].getPixelForValue(B))}C=b-y,A=C-f,F=t.left,H=t.right}const M=It(i.ticks.maxTicksLimit,h),E=Math.max(1,Math.ceil(h/M));for(v=0;v<h;v+=E){const L=this.getContext(v),B=s.setContext(L),j=a.setContext(L),P=B.lineWidth,I=B.color,D=j.dash||[],q=j.dashOffset,G=B.tickWidth,Q=B.tickColor,ut=B.tickBorderDash||[],Y=B.tickBorderDashOffset;S=mX(this,v,l),S!==void 0&&(k=ro(n,S,P),c?C=A=F=H=k:_=O=$=N=k,p.push({tx1:C,ty1:_,tx2:A,ty2:O,x1:F,y1:$,x2:H,y2:N,width:P,color:I,borderDash:D,borderDashOffset:q,tickWidth:G,tickColor:Q,tickBorderDash:ut,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=b,p}_computeLabelItems(t){const r=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Zl(n.grid),p=f+u,g=h?-u:p,m=-Qn(this.labelRotation),y=[];let x,b,v,S,k,C,_,A,O,F,$,H,N="middle";if(i==="top")C=this.bottom-g,_=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+g,_=this._getXAxisLabelAlignment();else if(i==="left"){const E=this._getYAxisLabelAlignment(f);_=E.textAlign,k=E.x}else if(i==="right"){const E=this._getYAxisLabelAlignment(f);_=E.textAlign,k=E.x}else if(r==="x"){if(i==="center")C=(t.top+t.bottom)/2+p;else if(Vt(i)){const E=Object.keys(i)[0],L=i[E];C=this.chart.scales[E].getPixelForValue(L)+p}_=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")k=(t.left+t.right)/2-p;else if(Vt(i)){const E=Object.keys(i)[0],L=i[E];k=this.chart.scales[E].getPixelForValue(L)}_=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?N="top":l==="end"&&(N="bottom"));const M=this._getLabelSizes();for(x=0,b=a.length;x<b;++x){v=a[x],S=v.label;const E=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,O=this._resolveTickFontOptions(x),F=O.lineHeight,$=ye(S)?S.length:1;const L=$/2,B=E.color,j=E.textStrokeColor,P=E.textStrokeWidth;let I=_;o?(k=A,_==="inner"&&(x===b-1?I=this.options.reverse?"left":"right":x===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?c==="near"||m!==0?H=-$*F+F/2:c==="center"?H=-M.highest.height/2-L*F+F:H=-M.highest.height+F/2:c==="near"||m!==0?H=F/2:c==="center"?H=M.highest.height/2-L*F:H=M.highest.height-$*F,h&&(H*=-1),m!==0&&!E.showLabelBackdrop&&(k+=F/2*Math.sin(m))):(C=A,H=(1-$)*F/2);let D;if(E.showLabelBackdrop){const q=_r(E.backdropPadding),G=M.heights[x],Q=M.widths[x];let ut=H-q.top,Y=0-q.left;switch(N){case"middle":ut-=G/2;break;case"bottom":ut-=G;break}switch(_){case"center":Y-=Q/2;break;case"right":Y-=Q;break;case"inner":x===b-1?Y-=Q:x>0&&(Y-=Q/2);break}D={left:Y,top:ut,width:Q+q.width,height:G+q.height,color:E.backdropColor}}y.push({label:S,font:O,textOffset:H,options:{rotation:m,color:B,strokeColor:j,strokeWidth:P,textAlign:I,textBaseline:N,translation:[k,C],backdrop:D}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Qn(this.labelRotation))return t==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:i,width:s,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,i,s,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,o=i.length;s<o;++s){const l=i[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ro(t,this.left,o)-o/2,u=ro(t,this.right,a)+a/2,h=f=l):(h=ro(t,this.top,o)-o/2,f=ro(t,this.bottom,a)+a/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Np(n,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;qo(n,c,0,u,l,a)}i&&Ip(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=He(n.font),o=_r(n.padding),a=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Vt(r)?(l+=o.bottom,ye(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=wX(this,l,r,a);qo(t,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:f,textAlign:vX(a,r,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=It(t.grid&&t.grid.z,-1),i=It(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Sl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return He(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $d{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;_X(r)&&(n=this.register(r));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,kX(t,o,n),this.override&&Ce.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,i=this.scope;n in r&&delete r[n],i&&n in Ce[i]&&(delete Ce[i][n],this.override&&delete Ho[n])}}function kX(e,t,r){const n=bu(Object.create(null),[r?Ce.get(r):{},Ce.get(t),e.defaults]);Ce.set(t,n),e.defaultRoutes&&SX(t,e.defaultRoutes),e.descriptors&&Ce.describe(t,e.descriptors)}function SX(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),i=n.pop(),s=[e].concat(n).join("."),o=t[r].split("."),a=o.pop(),l=o.join(".");Ce.route(s,i,l,a)})}function _X(e){return"id"in e&&"defaults"in e}class CX{constructor(){this.controllers=new $d(Qi,"datasets",!0),this.elements=new $d(ri,"elements"),this.plugins=new $d(Object,"plugins"),this.scales=new $d(Sl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):oe(i,o=>{const a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,r,n){const i=jb(t);ce(n["before"+i],[],n),r[t](n),ce(n["after"+i],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const i=r.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var xi=new CX;class TX{constructor(){this._init=void 0}notify(t,r,n,i){if(r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,r,n);return r==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,r,n,i){i=i||{};for(const s of t){const o=s.plugin,a=o[n],l=[r,i,s.options];if(ce(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,i=It(n.options&&n.options.plugins,{}),s=EX(n);return i===!1&&!r?[]:AX(t,s,i,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(r,n),t,"stop"),this._notify(i(n,r),t,"start")}}function EX(e){const t={},r=[],n=Object.keys(xi.plugins.items);for(let s=0;s<n.length;s++)r.push(xi.getPlugin(n[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function jX(e,t){return!t&&e===!1?null:e===!0?{}:e}function AX(e,{plugins:t,localIds:r},n,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=jX(n[l],i);c!==null&&s.push({plugin:a,options:LX(e.config,{plugin:a,local:r[l]},c,o)})}return s}function LX(e,{plugin:t,local:r},n,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(n,s);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hx(e,t){const r=Ce.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function MX(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function RX(e,t){return e===t?"_index_":"_value_"}function Xk(e){if(e==="x"||e==="y"||e==="r")return e}function BX(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function fx(e,...t){if(Xk(e))return e;for(const r of t){const n=r.axis||BX(r.position)||e.length>1&&Xk(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Qk(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function PX(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return Qk(e,"x",r[0])||Qk(e,"y",r[0])}return{}}function FX(e,t){const r=Ho[e.type]||{scales:{}},n=t.scales||{},i=hx(e.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Vt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=fx(o,a,PX(o,e),Ce.scales[a.type]),c=RX(l,i),u=r.scales||{};s[o]=Pc(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||hx(a,t),u=(Ho[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=MX(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Pc(s[p],[{axis:f},n[p],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Pc(a,[Ce.scales[a.type],Ce.scale])}),s}function _M(e){const t=e.options||(e.options={});t.plugins=It(t.plugins,{}),t.scales=FX(e,t)}function CM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function DX(e){return e=e||{},e.data=CM(e.data),_M(e),e}const Kk=new Map,TM=new Set;function Nd(e,t){let r=Kk.get(e);return r||(r=t(),Kk.set(e,r),TM.add(r)),r}const tc=(e,t,r)=>{const n=Ns(t,r);n!==void 0&&e.add(n)};class OX{constructor(t){this._config=DX(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_M(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return Nd(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return Nd(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return Nd(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let i=n.get(t);return(!i||r)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,r,n){const{options:i,type:s}=this,o=this._cachedScopes(t,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(u=>{t&&(l.add(t),u.forEach(h=>tc(l,t,h))),u.forEach(h=>tc(l,i,h)),u.forEach(h=>tc(l,Ho[s]||{},h)),u.forEach(h=>tc(l,Ce,h)),u.forEach(h=>tc(l,cx,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),TM.has(r)&&o.set(r,c),c}chartOptionScopes(){const{options:t,type:r}=this;return[t,Ho[r]||{},Ce.datasets[r]||{},{type:r},Ce,cx]}resolveNamedOptions(t,r,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Jk(this._resolverCache,t,i);let l=o;if(NX(o,r)){s.$shared=!1,n=Is(n)?n():n;const c=this.createResolver(t,n,a);l=cl(o,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(t,r,n=[""],i){const{resolver:s}=Jk(this._resolverCache,t,n);return Vt(r)?cl(s,r,void 0,i):s}}function Jk(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=r.join();let s=n.get(i);return s||(s={resolver:Fb(t,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,s)),s}const $X=e=>Vt(e)&&Object.getOwnPropertyNames(e).some(t=>Is(e[t]));function NX(e,t){const{isScriptable:r,isIndexable:n}=iM(e);for(const i of t){const s=r(i),o=n(i),a=(o||s)&&e[i];if(s&&(Is(a)||$X(a))||o&&ye(a))return!0}return!1}var IX="4.5.1";const zX=["top","bottom","left","right","chartArea"];function Zk(e,t){return e==="top"||e==="bottom"||zX.indexOf(e)===-1&&t==="x"}function tS(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function eS(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),ce(r&&r.onComplete,[e],t)}function WX(e){const t=e.chart,r=t.options.animation;ce(r&&r.onProgress,[e],t)}function EM(e){return $b()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wh={},rS=e=>{const t=EM(e);return Object.values(wh).filter(r=>r.canvas===t).pop()};function HX(e,t,r){const n=Object.keys(e);for(const i of n){const s=+i;if(s>=t){const o=e[i];delete e[i],(r>0||s>t)&&(e[s+r]=o)}}}function qX(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var ls;let Hp=(ls=class{static register(...t){xi.add(...t),nS()}static unregister(...t){xi.remove(...t),nS()}constructor(t,r){const n=this.config=new OX(r),i=EM(t),s=rS(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||lX(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=WV(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oY(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",eS),$i.listen(this,"progress",WX),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return Kt(t)?r&&s?s:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ck(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kk(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(t,r){$i.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,r,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ck(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ce(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};oe(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=fx(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),oe(s,o=>{const a=o.options,l=a.id,c=fx(l,a),u=It(a.type,o.dtype);(a.position===void 0||Zk(a.position,c)!==Zk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=xi.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,t)}),oe(i,(o,a)=>{o||delete n[a]}),oe(n,o=>{En.configure(this,o,o.options),En.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(tS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||hx(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=xi.getController(a),{datasetElementType:c,dataElementType:u}=Ce.datasets[a];Object.assign(l,{dataElementType:xi.getElement(u),datasetElementType:c&&xi.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||oe(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(tS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){oe(this.scales,t=>{En.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!fk(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const o=n==="_removeElements"?-s:s;HX(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!fk(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;En.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],oe(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Is(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),eS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=gM(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Np(r,i),t.controller.draw(),i&&Ip(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Vi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,i){const s=zG.modes[r];return typeof s=="function"?s(this,t,n,i):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);vu(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),$i.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kk(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};oe(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(r.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){oe(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},oe(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const i=n?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Rf(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(r,t),a=n?t:s(t,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:i=[],options:s}=this,o=r,a=this._getActiveElements(t,i,n,o),l=GV(t),c=qX(t,this._lastEvent,n,l);n&&(this._lastEvent=null,ce(s.onHover,[t,a,this],this),l&&ce(s.onClick,[t,a,this],this));const u=!Rf(a,i);return(u||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=c,u}_getActiveElements(t,r,n,i){if(t.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},ot(ls,"defaults",Ce),ot(ls,"instances",wh),ot(ls,"overrides",Ho),ot(ls,"registry",xi),ot(ls,"version",IX),ot(ls,"getChart",rS),ls);function nS(){return oe(Hp.instances,e=>e._plugins.invalidate())}function UX(e,t,r){const{startAngle:n,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,mr(n-r));if(e.beginPath(),e.arc(i,s,o-c/2,n+h/2,r-h/2),a>0){const f=Math.min(c/a,mr(n-r));e.arc(i,s,a+c/2,r-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*mr(n-r));if(u==="round")e.arc(i,s,f,r-Jt/2,n+Jt/2,!0);else if(u==="bevel"){const p=2*f*f,g=-p*Math.cos(r+Jt/2)+i,m=-p*Math.sin(r+Jt/2)+s,y=p*Math.cos(n+Jt/2)+i,x=p*Math.sin(n+Jt/2)+s;e.lineTo(g,m),e.lineTo(y,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function VX(e,t,r){const{startAngle:n,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,n-c,r+c),l>i?(c=i/l,e.arc(s,o,l,r+c,n-c,!0)):e.arc(s,o,i,r+Re,n-Re),e.closePath(),e.clip()}function YX(e){return Pb(e,["outerStart","outerEnd","innerStart","innerEnd"])}function GX(e,t,r,n){const i=YX(e.options.borderRadius),s=(r-t)/2,o=Math.min(s,n*t/2),a=l=>{const c=(r-Math.min(s,l))*n/2;return br(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:br(i.innerStart,0,o),innerEnd:br(i.innerEnd,0,o)}}function da(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function $f(e,t,r,n,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+n+r-c,0),f=u>0?u+n+r+c:0;let p=0;const g=i-l;if(n){const E=u>0?u-n:0,L=h>0?h-n:0,B=(E+L)/2,j=B!==0?g*B/(B+n):g;p=(g-j)/2}const m=Math.max(.001,g*h-r/Jt)/h,y=(g-m)/2,x=l+y+p,b=i-y-p,{outerStart:v,outerEnd:S,innerStart:k,innerEnd:C}=GX(t,f,h,b-x),_=h-v,A=h-S,O=x+v/_,F=b-S/A,$=f+k,H=f+C,N=x+k/$,M=b-C/H;if(e.beginPath(),s){const E=(O+F)/2;if(e.arc(o,a,h,O,E),e.arc(o,a,h,E,F),S>0){const P=da(A,F,o,a);e.arc(P.x,P.y,S,F,b+Re)}const L=da(H,b,o,a);if(e.lineTo(L.x,L.y),C>0){const P=da(H,M,o,a);e.arc(P.x,P.y,C,b+Re,M+Math.PI)}const B=(b-C/f+(x+k/f))/2;if(e.arc(o,a,f,b-C/f,B,!0),e.arc(o,a,f,B,x+k/f,!0),k>0){const P=da($,N,o,a);e.arc(P.x,P.y,k,N+Math.PI,x-Re)}const j=da(_,x,o,a);if(e.lineTo(j.x,j.y),v>0){const P=da(_,O,o,a);e.arc(P.x,P.y,v,x-Re,O)}}else{e.moveTo(o,a);const E=Math.cos(O)*h+o,L=Math.sin(O)*h+a;e.lineTo(E,L);const B=Math.cos(F)*h+o,j=Math.sin(F)*h+a;e.lineTo(B,j)}e.closePath()}function XX(e,t,r,n,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){$f(e,t,r,n,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%ge||ge))}return $f(e,t,r,n,l,i),e.fill(),l}function QX(e,t,r,n,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=l,g=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,g?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let m=t.endAngle;if(s){$f(e,t,r,n,m,i);for(let y=0;y<s;++y)e.stroke();isNaN(a)||(m=o+(a%ge||ge))}g&&VX(e,t,m),l.selfJoin&&m-o>=Jt&&p===0&&u!=="miter"&&UX(e,t,m),s||($f(e,t,r,n,m,i),e.stroke())}class mc extends ri{constructor(r){super();ot(this,"circumference");ot(this,"endAngle");ot(this,"fullCircles");ot(this,"innerRadius");ot(this,"outerRadius");ot(this,"pixelMargin");ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=KL(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=It(f,c-l),m=ku(o,l,c)&&l!==c,y=g>=ge||m,x=Ui(a,u+p,h+p);return y&&x}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,h=(s+o)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ge?Math.floor(i/ge):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Jt,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,XX(r,this,u,o,a),QX(r,this,u,o,a),r.restore()}}ot(mc,"id","arc"),ot(mc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ot(mc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ot(mc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function jM(e,t,r=t){e.lineCap=It(r.borderCapStyle,t.borderCapStyle),e.setLineDash(It(r.borderDash,t.borderDash)),e.lineDashOffset=It(r.borderDashOffset,t.borderDashOffset),e.lineJoin=It(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=It(r.borderWidth,t.borderWidth),e.strokeStyle=It(r.borderColor,t.borderColor)}function KX(e,t,r){e.lineTo(r.x,r.y)}function JX(e){return e.stepped?wY:e.tension||e.cubicInterpolationMode==="monotone"?kY:KX}function AM(e,t,r={}){const n=e.length,{start:i=0,end:s=n-1}=r,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function ZX(e,t,r,n){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=AM(i,r,n),u=JX(s);let{move:h=!0,reverse:f}=n||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,m,g,f,s.stepped),m=g);return l&&(g=i[(a+(f?c:0))%o],u(e,m,g,f,s.stepped)),!!l}function tQ(e,t,r,n){const i=t.points,{count:s,start:o,ilen:a}=AM(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,p,g,m,y,x;const b=S=>(o+(c?a-S:S))%s,v=()=>{m!==y&&(e.lineTo(u,y),e.lineTo(u,m),e.lineTo(u,x))};for(l&&(p=i[b(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[b(f)],p.skip)continue;const S=p.x,k=p.y,C=S|0;C===g?(k<m?m=k:k>y&&(y=k),u=(h*u+S)/++h):(v(),e.lineTo(S,k),g=C,h=0,m=y=k),x=k}v()}function px(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?tQ:ZX}function eQ(e){return e.stepped?tG:e.tension||e.cubicInterpolationMode==="monotone"?eG:uo}function rQ(e,t,r,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,r,n)&&i.closePath()),jM(e,t.options),e.stroke(i)}function nQ(e,t,r,n){const{segments:i,options:s}=t,o=px(t);for(const a of i)jM(e,s,a.style),e.beginPath(),o(e,t,a,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const iQ=typeof Path2D=="function";function sQ(e,t,r,n){iQ&&!t.options.segment?rQ(e,t,r,n):nQ(e,t,r,n)}class ws extends ri{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;VY(this._points,n,t,i,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aG(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,i=t[r],s=this.points,o=pM(this,{property:r,start:i,end:i});if(!o.length)return;const a=[],l=eQ(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],g=s[f];if(p===g){a.push(p);continue}const m=Math.abs((i-p[r])/(g[r]-p[r])),y=l(p,g,m,n.stepped);y[r]=t[r],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,r,n){return px(this)(t,this,r,n)}path(t,r,n){const i=this.segments,s=px(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of i)o&=s(t,this,a,{start:r,end:r+n-1});return!!o}draw(t,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),sQ(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ot(ws,"id","line"),ot(ws,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ot(ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ot(ws,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iS(e,t,r,n){const i=e.options,{[r]:s}=e.getProps([r],n);return Math.abs(t-s)<i.radius+i.hitRadius}class kh extends ri{constructor(r){super();ot(this,"parsed");ot(this,"skip");ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return iS(this,r,"x",n)}inYRange(r,n){return iS(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!Vi(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,ux(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ot(kh,"id","point"),ot(kh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ot(kh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function LM(e,t){const{x:r,y:n,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(r,i),l=Math.max(r,i),c=n-h,u=n+h):(h=s/2,a=r-h,l=r+h,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function ks(e,t,r,n){return e?0:br(t,r,n)}function oQ(e,t,r){const n=e.options.borderWidth,i=e.borderSkipped,s=nM(n);return{t:ks(i.top,s.top,0,r),r:ks(i.right,s.right,0,t),b:ks(i.bottom,s.bottom,0,r),l:ks(i.left,s.left,0,t)}}function aQ(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Eo(i),o=Math.min(t,r),a=e.borderSkipped,l=n||Vt(i);return{topLeft:ks(!l||a.top||a.left,s.topLeft,0,o),topRight:ks(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ks(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ks(!l||a.bottom||a.right,s.bottomRight,0,o)}}function lQ(e){const t=LM(e),r=t.right-t.left,n=t.bottom-t.top,i=oQ(e,r/2,n/2),s=aQ(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function im(e,t,r,n){const i=t===null,s=r===null,a=e&&!(i&&s)&&LM(e,n);return a&&(i||Ui(t,a.left,a.right))&&(s||Ui(r,a.top,a.bottom))}function cQ(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function uQ(e,t){e.rect(t.x,t.y,t.w,t.h)}function sm(e,t,r={}){const n=e.x!==r.x?-t:0,i=e.y!==r.y?-t:0,s=(e.x+e.w!==r.x+r.w?t:0)-n,o=(e.y+e.h!==r.y+r.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Sh extends ri{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:o}=lQ(this),a=cQ(o.radius)?Su:uQ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,sm(o,r,s)),t.clip(),a(t,sm(s,-r,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,sm(s,r)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,r,n){return im(this,t,r,n)}inXRange(t,r){return im(this,t,null,r)}inYRange(t,r){return im(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ot(Sh,"id","bar"),ot(Sh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ot(Sh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function dQ(e,t,r){const n=e.segments,i=e.points,s=t.points,o=[];for(const a of n){let{start:l,end:c}=a;c=qp(l,c,i);const u=gx(r,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=pM(t,u);for(const f of h){const p=gx(r,s[f.start],s[f.end],f.loop),g=fM(a,i,p);for(const m of g)o.push({source:m,target:f,start:{[r]:sS(u,p,"start",Math.max)},end:{[r]:sS(u,p,"end",Math.min)}})}}return o}function gx(e,t,r,n){if(n)return;let i=t[e],s=r[e];return e==="angle"&&(i=mr(i),s=mr(s)),{property:e,start:i,end:s}}function hQ(e,t){const{x:r=null,y:n=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=qp(o,a,i);const l=i[o],c=i[a];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function qp(e,t,r){for(;t>e;t--){const n=r[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function sS(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function MM(e,t){let r=[],n=!1;return ye(e)?(n=!0,r=e):r=hQ(e,t),r.length?new ws({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function oS(e){return e&&e.fill!==!1}function fQ(e,t,r){let i=e[t].fill;const s=[t];let o;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Je(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function pQ(e,t,r){const n=yQ(e);if(Vt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Je(i)&&Math.floor(i)===i?gQ(n[0],t,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function gQ(e,t,r,n){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=n?!1:r}function mQ(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Vt(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function xQ(e,t,r){let n;return e==="start"?n=r:e==="end"?n=t.options.reverse?t.min:t.max:Vt(e)?n=e.value:n=t.getBaseValue(),n}function yQ(e){const t=e.options,r=t.fill;let n=It(r&&r.target,r);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function bQ(e){const{scale:t,index:r,line:n}=e,i=[],s=n.segments,o=n.points,a=vQ(t,r);a.push(MM({x:null,y:t.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)wQ(i,o[u],a)}return new ws({points:i,options:{}})}function vQ(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===t)break;s.hidden||r.unshift(s.dataset)}return r}function wQ(e,t,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:o,last:a,point:l}=kQ(s,t,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function kQ(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const i=n[r],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][r],f=o[u.end][r];if(Ui(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:n}}class RM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,n){const{x:i,y:s,radius:o}=this;return r=r||{start:0,end:ge},t.arc(i,s,o,r.end,r.start,!0),!n.bounds}interpolate(t){const{x:r,y:n,radius:i}=this,s=t.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function SQ(e){const{chart:t,fill:r,line:n}=e;if(Je(r))return _Q(t,r);if(r==="stack")return bQ(e);if(r==="shape")return!0;const i=CQ(e);return i instanceof RM?i:MM(i,n)}function _Q(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function CQ(e){return(e.scale||{}).getPointPositionForValue?EQ(e):TQ(e)}function TQ(e){const{scale:t={},fill:r}=e,n=mQ(r,t);if(Je(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function EQ(e){const{scale:t,fill:r}=e,n=t.options,i=t.getLabels().length,s=n.reverse?t.max:t.min,o=xQ(r,t,s),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,s);return new RM({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function om(e,t,r){const n=SQ(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=u||{},g=i.getDatasetMeta(s),m=gM(i,g);n&&o.points.length&&(Np(e,r),jQ(e,{line:o,target:n,above:f,below:p,area:r,scale:a,axis:l,clip:m}),Ip(e))}function jQ(e,t){const{line:r,target:n,above:i,below:s,area:o,scale:a,clip:l}=t,c=r._loop?"angle":t.axis;e.save();let u=s;s!==i&&(c==="x"?(aS(e,n,o.top),am(e,{line:r,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),aS(e,n,o.bottom)):c==="y"&&(lS(e,n,o.left),am(e,{line:r,target:n,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),lS(e,n,o.right),u=i)),am(e,{line:r,target:n,color:u,scale:a,property:c,clip:l}),e.restore()}function aS(e,t,r){const{segments:n,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],h=i[qp(l,c,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function lS(e,t,r){const{segments:n,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],h=i[qp(l,c,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(r,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(r,h.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function am(e,t){const{line:r,target:n,property:i,color:s,scale:o,clip:a}=t,l=dQ(r,n,i);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:p=s}={}}=c,g=n!==!0;e.save(),e.fillStyle=p,AQ(e,o,a,g&&gx(i,h,f)),e.beginPath();const m=!!r.pathSegment(e,c);let y;if(g){m?e.closePath():cS(e,n,f,i);const x=!!n.pathSegment(e,u,{move:m,reverse:!0});y=m&&x,y||cS(e,n,h,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function AQ(e,t,r,n){const i=t.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let l,c,u,h;s==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),e.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),h=Math.min(h,r.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function cS(e,t,r,n){const i=t.interpolate(r,n);i&&e.lineTo(i.x,i.y)}var LQ={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<n;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof ws&&(l={visible:e.isDatasetVisible(o),index:o,fill:pQ(a,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<n;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=fQ(i,o,r.propagate))},beforeDraw(e,t,r){const n=r.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&om(e.ctx,a,s))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;oS(s)&&om(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;!oS(n)||r.drawTime!=="beforeDatasetDraw"||om(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uS=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},MQ=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class dS extends ri{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=He(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=uS(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const y=n+r/2+s.measureText(g.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,p+=u,f++),l[m]={left:0,top:p,row:f,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(t,r,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:v}=RQ(n,r,s,y,i);x>0&&p+v+2*a>u&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[x]={left:g,top:p,col:m,width:b,height:v},f=Math.max(f,b),p+=v+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,o=Oa(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gr(n,this.left+i,this.right-this.lineWidths[a]);for(const c of r)a!==c.row&&(a=c.row,l=gr(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=gr(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of r)c.col!==a&&(a=c.col,l=gr(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Np(t,this),this._draw(),Ip(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:o}=t,a=Ce.color,l=Oa(t.rtl,this.left,this.width),c=He(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=uS(o,h),x=function(C,_,A){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const O=It(A.lineWidth,1);if(i.fillStyle=It(A.fillStyle,a),i.lineCap=It(A.lineCap,"butt"),i.lineDashOffset=It(A.lineDashOffset,0),i.lineJoin=It(A.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=It(A.strokeStyle,a),i.setLineDash(It(A.lineDash,[])),o.usePointStyle){const F={radius:m*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:O},$=l.xPlus(C,g/2),H=_+f;rM(i,F,$,H,o.pointStyleWidth&&g)}else{const F=_+Math.max((h-m)/2,0),$=l.leftForLtr(C,g),H=Eo(A.borderRadius);i.beginPath(),Object.values(H).some(N=>N!==0)?Su(i,{x:$,y:F,w:g,h:m,radius:H}):i.rect($,F,g,m),i.fill(),O!==0&&i.stroke()}i.restore()},b=function(C,_,A){qo(i,A.text,C,_+y/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},v=this.isHorizontal(),S=this._computeTitleHeight();v?p={x:gr(s,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:p={x:this.left+u,y:gr(s,this.top+S+u,this.bottom-r[0].height),line:0},uM(this.ctx,t.textDirection);const k=y+u;this.legendItems.forEach((C,_)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const A=i.measureText(C.text).width,O=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),F=g+f+A;let $=p.x,H=p.y;l.setWidth(this.width),v?_>0&&$+F+u>this.right&&(H=p.y+=k,p.line++,$=p.x=gr(s,this.left+u,this.right-n[p.line])):_>0&&H+k>this.bottom&&($=p.x=$+r[p.line].width+u,p.line++,H=p.y=gr(s,this.top+S+u,this.bottom-r[p.line].height));const N=l.x($);if(x(N,H,C),$=aY(O,$+g+f,v?$+F:this.right,t.rtl),b(l.x($),H,C),v)p.x+=F+u;else if(typeof C.text!="string"){const M=c.lineHeight;p.y+=BM(C,M)+u}else p.y+=k}),dM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=He(r.font),i=_r(r.padding);if(!r.display)return;const s=Oa(t.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=gr(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+gr(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=gr(a,h,h+f);o.textAlign=s.textAlign(Mb(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,qo(o,r.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,r=He(t.font),n=_r(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,i,s;if(Ui(t,this.left,this.right)&&Ui(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Ui(t,i.left,i.left+i.width)&&Ui(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!FQ(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=MQ(i,n);i&&!s&&ce(r.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!s&&ce(r.onHover,[t,n,this],this)}else n&&ce(r.onClick,[t,n,this],this)}}function RQ(e,t,r,n,i){const s=BQ(n,e,t,r),o=PQ(i,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function BQ(e,t,r,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+r.size/2+n.measureText(i).width}function PQ(e,t,r){let n=e;return typeof t.text!="string"&&(n=BM(t,r)),n}function BM(e,t){const r=e.text?e.text.length:0;return t*r}function FQ(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var DQ={id:"legend",_element:dS,start(e,t,r){const n=e.legend=new dS({ctx:e.ctx,options:r,chart:e});En.configure(e,n,r),En.addBox(e,n)},stop(e){En.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;En.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=_r(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class PM extends ri{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const i=ye(n.text)?n.text.length:1;this._padding=_r(n.padding);const s=i*He(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=gr(a,n,s),h=r+t,c=s-n):(o.position==="left"?(u=n+t,h=gr(a,i,r),l=Jt*-.5):(u=s-t,h=gr(a,r,i),l=Jt*.5),c=i-r),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=He(r.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);qo(t,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:Mb(r.align),textBaseline:"middle",translation:[o,a]})}}function OQ(e,t){const r=new PM({ctx:e.ctx,options:t,chart:e});En.configure(e,r,t),En.addBox(e,r),e.titleBlock=r}var $Q={id:"title",_element:PM,start(e,t,r){OQ(e,r)},stop(e){const t=e.titleBlock;En.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;En.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xc={average(e){if(!e.length)return!1;let t,r,n=new Set,i=0,s=0;for(t=0,r=e.length;t<r;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=lx(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function gi(e,t){return t&&(ye(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ni(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function NQ(e,t){const{element:r,datasetIndex:n,index:i}=t,s=e.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function hS(e,t){const r=e.chart.ctx,{body:n,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=He(t.bodyFont),c=He(t.titleFont),u=He(t.footerFont),h=s.length,f=i.length,p=n.length,g=_r(t.padding);let m=g.height,y=0,x=n.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*S+(x-p)*l.lineHeight+(x-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const v=function(S){y=Math.max(y,r.measureText(S).width+b)};return r.save(),r.font=c.string,oe(e.title,v),r.font=l.string,oe(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,oe(n,S=>{oe(S.before,v),oe(S.lines,v),oe(S.after,v)}),b=0,r.font=u.string,oe(e.footer,v),r.restore(),y+=g.width,{width:y,height:m}}function IQ(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function zQ(e,t,r,n){const{x:i,width:s}=n,o=r.caretSize+r.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function WQ(e,t,r,n){const{x:i,width:s}=r,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),zQ(c,e,t,r)&&(c="center"),c}function fS(e,t,r){const n=r.yAlign||t.yAlign||IQ(e,r);return{xAlign:r.xAlign||t.xAlign||WQ(e,t,r,n),yAlign:n}}function HQ(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function qQ(e,t,r){let{y:n,height:i}=e;return t==="top"?n+=r:t==="bottom"?n-=i+r:n-=i/2,n}function pS(e,t,r,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=r,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Eo(o);let g=HQ(t,a);const m=qQ(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,p)+i),{x:br(g,0,n.width-t.width),y:br(m,0,n.height-t.height)}}function Id(e,t,r){const n=_r(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function gS(e){return gi([],Ni(e))}function UQ(e,t,r){return Xs(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function mS(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const FM={beforeTitle:Pi,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Pi,beforeBody:Pi,beforeLabel:Pi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Kt(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Pi,afterBody:Pi,beforeFooter:Pi,footer:Pi,afterFooter:Pi};function Yr(e,t,r,n){const i=e[t].call(r,n);return typeof i>"u"?FM[t].call(r,n):i}class mx extends ri{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new mM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=UQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,i=Yr(n,"beforeTitle",this,t),s=Yr(n,"title",this,t),o=Yr(n,"afterTitle",this,t);let a=[];return a=gi(a,Ni(i)),a=gi(a,Ni(s)),a=gi(a,Ni(o)),a}getBeforeBody(t,r){return gS(Yr(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,i=[];return oe(t,s=>{const o={before:[],lines:[],after:[]},a=mS(n,s);gi(o.before,Ni(Yr(a,"beforeLabel",this,s))),gi(o.lines,Yr(a,"label",this,s)),gi(o.after,Ni(Yr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,r){return gS(Yr(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,i=Yr(n,"beforeFooter",this,t),s=Yr(n,"footer",this,t),o=Yr(n,"afterFooter",this,t);let a=[];return a=gi(a,Ni(i)),a=gi(a,Ni(s)),a=gi(a,Ni(o)),a}_createItems(t){const r=this._active,n=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=r.length;l<c;++l)a.push(NQ(this.chart,r[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,n))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,n))),oe(a,u=>{const h=mS(t.callbacks,u);i.push(Yr(h,"labelColor",this,u)),s.push(Yr(h,"labelPointStyle",this,u)),o.push(Yr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=xc[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=hS(this,n),c=Object.assign({},a,l),u=fS(this.chart,n,c),h=pS(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,i){const s=this.getCaretPosition(t,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Eo(a),{x:f,y:p}=t,{width:g,height:m}=r;let y,x,b,v,S,k;return s==="center"?(S=p+m/2,i==="left"?(y=f,x=y-o,v=S+o,k=S-o):(y=f+g,x=y+o,v=S-o,k=S+o),b=y):(i==="left"?x=f+Math.max(l,u)+o:i==="right"?x=f+g-Math.max(c,h)-o:x=this.caretX,s==="top"?(v=p,S=v-o,y=x-o,b=x+o):(v=p+m,S=v+o,y=x+o,b=x-o),k=v),{x1:y,x2:x,x3:b,y1:v,y2:S,y3:k}}drawTitle(t,r,n){const i=this.title,s=i.length;let o,a,l;if(s){const c=Oa(n.rtl,this.x,this.width);for(t.x=Id(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",o=He(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,r,n,i,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=He(s.bodyFont),h=Id(this,"left",s),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,x=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ux(t,m,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ux(t,m,y,x)}else{t.lineWidth=Vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),x=Eo(o.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Su(t,{x:m,y:g,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Su(t,{x:y,y:g+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=He(n.bodyFont);let f=h.lineHeight,p=0;const g=Oa(n.rtl,this.x,this.width),m=function(A){r.fillText(A,g.x(t.x+p),t.y+f/2),t.y+=f+s},y=g.textAlign(o);let x,b,v,S,k,C,_;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,t.x=Id(this,y,n),r.fillStyle=n.bodyColor,oe(this.beforeBody,m),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,C=i.length;S<C;++S){for(x=i[S],b=this.labelTextColors[S],r.fillStyle=b,oe(x.before,m),v=x.lines,a&&v.length&&(this._drawColorBox(r,t,S,g,n),f=Math.max(h.lineHeight,l)),k=0,_=v.length;k<_;++k)m(v[k]),f=h.lineHeight;oe(x.after,m)}p=0,f=h.lineHeight,oe(this.afterBody,m),t.y-=s}drawFooter(t,r,n){const i=this.footer,s=i.length;let o,a;if(s){const l=Oa(n.rtl,this.x,this.width);for(t.x=Id(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=He(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,r,n,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Eo(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+h,l),o==="top"&&this.drawCaret(t,r,n,i),r.lineTo(a+c-f,l),r.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,r,n,i),r.lineTo(a+c,l+u-g),r.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,r,n,i),r.lineTo(a+p,l+u),r.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(t,r,n,i),r.lineTo(a,l+h),r.quadraticCurveTo(a,l,a+h,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=xc[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=hS(this,t),l=Object.assign({},o,this._size),c=fS(r,t,l),u=pS(t,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=_r(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,i,r),uM(t,r.textDirection),s.y+=o.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),dM(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Rf(n,i),o=this._positionChanged(i,r);(s||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,r,n),a=this._positionChanged(o,t),l=r||!Rf(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,n,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:n,caretY:i,options:s}=this,o=xc[s.position].call(this,t,r);return o!==!1&&(n!==o.x||i!==o.y)}}ot(mx,"positioners",xc);var VQ={id:"tooltip",_element:mx,positioners:xc,afterInit(e,t,r){r&&(e.tooltip=new mx({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const YQ=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function GQ(e,t,r,n){const i=e.indexOf(t);if(i===-1)return YQ(e,t,r,n);const s=e.lastIndexOf(t);return i!==s?r:i}const XQ=(e,t)=>e===null?null:br(Math.round(e),0,t);function xS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xx extends Sl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Kt(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:GQ(n,t,It(r,t),this._addedLabels),XQ(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=r;o++)i.push({value:o});return i}getLabelForValue(t){return xS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ot(xx,"id","category"),ot(xx,"defaults",{ticks:{callback:xS}});function QQ(e,t){const r=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=s||1,g=u-1,{min:m,max:y}=t,x=!Kt(o),b=!Kt(a),v=!Kt(c),S=(y-m)/(h+1);let k=gk((y-m)/g/p)*p,C,_,A,O;if(k<1e-14&&!x&&!b)return[{value:m},{value:y}];O=Math.ceil(y/k)-Math.floor(m/k),O>g&&(k=gk(O*k/g/p)*p),Kt(l)||(C=Math.pow(10,l),k=Math.ceil(k*C)/C),i==="ticks"?(_=Math.floor(m/k)*k,A=Math.ceil(y/k)*k):(_=m,A=y),x&&b&&s&&ZV((a-o)/s,k/1e3)?(O=Math.round(Math.min((a-o)/k,u)),k=(a-o)/O,_=o,A=a):v?(_=x?o:_,A=b?a:A,O=c-1,k=(A-_)/O):(O=(A-_)/k,Fc(O,Math.round(O),k/1e3)?O=Math.round(O):O=Math.ceil(O));const F=Math.max(mk(k),mk(_));C=Math.pow(10,Kt(l)?F:l),_=Math.round(_*C)/C,A=Math.round(A*C)/C;let $=0;for(x&&(f&&_!==o?(r.push({value:o}),_<o&&$++,Fc(Math.round((_+$*k)*C)/C,o,yS(o,S,e))&&$++):_<o&&$++);$<O;++$){const H=Math.round((_+$*k)*C)/C;if(b&&H>a)break;r.push({value:H})}return b&&f&&A!==a?r.length&&Fc(r[r.length-1].value,a,yS(a,S,e))?r[r.length-1].value=a:r.push({value:a}):(!b||A===a)&&r.push({value:A}),r}function yS(e,t,{horizontal:r,minRotation:n}){const i=Qn(n),s=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class yx extends Sl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=r?i:l,a=l=>s=n?s:l;if(t){const l=Si(i),c=Si(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=QQ(i,s);return t.bounds==="ticks"&&tY(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-r)/Math.max(t.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return $p(t,this.chart.options.locale,this.options.ticks.format)}}class bx extends yx{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Je(t)?t:0,this.max=Je(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Qn(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ot(bx,"id","linear"),ot(bx,"defaults",{ticks:{callback:Bb.formatters.numeric}});function vx(e){const t=e.ticks;if(t.display&&e.display){const r=_r(t.backdropPadding);return It(t.font&&t.font.size,Ce.font.size)+r.height}return 0}function KQ(e,t,r){return r=ye(r)?r:[r],{w:vY(e,t.string,r),h:r.length*t.lineHeight}}function bS(e,t,r,n,i){return e===n||e===i?{start:t-r/2,end:t+r/2}:e<n||e>i?{start:t-r,end:t}:{start:t,end:t+r}}function JQ(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Jt/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),h=He(c.font),f=KQ(e.ctx,h,e._pointLabels[l]);n[l]=f;const p=mr(e.getIndexAngle(l)+a),g=Math.round(Ab(p)),m=bS(g,u.x,f.w,0,180),y=bS(g,u.y,f.h,90,270);ZQ(r,t,p,m,y)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=rK(e,n,i)}function ZQ(e,t,r,n,i){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/s,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function tK(e,t,r){const n=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=r,l=e.getPointPosition(t,n+i+o,s),c=Math.round(Ab(mr(l.angle+Re))),u=sK(l.y,a.h,c),h=nK(c),f=iK(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function eK(e,t){if(!t)return!0;const{left:r,top:n,right:i,bottom:s}=e;return!(Vi({x:r,y:n},t)||Vi({x:r,y:s},t)||Vi({x:i,y:n},t)||Vi({x:i,y:s},t))}function rK(e,t,r){const n=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:vx(s)/2,additionalAngle:o?Jt/i:0};let c;for(let u=0;u<i;u++){l.padding=r[u],l.size=t[u];const h=tK(e,u,l);n.push(h),a==="auto"&&(h.visible=eK(h,c),h.visible&&(c=h))}return n}function nK(e){return e===0||e===180?"center":e<180?"left":"right"}function iK(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function sK(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function oK(e,t,r){const{left:n,top:i,right:s,bottom:o}=r,{backdropColor:a}=t;if(!Kt(a)){const l=Eo(t.borderRadius),c=_r(t.backdropPadding);e.fillStyle=a;const u=n-c.left,h=i-c.top,f=s-n+c.width,p=o-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),Su(e,{x:u,y:h,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,h,f,p)}}function aK(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(i));oK(r,o,s);const a=He(o.font),{x:l,y:c,textAlign:u}=s;qo(r,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function DM(e,t,r,n){const{ctx:i}=e;if(r)i.arc(e.xCenter,e.yCenter,t,0,ge);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function lK(e,t,r,n,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!n||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),DM(e,r,o,n),s.closePath(),s.stroke(),s.restore())}function cK(e,t,r){return Xs(e,{label:r,index:t,type:"pointLabel"})}class yc extends yx{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=_r(vx(this.options)/2),r=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=Je(t)&&!isNaN(t)?t:0,this.max=Je(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vx(this.options))}generateTickLabels(t){yx.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,n)=>{const i=ce(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?JQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,n,i){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,n,i))}getIndexAngle(t){const r=ge/(this._pointLabels.length||1),n=this.options.startAngle||0;return mr(t*r+Qn(n))}getDistanceFromCenterForValue(t){if(Kt(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(Kt(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const n=r[t];return cK(this.getContext(),t,n)}}getPointPosition(t,r,n=0){const i=this.getIndexAngle(t)-Re+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[t];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),DM(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,o=this._pointLabels.length;let a,l,c;if(r.pointLabels.display&&aK(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=i.setContext(f),g=s.setContext(f);lK(this,p,l,o,g)}}),n.display){for(t.save(),a=o-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=He(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=_r(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}qo(t,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}ot(yc,"id","radialLinear"),ot(yc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ot(yc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ot(yc,"descriptors",{angleLines:{_fallback:"grid"}});const Up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(Up);function vS(e,t){return e-t}function wS(e,t){if(Kt(t))return null;const r=e._adapter,{parser:n,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Je(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(wu(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,i)),+o)}function kS(e,t,r,n){const i=Kr.length;for(let s=Kr.indexOf(e);s<i-1;++s){const o=Up[Kr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(a*o.size))<=n)return Kr[s]}return Kr[i-1]}function uK(e,t,r,n,i){for(let s=Kr.length-1;s>=Kr.indexOf(r);s--){const o=Kr[s];if(Up[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return Kr[r?Kr.indexOf(r):0]}function dK(e){for(let t=Kr.indexOf(e)+1,r=Kr.length;t<r;++t)if(Up[Kr[t]].common)return Kr[t]}function SS(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:i}=Lb(r,t),s=r[n]>=t?r[n]:r[i];e[s]=!0}}function hK(e,t,r,n){const i=e._adapter,s=+i.startOf(t[0].value,n),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,n))l=r[a],l>=0&&(t[l].major=!0);return t}function _S(e,t,r){const n=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,n.push({value:a,major:!1});return s===0||!r?n:hK(e,n,i,r)}class Nf extends Sl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),i=this._adapter=new DG._date(t.adapters.date);i.init(r),Pc(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:wS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Je(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Je(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=iY(i,s,o);return this._unit=r.unit||(n.autoSkip?kS(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):uK(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:dK(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),_S(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?r=1-i:r=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?n=s:n=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=br(r,0,o),n=br(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||kS(s.minUnit,r,n,this._getLabelCapacity(r)),a=It(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=wu(l)||l===!0,u={};let h=r,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,a,o),p++)SS(u,f,g);return(f===n||i.bounds==="ticks"||p===1)&&SS(u,f,g),Object.keys(u).sort(vS).map(m=>+m)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const i=this.options.time.displayFormats,s=this._unit,o=r||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,r,n,i){const s=this.options,o=s.ticks.callback;if(o)return ce(o,[t,r,n],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=n[r],p=c&&h&&f&&f.major;return this._adapter.format(t,i||(p?h:u))}generateTickLabels(t){let r,n,i;for(r=0,n=t.length;r<n;++r)i=t[r],i.label=this._tickFormatFunction(i.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,i=Qn(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(t,0,_S(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)t=t.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)t.push(wS(this,i[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ZL(t.sort(vS))}}ot(Nf,"id","time"),ot(Nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zd(e,t,r){let n=0,i=e.length-1,s,o,a,l;r?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=wo(e,"pos",t)),{pos:s,time:a}=e[n],{pos:o,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=wo(e,"time",t)),{time:s,pos:a}=e[n],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class CS extends Nf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=zd(r,this.min),this._tableRange=zd(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(zd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return zd(this._table,n*this._tableRange+this._minPos,!0)}}ot(CS,"id","timeseries"),ot(CS,"defaults",Nf.defaults);const OM="label";function TS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function fK(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function $M(e,t){e.labels=t}function NM(e,t,r=OM){const n=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function pK(e,t=OM){const r={labels:[],datasets:[]};return $M(r,e.labels),NM(r,e.datasets,t),r}function gK(e,t){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=e,p=T.useRef(null),g=T.useRef(null),m=()=>{p.current&&(g.current=new Hp(p.current,{type:o,data:pK(a,s),options:l&&{...l},plugins:c}),TS(t,g.current))},y=()=>{TS(t,null),g.current&&(g.current.destroy(),g.current=null)};return T.useEffect(()=>{!i&&g.current&&l&&fK(g.current,l)},[i,l]),T.useEffect(()=>{!i&&g.current&&$M(g.current.config.data,a.labels)},[i,a.labels]),T.useEffect(()=>{!i&&g.current&&a.datasets&&NM(g.current.config.data,a.datasets,s)},[i,a.datasets]),T.useEffect(()=>{g.current&&(i?(y(),setTimeout(m)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),T.useEffect(()=>{g.current&&(y(),setTimeout(m))},[o]),T.useEffect(()=>(m(),()=>y()),[]),d.jsx("canvas",{ref:p,role:"img",height:r,width:n,...f,children:u})}const mK=T.forwardRef(gK);function _l(e,t){return Hp.register(t),T.forwardRef((r,n)=>d.jsx(mK,{...r,ref:n,type:e}))}const xK=_l("line",bh),ES=_l("bar",yh),yK=_l("radar",Nc),bK=_l("doughnut",Ea),vK=_l("polarArea",$c),wK=_l("pie",dx);Hp.register(xx,bx,Sh,ws,kh,mc,Nc,yc,$c,$Q,VQ,DQ,LQ);function IM({chartData:e,chartKeys:t}){const[r,n]=T.useState("bar"),[i,s]=T.useState(""),[o,a]=T.useState([]),[l,c]=T.useState("grouped"),[u,h]=T.useState(null),[f,p]=T.useState([]),[g,m]=T.useState(""),y=T.useRef(null),[x,b]=T.useState(!1),[v,S]=T.useState("sum"),[k,C]=T.useState({});T.useEffect(()=>{t.length>0&&!i&&s(t[0])},[t,i]),T.useEffect(()=>{m(""),p([]);const N=["pie","doughnut","polarArea"].includes(r);if(N&&o.length>1){h(null),m(` ${r.charAt(0).toUpperCase()+r.slice(1)} charts can only show ONE data field at a time. Your ${o.length} selected Y fields are safely kept  please pick either only 1 Y field or change chart type`);return}i&&o.length>0?A():h(null),!N&&l!=="grouped"&&l!=="stacked"&&l!=="overlapping"&&c("grouped")},[r,i,o,l,x,v]);const _=(N,M,E,L)=>{const B={},j={};N.forEach(I=>{const D=String(I[M]||"null");B[D]||(B[D]={count:0,values:{}},j[D]=0,E.forEach(q=>{B[D].values[q]=[]})),B[D].count++,j[D]++,E.forEach(q=>{const G=parseFloat(I[q]);isNaN(G)||B[D].values[q].push(G)})}),C(j);const P=[];return Object.keys(B).forEach(I=>{const D={[M]:I};E.forEach(q=>{const G=B[I].values[q];if(G.length===0){D[q]=0;return}switch(L){case"sum":D[q]=G.reduce((ut,Y)=>ut+Y,0);break;case"average":D[q]=G.reduce((ut,Y)=>ut+Y,0)/G.length;break;case"max":D[q]=Math.max(...G);break;case"min":D[q]=Math.min(...G);break;case"first":D[q]=G[0];break;case"last":D[q]=G[G.length-1];break;case"keepSame":const Q=G.every(ut=>ut===G[0]);D[q]=Q?G[0]:G.reduce((ut,Y)=>ut+Y,0)/G.length;break;default:D[q]=G.reduce((ut,Y)=>ut+Y,0)}}),P.push(D)}),P},A=()=>{if(m(""),p([]),!i){m("Please select a label field (X-axis)");return}if(o.length===0){m("Please select at least one data field (Y-axis)");return}const N=["pie","doughnut","polarArea"].includes(r);if(N&&o.length>1){m(`Only ONE data field allowed for ${r} charts`);return}const M=x?_(e,i,o,v):e;x||C({});const E=M.map(D=>String(D[i]||"null")),L=["rgba(106, 90, 205, ","rgba(255, 99, 132, ","rgba(54, 162, 235, ","rgba(255, 206, 86, ","rgba(75, 192, 192, ","rgba(153, 102, 255, ","rgba(255, 159, 64, ","rgba(199, 199, 199, ","rgba(83, 102, 255, ","rgba(255, 99, 255, "],B=l==="overlapping"?.5:.8,j=l==="stacked",P=o.map((D,q)=>{const G=M.map(at=>{const pt=parseFloat(at[D]);return isNaN(pt)?0:pt}),Q=L[q%L.length],ut=r==="radar"||r==="line"&&j,Y=N?G.map((at,pt)=>L[pt%L.length]+B+")"):Q+(ut?"0.3)":B+")"),nt=N?G.map((at,pt)=>L[pt%L.length]+"1)"):Q+"1)";return{label:D,data:G,backgroundColor:Y,borderColor:nt,borderWidth:l==="overlapping"?2:3,pointBackgroundColor:Q+"1)",pointRadius:l==="overlapping"?4:5,pointHoverRadius:7,tension:r==="line"?.4:0,fill:ut,spanGaps:!1,barPercentage:l==="overlapping"?1:.9,categoryPercentage:l==="overlapping"?1:.8}}),I={type:r,data:{labels:E,datasets:P},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:l==="overlapping"?"point":"index",intersect:l==="overlapping"},plugins:{legend:{display:o.length<=10,position:"top",labels:{font:{family:"'Courier New', monospace",size:14},usePointStyle:!0,pointStyle:"circle",padding:20,color:"#333",boxWidth:15,boxHeight:15}},title:{display:!0,text:`${r.charAt(0).toUpperCase()+r.slice(1)} Chart  ${M.length} records${x?" (merged)":""}`,font:{size:20,weight:"bold",family:"'Courier New', monospace"},color:"#4b0082",padding:30},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,padding:12,callbacks:{afterLabel:D=>{if(x){const q=D.label,G=k[q]||1;if(G>1)return` Merged from ${G} records`}return""},footer:D=>j&&D.length>1?`Total: ${D.reduce((G,Q)=>G+Q.parsed.y,0).toFixed(2)}`:""}}},scales:N?{}:{r:r==="radar"?{beginAtZero:!0,angleLines:{color:"rgba(0,0,0,0.1)"},grid:{color:"rgba(0,0,0,0.1)"},pointLabels:{font:{size:13},color:"#333"},ticks:{backdropColor:"transparent",color:"#666"}}:void 0,x:r!=="radar"?{stacked:j,ticks:{autoSkip:!1,maxRotation:45,minRotation:45,font:{size:11},callback:function(D,q,G){const Q=this.getLabelForValue(D),ut=15;return Q.length>ut?Q.substring(0,ut)+"...":Q}}}:void 0,y:r!=="radar"?{stacked:j,beginAtZero:!0}:void 0}}};h(I),O(M)},O=N=>{let M=[];M.push({label:"Total Records",value:N.length}),o.forEach(E=>{const L=N.map(D=>parseFloat(D[E])).filter(D=>!isNaN(D));if(L.length===0)return;const B=L.reduce((D,q)=>D+q,0),j=(B/L.length).toFixed(2),P=Math.max(...L),I=Math.min(...L);M.push({label:E,stats:{sum:B.toFixed(2),avg:j,max:P,min:I}})}),p(M)},F=()=>{if(!y.current)return;const N=y.current.canvas,M=Math.max(1,Math.min(2,3e3/Math.max(N.width,N.height))),E=document.createElement("canvas");E.width=N.width*M,E.height=N.height*M;const L=E.getContext("2d");L.fillStyle="white",L.fillRect(0,0,E.width,E.height),L.scale(M,M),L.drawImage(N,0,0),E.toBlob(B=>{const j=URL.createObjectURL(B),P=document.createElement("a");P.href=j,P.download=`chart_${Date.now()}.png`,P.click(),URL.revokeObjectURL(j)})},$=()=>{if(!u)return null;const N={ref:y,data:u.data,options:u.options};switch(r){case"bar":return d.jsx(ES,{...N});case"line":return d.jsx(xK,{...N});case"pie":return d.jsx(wK,{...N});case"doughnut":return d.jsx(bK,{...N});case"radar":return d.jsx(yK,{...N});case"polarArea":return d.jsx(vK,{...N});default:return d.jsx(ES,{...N})}},H=!["pie","doughnut","polarArea"].includes(r);return d.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[d.jsx("h3",{style:{color:"#f0f0f0",margin:"0 0 25px 0"},children:"Chart Creator"}),g&&d.jsx("div",{style:{padding:"16px",background:"#ffe6e6",borderLeft:"5px solid #dc3545",borderRadius:"8px",marginBottom:"20px",color:"#721c24",fontWeight:"bold"},children:g}),d.jsxs("div",{style:{background:"#f8f8f8",padding:"30px",borderRadius:"12px",color:"#333"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",marginBottom:"25px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082"},children:"Chart Type:"}),d.jsxs("select",{value:r,onChange:N=>n(N.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"#3a2f4c",color:"#f0f0f0"},children:[d.jsx("option",{value:"bar",children:"Bar Chart"}),d.jsx("option",{value:"line",children:"Line Chart"}),d.jsx("option",{value:"pie",children:"Pie Chart"}),d.jsx("option",{value:"doughnut",children:"Doughnut Chart"}),d.jsx("option",{value:"radar",children:"Radar Chart"}),d.jsx("option",{value:"polarArea",children:"Polar Area Chart"})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082"},children:"Label Field (X-Axis / Categories):"}),d.jsxs("select",{value:i,onChange:N=>s(N.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"#3a2f4c",color:"#f0f0f0"},children:[d.jsx("option",{value:"",children:"-- Select Label Field --"}),t.map(N=>d.jsx("option",{value:N,children:N},N))]})]})]}),d.jsxs("div",{style:{margin:"25px 0",padding:"18px",background:"#fff3cd",borderRadius:"10px",borderLeft:"5px solid #ffc107"},children:[d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",checked:x,onChange:N=>b(N.target.checked),style:{width:"18px",height:"18px"}}),d.jsx("strong",{style:{color:"#856404"},children:"Merge Duplicate X-Axis Values"})]}),x&&d.jsxs("div",{style:{marginTop:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#856404",fontSize:"0.95em"},children:"Merge Strategy for Y-Values:"}),d.jsxs("select",{value:v,onChange:N=>S(N.target.value),style:{padding:"10px",border:"2px solid #ffc107",borderRadius:"6px",fontSize:"14px",background:"white",color:"#333",width:"100%"},children:[d.jsx("option",{value:"sum",children:"Sum - Add all values together"}),d.jsx("option",{value:"average",children:"Average - Calculate mean of values"}),d.jsx("option",{value:"max",children:"Maximum - Keep highest value"}),d.jsx("option",{value:"min",children:"Minimum - Keep lowest value"}),d.jsx("option",{value:"first",children:"First - Use first occurrence"}),d.jsx("option",{value:"last",children:"Last - Use last occurrence"}),d.jsx("option",{value:"keepSame",children:"Keep Same - If identical keep it, else average"})]})]})]}),H&&d.jsxs("div",{style:{margin:"25px 0",padding:"18px",background:"#e8f5e9",borderRadius:"10px",borderLeft:"5px solid #4caf50"},children:[d.jsx("strong",{style:{color:"#2e7d32"},children:"Multiple Dataset Display Mode:"}),d.jsx("div",{style:{display:"flex",gap:"25px",marginTop:"15px",flexWrap:"wrap"},children:["grouped","stacked","overlapping"].map(N=>d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"radio",name:"multiMode",value:N,checked:l===N,onChange:M=>c(M.target.value)}),d.jsx("span",{style:{textTransform:"capitalize",fontWeight:"bold"},children:N})]},N))}),d.jsxs("p",{style:{margin:"12px 0 0",fontSize:"0.9em",color:"#1b5e20",fontStyle:"italic"},children:[l==="grouped"&&"Side-by-side bars  best for comparison",l==="stacked"&&"Stacked  shows totals and parts",l==="overlapping"&&"Transparent overlay  reveals patterns and overlap"]})]}),d.jsxs("div",{style:{margin:"25px 0"},children:[d.jsxs("label",{style:{fontWeight:"bold",display:"block",marginBottom:"12px",color:"#4b0082"},children:["Data Fields (Y-Axis / Values):",d.jsx("span",{style:{fontWeight:"normal",color:"#666",fontSize:"0.9em",marginLeft:"12px"},children:H?"(Select one or more)":"(Select ONE numeric field)"})]}),d.jsx("div",{style:{background:"white",border:"2px solid #9370db",borderRadius:"8px",padding:"15px",maxHeight:"220px",overflowY:"auto"},children:t.map(N=>d.jsx("div",{style:{margin:"10px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[d.jsx("input",{type:"checkbox",checked:o.includes(N),onChange:M=>{M.target.checked?a(H?E=>[...E,N]:[N]):a(E=>E.filter(L=>L!==N))},style:{marginRight:"12px"}}),d.jsx("span",{children:N})]})},N))})]}),d.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"30px"},children:[d.jsx("button",{onClick:A,style:{padding:"14px 35px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer",boxShadow:"0 6px 20px rgba(106,90,205,0.4)",transition:"all 0.3s"},onMouseOver:N=>N.target.style.transform="translateY(-3px)",onMouseOut:N=>N.target.style.transform="",children:"Generate Chart"}),u&&d.jsx("button",{onClick:F,style:{padding:"14px 35px",background:"linear-gradient(135deg, #2e7d32, #1b5e20)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:"Download as Image"})]})]}),u&&d.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"12px",marginTop:"35px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",minHeight:"600px",height:Math.max(600,e.length*15)+"px",maxHeight:"1200px",overflowY:"auto",overflowX:"auto"},children:[o.length>10&&d.jsxs("div",{style:{maxHeight:"150px",overflowY:"auto",overflowX:"hidden",marginBottom:"20px",padding:"15px",background:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd"},children:[d.jsxs("strong",{style:{color:"#4b0082",display:"block",marginBottom:"10px"},children:["Legend (",o.length," fields):"]}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:u.data.datasets.map((N,M)=>d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("div",{style:{width:"20px",height:"20px",background:Array.isArray(N.backgroundColor)?N.backgroundColor[0]:N.backgroundColor,borderRadius:"50%",border:`2px solid ${Array.isArray(N.borderColor)?N.borderColor[0]:N.borderColor}`}}),d.jsx("span",{style:{fontSize:"13px",color:"#333"},children:N.label})]},M))})]}),d.jsx("div",{style:{minHeight:"600px",height:Math.max(600,e.length*15)+"px",maxHeight:"1200px",overflowY:"auto",overflowX:"auto"},children:d.jsx("div",{style:{minHeight:"500px",height:"100%"},children:$()})})]}),f.length>0&&d.jsxs("div",{style:{marginTop:"40px",padding:"25px",background:"#e8f5e9",borderLeft:"6px solid #4caf50",borderRadius:"10px"},children:[d.jsx("strong",{style:{color:"#2e7d32",fontSize:"1.1em"},children:"Chart Statistics:"}),d.jsx("div",{style:{marginTop:"15px",color:"#1b5e20",lineHeight:"1.7"},children:f.map((N,M)=>d.jsx("div",{style:{marginBottom:"15px"},children:N.stats?d.jsxs(d.Fragment,{children:[d.jsxs("strong",{children:[N.label,":"]}),d.jsxs("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[" Sum: ",N.stats.sum,d.jsx("br",{})," Average: ",N.stats.avg,d.jsx("br",{})," Max: ",N.stats.max,d.jsx("br",{})," Min: ",N.stats.min]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("strong",{children:[N.label,":"]})," ",N.value]})},M))})]})]})}function kK({columns:e,formData:t,onInputChange:r,onSubmit:n,onClose:i,error:s}){const o=a=>{a.preventDefault(),n(a)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:i,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:a=>a.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Insert New Row"}),s&&d.jsxs("div",{style:{background:"#ff4444",color:"white",padding:"12px",borderRadius:"5px",marginBottom:"15px",border:"1px solid #cc0000"},children:[" ",s]}),d.jsxs("div",{children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:e.map(a=>d.jsxs("div",{children:[d.jsxs("label",{style:{display:"block",marginBottom:"5px",color:"#f0f0f0",fontWeight:"bold"},children:[a.name," ",(a.pk&&!a.autoincrement||a.notnull&&!a.autoincrement)&&d.jsx("span",{style:{color:"#ff6b6b"},children:"*"}),a.autoincrement&&d.jsxs("span",{style:{color:"#4CAF50",fontSize:"0.85em"},children:[" ","(auto-generated - optional)"]}),a.pk&&!a.autoincrement&&d.jsxs("span",{style:{color:"#ffa726",fontSize:"0.85em"},children:[" ","(primary key - required)"]})]}),d.jsx("input",{type:a.type==="INTEGER"||a.type==="REAL"?"number":"text",value:t[a.name]||"",onChange:l=>r(a.name,l.target.value),placeholder:a.autoincrement?"Auto-generated":"",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"},onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),o(l))}})]},a.name))}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:i,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:o,style:{padding:"14px 28px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(147, 112, 219, 0.5)"},children:"Insert Row"})]})]})]})})}function SK({columns:e,updateFormData:t,updateCondition:r,onInputChange:n,onConditionChange:i,onSubmit:s,onClose:o,error:a}){const l=c=>{c.preventDefault(),s(c)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:o,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #1e9530",boxShadow:"0 10px 40px rgba(30, 149, 48, 0.6)"},onClick:c=>c.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Update Rows"}),a&&d.jsxs("div",{style:{background:"#ff4444",color:"white",padding:"12px",borderRadius:"5px",marginBottom:"15px",border:"1px solid #cc0000"},children:[" ",a]}),d.jsxs("div",{children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:e.map(c=>d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#f0f0f0",fontWeight:"bold"},children:c.name}),d.jsx("input",{type:c.type==="INTEGER"||c.type==="REAL"?"number":"text",value:t[c.name]||"",onChange:u=>n(c.name,u.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]},c.name))}),d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"10px",color:"#f0f0f0",fontWeight:"bold"},children:"WHERE Clause (Required):"}),d.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"e.g., id = 1 or name = 'Alice'",style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsx("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:"Leave fields empty to keep their current values. Only non-empty fields will be updated."}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:o,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:l,style:{padding:"14px 28px",background:"#1e9530",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(30, 149, 48, 0.5)"},children:"Update Rows"})]})]})]})})}function _K({deleteCondition:e,onConditionChange:t,onSubmit:r,onClose:n}){const i=s=>{s.preventDefault(),r(s)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"600px",width:"90%",border:"2px solid #dc3545",boxShadow:"0 10px 40px rgba(220, 53, 69, 0.6)"},onClick:s=>s.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Delete Rows"}),d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #dc3545",marginBottom:"25px",fontSize:"0.95em"},children:" Warning: This will permanently delete all rows matching your condition. This action cannot be undone."}),d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"10px",color:"#f0f0f0",fontWeight:"bold"},children:"WHERE Clause (Required):"}),d.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"e.g., id > 10 or status = 'inactive'",style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:i,style:{padding:"14px 28px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(220, 53, 69, 0.5)"},children:"Delete Rows"})]})]})]})})}function zM({dbName:e,procedureName:t,procedureType:r,onClose:n,onSuccess:i}){const[s,o]=T.useState(""),[a,l]=T.useState(!0),[c,u]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const m=await K.get(`/api/db/${e}/procedure/${t}/code`);m.data.success?o(m.data.code):u("Failed to load procedure code")}catch(m){u("Error loading procedure: "+m.message)}finally{l(!1)}},g=async m=>{var y,x;m.preventDefault(),u(""),f(!0);try{if(!(await K.post(`/api/db/${e}/procedure/drop`,{procedure_name:t,is_function:r==="FUNCTION"})).data.success)throw new Error("Failed to drop existing procedure");const v=await K.post(`/api/db/${e}/procedures/execute`,{procedure_code:s});v.data.success?(i("Procedure updated successfully"),n()):u(v.data.error||"Failed to update procedure")}catch(b){u("Failed to update procedure: "+(((x=(y=b.response)==null?void 0:y.data)==null?void 0:x.error)||b.message))}finally{f(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"900px",width:"95%",maxHeight:"90vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:m=>m.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[" Edit ",r,": ",t]}),d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.2)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #9370db"},children:[d.jsx("h4",{style:{color:"#bb86fc",marginTop:0,marginBottom:"10px"},children:" Format Guidelines:"}),d.jsxs("ul",{style:{color:"#e0e0e0",fontSize:"0.9em",margin:0,paddingLeft:"20px"},children:[d.jsxs("li",{children:[d.jsx("strong",{children:"MySQL:"})," Include DELIMITER statements"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"PostgreSQL:"})," Functions only (no procedures)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"DuckDB:"})," Functions with CREATE OR REPLACE"]}),d.jsxs("li",{children:["Use the ",d.jsx("strong",{children:"exact same format"})," as when creating"]}),d.jsx("li",{children:"The old procedure will be dropped before creating the new version"})]})]}),c&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:c}),a?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading procedure code..."})}):d.jsxs("form",{onSubmit:g,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Procedure Code:"}),d.jsx("textarea",{value:s,onChange:m=>o(m.target.value),rows:20,required:!0,placeholder:`Example for MySQL:

DELIMITER $$
CREATE PROCEDURE GetTopStudents()
BEGIN
    SELECT name, marks FROM students WHERE marks > 85;
END$$
DELIMITER ;`,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace",lineHeight:"1.5",resize:"vertical"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:h,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:h,style:{padding:"10px 20px",background:h?"#6c757d":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",fontWeight:"bold"},children:h?"Updating...":" Update Procedure"})]})]})]})})}function WM({dbName:e,tableName:t,triggerName:r,onClose:n,onSuccess:i}){const[s,o]=T.useState({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:"",table:""}),[a,l]=T.useState(!0),[c,u]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const y=await K.get(`/api/db/${e}/triggers`);if(y.data.success){const x=y.data.triggers.find(b=>b.name===r);if(x){let b=x.sql||"";if(b.toUpperCase().includes("BEGIN")&&b.toUpperCase().includes("END")){const v=b.match(/BEGIN\s+([\s\S]*?)\s+END/i);v&&(b=v[1].trim())}if(b.includes("$$")){const v=b.match(/\$\$\s+([\s\S]*?)\s+\$\$/);v&&(b=v[1].trim(),b=b.replace(/^\s*BEGIN\s+/i,"").replace(/\s+END\s*$/i,""))}b=b.replace(/RETURN\s+(NEW|OLD)\s*;?\s*$/i,""),b=b.replace(/;+\s*$/g,"").trim(),o({trigger_name:x.name,trigger_timing:x.timing||"AFTER",trigger_event:x.event||"INSERT",trigger_body:b,table:x.table||t})}else u("Trigger not found")}}catch(y){u("Error loading trigger: "+y.message)}finally{l(!1)}},g=async y=>{y.preventDefault(),u(""),f(!0);const x=r,b=`${s.trigger_name}_temp_${Date.now()}`;try{const v=await K.post(`/api/table/${e}/${s.table}/triggers`,{trigger_name:b,trigger_timing:s.trigger_timing,trigger_event:s.trigger_event,trigger_body:s.trigger_body});if(!v.data.success)throw new Error(v.data.error||"Failed to create temporary trigger");if(!(await K.post(`/api/db/${e}/triggers/delete`,{trigger_name:x})).data.success)throw await K.post(`/api/db/${e}/triggers/delete`,{trigger_name:b}).catch(()=>{}),new Error("Failed to delete old trigger  rolling back");const k=await K.post(`/api/table/${e}/${s.table}/triggers`,{trigger_name:s.trigger_name,trigger_timing:s.trigger_timing,trigger_event:s.trigger_event,trigger_body:s.trigger_body});if(!k.data.success)throw new Error(k.data.error||"Failed to create final trigger");await K.post(`/api/db/${e}/triggers/delete`,{trigger_name:b}).catch(C=>{console.warn("Minor cleanup issue: could not delete temporary trigger",b,C)}),i(`Trigger "${s.trigger_name}" updated ! `),n()}catch(v){u(`Update failed: ${v.message}. Your original trigger "${x}" remains safe and unchanged.`),console.error("Trigger update error:",v)}finally{f(!1)}},m=(y,x)=>{o({...s,[y]:x})};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"900px",width:"95%",maxHeight:"90vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:y=>y.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[" Edit Trigger: ",r]}),d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.2)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #9370db"},children:[d.jsx("h4",{style:{color:"#bb86fc",marginTop:0,marginBottom:"10px"},children:" Format Guidelines:"}),d.jsxs("ul",{style:{color:"#e0e0e0",fontSize:"0.9em",margin:0,paddingLeft:"20px"},children:[d.jsxs("li",{children:[d.jsx("strong",{children:"PostgreSQL:"})," Use PL/pgSQL syntax. RETURN is auto-added if missing"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"MySQL:"})," Use MySQL trigger syntax (no DELIMITER needed)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"SQLite:"})," Use SQLite trigger syntax"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Timing:"})," BEFORE or AFTER"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Event:"})," INSERT, UPDATE, or DELETE"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Body:"})," The action to perform (without BEGIN/END wrapper)"]})]})]}),c&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:c}),a?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading trigger details..."})}):d.jsxs("form",{onSubmit:g,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Trigger Name:"}),d.jsx("input",{type:"text",value:s.trigger_name,onChange:y=>m("trigger_name",y.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Table:"}),d.jsx("input",{type:"text",value:s.table,readOnly:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #555",borderRadius:"5px",background:"rgba(30, 0, 51, 0.3)",color:"#999",fontSize:"14px",cursor:"not-allowed"}})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Timing:"}),d.jsxs("select",{value:s.trigger_timing,onChange:y=>m("trigger_timing",y.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"BEFORE",children:"BEFORE"}),d.jsx("option",{value:"AFTER",children:"AFTER"})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Event:"}),d.jsxs("select",{value:s.trigger_event,onChange:y=>m("trigger_event",y.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"INSERT",children:"INSERT"}),d.jsx("option",{value:"UPDATE",children:"UPDATE"}),d.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Trigger Body:"}),d.jsx("textarea",{value:s.trigger_body,onChange:y=>m("trigger_body",y.target.value),rows:12,required:!0,placeholder:`Examples (RETURN is auto-added if missing):

-- PostgreSQL: Auto-update timestamp on INSERT/UPDATE
NEW.updated_at := NOW();

-- PostgreSQL: Capitalize text on INSERT
NEW.name := INITCAP(NEW.name);
RAISE NOTICE 'Capitalized: % (id: %)', NEW.name, NEW.id;

-- MySQL: Update timestamp
SET NEW.updated_at = NOW();

-- SQLite: Log changes
INSERT INTO audit_log (action, timestamp) VALUES ('INSERT', datetime('now'));`,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace",lineHeight:"1.5",resize:"vertical"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:h,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:h,style:{padding:"10px 20px",background:h?"#6c757d":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",fontWeight:"bold"},children:h?"Updating...":" Update Trigger"})]})]})]})})}function CK(){const{dbName:e,tableName:t}=Yo(),[r,n]=np(),i=Pn(),[s,o]=T.useState(!0),[a,l]=T.useState(""),[c,u]=T.useState(""),[h,f]=T.useState(r.get("tab")||"data"),[p,g]=T.useState([]),[m,y]=T.useState([]),[x,b]=T.useState(0),[v,S]=T.useState(1),[k]=T.useState(20),[C,_]=T.useState(1),[A,O]=T.useState(""),[F,$]=T.useState("asc"),[H,N]=T.useState(""),[M,E]=T.useState(null),{sessionQueries:L,addQuery:B,navigateHistory:j,resetNavigation:P}=Dp("table"),[I,D]=T.useState(!1),[q,G]=T.useState(!1),[Q,ut]=T.useState(!1),[Y,nt]=T.useState({}),[at,pt]=T.useState({}),[Tt,Et]=T.useState(""),[st,ht]=T.useState(""),[Rt,Wt]=T.useState(null),[se,be]=T.useState(""),[Tr,te]=T.useState(""),[Se,on]=T.useState(""),[Ze,Be]=T.useState(new Set),[Nr,an]=T.useState(!1),[ln,Te]=T.useState([]),[Fn,ji]=T.useState(1),[Ai,Ir]=T.useState(0),[si,vn]=T.useState(!1),[wn,Ue]=T.useState(null),[Ve,oi]=T.useState([]),[Dn,zr]=T.useState(!1),[Er,Wr]=T.useState(t),[Ye,lr]=T.useState([]),[On,ai]=T.useState(!0),[et,bt]=T.useState({}),[Ft,Yt]=T.useState({}),[le,Ee]=T.useState([]),[cn,zt]=T.useState(!1),[cr,jr]=T.useState(!1),[Qs,ss]=T.useState(null),[tr,$n]=T.useState({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:""}),[er,Cl]=T.useState([]),[Ks,os]=T.useState(!1),[Li,Zo]=T.useState(""),[Ct,z]=T.useState(!1),[lt,xt]=T.useState(null),[ee,je]=T.useState(""),[de,Pe]=T.useState(!1),[Hr,li]=T.useState(null),[Js,Ae]=T.useState([]),[Tl,El]=T.useState("bar"),[Gu,Xu]=T.useState(""),[Vp,Yp]=T.useState([]),[zb,Wb]=T.useState(null);T.useRef(null);const[ta,Gp]=T.useState("sql"),[qr,ea]=T.useState(""),[un,ra]=T.useState(null);T.useEffect(()=>{Nn(),Qu()},[e,t,v,A,F]),T.useEffect(()=>{h==="triggers"?ia():h==="procedures"?Zs():h==="structure"?jl():h==="charts"&&it()},[h]),T.useEffect(()=>{Se&&dt(Se,Ze)},[v]);const Nn=async()=>{try{o(!0),l("");const R=await K.get(`/api/table/${e}/${t}`,{params:{page:v,per_page:k,sort_column:A,sort_order:F}});if(R.data.success){g(R.data.columns),y(R.data.rows),Te(R.data.rows),b(R.data.record_count),_(R.data.total_pages),Ir(R.data.record_count),ji(R.data.total_pages),Gp(R.data.db_type),ea(R.data.handler);const Z=R.data.columns.find(tt=>tt.pk);ra(Z?Z.name:null);const V={};R.data.columns.forEach(tt=>{V[tt.name]=""}),nt(V),Xp()}else l(R.data.error||"Failed to fetch table data")}catch(R){console.error("Failed to fetch table data:",R)}finally{o(!1)}},Qu=async()=>{try{const R=await K.get(`/api/db/${e}/capabilities`);R.data.success&&ai(R.data.capabilities.supports_non_pk_autoincrement)}catch(R){console.error("Failed to fetch capabilities:",R),ai(!0)}},Xp=async()=>{try{const R=await K.get(`/api/table/${e}/${t}/triggers`);R.data.success&&zt(R.data.supports_triggers)}catch(R){console.error("Failed to check triggers support:",R),zt(!1)}try{const R=await K.get(`/api/table/${e}/${t}/procedures`);R.data.success&&os(R.data.supports_procedures)}catch(R){console.error("Failed to check procedures support:",R),os(!1)}try{const R=await K.get(`/api/table/${e}/${t}/plsql/support`);R.data.success&&Pe(R.data.supports_plsql)}catch(R){console.error("Failed to check PL/SQL support:",R),Pe(!1)}},na=(R,Z)=>Z==="PostgreSQL"?["SERIAL","BIGSERIAL","SMALLSERIAL","INTEGER","BIGINT","SMALLINT"].includes(R==null?void 0:R.toUpperCase()):Z==="MySQL"?["INT","INTEGER","BIGINT","SMALLINT","TINYINT","MEDIUMINT"].includes(R==null?void 0:R.toUpperCase()):["INTEGER","INT","BIGINT","SMALLINT","TINYINT"].includes(R==null?void 0:R.toUpperCase()),jl=async()=>{try{const R=await K.get(`/api/table/${e}/${t}/structure`);if(R.data.success){oi(R.data.types);const Z={};R.data.columns.forEach(V=>{V.check_constraint&&(Z[V.name]=V.check_constraint)}),bt(Z),lr(R.data.columns.map((V,tt)=>({...V,index:tt+1,autoincrement:!!V.autoincrement,unique:!!V.unique,has_check:!!V.check_constraint}))),Wr(R.data.table_name)}}catch(R){console.error("Failed to fetch structure:",R),l("Failed to load structure")}},ia=async()=>{try{const R=await K.get(`/api/table/${e}/${t}/triggers`);R.data.success&&(Ee(R.data.triggers),zt(R.data.supports_triggers))}catch(R){console.error("Failed to fetch triggers:",R)}},Zs=async()=>{try{const R=await K.get(`/api/table/${e}/${t}/procedures`);R.data.success&&(Cl(R.data.procedures),os(R.data.supports_procedures))}catch(R){console.error("Failed to fetch procedures:",R)}},Ku=async R=>{var Z,V;l(""),u(""),E(null);try{const tt=await K.post(`/api/db/${e}/procedure/${R}/execute`);if(tt.data.success){const J=tt.data.result,gt=tt.data.result_type;if(u(tt.data.message),gt==="table"&&Array.isArray(J)&&J.length>0)E(J);else if(gt==="status"){if(J&&typeof J=="object"){const Lt=J.status||J.message||JSON.stringify(J);u(Lt)}E(null)}else E(null)}else l(tt.data.error||"Failed to execute procedure")}catch(tt){l("Failed to execute procedure: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},W=R=>{xt(R),z(!0)},it=async()=>{try{const R=await K.get(`/api/table/${e}/${t}/chart_data`);R.data.success&&(li(R.data.data),Ae(R.data.keys),R.data.keys.length>0&&Xu(R.data.keys[0]))}catch(R){console.error("Failed to fetch chart data:",R),l("Failed to load chart data")}},dt=async(R,Z)=>{vn(!0);try{const V=Z.size>0?Array.from(Z).join(","):"",tt=await K.get(`/api/table/${e}/${t}/search`,{params:{q:R,fields:V,page:v,per_page:k}});tt.data.success&&(y(tt.data.rows),b(tt.data.total),_(tt.data.total_pages))}catch(V){console.error("Search error:",V)}finally{vn(!1)}},$t=R=>{if(!aR(R,H,V=>{N(V),P()})){if(R.key==="ArrowUp"&&L.length>0){R.preventDefault();const V=j("up",H);V!==null&&N(V)}else if(R.key==="ArrowDown"&&L.length>0){R.preventDefault();const V=j("down",H);V!==null&&N(V)}}},Gt=R=>{on(R),wn&&clearTimeout(wn);const Z=setTimeout(()=>{dt(R,Ze)},300);Ue(Z)},Ot=(R,Z)=>{const V=new Set(Ze);Z?V.add(R):V.delete(R),Be(V),Se&&dt(Se,V)},$e=R=>{A===R?$(F==="asc"?"desc":"asc"):(O(R),$("asc")),S(1)},rr=R=>{f(R),n({tab:R}),l(""),u(""),E(null)},sa=(R,Z)=>{nt({...Y,[R]:Z})},oa=async R=>{var V,tt;R.preventDefault(),l(""),u(""),be("");for(const J of p){const gt=Y[J.name],Lt=!gt||gt==="";if(J.pk&&!J.autoincrement&&Lt){const Ur=`${J.name} is a primary key without autoincrement - you must provide a value`;l(Ur),be(Ur);return}if(J.notnull&&!J.autoincrement&&Lt){const Ur=`${J.name} cannot be empty (NOT NULL constraint)`;l(Ur),be(Ur);return}}const Z={};Object.keys(Y).forEach(J=>{const gt=p.find(Ur=>Ur.name===J),Lt=Y[J];gt&&(Lt!==""||gt.pk&&!gt.autoincrement)&&(Z[J]=Lt)});try{const J=await K.post(`/api/table/${e}/${t}/data`,{action:"insert",data:Z});if(J.data.success){u("Row inserted successfully");const gt={};p.forEach(Lt=>{gt[Lt.name]=""}),nt(gt),be(""),D(!1),Nn()}else{const gt=J.data.error||"Failed to insert row";l(gt),be(gt)}}catch(J){const gt="Failed to insert row: "+(((tt=(V=J.response)==null?void 0:V.data)==null?void 0:tt.error)||J.message);l(gt),be(gt)}},Al=(R,Z)=>{pt({...at,[R]:Z})},HM=async R=>{var V,tt;if(R.preventDefault(),l(""),u(""),te(""),!Tt.trim()){const J="Update condition (WHERE clause) is required";l(J),te(J);return}const Z={};if(Object.keys(at).forEach(J=>{at[J]&&(Z[J]=at[J])}),Object.keys(Z).length===0){const J="At least one column value must be provided for update";l(J),te(J);return}try{const J=await K.post(`/api/table/${e}/${t}/data`,{action:"update",data:Z,condition:Tt});if(J.data.success)u("Rows updated successfully"),pt({}),Et(""),te(""),G(!1),Nn();else{const gt=J.data.error||"Failed to update rows";l(gt),te(gt)}}catch(J){const gt="Failed to update rows: "+(((tt=(V=J.response)==null?void 0:V.data)==null?void 0:tt.error)||J.message);l(gt),te(gt)}},qM=async R=>{var Z,V;if(R.preventDefault(),l(""),u(""),!st.trim()){l("Delete condition (WHERE clause) is required");return}if(window.confirm(`Are you sure you want to delete rows WHERE ${st}?`))try{const tt=await K.post(`/api/table/${e}/${t}/data`,{action:"delete",condition:st});tt.data.success?(u("Rows deleted successfully"),ht(""),ut(!1),Nn()):l(tt.data.error||"Failed to delete rows")}catch(tt){l("Failed to delete rows: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},UM=R=>{Wt(un?R[un]:JSON.stringify(R)),nt(R)},VM=async()=>{var V,tt;if(l(""),u(""),!Rt){l("Cannot save: no row identifier");return}let R="",Z={};if(un)R=`${un} = '${Rt}'`;else try{Z=JSON.parse(Rt)}catch{l("Cannot save: invalid row identifier");return}try{const J=await K.post(`/api/table/${e}/${t}/data`,{action:"update",data:Y,condition:R||void 0,original_data:un?void 0:Z});J.data.success?(u("Row updated successfully"),Wt(null),Nn()):l(J.data.error||"Failed to update row")}catch(J){l("Failed to update row: "+(((tt=(V=J.response)==null?void 0:V.data)==null?void 0:tt.error)||J.message))}},YM=()=>{Wt(null);const R={};p.forEach(Z=>{R[Z.name]=""}),nt(R)},GM=async R=>{var V,tt;if(!window.confirm("Are you sure you want to delete this row?"))return;let Z="";un&&(Z=`${un} = '${R[un]}'`);try{const J=await K.post(`/api/table/${e}/${t}/data`,{action:"delete",condition:Z||void 0,...!un&&{data:R}});J.data.success?(u("Row deleted successfully"),Nn()):l(J.data.error||"Failed to delete row")}catch(J){l("Failed to delete row: "+(((tt=(V=J.response)==null?void 0:V.data)==null?void 0:tt.error)||J.message))}},Mi=(R,Z,V)=>{lr(tt=>{const J=[...tt];return Z==="autoincrement"&&V===!0?J.map((gt,Lt)=>Lt===R?{...gt,autoincrement:!0,unique:!0,notnull:!0}:gt.autoincrement?{...gt,autoincrement:!1,unique:!!gt.pk,notnull:!!gt.pk}:gt):Z==="autoincrement"&&V===!1?J.map((gt,Lt)=>Lt===R?{...gt,autoincrement:!1,unique:!!gt.pk,notnull:!!gt.pk}:gt):(Z==="unique"&&V===!1&&J[R].autoincrement||Z==="notnull"&&V===!1&&J[R].autoincrement||(J[R]={...J[R],[Z]:V}),J)})},XM=(R,Z)=>{lr(V=>V.map((tt,J)=>J===R?{...tt,pk:Z,notnull:Z,unique:Z}:tt.pk&&Z?{...tt,pk:!1,notnull:!1,unique:!1}:tt))},QM=()=>{lr([...Ye,{index:Ye.length+1,name:"",type:Ve[0]||"TEXT",pk:!1,notnull:!1,autoincrement:!1}])},KM=R=>{if(Ye.length===1){l("Cannot delete the last column. At least one column is required.");return}if(!window.confirm("Are you sure you want to delete this column?"))return;const Z=Ye.filter((V,tt)=>tt!==R);lr(Z)},JM=async R=>{var J,gt;if(R.preventDefault(),l(""),u(""),!Er.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){l("Table name must start with a letter and contain only letters, numbers, underscores.");return}const Z=new Set;let V=!1;for(const Lt of Ye){if(!Lt.name||!Lt.type){l("All columns must have a name and type.");return}if(Z.has(Lt.name)){l(`Duplicate column name: ${Lt.name}`);return}if(Z.add(Lt.name),Lt.pk){if(V){l("Only one primary key is allowed.");return}V=!0}}const tt=Ye.map(Lt=>{const Ur=Lt.autoincrement||Lt.pk||Lt.unique,uR=Lt.autoincrement||Lt.pk||Lt.notnull,Vb={name:Lt.name,type:Lt.type,is_pk:Lt.pk||!1,is_not_null:uR,is_autoincrement:!!Lt.autoincrement,is_unique:Ur},Qp=et[Lt.name];return Qp&&Qp.trim()&&(Vb.check_constraint=Qp.trim()),Vb});try{const Lt=await K.post(`/api/table/${e}/${t}/structure`,{new_table_name:Er,columns:tt});Lt.data.success?(u(Lt.data.message||"Table structure updated successfully"),zr(!1),Lt.data.new_table_name&&Lt.data.new_table_name!==t?setTimeout(()=>{i(`/db/${e}/table/${Lt.data.new_table_name}?tab=structure`),window.location.reload()},1e3):(jl(),Nn(),window.location.reload())):l(Lt.data.error||"Failed to update structure")}catch(Lt){l("Failed to update structure: "+(((gt=(J=Lt.response)==null?void 0:J.data)==null?void 0:gt.error)||Lt.message))}},ZM=async R=>{var Z,V;if(R.preventDefault(),l(""),u(""),E(null),!H.trim()){l("Query cannot be empty");return}try{const tt=await K.post(`/api/table/${e}/${t}/query`,{query:H});if(tt.data.success){const J=tt.data.result,gt=tt.data.result_type;if(await B(H),console.log("Query result:",J),console.log("Result type:",gt),gt==="table"&&Array.isArray(J)&&J.length>0)E(J),u("Query executed successfully");else if(gt==="status"){if(J&&typeof J=="object")if(J.rows_affected!==void 0)u(`Query executed successfully. ${J.rows_affected} rows affected.`);else{const Lt=J.status||J.message||JSON.stringify(J);u(Lt)}E(null)}else gt==="empty"?(u("Query executed successfully. No results returned."),E(null)):(E(J),u("Query executed successfully"))}else l(tt.data.error||"Query execution failed")}catch(tt){l("Failed to execute query: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},tR=async R=>{var Z,V;R.preventDefault(),l(""),u("");try{const tt=await K.post(`/api/table/${e}/${t}/triggers`,tr);tt.data.success?(u("Trigger created successfully"),$n({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:""}),ia()):l(tt.data.error||"Failed to create trigger")}catch(tt){l("Failed to create trigger: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},eR=R=>{ss(R),jr(!0)},rR=async R=>{var Z,V;if(window.confirm(`Delete trigger ${R}?`))try{const tt=await K.delete(`/api/table/${e}/${t}/triggers`,{data:{trigger_name:R}});tt.data.success?(u("Trigger deleted successfully"),ia()):l(tt.data.error||"Failed to delete trigger")}catch(tt){l("Failed to delete trigger: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},nR=async R=>{var Z,V;R.preventDefault(),l(""),u("");try{const tt=await K.post(`/api/table/${e}/${t}/procedures`,{procedure_code:Li});if(tt.data.success){u(tt.data.message||"Procedure executed successfully");const J=tt.data.result,gt=tt.data.result_type;if(gt==="table"&&Array.isArray(J)&&J.length>0)E(J);else if(gt==="status"){if(J&&typeof J=="object"){const Lt=J.status||J.message||JSON.stringify(J);u(Lt)}E(null)}else E(null);Zo(""),Zs()}else l(tt.data.error||"Failed to execute procedure")}catch(tt){l("Failed to execute procedure: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},iR=async R=>{var Z,V;R.preventDefault(),l(""),u("");try{const tt=await K.post(`/api/table/${e}/${t}/plsql`,{plsql_code:ee});tt.data.success?(tt.data.refresh?(u(tt.data.status),Nn()):(u(tt.data.message||"PL/SQL executed successfully"),E(tt.data.result)),je("")):l(tt.data.error||"Failed to execute PL/SQL")}catch(tt){l("Failed to execute PL/SQL: "+(((V=(Z=tt.response)==null?void 0:Z.data)==null?void 0:V.error)||tt.message))}},sR=()=>{an(!Nr)},Hb=Ot,{suggestions:Ju,showSuggestions:qb,selectedIndex:Ub,handleQueryChange:oR,handleKeyDown:aR,selectSuggestion:lR,hideSuggestions:cR}=Op();return s?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:ta,handlerName:qr}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading table data..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:ta,handlerName:qr}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h2",{style:{margin:0,color:"#f0f0f0"},children:["Table: ",t," in ",e," (",ta.toUpperCase(),")"]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[x," record",x!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),d.jsx("br",{}),d.jsx("br",{}),a&&d.jsx("div",{className:"error",children:a}),c&&d.jsx("div",{className:"success",children:c}),d.jsxs("div",{className:"tabs",children:[d.jsx("button",{className:"tab-button",onClick:()=>rr("data"),style:{background:h==="data"?"#4b0082":"#9370db"},children:"Data"}),d.jsx("button",{className:"tab-button",onClick:()=>rr("structure"),style:{background:h==="structure"?"#4b0082":"#9370db"},children:" Structure"}),d.jsx("button",{className:"tab-button",onClick:()=>rr("query"),style:{background:h==="query"?"#4b0082":"#9370db"},children:" Query"}),d.jsx("button",{className:"tab-button",onClick:()=>rr("importexport"),style:{background:h==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),Ks&&d.jsx("button",{className:"tab-button",onClick:()=>rr("procedures"),style:{background:h==="procedures"?"#4b0082":"#9370db"},children:" Procedures"}),cn&&d.jsx("button",{className:"tab-button",onClick:()=>rr("triggers"),style:{background:h==="triggers"?"#4b0082":"#9370db"},children:"Triggers"}),de&&d.jsx("button",{className:"tab-button",onClick:()=>rr("plsql"),style:{background:h==="plsql"?"#4b0082":"#9370db"},children:" PL/SQL"}),d.jsx("button",{className:"tab-button",onClick:()=>rr("charts"),style:{background:h==="charts"?"#4b0082":"#9370db"},children:" Charts"})]}),h==="data"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:"Search in selected fields...",value:Se,onChange:R=>Gt(R.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:sR,style:{marginLeft:"10px",padding:"14px 22px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},children:"Filter Fields"}),d.jsx("button",{onClick:()=>{on(""),Be(new Set),y(ln),_(Fn),b(Ai)},style:{marginLeft:"10px",padding:"14px 22px",background:"#6c757d",color:"white",border:"none",borderRadius:"10px",cursor:"pointer"},children:"Clear"}),Nr&&d.jsxs("div",{style:{marginTop:"15px",padding:"20px",background:"#fff",color:"#333",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",maxWidth:"600px",maxHeight:"320px",overflowY:"auto"},children:[d.jsx("strong",{style:{color:"#4b0082"},children:"Choose fields to search in:"}),d.jsx("br",{}),d.jsx("br",{}),p.map(R=>d.jsx("div",{style:{margin:"8px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"block",padding:"4px 0"},children:[d.jsx("input",{type:"checkbox",checked:Ze.has(R.name),onChange:Z=>Hb(R.name,Z.target.checked),style:{marginRight:"10px"}}),d.jsx("span",{children:R.name})]})},R.name))]}),Ze.size>0&&d.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"10px"},children:Array.from(Ze).map(R=>d.jsxs("span",{style:{background:"linear-gradient(135deg,#e91e63,#ad1457)",color:"white",padding:"2px 20px",borderRadius:"30px",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"10px"},children:[R,d.jsx("span",{onClick:()=>Hb(R,!1),style:{cursor:"pointer",fontWeight:"600",fontSize:"1.2em"},children:""})]},R))}),Se&&d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:si?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):m.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",x," record",x!==1?"s":""," match"]})})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px"},children:[d.jsx("button",{onClick:()=>{const R={};p.forEach(Z=>{R[Z.name]=""}),nt(R),D(!0)},style:{padding:"14px 28px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(106, 90, 205, 0.5)"},children:" Insert Row"}),d.jsx("button",{onClick:()=>G(!0),style:{padding:"14px 28px",background:"linear-gradient(135deg, #1e9530, #145a21)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(30, 149, 48, 0.5)"},children:" Update Rows"}),d.jsx("button",{onClick:()=>ut(!0),style:{padding:"14px 28px",background:"linear-gradient(135deg, #dc3545, #a71d2a)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(220, 53, 69, 0.5)"},children:" Delete Rows"})]}),C>1&&d.jsxs("div",{className:"pagination",style:{marginBottom:"20px"},children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",C," (",x," total)"]}),v<C?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),C>1&&d.jsxs("div",{className:"pagination",children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",C," (",x," total)"]}),v<C?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[p.map(R=>d.jsxs("th",{onClick:()=>$e(R.name),style:{cursor:"pointer"},children:[R.name,A===R.name&&d.jsx("span",{style:{marginLeft:"4px"},children:F==="asc"?"":""})]},R.name)),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:m.length>0?m.map((R,Z)=>d.jsx("tr",{children:(un?Rt===R[un]:Rt===JSON.stringify(R))?d.jsxs(d.Fragment,{children:[p.map(V=>d.jsx("td",{children:d.jsx("input",{type:V.type==="INTEGER"||V.type==="REAL"?"number":"text",value:Y[V.name]??"",onChange:tt=>sa(V.name,tt.target.value),required:V.notnull,style:{width:"100px",padding:"4px"}})},V.name)),d.jsxs("td",{children:[d.jsx("button",{onClick:VM,style:{background:"#008000",marginRight:"5px"},children:"Save"}),d.jsx("button",{onClick:YM,style:{background:"#ff0000"},children:"Cancel"})]})]}):d.jsxs(d.Fragment,{children:[p.map(V=>d.jsx("td",{children:R[V.name]??""},V.name)),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>UM(R),style:{background:"#008000",marginRight:"5px"},children:"Modify"}),d.jsx("button",{onClick:()=>GM(R),style:{background:"#ff0000"},children:"Delete"})]})]})},Z)):d.jsx("tr",{children:d.jsx("td",{colSpan:p.length+1,style:{textAlign:"center",color:"#666"},children:"No records available"})})})]})}),C>1&&d.jsxs("div",{className:"pagination",children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",C," (",x," total)"]}),v<C?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),S(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),h==="structure"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Table Structure"}),Dn?d.jsxs("div",{children:[d.jsx("h4",{style:{color:"#f0f0f0"},children:"Modify Table Structure"}),d.jsxs("form",{onSubmit:JM,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Table Name:"}),d.jsx("input",{type:"text",value:Er,onChange:R=>Wr(R.target.value),required:!0,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",width:"300px"}})]}),d.jsx("div",{style:{marginBottom:"20px",overflowX:"auto",overflowY:"visible",paddingBottom:"10px",maxWidth:"100%"},children:d.jsx("div",{style:{minWidth:"1200px",display:"flex",flexDirection:"column",gap:"10px"},children:Ye.map((R,Z)=>d.jsxs("div",{children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px 230px 120px 120px 120px 100px 100px 100px 80px",gap:"10px",alignItems:"center",padding:"10px 15px",background:"rgba(147, 112, 219, 0.1)",borderRadius:"5px",width:"100%",boxSizing:"border-box"},children:[d.jsx("input",{type:"text",value:R.name,onChange:V=>Mi(Z,"name",V.target.value),placeholder:"Column Name",required:!0,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",width:"100%",boxSizing:"border-box"}}),d.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",width:"100%"},children:[d.jsx("select",{value:R.type.includes("(")?R.type.split("(")[0].toUpperCase():R.type.toUpperCase(),onChange:V=>{var gt;const tt=V.target.value;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(tt)){const Lt=R.type.includes("(")&&((gt=R.type.match(/\((\d+)\)/))==null?void 0:gt[1])||"255";Mi(Z,"type",`${tt}(${Lt})`)}else Mi(Z,"type",tt)},style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",flex:1,minWidth:"100px",boxSizing:"border-box"},children:Ve.map(V=>{const tt=V.includes("(")?V.split("(")[0]:V;return d.jsx("option",{value:tt,children:tt},tt)})}),(()=>{var J;const V=R.type.includes("(")?R.type.split("(")[0].toUpperCase():R.type.toUpperCase();if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(V)){const gt=R.type.includes("(")&&((J=R.type.match(/\((\d+)\)/))==null?void 0:J[1])||"";return d.jsx("input",{type:"text",value:gt,onChange:Lt=>{const Ur=Lt.target.value;(Ur===""||/^\d+$/.test(Ur))&&(Ur===""?Mi(Z,"type",V):Mi(Z,"type",`${V}(${Ur})`))},onBlur:Lt=>{Lt.target.value===""&&Mi(Z,"type",`${V}(255)`)},placeholder:"Len",style:{width:"70px",padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",boxSizing:"border-box"}})}return null})()]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||!1,onChange:V=>XM(Z,V.target.checked),style:{marginRight:"5px"}}),"Primary Key"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:R.pk||R.autoincrement?"not-allowed":"pointer",opacity:R.pk||R.autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||R.notnull||R.autoincrement||!1,onChange:V=>Mi(Z,"notnull",V.target.checked),disabled:R.pk||R.autoincrement,style:{marginRight:"5px"}}),"Not Null"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:(On||R.pk)&&na(R.type,qr)?"pointer":"not-allowed",opacity:(On||R.pk)&&na(R.type,qr)?1:.6,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.autoincrement||!1,onChange:V=>{if(na(R.type,qr)){if(!On&&!R.pk)return;Mi(Z,"autoincrement",V.target.checked)}},disabled:!On&&!R.pk||!na(R.type,qr),style:{marginRight:"5px"}}),"Auto Inc"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:R.pk||R.autoincrement?"not-allowed":"pointer",opacity:R.pk||R.autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||R.unique||R.autoincrement||!1,onChange:V=>{!R.pk&&!R.autoincrement&&Mi(Z,"unique",V.target.checked)},disabled:R.pk||R.autoincrement,style:{marginRight:"5px"}}),"Unique"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:!!(et[R.name]||Ft[R.name]),onChange:V=>{if(V.target.checked)Yt({...Ft,[R.name]:!0}),et[R.name]||bt({...et,[R.name]:""});else{const tt={...et};delete tt[R.name],bt(tt);const J={...Ft};delete J[R.name],Yt(J)}},style:{marginRight:"5px"}}),"CHECK"]}),d.jsx("button",{type:"button",onClick:()=>KM(Z),style:{background:"#dc3545",padding:"6px 12px",fontSize:"0.85em",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",whiteSpace:"nowrap",boxSizing:"border-box"},children:"Delete"})]}),(et[R.name]||Ft[R.name])&&d.jsxs("div",{style:{marginTop:"5px",marginLeft:"15px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",border:"1.5px solid #4caf50",borderRadius:"5px"},children:[d.jsxs("div",{style:{marginBottom:"5px",color:"#4caf50",fontSize:"0.85em",fontWeight:"bold"},children:["CHECK Constraint for ",R.name,":"]}),d.jsx("input",{type:"text",value:et[R.name]||"",onChange:V=>{bt({...et,[R.name]:V.target.value})},placeholder:"e.g., age > 0, price BETWEEN 0 AND 1000",style:{width:"100%",padding:"8px",border:"1.5px solid #4caf50",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontFamily:"monospace",fontSize:"0.9em"}}),d.jsxs("div",{style:{marginTop:"5px",fontSize:"0.75em",color:"#ccc"},children:[" Examples: age ",">"," 18, price ",">"," 0, status IN ('active', 'pending')"]})]})]},R.index||Z))})}),d.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[d.jsx("button",{type:"button",onClick:QM,style:{background:"#28a745"},children:"+ Add Column"}),d.jsx("button",{type:"submit",style:{background:"#9370db"},children:"Save Changes"}),d.jsx("button",{type:"button",onClick:()=>{zr(!1),jl()},style:{background:"#6c757d"},children:"Cancel"})]})]})]}):d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",marginBottom:"20px"},children:["Table ",d.jsx("strong",{children:t})," has"," ",Ye.length," column",Ye.length!==1?"s":""]}),Ye.length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Column Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Primary Key"}),d.jsx("th",{children:"Not Null"}),d.jsx("th",{children:"Autoincrement"}),d.jsx("th",{children:"Unique"}),d.jsx("th",{children:"CHECK Constraint"})]})}),d.jsx("tbody",{children:Ye.map((R,Z)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:R.name})}),d.jsx("td",{children:R.type}),d.jsx("td",{children:R.pk?"":""}),d.jsx("td",{children:R.pk||R.notnull?"":""}),d.jsx("td",{children:R.autoincrement?"":""}),d.jsx("td",{children:R.pk||R.unique?"":""}),d.jsx("td",{style:{fontFamily:"monospace",fontSize:"0.85em",color:et[R.name]?"#4caf50":"#666"},children:et[R.name]||"None"})]},Z))})]})}):d.jsx("p",{style:{color:"#ccc"},children:"No structure information available"}),d.jsx("div",{style:{marginTop:"30px"},children:d.jsx("button",{onClick:()=>zr(!0),style:{background:"#9370db"},children:"Modify Structure"})})]})]}),h==="query"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute SQL Query"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:"Execute queries including JOINs, GROUP BY, aggregations, and more."}),d.jsxs("form",{onSubmit:ZM,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:H,onChange:R=>{oR(R.target.value,Z=>{N(Z),P()})},onKeyDown:$t,onBlur:()=>{setTimeout(()=>cR(),200)},rows:10,cols:120,placeholder:ta==="sql"?`Enter SQL query:

Examples:
  SELECT * FROM ${t}
  SELECT * FROM ${t} WHERE id > 5
  SELECT t1.*, t2.name FROM ${t} t1 JOIN other_table t2 ON t1.id = t2.id
  SELECT COUNT(*) FROM ${t}
  SELECT AVG(price) FROM products GROUP BY category`:`Enter NoSQL query (JSON format):

Examples:
  {"field": "value"}
  {"price": {"$gt": 100}}
  {"$and": [{"category": "books"}, {"price": {"$lt": 50}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),qb&&Ju.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:Ju.map((R,Z)=>d.jsx("div",{onClick:()=>{lR(R,V=>{N(V),P()})},style:{padding:"10px",cursor:"pointer",background:Z===Ub?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:Z<Ju.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:V=>{V.target.style.background="#4b0082"},onMouseLeave:V=>{V.target.style.background=Z===Ub?"#4b0082":"transparent"},children:R.length>100?R.substring(0,100)+"...":R},Z))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",L.length>0&&` (${L.length} queries)`,qb&&Ju.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute Query"})]}),M&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),Array.isArray(M)&&M.length>0?M[0]&&typeof M[0]=="object"&&Object.keys(M[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:(()=>{const R=Object.keys(M[0]);return(p.length>0?p.map(V=>V.name).filter(V=>R.includes(V)).concat(R.filter(V=>!p.some(tt=>tt.name===V))):R).map(V=>d.jsx("th",{children:V},V))})()})}),d.jsx("tbody",{children:M.map((R,Z)=>{const V=Object.keys(M[0]),tt=p.length>0?p.map(J=>J.name).filter(J=>V.includes(J)).concat(V.filter(J=>!p.some(gt=>gt.name===J))):V;return d.jsx("tr",{children:tt.map(J=>{const gt=R[J];return d.jsx("td",{children:gt!=null?typeof gt=="object"?JSON.stringify(gt):String(gt):"NULL"},J)})},Z)})})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(M)&&M.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof M=="object"&&M.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",M.rows_affected]}):typeof M=="object"&&(M.status||M.message)?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:M.status||M.message}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(M,null,2)})]})]}),h==="procedures"&&Ks&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Stored Procedures & Functions"}),d.jsx("div",{style:{marginBottom:"20px"},children:d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}/procedures`)},style:{color:"#9370db"},children:" View All Database Procedures "})}),d.jsx("h4",{style:{color:"#f0f0f0"},children:"Create New Procedure"}),d.jsxs("form",{onSubmit:nR,children:[d.jsx("textarea",{value:Li,onChange:R=>Zo(R.target.value),rows:15,cols:120,placeholder:`Example MySQL Stored Procedure:

DELIMITER $$
CREATE PROCEDURE GetTopStudents()
BEGIN
    SELECT name, marks FROM students WHERE marks > 85;
END$$
DELIMITER ;

-- To call the procedure:
CALL GetTopStudents();`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:" Execute Procedure Code"})]}),M&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execution Result"}),Array.isArray(M)&&M.length>0?M[0]&&typeof M[0]=="object"&&Object.keys(M[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:(()=>{const R=Object.keys(M[0]);return(p.length>0?p.map(V=>V.name).filter(V=>R.includes(V)).concat(R.filter(V=>!p.some(tt=>tt.name===V))):R).map(V=>d.jsx("th",{children:V},V))})()})}),d.jsx("tbody",{children:M.map((R,Z)=>{const V=Object.keys(M[0]),tt=p.length>0?p.map(J=>J.name).filter(J=>V.includes(J)).concat(V.filter(J=>!p.some(gt=>gt.name===J))):V;return d.jsx("tr",{children:tt.map(J=>{const gt=R[J];return d.jsx("td",{children:gt!=null?typeof gt=="object"?JSON.stringify(gt):String(gt):"NULL"},J)})},Z)})})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Procedure executed successfully. No results returned."}):typeof M=="object"&&(M.status||M.message)?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:M.status||M.message}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0"},children:JSON.stringify(M,null,2)})]}),d.jsx("h4",{style:{color:"#f0f0f0",marginTop:"30px"},children:"Existing Procedures & Functions"}),er.length>0?d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Created"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:er.map((R,Z)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:R.name})}),d.jsx("td",{children:R.type}),d.jsx("td",{children:R.created||"N/A"}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>Ku(R.name),style:{background:"#28a745",marginRight:"5px",fontSize:"0.9em"},children:" Execute"}),d.jsx("button",{onClick:()=>W(R),style:{background:"#17a2b8",marginRight:"5px",fontSize:"0.9em"},children:" Edit"}),d.jsx("button",{onClick:async()=>{try{const V=await K.get(`/api/table/${e}/${t}/procedure/${R.name}/code`);V.data.success&&alert(V.data.code)}catch{alert("Failed to load code")}},style:{background:"#6a5acd",marginRight:"5px"},children:" View Code"}),d.jsx("button",{onClick:async()=>{if(window.confirm(`Delete ${R.type.toLowerCase()} ${R.name}?`))try{(await K.delete(`/api/table/${e}/${t}/procedures`,{data:{procedure_name:R.name,is_function:R.type==="FUNCTION"}})).data.success&&(u("Procedure dropped successfully"),Zs())}catch{l("Failed to drop procedure")}},style:{background:"#dc3545"},children:" Drop"})]})]},Z))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No procedures or functions exist in this database."})]}),h==="triggers"&&cn&&d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:["Manage Triggers for ",t]}),d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}/triggers`)},style:{color:"#9370db"},children:"View All Database Triggers "}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h4",{style:{color:"#f0f0f0"},children:"Create New Trigger"}),d.jsxs("form",{onSubmit:tR,children:[d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Trigger Name:"}),d.jsx("input",{type:"text",value:tr.trigger_name,onChange:R=>$n({...tr,trigger_name:R.target.value}),placeholder:`e.g., auto_timestamp_${t}`,required:!0,style:{width:"300px",marginLeft:"10px"}})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Timing:"}),d.jsxs("select",{value:tr.trigger_timing,onChange:R=>$n({...tr,trigger_timing:R.target.value}),style:{marginLeft:"10px"},children:[d.jsx("option",{value:"BEFORE",children:"BEFORE"}),d.jsx("option",{value:"AFTER",children:"AFTER"})]}),d.jsx("label",{style:{marginLeft:"20px",color:"#f0f0f0"},children:"Event:"}),d.jsxs("select",{value:tr.trigger_event,onChange:R=>$n({...tr,trigger_event:R.target.value}),style:{marginLeft:"10px"},children:[d.jsx("option",{value:"INSERT",children:"INSERT"}),d.jsx("option",{value:"UPDATE",children:"UPDATE"}),d.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Trigger Body:"}),d.jsx("textarea",{value:tr.trigger_body,onChange:R=>$n({...tr,trigger_body:R.target.value}),rows:8,cols:100,placeholder:`Examples (RETURN is auto-added if missing):

-- Auto-update timestamp on INSERT/UPDATE
NEW.updated_at := NOW();

-- Capitalize text on INSERT
NEW.name := INITCAP(NEW.name);
RAISE NOTICE 'Capitalized: % (id: %)', NEW.name, NEW.id;`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontFamily:"monospace"}})]}),d.jsx("button",{type:"submit",style:{background:"#6a5acd"},children:"Create Trigger"})]}),d.jsxs("h4",{style:{color:"#f0f0f0",marginTop:"30px"},children:["Existing Triggers on ",t]}),le.length>0?d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Trigger Name"}),d.jsx("th",{children:"Timing/Event"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:le.map((R,Z)=>d.jsxs("tr",{children:[d.jsx("td",{children:R.name}),d.jsxs("td",{children:[R.timing||"N/A"," ",R.event||"N/A"]}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>eR(R),style:{background:"#17a2b8",marginRight:"5px",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Edit"}),d.jsx("button",{onClick:()=>rR(R.name),style:{background:"#dc3545"},children:" Delete"})]})]},Z))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No triggers exist for this table."})]}),h==="plsql"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute PL/SQL Code"}),d.jsxs("p",{style:{color:"#666",fontSize:"0.9em"},children:["Note: For PostgreSQL, wrap code in DO blocks:"," ",d.jsx("code",{children:"DO $$ BEGIN ... END $$;"})]}),d.jsxs("form",{onSubmit:iR,children:[d.jsx("textarea",{value:ee,onChange:R=>je(R.target.value),rows:15,cols:120,placeholder:`Example PostgreSQL DO block:
DO $$
BEGIN
    UPDATE ${t} SET age = age + 1 WHERE age > 18;
    RAISE NOTICE 'Updated records';
END $$;`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute"})]}),M&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execution Result"}),Array.isArray(M)&&M.length>0?M[0]&&typeof M[0]=="object"&&Object.keys(M[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:(()=>{const R=Object.keys(M[0]);return(p.length>0?p.map(V=>V.name).filter(V=>R.includes(V)).concat(R.filter(V=>!p.some(tt=>tt.name===V))):R).map(V=>d.jsx("th",{children:V},V))})()})}),d.jsx("tbody",{children:M.map((R,Z)=>{const V=Object.keys(M[0]),tt=p.length>0?p.map(J=>J.name).filter(J=>V.includes(J)).concat(V.filter(J=>!p.some(gt=>gt.name===J))):V;return d.jsx("tr",{children:tt.map(J=>{const gt=R[J];return d.jsx("td",{children:gt!=null?typeof gt=="object"?JSON.stringify(gt):String(gt):"NULL"},J)})},Z)})})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"PL/SQL executed successfully. No results returned."}):typeof M=="object"&&(M.status||M.message)?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:M.status||M.message}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(M,null,2)})]})]}),h==="importexport"&&d.jsx(_b,{dbName:e,tableName:t,isTable:!0}),h==="charts"&&d.jsx("div",{children:Hr?d.jsx(IM,{chartData:Hr,chartKeys:Js}):s?d.jsx("div",{style:{textAlign:"center",padding:"80px 20px"},children:d.jsx("div",{className:"loading",style:{fontSize:"1.4em"},children:"Summoning your data from the void..."})}):a?d.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[d.jsx("p",{style:{color:"#ff6b6b",fontSize:"1.3em"},children:a}),d.jsx("button",{onClick:()=>it(),style:{padding:"12px 30px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Try Again"})]}):null})]}),I&&d.jsx(kK,{columns:p,formData:Y,onInputChange:sa,onSubmit:oa,onClose:()=>{D(!1),be("")},error:se}),q&&d.jsx(SK,{columns:p,updateFormData:at,updateCondition:Tt,onInputChange:Al,onConditionChange:Et,onSubmit:HM,onClose:()=>{G(!1),te("")},error:Tr}),Q&&d.jsx(_K,{deleteCondition:st,onConditionChange:ht,onSubmit:qM,onClose:()=>ut(!1)}),Ct&&lt&&d.jsx(zM,{dbName:e,procedureName:lt.name,procedureType:lt.type,onClose:()=>{z(!1),xt(null)},onSuccess:R=>{u(R),Zs()}}),cr&&Qs&&d.jsx(WM,{dbName:e,tableName:t,triggerName:Qs.name,onClose:()=>{jr(!1),ss(null)},onSuccess:R=>{u(R),ia()}})]})}function TK({dbName:e,collectionName:t,onClose:r,onSuccess:n}){const[i,s]=T.useState([{key:"",value:""}]),[o,a]=T.useState(""),[l,c]=T.useState(!1),u=()=>{s([...i,{key:"",value:""}])},h=g=>{i.length>1&&s(i.filter((m,y)=>y!==g))},f=(g,m,y)=>{const x=[...i];x[g][m]=y,s(x)},p=async g=>{var b,v;g.preventDefault(),a("");const m=i.filter(S=>S.key.trim()&&S.value.trim());if(m.length===0){a("Please provide at least one key-value pair.");return}if(i.filter(S=>S.key.trim()&&!S.value.trim()||!S.key.trim()&&S.value.trim()).length>0){a("Please complete all key-value pairs or remove empty ones.");return}const x={};m.forEach(S=>{let k=S.value.trim();k.match(/^-?\d+$/)?k=parseInt(k):k.match(/^-?\d+\.\d+$/)?k=parseFloat(k):k==="true"?k=!0:k==="false"&&(k=!1),x[S.key.trim()]=k}),c(!0);try{const S=await K.post(`/api/collection/${e}/${t}/document`,{document:x});S.data.success?n():a(S.data.error||"Failed to add document")}catch(S){a("Failed to add document: "+(((v=(b=S.response)==null?void 0:b.data)==null?void 0:v.error)||S.message))}finally{c(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:r,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:g=>g.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Add Document to ",t]}),o&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:o}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:"Primary Key",readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}}),d.jsx("input",{type:"text",value:"(autogenerated)",readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}})]}),i.map((g,m)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:g.key,onChange:y=>f(m,"key",y.target.value),placeholder:"Key",disabled:l,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("input",{type:"text",value:g.value,onChange:y=>f(m,"value",y.target.value),placeholder:"Value",disabled:l,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),i.length>1&&d.jsx("button",{type:"button",onClick:()=>h(m),disabled:l,style:{padding:"10px 15px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",opacity:l?.7:1},children:""})]},m)),d.jsx("button",{type:"button",onClick:u,disabled:l,style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",opacity:l?.7:1,marginTop:"10px"},children:"+ Add Field"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:"Note:"})," The primary key (_id or doc_id) will be automatically generated. Values are automatically typed (numbers, booleans, strings)."]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:r,disabled:l,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",opacity:l?.7:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:l,style:{padding:"14px 28px",background:l?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",boxShadow:l?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:l?"Adding...":"Add Document"})]})]})]})})}function EK({dbName:e,collectionName:t,document:r,primaryKey:n,onClose:i,onSuccess:s}){const o=r[n],a=Object.entries(r).filter(([b])=>b!==n),[l,c]=T.useState(a.map(([b,v])=>({key:b,value:typeof v=="object"&&v!==null?JSON.stringify(v,null,2):String(v),originalKey:b}))),[u,h]=T.useState(""),[f,p]=T.useState(!1),g=()=>{c([...l,{key:"",value:"",originalKey:null}])},m=b=>{c(l.filter((v,S)=>S!==b))},y=(b,v,S)=>{const k=[...l];k[b][v]=S,c(k)},x=async b=>{b.preventDefault(),h("");const v=l.filter(_=>_.key.trim()&&_.value.trim());if(v.length===0){h("Cannot save an empty document. Please add at least one field.");return}if(l.filter(_=>_.key.trim()&&!_.value.trim()||!_.key.trim()&&_.value.trim()).length>0&&!window.confirm("Some pairs are only half-filled. Do you want to proceed and discard them?"))return;const k={},C=[];a.forEach(([_])=>{v.find(O=>O.originalKey===_||O.key.trim()===_)||C.push(_)}),v.forEach(_=>{let A=_.value.trim();if(A.startsWith("[")&&A.endsWith("]")||A.startsWith("{")&&A.endsWith("}"))try{A=JSON.parse(A),k[_.key.trim()]=A;return}catch{}A.match(/^-?\d+$/)?A=parseInt(A):A.match(/^-?\d+\.\d+$/)?A=parseFloat(A):A==="true"?A=!0:A==="false"&&(A=!1),k[_.key.trim()]=A}),C.forEach(_=>{k[_]=null}),p(!0);try{const A=await(await fetch(`/api/collection/${e}/${t}/document/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({document:k})})).json();A.success?s():h(A.error||"Failed to update document")}catch(_){h("Failed to update document: "+_.message)}finally{p(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:i,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:b=>b.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Modify Document in ",t]}),u&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:u}),d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:n,readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}}),d.jsx("input",{type:"text",value:String(o),readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}})]}),l.map((b,v)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:b.key,onChange:S=>y(v,"key",S.target.value),placeholder:"Key",disabled:f,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("input",{type:"text",value:b.value,onChange:S=>y(v,"value",S.target.value),placeholder:"Value",disabled:f,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("button",{type:"button",onClick:()=>m(v),disabled:f,style:{padding:"10px 15px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",opacity:f?.7:1},children:""})]},v)),d.jsx("button",{type:"button",onClick:g,disabled:f,style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",opacity:f?.7:1,marginTop:"10px"},children:"+ Add Field"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:"Note:"})," Removing a field will delete it from the document. Renaming a key will delete the old key and create a new one."]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:i,disabled:f,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",opacity:f?.7:1},children:"Cancel"}),d.jsx("button",{type:"button",onClick:x,disabled:f,style:{padding:"14px 28px",background:f?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",boxShadow:f?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:f?"Saving...":"Save Changes"})]})]})]})})}function jK({dbName:e,collectionName:t,keys:r,onSuccess:n,onError:i}){const[s,o]=T.useState({}),[a,l]=T.useState([]),[c,u]=T.useState(!1),[h,f]=T.useState(!0),[p,g]=T.useState({});T.useEffect(()=>{m()},[e,t]);const m=async()=>{try{f(!0);const k=await K.get(`/api/collection/${e}/${t}/validation_rules`);if(console.log(" Fetched validation rules from backend:",k.data),k.data.success){l(k.data.rules||[]);const C={},_={};(k.data.rules||[]).forEach(A=>{console.log(`  Parsing rule for ${A.column}:`,A.expression);const O=y(A.expression);console.log("  Parsed result:",O),C[A.column]=O,O.enum&&(_[A.column]=O.enum.join(", "))}),console.log(" Final rulesObj to set:",C),o(C),g(_)}}catch(k){console.error("Failed to fetch validation rules:",k)}finally{f(!1)}},y=k=>{const C={};if(k.includes("type:")){const _=k.match(/type:\s*(\w+)/);if(_){const A=_[1],O={int:"number",double:"number",float:"number",decimal:"number",bool:"boolean",boolean:"boolean",string:"string",array:"array",object:"object",date:"date"};C.type=O[A]||""}}if(k.includes("required")&&(C.required=!0),k.includes(">=")){const _=k.match(/>=\s*([\d.]+)/);_&&(C.min=parseFloat(_[1]))}if(k.includes("<=")){const _=k.match(/<=\s*([\d.]+)/);_&&(C.max=parseFloat(_[1]))}if(k.includes("length >=")){const _=k.match(/length\s*>=\s*(\d+)/);_&&(C.minLength=parseInt(_[1]))}if(k.includes("length <=")){const _=k.match(/length\s*<=\s*(\d+)/);_&&(C.maxLength=parseInt(_[1]))}if(k.includes("pattern:")){const _=k.match(/pattern:\s*(.+?)(?:,|$)/);_&&(C.pattern=_[1].trim())}if(k.includes("in [")){const _=k.match(/in\s*\[([^\]]+)\]/);_&&(C.enum=_[1].split(",").map(A=>A.trim().replace(/['"]/g,"")))}return C},x=(k,C,_)=>{console.log(" updateFieldRule called:",{fieldName:k,ruleType:C,value:_}),o(A=>{const O=A[k]||{},F={...O};if(console.log(`  Current rules for ${k}:`,O),_==null||_===""||_===!1?(console.log(`   Removing ${C} (value is empty/null/false)`),delete F[C]):(console.log(`   Setting ${C} =`,_),F[C]=_),C==="type"&&(_!=="number"&&(delete F.min,delete F.max),_!=="string"&&(delete F.minLength,delete F.maxLength,delete F.pattern)),console.log(`  New rules for ${k}:`,F),Object.keys(F).length===0){console.log(`   No rules remain, removing field ${k}`);const H={...A};return delete H[k],console.log("  Final validation rules:",H),H}const $={...A,[k]:F};return console.log("  Final validation rules:",$),$})},b=k=>{o(C=>{const _={...C};return delete _[k],_}),g(C=>{const _={...C};return delete _[k],_})},v=async()=>{var k,C;u(!0),console.log(" Validation rules being sent:",JSON.stringify(s,null,2));try{const _=await K.post(`/api/collection/${e}/${t}/validation`,{validation_rules:s});_.data.success?(n(),m()):i(_.data.error||"Failed to apply validation rules")}catch(_){i("Failed to apply validation: "+(((C=(k=_.response)==null?void 0:k.data)==null?void 0:C.error)||_.message))}finally{u(!1)}},S=async()=>{var k,C;if(window.confirm("Remove all validation rules from this collection?")){u(!0);try{const _=await K.post(`/api/collection/${e}/${t}/validation`,{validation_rules:{}});_.data.success?(o({}),n(),m()):i(_.data.error||"Failed to remove validation rules")}catch(_){i("Failed to remove validation: "+(((C=(k=_.response)==null?void 0:k.data)==null?void 0:C.error)||_.message))}finally{u(!1)}}};return h?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:"Loading validation rules..."}):d.jsxs("div",{style:{color:"#f0f0f0"},children:[d.jsx("h3",{children:"Validation Rules"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:"Define validation rules for each field."}),a.length>0&&d.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.15)",padding:"15px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #4caf50"},children:[d.jsx("strong",{children:" Active Validation Rules:"}),d.jsx("ul",{style:{margin:"10px 0 0 20px"},children:a.map((k,C)=>d.jsxs("li",{style:{margin:"5px 0"},children:[d.jsxs("strong",{children:[k.column,":"]})," ",k.expression]},C))})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("h4",{children:"Add Validation for Fields:"}),r.filter(k=>k!=="_id").map(k=>{var C,_,A,O,F,$,H,N,M;return d.jsxs("details",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:s[k]?"2px solid #9370db":"1px solid #666"},children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"1.1em",color:s[k]?"#bb86fc":"#f0f0f0"},children:[k," ",s[k]&&""]}),d.jsxs("div",{style:{marginTop:"15px"},children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Data Type:"}),d.jsxs("select",{value:((C=s[k])==null?void 0:C.type)||"",onChange:E=>x(k,"type",E.target.value||null),style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"},children:[d.jsx("option",{value:"",children:"No type constraint"}),d.jsx("option",{value:"string",children:"String"}),d.jsx("option",{value:"number",children:"Number"}),d.jsx("option",{value:"boolean",children:"Boolean"}),d.jsx("option",{value:"array",children:"Array"}),d.jsx("option",{value:"object",children:"Object"}),d.jsx("option",{value:"date",children:"Date"})]})]}),d.jsx("div",{style:{marginBottom:"15px"},children:d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",checked:((_=s[k])==null?void 0:_.required)||!1,onChange:E=>x(k,"required",E.target.checked?!0:null)}),d.jsx("span",{children:"Required field (must be present in all documents)"})]})}),((A=s[k])==null?void 0:A.type)==="number"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Minimum value:"}),d.jsx("input",{type:"number",step:"any",value:((O=s[k])==null?void 0:O.min)??"",onWheel:E=>E.target.blur(),onChange:E=>x(k,"min",E.target.value?parseFloat(E.target.value):null),placeholder:"e.g. 0",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Maximum value:"}),d.jsx("input",{type:"number",step:"any",value:((F=s[k])==null?void 0:F.max)??"",onWheel:E=>E.target.blur(),onChange:E=>x(k,"max",E.target.value?parseFloat(E.target.value):null),placeholder:"e.g. 100",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]})]}),(($=s[k])==null?void 0:$.type)==="string"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Minimum length:"}),d.jsx("input",{type:"number",value:((H=s[k])==null?void 0:H.minLength)||"",onWheel:E=>E.target.blur(),onChange:E=>x(k,"minLength",E.target.value?parseInt(E.target.value):null),placeholder:"e.g. 3",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Maximum length:"}),d.jsx("input",{type:"number",value:((N=s[k])==null?void 0:N.maxLength)||"",onWheel:E=>E.target.blur(),onChange:E=>x(k,"maxLength",E.target.value?parseInt(E.target.value):null),placeholder:"e.g. 50",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Pattern (regex):"}),d.jsx("input",{type:"text",value:((M=s[k])==null?void 0:M.pattern)||"",onChange:E=>x(k,"pattern",E.target.value),placeholder:"e.g. ^[A-Z].*",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%",fontFamily:"monospace"}})]})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Allowed values (comma-separated):"}),d.jsx("input",{type:"text",value:p[k]||"",onChange:E=>{const L=E.target.value;g(j=>({...j,[k]:L}));const B=L.split(",").map(j=>j.trim()).filter(j=>j.length>0);x(k,"enum",B.length?B:null)},placeholder:"e.g. active, pending, completed",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),s[k]&&d.jsxs("button",{onClick:()=>b(k),style:{padding:"8px 16px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:["Remove Validation for ",k]})]})]},k)})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"30px"},children:[d.jsx("button",{onClick:v,disabled:c||Object.keys(s).length===0,style:{padding:"14px 28px",background:c?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:c||Object.keys(s).length===0?"not-allowed":"pointer",fontWeight:"bold",opacity:c||Object.keys(s).length===0?.6:1},children:c?"Applying...":"Apply Validation Rules"}),a.length>0&&d.jsx("button",{onClick:S,disabled:c,style:{padding:"14px 28px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",opacity:c?.6:1},children:"Remove All Rules"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginTop:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:" Note:"})," Validation rules are enforced on all insert and update operations. Existing documents that violate new rules will remain but cannot be updated without fixing the violations."]})]})}function AK(){const{dbName:e,collectionName:t}=Yo(),r=Pn(),[n,i]=np(),[s,o]=T.useState([]),[a,l]=T.useState([]),[c,u]=T.useState("doc_id"),[h,f]=T.useState(!0),[p,g]=T.useState(""),[m,y]=T.useState(""),[x,b]=T.useState(n.get("tab")||"data"),[v,S]=T.useState(0),[k,C]=T.useState(1),[_]=T.useState(20),[A,O]=T.useState(1),[F,$]=T.useState(!1),[H,N]=T.useState(""),[M,E]=T.useState(null),{sessionQueries:L,addQuery:B,navigateHistory:j,resetNavigation:P}=Dp("collection"),[I,D]=T.useState(!1),[q,G]=T.useState(!1),[Q,ut]=T.useState(null),[Y,nt]=T.useState(""),[at,pt]=T.useState(new Set),[Tt,Et]=T.useState(!1),[st,ht]=T.useState([]),[Rt,Wt]=T.useState(1),[se,be]=T.useState(0),[Tr,te]=T.useState(!1),[Se,on]=T.useState(null),[Ze,Be]=T.useState(null),[Nr,an]=T.useState([]);T.useEffect(()=>{Y&&Te(Y,at)},[k]),T.useEffect(()=>{Y&&Te(Y,at)},[k]),T.useEffect(()=>{(async()=>{try{const bt=await K.get(`/api/db/${e}/capabilities`);bt.data.success&&$(bt.data.capabilities.supports_check_constraints||!1)}catch(bt){console.error("Failed to check validation support:",bt),$(!1)}})()},[e]);const ln=et=>{if(!lr(et,H,Ft=>{N(Ft),P()})){if(et.key==="ArrowUp"&&L.length>0){et.preventDefault();const Ft=j("up",H);Ft!==null&&N(Ft)}else if(et.key==="ArrowDown"&&L.length>0){et.preventDefault();const Ft=j("down",H);Ft!==null&&N(Ft)}}},Te=async(et,bt)=>{te(!0);try{const Ft=bt.size>0?Array.from(bt).join(","):"",Yt=await K.get(`/api/collection/${e}/${t}/search`,{params:{q:et,fields:Ft,page:k,per_page:_}});Yt.data.success&&(o(Yt.data.documents),S(Yt.data.total),O(Yt.data.total_pages))}catch(Ft){console.error("Search error:",Ft)}finally{te(!1)}},Fn=et=>{nt(et),Se&&clearTimeout(Se);const bt=setTimeout(()=>{Te(et,at)},300);on(bt)},ji=(et,bt)=>{const Ft=new Set(at);bt?Ft.add(et):Ft.delete(et),pt(Ft),Y&&Te(Y,Ft)},Ai=et=>{ut(et),G(!0)};T.useEffect(()=>{Ir()},[e,t,k]),T.useEffect(()=>{x==="charts"&&si()},[x]);const Ir=async()=>{try{f(!0);const et=await K.get(`/api/collection/${e}/${t}`,{params:{page:k,per_page:_}});et.data.success?(o(et.data.documents||[]),ht(et.data.documents||[]),l(et.data.keys||[]),u(et.data.primary_key||"doc_id"),S(et.data.total_docs||0),O(et.data.total_pages||1),be(et.data.total_docs||0),Wt(et.data.total_pages||1)):g(et.data.error||"Failed to fetch collection data")}catch(et){console.error("Failed to fetch collection:",et),window.location.reload(!0)}finally{f(!1)}},si=async()=>{try{f(!0);const et=await K.get(`/api/collection/${e}/${t}/chart_data`);if(et.data.success){const bt=et.data.data.map(Yt=>{const le={};return c&&Yt[c]!==void 0&&(le[c]=Yt[c]),Object.entries(Yt).forEach(([Ee,cn])=>{Ee!==c&&!["_id","doc_id"].includes(Ee)&&(le[Ee]=cn)}),le}),Ft=[...new Set(bt.flatMap(Yt=>Object.keys(Yt)))];Be(bt),an(Ft)}else g(et.data.error||"Failed to load chart data")}catch(et){console.error("Failed to fetch chart data:",et),g("Failed to load chart data")}finally{f(!1)}},vn=()=>{D(!1),y("Document added successfully"),Ir()},wn=()=>{G(!1),y("Document updated successfully"),Ir()},Ue=async et=>{var bt,Ft;if(et.preventDefault(),g(""),y(""),E(null),!H.trim()){g("Query cannot be empty");return}try{const Yt=await K.post(`/api/collection/${e}/${t}/query`,{query:H});Yt.data.success?(await B(H),E(Yt.data.result),y("Query executed successfully")):g(Yt.data.error||"Query execution failed")}catch(Yt){g("Failed to execute query: "+(((Ft=(bt=Yt.response)==null?void 0:bt.data)==null?void 0:Ft.error)||Yt.message))}},Ve=et=>{b(et),i({tab:et}),g(""),y(""),E(null)},oi=()=>{Et(!Tt)},Dn=ji,{suggestions:zr,showSuggestions:Er,selectedIndex:Wr,handleQueryChange:Ye,handleKeyDown:lr,selectSuggestion:On,hideSuggestions:ai}=Op();return h&&x!=="charts"?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:"nosql",handlerName:"TinyDB"}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading collection..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:"nosql",handlerName:"TinyDB"}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h2",{style:{margin:0,color:"#f0f0f0"},children:["Collection: ",t," in ",e]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[v," document",v!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),r(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Collections"}),d.jsx("br",{}),d.jsx("br",{}),p&&d.jsx("p",{className:"error",children:p}),m&&d.jsx("p",{className:"success",children:m}),d.jsxs("div",{className:"tabs",children:[d.jsx("button",{className:"tab-button",onClick:()=>Ve("data"),style:{background:x==="data"?"#4b0082":"#9370db"},children:" Documents"}),d.jsx("button",{className:"tab-button",onClick:()=>Ve("query"),style:{background:x==="query"?"#4b0082":"#9370db"},children:" Query"}),F&&d.jsx("button",{className:"tab-button",onClick:()=>Ve("validation"),style:{background:x==="validation"?"#4b0082":"#9370db"},children:" Validation Rules"}),d.jsx("button",{className:"tab-button",onClick:()=>Ve("importexport"),style:{background:x==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),d.jsx("button",{className:"tab-button",onClick:()=>Ve("charts"),style:{background:x==="charts"?"#4b0082":"#9370db"},children:" Charts"})]}),x==="data"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:"Search in selected fields...",value:Y,onChange:et=>Fn(et.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:oi,style:{marginLeft:"10px",padding:"14px 22px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},children:"Filter Fields"}),d.jsx("button",{onClick:()=>{nt(""),pt(new Set),o(st),O(Rt),S(se)},style:{marginLeft:"10px",padding:"14px 22px",background:"#6c757d",color:"white",border:"none",borderRadius:"10px",cursor:"pointer"},children:"Clear"}),Tt&&d.jsxs("div",{style:{marginTop:"15px",padding:"20px",background:"#fff",color:"#333",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",maxWidth:"600px",maxHeight:"320px",overflowY:"auto"},children:[d.jsx("strong",{style:{color:"#4b0082"},children:"Choose fields to search in:"}),d.jsx("br",{}),d.jsx("br",{}),a.map(et=>d.jsx("div",{style:{margin:"8px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"block",padding:"4px 0"},children:[d.jsx("input",{type:"checkbox",checked:at.has(et),onChange:bt=>Dn(et,bt.target.checked),style:{marginRight:"10px"}}),d.jsx("span",{children:et})]})},et))]}),at.size>0&&d.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"10px"},children:Array.from(at).map(et=>d.jsxs("span",{style:{background:"linear-gradient(135deg,#e91e63,#ad1457)",color:"white",padding:"2px 20px",borderRadius:"30px",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"10px"},children:[et,d.jsx("span",{onClick:()=>Dn(et,!1),style:{cursor:"pointer",fontWeight:"600",fontSize:"1.2em"},children:""})]},et))}),Y&&d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:Tr?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):s.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",v," document",v!==1?"s":""," match"]})})]}),d.jsx("button",{onClick:()=>D(!0),style:{display:"inline-block",padding:"10px 20px",background:"#6a5acd",color:"white",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginBottom:"20px"},children:"Add Document"}),A>1&&d.jsxs("div",{className:"pagination",children:[k>1?d.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),C(k-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",k," of ",A," (",v," total)"]}),k<A?d.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),C(k+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),s.length>0?d.jsx(d.Fragment,{children:s.map((et,bt)=>{const Ft=et[c]||"unknown";return d.jsxs("table",{style:{width:"90%",margin:"20px auto",borderCollapse:"collapse",border:"1px solid #999",boxShadow:"0 0 6px rgba(0,0,0,0.1)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"8px",textAlign:"left",color:"#f0f0f0"},children:["Document ID: ",Ft]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Key"}),d.jsx("th",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #999",padding:"8px",fontWeight:"bold",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:c}),d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ft})]}),Object.entries(et).map(([Yt,le])=>Yt===c?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Yt}),d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:le!=null?typeof le=="object"?JSON.stringify(le):String(le):"NULL"})]},Yt)),d.jsx("tr",{children:d.jsxs("td",{colSpan:"2",style:{textAlign:"center",borderTop:"1px solid #999",padding:"10px",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsx("button",{onClick:()=>{Ai(et)},style:{background:"#1e9530",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",cursor:"pointer",marginRight:"10px"},children:"Modify"}),d.jsx("button",{onClick:async()=>{var Yt,le;if(window.confirm("Are you sure you want to delete this document? This cannot be undone."))try{const Ee=et[c];await K.post(`/api/collection/${e}/${t}/document/${Ee}/delete`),y("Document deleted successfully"),Ir()}catch(Ee){g("Failed to delete: "+(((le=(Yt=Ee.response)==null?void 0:Yt.data)==null?void 0:le.error)||Ee.message))}},style:{background:"#dc3545",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",cursor:"pointer",marginRight:"10px"},children:"Delete"})]})})]})]},bt)})}):d.jsx("p",{style:{color:"#f0f0f0",textAlign:"center",marginTop:"30px"},children:Y?"No documents match your search.":"No documents in this collection."}),A>1&&d.jsxs("div",{className:"pagination",children:[k>1?d.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),C(k-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",k," of ",A," (",v," total)"]}),k<A?d.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),C(k+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),x==="query"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute NoSQL Query"}),d.jsxs("form",{onSubmit:Ue,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:H,onChange:et=>{Ye(et.target.value,bt=>{N(bt),P()})},onKeyDown:ln,onBlur:()=>{setTimeout(()=>ai(),200)},rows:10,cols:120,placeholder:`Enter NoSQL query (JSON format):

Examples:
  {"table": "${t}", "condition": {}}
  {"table": "${t}", "condition": {"age": {"$gt": 30}}}
  {"table": "${t}", "condition": {"name": "Alice"}}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),Er&&zr.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:zr.map((et,bt)=>d.jsx("div",{onClick:()=>{On(et,Ft=>{N(Ft),P()})},style:{padding:"10px",cursor:"pointer",background:bt===Wr?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:bt<zr.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:Ft=>{Ft.target.style.background="#4b0082"},onMouseLeave:Ft=>{Ft.target.style.background=bt===Wr?"#4b0082":"transparent"},children:et.length>100?et.substring(0,100)+"...":et},bt))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",L.length>0&&` (${L.length} queries)`,Er&&zr.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px",padding:"10px 20px",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Execute Query"})]}),M&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),Array.isArray(M)&&M.length>0?M.map((et,bt)=>{const Ft=et[c]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Ft]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:c}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ft})]}),Object.entries(et).map(([Yt,le])=>Yt===c?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Yt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:le!=null?typeof le=="object"?JSON.stringify(le):String(le):"NULL"})]},Yt))]})]},bt)}):Array.isArray(M)&&M.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",marginTop:"30px"},children:"Query executed successfully. No results returned."}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(M,null,2)})]})]}),x==="importexport"&&d.jsx(_b,{dbName:e,tableName:t,isTable:!0}),x==="charts"&&d.jsx("div",{children:Ze?d.jsx(IM,{chartData:Ze,chartKeys:Nr}):h?d.jsx("div",{style:{textAlign:"center",padding:"80px 20px"},children:d.jsx("div",{className:"loading",style:{fontSize:"1.4em"},children:"Summoning your data from the void..."})}):p?d.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[d.jsx("p",{style:{color:"#ff6b6b",fontSize:"1.3em"},children:p}),d.jsx("button",{onClick:()=>si(),style:{padding:"12px 30px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Try Again"})]}):null}),x==="validation"&&d.jsx(jK,{dbName:e,collectionName:t,keys:a,onSuccess:()=>{y("Validation rules applied successfully"),Ir()},onError:et=>g(et)})]}),I&&d.jsx(TK,{dbName:e,collectionName:t,isOpen:I,onClose:()=>D(!1),onSuccess:vn}),q&&Q&&d.jsx(EK,{dbName:e,collectionName:t,document:Q,primaryKey:c,onClose:()=>{G(!1),ut(null)},onSuccess:wn})]})}function LK(){const{dbName:e}=Yo(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(!1),[b,v]=T.useState(null);T.useEffect(()=>{S()},[e]);const S=async()=>{try{h(!0);const _=await K.get(`/api/db/${e}/triggers`);_.data.success?(n(_.data.triggers),s(_.data.supports_triggers),a(_.data.db_type),c(_.data.handler)):p(_.data.error||"Failed to fetch triggers")}catch(_){console.error("Failed to fetch triggers:",_)}finally{h(!1)}},k=_=>{v(_),x(!0)},C=async _=>{var A,O;if(window.confirm(`Are you sure you want to delete trigger ${_}?`))try{const F=await K.post(`/api/db/${e}/triggers/delete`,{trigger_name:_});F.data.success?(m(`Trigger ${_} deleted successfully`),S()):p(F.data.error||"Failed to delete trigger")}catch(F){p("Failed to delete trigger: "+(((O=(A=F.response)==null?void 0:A.data)==null?void 0:O.error)||F.message))}};return u?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading triggers..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:["All Triggers in ",e]}),d.jsx("a",{href:"#",onClick:_=>{_.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),f&&d.jsx("div",{className:"error",children:f}),g&&d.jsx("div",{className:"success",children:g}),i?r.length>0?d.jsx("div",{style:{overflowX:"auto",width:"95%",margin:"20px auto"},children:d.jsxs("table",{className:"result-table",style:{width:"100%",minWidth:"800px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Trigger Name"}),d.jsx("th",{children:"Table"}),d.jsx("th",{children:"Timing"}),d.jsx("th",{children:"Event"}),d.jsx("th",{style:{minWidth:"300px"},children:"SQL"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:r.map((_,A)=>d.jsxs("tr",{children:[d.jsx("td",{children:_.name}),d.jsx("td",{children:d.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),t(`/db/${e}/table/${_.table}?tab=triggers`)},style:{color:"#9370db"},children:_.table})}),d.jsx("td",{children:_.timing||"N/A"}),d.jsx("td",{children:_.event||"N/A"}),d.jsx("td",{children:d.jsx("pre",{style:{fontSize:"0.85em",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",maxWidth:"400px"},children:_.sql})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>k(_),style:{background:"#17a2b8",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",marginRight:"5px",whiteSpace:"nowrap"},children:" Edit"}),d.jsx("button",{onClick:()=>C(_.name),style:{background:"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap"},children:" Delete"})]})]},A))})]})}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Triggers Found"}),d.jsx("p",{style:{color:"#999"},children:"Create triggers using the Triggers tab in table views."})]}):d.jsx("p",{style:{color:"orange",marginTop:"20px"},children:"Warning: This database does not support triggers."})]}),y&&b&&d.jsx(WM,{dbName:e,tableName:b.table,triggerName:b.name,onClose:()=>{x(!1),v(null)},onSuccess:_=>{m(_),S()}})]})}function MK(){const{dbName:e}=Yo(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(null),[b,v]=T.useState(""),[S,k]=T.useState(!1),[C,_]=T.useState(null);T.useEffect(()=>{A()},[e]);const A=async()=>{try{h(!0);const M=await K.get(`/api/db/${e}/procedures`);M.data.success?(n(M.data.procedures),s(M.data.supports_procedures),a(M.data.db_type),c(M.data.handler)):p(M.data.error||"Failed to fetch procedures")}catch(M){console.error("Failed to fetch procedures:",M),p("Failed to connect to server")}finally{h(!1)}},O=async M=>{var E,L;p(""),m(""),x(null),v(M);try{const B=await K.post(`/api/db/${e}/procedure/${M}/execute`);if(B.data.success){const j=B.data.result,P=B.data.result_type;if(m(B.data.message),P==="table"&&Array.isArray(j)&&j.length>0)x(j);else if(P==="status"){if(j&&typeof j=="object"){const I=j.status||j.message||JSON.stringify(j);m(I)}x(null)}else x(null);setTimeout(()=>{var I;(I=document.getElementById("execution-results"))==null||I.scrollIntoView({behavior:"smooth",block:"start"})},100)}else p(B.data.error||"Failed to execute procedure")}catch(B){p("Failed to execute procedure: "+(((L=(E=B.response)==null?void 0:E.data)==null?void 0:L.error)||B.message))}},F=M=>{_(M),k(!0)},$=async(M,E)=>{try{const L=await K.get(`/api/db/${e}/procedure/${M}/code`);if(L.data.success){const B=document.createElement("div");B.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;",B.innerHTML=`
        <div style="background:white;padding:30px;border-radius:15px;max-width:900px;width:100%;max-height:90%;overflow:auto;box-shadow:0 10px 40px rgba(0,0,0,0.3);">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid #6a5acd;padding-bottom:15px;">
            <h2 style="margin:0;color:#4b0082;">${E}: ${M}</h2>
            <button id="copyBtn" title="Copy to clipboard"
              style="background:#6a5acd;color:white;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;font-size:14px;">
               Copy
            </button>
          </div>
          <pre id="procedure-code" style="background:#f5f5f5;color:black; padding:20px;border-radius:8px;overflow-x:auto;font-family:'Courier New',monospace;font-size:13px;line-height:1.6;border:1px solid #ddd;">${N(L.data.code)}</pre>
          <div style="text-align:right;margin-top:20px;">
            <button id="closeBtn" 
              style="background:#6c757d;color:white;padding:10px 25px;border:none;border-radius:8px;cursor:pointer;font-size:15px;">
              Close
            </button>
          </div>
        </div>
      `,document.body.appendChild(B),document.getElementById("closeBtn").onclick=()=>B.remove(),B.onclick=j=>{j.target===B&&B.remove()},document.getElementById("copyBtn").onclick=()=>{const j=document.getElementById("procedure-code").textContent;navigator.clipboard.writeText(j).then(()=>{const P=document.getElementById("copyBtn"),I=P.textContent;P.textContent=" Copied!",P.style.background="#4caf50",setTimeout(()=>{P.textContent=I,P.style.background="#6a5acd"},2e3)})}}else alert(" Failed to load code: "+L.data.error)}catch(L){alert(" Error: "+L.message)}},H=async(M,E)=>{var B,j;const L=E?"function":"procedure";if(window.confirm(`Delete ${L} ${M}?`))try{const P=await K.post(`/api/db/${e}/procedure/drop`,{procedure_name:M,is_function:E});P.data.success?(m(P.data.message),A()):p(P.data.error||"Failed to drop procedure")}catch(P){p("Failed to drop procedure: "+(((j=(B=P.response)==null?void 0:B.data)==null?void 0:j.error)||P.message))}},N=M=>{const E=document.createElement("div");return E.textContent=M,E.innerHTML};return u?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading procedures..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:[" Stored Procedures & Functions in ",e]}),d.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),d.jsx("br",{}),d.jsx("br",{}),f&&d.jsx("div",{className:"error",children:f}),g&&d.jsx("div",{className:"success",children:g}),y&&d.jsxs("div",{id:"execution-results",style:{marginTop:"20px",marginBottom:"30px"},children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:[" Execution Results: ",b]}),Array.isArray(y)&&y.length>0?y[0]&&typeof y[0]=="object"&&Object.keys(y[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(y[0]).map(M=>d.jsx("th",{children:M},M))})}),d.jsx("tbody",{children:y.map((M,E)=>d.jsx("tr",{children:Object.values(M).map((L,B)=>d.jsx("td",{children:L!=null?typeof L=="object"?JSON.stringify(L):String(L):"NULL"},B))},E))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",padding:"20px",background:"#f8f8f8",borderRadius:"8px"},children:"Procedure executed successfully. No results returned."}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0"},children:JSON.stringify(y,null,2)}),d.jsx("button",{onClick:()=>{x(null),v("")},style:{background:"#6c757d",color:"white",padding:"8px 16px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:"Clear Results"})]}),r.length>0?d.jsx("div",{style:{overflowX:"auto",width:"95%",margin:"20px auto"},children:d.jsxs("table",{className:"result-table",style:{width:"100%",minWidth:"900px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Created"}),d.jsx("th",{children:"Last Modified"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:r.map((M,E)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:M.name})}),d.jsx("td",{children:d.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",background:M.type==="PROCEDURE"?"#e3f2fd":"#f3e5f5",color:M.type==="PROCEDURE"?"#1976d2":"#7b1fa2",whiteSpace:"nowrap"},children:M.type})}),d.jsx("td",{style:{whiteSpace:"nowrap"},children:M.created||"N/A"}),d.jsx("td",{style:{whiteSpace:"nowrap"},children:M.modified||"N/A"}),d.jsxs("td",{style:{whiteSpace:"nowrap"},children:[d.jsx("button",{onClick:()=>O(M.name),style:{background:"#28a745",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px",fontSize:"0.9em"},children:" Execute"}),d.jsx("button",{onClick:()=>F(M),style:{background:"#17a2b8",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px",fontSize:"0.9em"},children:" Edit"}),d.jsx("button",{onClick:()=>$(M.name,M.type),style:{background:"#6a5acd",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" View"}),d.jsx("button",{onClick:()=>H(M.name,M.type==="FUNCTION"),style:{background:"#dc3545",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Drop"})]})]},E))})]})}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Procedures or Functions Found"}),d.jsx("p",{style:{color:"#999"},children:"Create your first stored procedure using the Procedures tab in any table view."})]})]}),S&&C&&d.jsx(zM,{dbName:e,procedureName:C.name,procedureType:C.type,onClose:()=>{k(!1),_(null)},onSuccess:M=>{m(M),A()}})]})}function RK(){const e=Pn(),[t,r]=T.useState("sql"),[n,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(""),[c,u]=T.useState(null),[h,f]=T.useState(""),[p,g]=T.useState(!0),[m,y]=T.useState(""),x=T.useRef(null);T.useRef(null);const{sessionQueries:b,addQuery:v,navigateHistory:S,resetNavigation:k}=Dp("global"),C=j=>{const P=j.target.value;M(P,I=>{l(I),k()})},_=j=>{if(!E(j,a,I=>{l(I),k()})){if(j.key==="Tab"&&m){j.preventDefault();const I=a+m;l(I),y(""),setTimeout(()=>{x.current.setSelectionRange(I.length,I.length)},0)}else if(j.key==="Escape")y(""),B();else if(j.key==="ArrowUp"&&b.length>0&&!H){j.preventDefault();const I=S("up",a);I!==null&&(l(I),setTimeout(()=>{const D=x.current;D&&D.setSelectionRange(I.length,I.length)},0))}else if(j.key==="ArrowDown"&&b.length>0&&!H){j.preventDefault();const I=S("down",a);I!==null&&(l(I),setTimeout(()=>{const D=x.current;D&&D.setSelectionRange(I.length,I.length)},0))}}};T.useEffect(()=>{A()},[]);const A=async()=>{try{const j=await K.get("/api/query");j.data.success&&(r(j.data.db_type),i(j.data.handler),o(j.data.current_db))}catch(j){console.error("Failed to fetch query state:",j)}finally{g(!1)}},O=async j=>{var P,I;if(j.preventDefault(),f(""),u(null),!a.trim()){f("Query cannot be empty");return}try{const D=await K.post("/api/query",{query:a});D.data.success?(await v(a),u(D.data.result),o(D.data.current_db)):f(D.data.error||"Query execution failed")}catch(D){f("Failed to execute query: "+(((I=(P=D.response)==null?void 0:P.data)==null?void 0:I.error)||D.message))}},F=()=>t==="sql"?`Enter SQL queries (separate multiple statements with semicolons)...

Examples:
  SELECT * FROM users;
  INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com');
  
Database commands:
  CREATE DATABASE mydb;
  USE mydb;
  DROP DATABASE olddb;`:`Enter NoSQL query or command...

Database Commands:
  USE NosqlTrial2;
  CREATE DATABASE mydb;
  DROP DATABASE olddb;
  SHOW DATABASES;
  SHOW COLLECTIONS;
  CREATE COLLECTION mycollection;
  DROP COLLECTION mycollection;

Query Examples (JSON format):
  {"table": "Trial1", "condition": {}}
  {"table": "Trial1", "condition": {"age": {"$gt": 30}}}`,{suggestions:$,showSuggestions:H,selectedIndex:N,handleQueryChange:M,handleKeyDown:E,selectSuggestion:L,hideSuggestions:B}=Op();return p?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:t,handlerName:n}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading query console..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:t,handlerName:n}),d.jsx("div",{className:"center",children:d.jsxs("div",{style:{maxWidth:"95%",margin:"20px auto"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:["Query Console",s&&d.jsxs("span",{style:{color:"#666",fontSize:"0.8em"},children:[" ",s," (",t.toUpperCase(),")"]})]}),d.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),e("/")},style:{color:"#e6d8f7ff"},children:" Home"})]}),h&&d.jsxs("div",{style:{background:"#ffebee",borderLeft:"4px solid #f44336",padding:"12px",margin:"10px 0",borderRadius:"4px",color:"#c62828"},children:[d.jsx("strong",{children:"ERROR:"})," ",h]}),!h&&c&&d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px 0",borderRadius:"4px",color:"#2e7d32"},children:[d.jsx("strong",{children:"SUCCESS:"})," Query executed successfully"]}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{style:{position:"absolute",top:"18px",left:"18px",right:"12px",bottom:"12px",pointerEvents:"none",fontFamily:"'Consolas', 'Monaco', monospace",fontSize:"14px",padding:"0",color:"transparent",whiteSpace:"pre-wrap",wordWrap:"break-word",overflow:"hidden",lineHeight:"1.5"},children:[a,d.jsx("span",{style:{color:"#ffffffff",opacity:.8,fontWeight:"bold"},children:m})]}),d.jsx("textarea",{ref:x,value:a,onChange:C,onKeyDown:_,onBlur:()=>{setTimeout(()=>B(),200)},rows:t==="sql"?12:16,placeholder:F(),style:{width:"100%",fontFamily:"'Consolas', 'Monaco', monospace",fontSize:"14px",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",background:"transparent",color:"#f0f0f0",position:"relative",zIndex:1,lineHeight:"1.5"}}),H&&$.length>0&&d.jsx("div",{onMouseDown:j=>{j.preventDefault()},style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:$.map((j,P)=>d.jsx("div",{onClick:()=>{console.log("Suggestion clicked:",j),L(j,I=>{console.log("Applying suggestion, result:",I),l(I),k(),setTimeout(()=>{x.current&&x.current.focus()},0)})},style:{padding:"10px",cursor:"pointer",background:P===N?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:P<$.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:I=>{I.target.style.background="#4b0082"},onMouseLeave:I=>{I.target.style.background=P===N?"#4b0082":"transparent"},children:j.length>100?j.substring(0,100)+"...":j},P))})]}),m&&d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:"Tab"})," ","to accept suggestion"]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:""})," ","to view previous query,"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:""})," ","to view next query",b.length>0&&` (${b.length} in history)`,H&&$.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#9370db",color:"white",border:"none",padding:"10px 30px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",transition:"background 0.3s"},onMouseOver:j=>j.target.style.background="#4b0082",onMouseOut:j=>j.target.style.background="#9370db",children:" Execute"})]}),c&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{textAlign:"center",color:"#f0f0f0"},children:"Results:"}),Array.isArray(c)&&c.map((j,P)=>{var I;return d.jsxs("div",{children:[d.jsxs("div",{style:{background:"#e3f2fd",padding:"8px 12px",margin:"15px auto 5px auto",borderLeft:"4px solid #2196f3",fontWeight:"bold",width:"90%",color:"black"},children:["Statement ",P+1]}),typeof j=="object"&&j!==null&&!Array.isArray(j)&&j.result_type==="table"?Array.isArray(j.result)&&j.result.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsxs("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(j.result[0]).map((D,q)=>d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:D},q))})}),d.jsx("tbody",{children:j.result.map((D,q)=>d.jsx("tr",{children:Object.values(D).map((G,Q)=>d.jsx("td",{style:{border:"1px solid black",padding:"12px",color:"black",background:"white"},children:G!=null?typeof G=="object"?JSON.stringify(G):String(G):"NULL"},Q))},q))})]})}),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[j.result.length," row",j.result.length!==1?"s":""," returned"]})]}):d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:"Procedure executed successfully. No rows returned."}):typeof j=="object"&&j!==null&&!Array.isArray(j)&&j.result_type==="status"?d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:((I=j.result)==null?void 0:I.status)||`Rows affected: ${j.rows_affected||0}`}):typeof j=="object"&&j!==null&&!Array.isArray(j)&&(j.status||j.rows_affected!==void 0)?d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[j.status&&d.jsx("div",{children:j.status}),j.rows_affected!==void 0&&d.jsxs("div",{children:["Rows affected: ",j.rows_affected]})]}):Array.isArray(j)?j.length>0?d.jsx(d.Fragment,{children:t==="nosql"?d.jsxs(d.Fragment,{children:[j.map((D,q)=>d.jsxs("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:[d.jsxs("div",{style:{background:"#f0f0f0",padding:"8px 12px",marginBottom:"10px",borderRadius:"4px",fontWeight:"bold",color:"black"},children:["Document ",q+1]}),d.jsx("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Value"})]}),Object.entries(D).map(([G,Q],ut)=>d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black",fontWeight:"bold"},children:G}),d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:Q!=null?typeof Q=="object"?JSON.stringify(Q):String(Q):"NULL"})]},ut))]})})]},q)),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[j.length," document",j.length!==1?"s":""," returned"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsxs("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(j[0]).map((D,q)=>d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:D},q))})}),d.jsx("tbody",{children:j.map((D,q)=>d.jsx("tr",{children:Object.values(D).map((G,Q)=>d.jsx("td",{style:{border:"1px solid black",padding:"12px",color:"black",background:"white"},children:G!=null?typeof G=="object"?JSON.stringify(G):String(G):"NULL"},Q))},q))})]})}),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[j.length," row",j.length!==1?"s":""," ","returned"]})]})}):d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:"Query executed successfully. No rows returned."}):typeof j=="object"&&j!==null?d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsx("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Field"}),d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Value"})]}),Object.entries(j).map(([D,q],G)=>d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:d.jsx("strong",{children:D})}),d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:q!=null?typeof q=="object"?JSON.stringify(q):String(q):"NULL"})]},G))]})})}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(j,null,2)})]},P)})]})]})})]})}function BK(){const{dbName:e}=Yo(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState(!0),[l,c]=T.useState("sql"),[u,h]=T.useState(""),[f,p]=T.useState(!0),[g,m]=T.useState(""),[y,x]=T.useState(""),[b,v]=T.useState(!1),[S,k]=T.useState(!1),[C,_]=T.useState(null),[A,O]=T.useState({username:"",password:"",privileges:[]}),[F,$]=T.useState({username:"",password:"",privileges:[]});T.useEffect(()=>{H()},[e]);const H=async()=>{try{p(!0);const D=await K.get(`/api/db/${e}/users`);D.data.success?(n(D.data.users||[]),s(D.data.supports_users),a(D.data.requires_credentials!==!1),c(D.data.db_type),h(D.data.handler)):m(D.data.error||"Failed to fetch users")}catch(D){console.error("Failed to fetch users:",D),m("Failed to connect to server")}finally{p(!1)}},N=async D=>{var q,G;D.preventDefault(),m(""),x("");try{const Q=await K.post(`/api/db/${e}/users/create`,A);Q.data.success?(x(Q.data.message),v(!1),O({username:"",password:"",privileges:[]}),H()):m(Q.data.error||"Failed to create user")}catch(Q){m("Failed to create user: "+(((G=(q=Q.response)==null?void 0:q.data)==null?void 0:G.error)||Q.message))}},M=async D=>{var q,G;D.preventDefault(),m(""),x("");try{const Q=await K.post(`/api/db/${e}/users/update`,F);Q.data.success?(x(Q.data.message),k(!1),$({username:"",password:"",privileges:[]}),_(null),H()):m(Q.data.error||"Failed to update user")}catch(Q){m("Failed to update user: "+(((G=(q=Q.response)==null?void 0:q.data)==null?void 0:G.error)||Q.message))}},E=async D=>{var q,G;if(window.confirm(`Delete user ${D}? This cannot be undone!`))try{const Q=await K.post(`/api/db/${e}/users/delete`,{username:D});Q.data.success?(x(Q.data.message),H()):m(Q.data.error||"Failed to delete user")}catch(Q){m("Failed to delete user: "+(((G=(q=Q.response)==null?void 0:q.data)==null?void 0:G.error)||Q.message))}},L=async D=>{try{const q=await K.get(`/api/db/${e}/users/${D}/privileges`);q.data.success?($({username:D,password:"",privileges:q.data.privileges||[]}),_(D),k(!0)):m("Failed to load user data")}catch(q){m("Failed to load user data: "+q.message)}},B=async D=>{try{const q=await K.get(`/api/db/${e}/users/${D}/connection`);if(q.data.success){const G=document.createElement("div");G.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;",G.innerHTML=`
          <div style="background:white;padding:30px;border-radius:15px;max-width:900px;width:100%;max-height:90%;overflow:auto;box-shadow:0 10px 40px rgba(0,0,0,0.3);">
            <h2 style="margin:0 0 20px 0;color:#4b0082;"> Connection Info for ${D}</h2>
            
            <div style="margin-bottom:20px;">
              <strong style="display:block;margin-bottom:10px;">Connection String:</strong>
              <code style="display:block;background:#2d2d2d;color:#f8f8f2;padding:15px;border-radius:8px;overflow-x:auto;">${j(q.data.connection_string)}</code>
            </div>
            
            <div style="margin-bottom:20px;">
              <strong style="display:block;margin-bottom:10px;">Test Code:</strong>
              <pre id="test-code" style="background:#2d2d2d;color:#f8f8f2;padding:20px;border-radius:8px;overflow-x:auto;font-size:13px;line-height:1.6;">${j(q.data.test_code)}</pre>
            </div>
            
            ${q.data.notes&&q.data.notes.length>0?`
            <div style="background:#fff3cd;border-left:3px solid #ffc107;padding:15px;border-radius:8px;margin-bottom:20px;color:black;">
              <strong> Tips:</strong>
              <ul style="margin:5px 0;padding-left:20px;color:black;">
                ${q.data.notes.map(Q=>`<li>${Q}</li>`).join("")}
              </ul>
            </div>
            `:""}
            
            <div style="display:flex;gap:10px;justify-content:flex-end;">
              <button onclick="copyTestCode(event)" 
                style="padding:10px 20px;background:#6a5acd;color:white;border:none;border-radius:8px;cursor:pointer;">
                 Copy Code
              </button>
              <button onclick="this.closest('div[style*=fixed]').remove()" 
                style="padding:10px 20px;background:#6c757d;color:white;border:none;border-radius:8px;cursor:pointer;">
                Close
              </button>
            </div>
          </div>
        `,document.body.appendChild(G),window.copyTestCode=Q=>{const ut=document.getElementById("test-code").textContent;navigator.clipboard.writeText(ut).then(()=>{const Y=Q.target,nt=Y.textContent;Y.textContent=" Copied!",Y.style.background="#4caf50",setTimeout(()=>{Y.textContent=nt,Y.style.background="#6a5acd"},2e3)}).catch(Y=>{alert("Failed to copy: "+Y)})}}else alert("Failed to load connection info: "+q.data.error)}catch(q){alert("Error: "+q.message)}},j=D=>{const q=document.createElement("div");return q.textContent=D,q.innerHTML},P=(D,q,G)=>{q(Q=>({...Q,privileges:Q.privileges.includes(G)?Q.privileges.filter(ut=>ut!==G):[...Q.privileges,G]}))},I=(D,q,G)=>{q(G?Q=>({...Q,privileges:["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP","ALL"]}):Q=>({...Q,privileges:[]}))};return f?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:l,handlerName:u}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading users..."})})]}):i?d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:l,handlerName:u}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:[" User Management for ",e]}),d.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Database"}),d.jsx("br",{}),d.jsx("br",{}),g&&d.jsx("div",{className:"error",children:g}),y&&d.jsx("div",{className:"success",children:y}),d.jsx("button",{onClick:()=>v(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #4caf50, #2e7d32)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",marginBottom:"20px"},children:" Create New User"}),o&&d.jsxs("button",{onClick:async()=>{if(window.confirm(`Sign out from ${u}?

You will need to re-enter credentials to access ${u} again.`))try{const D=await K.post("/api/sign_out",{handler_name:u});D.data.success?(alert("Signed out successfully"),t("/")):alert("Sign out failed: "+D.data.error)}catch{alert("Sign out failed")}},style:{padding:"10px 18px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 15px rgba(255, 107, 107, 0.4)"},children:[" Sign Out (",u,")"]}),r.length>0?d.jsxs("table",{className:"result-table",style:{width:"95%",margin:"20px auto"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Username"}),d.jsx("th",{children:"Has Password"}),d.jsx("th",{children:"Privileges"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:r.map((D,q)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:D.username})}),d.jsx("td",{children:D.has_password?d.jsx("span",{style:{color:"#4caf50"},children:" Yes"}):d.jsx("span",{style:{color:"#999"},children:" No"})}),d.jsx("td",{children:d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:D.privileges.map((G,Q)=>d.jsx("span",{style:{background:"#e3f2fd",color:"#1976d2",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:G},Q))})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>B(D.username),style:{background:"#6a5acd",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" Connection"}),d.jsx("button",{onClick:()=>L(D.username),style:{background:"#ff9800",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" Edit"}),d.jsx("button",{onClick:()=>E(D.username),style:{background:"#dc3545",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Delete"})]})]},q))})]}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Users Found"}),d.jsx("p",{style:{color:"#999"},children:"Create your first user to get started."})]}),b&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>v(!1),children:d.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:D=>D.stopPropagation(),children:[d.jsx("h3",{style:{marginTop:0,color:"#4b0082"},children:" Create New User"}),d.jsxs("form",{onSubmit:N,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:A.username,onChange:D=>O({...A,username:D.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Password (optional for some databases):"}),d.jsx("input",{type:"password",value:A.password,onChange:D=>O({...A,password:D.target.value}),style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"Privileges:"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP"].map(D=>d.jsxs("label",{style:{cursor:"pointer",color:"#333"},children:[d.jsx("input",{type:"checkbox",checked:A.privileges.includes(D),onChange:()=>P(A,O,D)})," ",D]},D)),d.jsxs("label",{style:{cursor:"pointer",color:"#333",gridColumn:"1 / -1"},children:[d.jsx("input",{type:"checkbox",checked:A.privileges.includes("ALL"),onChange:D=>I(A,O,D.target.checked)})," ","ALL PRIVILEGES"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>v(!1),style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Create User"})]})]})]})}),S&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>k(!1),children:d.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:D=>D.stopPropagation(),children:[d.jsx("h3",{style:{marginTop:0,color:"#4b0082"},children:" Edit User"}),d.jsxs("form",{onSubmit:M,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:F.username,disabled:!0,style:{width:"100%",padding:"10px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"15px",background:"#f5f5f5"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"New Password (leave empty to keep current):"}),d.jsx("input",{type:"password",value:F.password,onChange:D=>$({...F,password:D.target.value}),style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"Privileges:"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP"].map(D=>d.jsxs("label",{style:{cursor:"pointer",color:"#333"},children:[d.jsx("input",{type:"checkbox",checked:F.privileges.includes(D),onChange:()=>P(F,$,D)})," ",D]},D)),d.jsxs("label",{style:{cursor:"pointer",color:"#333",gridColumn:"1 / -1"},children:[d.jsx("input",{type:"checkbox",checked:F.privileges.includes("ALL"),onChange:D=>I(F,$,D.target.checked)})," ","ALL PRIVILEGES"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>k(!1),style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#ff9800",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Update User"})]})]})]})})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ke,{dbType:l,handlerName:u}),d.jsxs("div",{className:"center",children:[d.jsx("h2",{style:{color:"#f0f0f0"},children:" User Management"}),d.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Database"}),d.jsx("br",{}),d.jsx("br",{}),d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"User Management Not Supported"}),d.jsx("p",{style:{color:"#999"},children:"This database type does not support user management."})]})]})]})}function PK(){const{handlerName:e}=Yo(),t=Pn(),[r,n]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState("sql");T.useEffect(()=>{g()},[]);const g=async()=>{try{const x=await K.get("/api/current_state");x.data.success&&p(x.data.db_type)}catch(x){console.error("Failed to fetch db type:",x)}},m=async x=>{var b,v;x.preventDefault(),a(""),c(""),h(!0);try{const S=await K.post(`/api/handler_credentials/${e}`,{username:r,password:i},{headers:{"Content-Type":"application/json"}});console.log(" Credentials response:",S.data),S.data.success?(c(S.data.message),setTimeout(()=>{t("/",{replace:!0,state:{credentialsUpdated:!0}})},1500)):(a(S.data.message),s(""))}catch(S){console.error("Credentials error:",S),a(((v=(b=S.response)==null?void 0:b.data)==null?void 0:v.message)||S.message||"Connection failed"),s("")}finally{h(!1)}},y=()=>{window.confirm("Cancel credential setup? You will be returned to the home page.")&&t("/",{replace:!0})};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsx(Ke,{}),d.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{style:{width:"100%",maxWidth:"600px",padding:"40px 20px",background:"rgba(30, 0, 51, 0.7)",borderRadius:"16px",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.4)",backdropFilter:"blur(10px)",border:"1px solid rgba(147, 112, 219, 0.3)"},children:[d.jsxs("h2",{style:{color:"#bb86fc",textAlign:"center",fontSize:"2em",marginBottom:"10px"},children:[e," Connection Setup"]}),d.jsxs("p",{style:{textAlign:"center",color:"#ddd",marginBottom:"30px"},children:["DBDragoness needs your ",e," credentials.",d.jsx("br",{}),"They will be stored securely in your system's keyring."]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.2)",borderLeft:"4px solid #2196f3",padding:"15px",marginBottom:"25px",borderRadius:"8px",color:"#bbdefb"},children:[d.jsx("strong",{children:"Secure Storage:"}),d.jsx("br",{}),d.jsxs("small",{children:[" Windows  Credential Manager",d.jsx("br",{})," macOS  Keychain",d.jsx("br",{})," Linux  Secret Service"]})]}),o&&d.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"12px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #f44336"},children:[" ",o]}),l&&d.jsxs("div",{style:{background:"#e8f5e9",color:"#2e7d32",padding:"12px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #4caf50"},children:[" ",l]}),d.jsxs("form",{onSubmit:m,style:{background:"rgba(255,255,255,0.95)",padding:"30px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),placeholder:"Enter username",required:!0,disabled:u,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px"}})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Password:"}),d.jsx("input",{type:"password",value:i,onChange:x=>s(x.target.value),placeholder:"Leave blank if none",disabled:u,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px"}})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsx("button",{type:"button",onClick:y,disabled:u,style:{flex:1,padding:"14px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:u,style:{flex:1,padding:"14px",background:u?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",boxShadow:u?"none":"0 4px 20px rgba(147,112,219,0.5)"},children:u?"Connecting...":"Connect & Save"})]})]})]})})]})}function FK(){return d.jsx(OP,{basename:"/react",children:d.jsxs(BP,{children:[d.jsx(zn,{path:"/",element:d.jsx(xD,{})}),d.jsx(zn,{path:"/db/:dbName",element:d.jsx(bV,{})}),d.jsx(zn,{path:"/db/:dbName/table/:tableName",element:d.jsx(CK,{})}),d.jsx(zn,{path:"/db/:dbName/collection/:collectionName",element:d.jsx(AK,{})}),d.jsx(zn,{path:"*",element:d.jsx(MP,{to:"/",replace:!0})}),d.jsx(zn,{path:"/db/:dbName/triggers",element:d.jsx(LK,{})}),d.jsx(zn,{path:"/db/:dbName/procedures",element:d.jsx(MK,{})}),d.jsx(zn,{path:"/query",element:d.jsx(RK,{})}),d.jsx(zn,{path:"/db/:dbName/users",element:d.jsx(BK,{})}),d.jsx(zn,{path:"/credentials/:handlerName",element:d.jsx(PK,{})})]})})}lm.createRoot(document.getElementById("root")).render(d.jsx(NS.StrictMode,{children:d.jsx(FK,{})}));export{VC as $,Ac as A,SD as B,qO as C,sb as D,vr as E,OC as F,kz as G,S4 as H,jv as I,A6 as J,sO as K,rl as L,rJ as M,Cp as N,_O as O,Sy as P,Nv as Q,p4 as R,uh as S,wz as T,$u as U,RO as V,Ou as W,vt as X,At as Y,fz as Z,w as _,$O as a,St as a$,u4 as a0,sw as a1,iw as a2,fJ as a3,lJ as a4,dJ as a5,uJ as a6,oJ as a7,la as a8,Dy as a9,cz as aA,e9 as aB,rz as aC,Qy as aD,nk as aE,D7 as aF,d4 as aG,eJ as aH,pR as aI,jS as aJ,Uu as aK,P7 as aL,B7 as aM,Ry as aN,hs as aO,Jv as aP,qN as aQ,au as aR,Go as aS,uz as aT,Dj as aU,vp as aV,_p as aW,vf as aX,$j as aY,Fj as aZ,I9 as a_,hJ as aa,aJ as ab,gJ as ac,pJ as ad,cJ as ae,aW as af,VA as ag,CJ as ah,M6 as ai,qe as aj,Vs as ak,Gy as al,y5 as am,Ko as an,qj as ao,Dt as ap,_i as aq,JW as ar,_J as as,TJ as at,kJ as au,_t as av,SJ as aw,PW as ax,AW as ay,jW as az,OO as b,Sj as b0,Zr as b1,ON as b2,My as b3,oT as b4,Iu as b5,cT as b6,sJ as b7,kD as b8,lz as b9,Mj as bA,nx as bB,dz as bC,Sp as bD,ie as bE,ez as ba,W8 as bb,Ky as bc,D9 as bd,hz as be,Hu as bf,bl as bg,xf as bh,Y9 as bi,wH as bj,Wu as bk,bf as bl,z9 as bm,Aj as bn,U8 as bo,V8 as bp,lo as bq,_w as br,Y8 as bs,Jy as bt,q8 as bu,Q8 as bv,vl as bw,Us as bx,bw as by,Zy as bz,re as c,Xt as d,UC as e,Ie as f,IO as g,rs as h,Rn as i,_j as j,xl as k,rt as l,Vj as m,nJ as n,jJ as o,zO as p,WO as q,EJ as r,NO as s,L6 as t,Xn as u,CW as v,Cz as w,mJ as x,DO as y,iJ as z};
