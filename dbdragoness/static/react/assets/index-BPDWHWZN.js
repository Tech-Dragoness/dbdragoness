const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-BrsFhNln.js","assets/graph-4iAV0z1a.js","assets/_baseUniq-DhV37f8-.js","assets/layout-DnFGE-Kc.js","assets/_basePickBy-B67ea-kQ.js","assets/clone-C2IhpDpF.js","assets/cose-bilkent-S5V4N54A-CTZGszNM.js","assets/cytoscape.esm-CyJtwmzi.js","assets/c4Diagram-YG6GDRKO-CAyAx6K8.js","assets/chunk-TZMSLE5B-W0Cu5Nku.js","assets/flowDiagram-NV44I4VS-BAa5CUrE.js","assets/chunk-FMBD7UC4-Dio9h_f6.js","assets/chunk-55IACEB6-BthAiAEe.js","assets/chunk-QN33PNHL-rLeB2X09.js","assets/channel-D5vc15QI.js","assets/erDiagram-Q2GNP2WA-XBw3ur8p.js","assets/gitGraphDiagram-NY62KEGX-Blf_m2Q1.js","assets/chunk-4BX2VUAB-B0lcIC7R.js","assets/chunk-QZHKN3VN-B_O-h7VT.js","assets/treemap-KMMF4GRG-BOYiIzn3.js","assets/ganttDiagram-LVOFAZNH-DvVBFjjQ.js","assets/linear-Cvu5leUB.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-ER5ION4S-BDy8K1hh.js","assets/pieDiagram-ADFJNKIX-5OkGLeRA.js","assets/arc-C8Gq3DqG.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-CJ1COolN.js","assets/xychartDiagram-PRI3JC2R-QaFvLEJY.js","assets/requirementDiagram-UZGBJVZJ-CKljbFeU.js","assets/sequenceDiagram-WL72ISMW-CfEe3W5c.js","assets/classDiagram-2ON5EDUG-BXtMe3kp.js","assets/chunk-B4BG7PRW-DMtAMYez.js","assets/classDiagram-v2-WZHVMYZB-BXtMe3kp.js","assets/stateDiagram-FKZM4ZOC-DdAGlqlR.js","assets/chunk-DI55MBZ5-B7p_Sl9R.js","assets/stateDiagram-v2-4FDKWEC3-6rrQfHSq.js","assets/journeyDiagram-XKPGCS4Q-omZ61Gyl.js","assets/timeline-definition-IT6M3QCI-DZFxAeZD.js","assets/mindmap-definition-VGOIOE7T-BIIf5Rg3.js","assets/kanban-definition-3W4ZIXB7-nJl-JFk9.js","assets/sankeyDiagram-TZEHDZUN-BeJSp8lb.js","assets/diagram-S2PKOQOG-CNpJfYRW.js","assets/diagram-QEK2KX5R-BR5d5YRx.js","assets/blockDiagram-VD42YOAC-CloXi7Se.js","assets/architectureDiagram-VXUJARFQ-B2OPgv8P.js","assets/diagram-PSM6KHXK-CqMZDEBl.js"])))=>i.map(i=>d[i]);
var nR=Object.defineProperty;var iR=(e,t,r)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var et=(e,t,r)=>iR(e,typeof t!="symbol"?t+"":t,r);function sR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var oR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ES(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jS={exports:{}},If={},AS={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),aR=Symbol.for("react.portal"),lR=Symbol.for("react.fragment"),cR=Symbol.for("react.strict_mode"),uR=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),fR=Symbol.for("react.forward_ref"),pR=Symbol.for("react.suspense"),gR=Symbol.for("react.memo"),mR=Symbol.for("react.lazy"),Vb=Symbol.iterator;function xR(e){return e===null||typeof e!="object"?null:(e=Vb&&e[Vb]||e["@@iterator"],typeof e=="function"?e:null)}var LS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MS=Object.assign,RS={};function hl(e,t,r){this.props=e,this.context=t,this.refs=RS,this.updater=r||LS}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BS(){}BS.prototype=hl.prototype;function kx(e,t,r){this.props=e,this.context=t,this.refs=RS,this.updater=r||LS}var Sx=kx.prototype=new BS;Sx.constructor=kx;MS(Sx,hl.prototype);Sx.isPureReactComponent=!0;var Yb=Array.isArray,PS=Object.prototype.hasOwnProperty,_x={current:null},FS={key:!0,ref:!0,__self:!0,__source:!0};function DS(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)PS.call(t,n)&&!FS.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Cu,type:e,key:s,ref:o,props:i,_owner:_x.current}}function yR(e,t){return{$$typeof:Cu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cu}function bR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gb=/\/+/g;function Jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bR(""+e.key):t.toString(36)}function Hd(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cu:case aR:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Jp(o,0):n,Yb(i)?(r="",e!=null&&(r=e.replace(Gb,"$&/")+"/"),Hd(i,t,r,"",function(c){return c})):i!=null&&(Cx(i)&&(i=yR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Yb(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Jp(s,a);o+=Hd(s,t,r,l,i)}else if(l=xR(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Jp(s,a++),o+=Hd(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(e,t,r){if(e==null)return e;var n=[],i=0;return Hd(e,n,"","",function(s){return t.call(r,s,i++)}),n}function vR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dr={current:null},qd={transition:null},wR={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:qd,ReactCurrentOwner:_x};function OS(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:Zu,forEach:function(e,t,r){Zu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zu(e,function(){t++}),t},toArray:function(e){return Zu(e,function(t){return t})||[]},only:function(e){if(!Cx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=hl;Yt.Fragment=lR;Yt.Profiler=uR;Yt.PureComponent=kx;Yt.StrictMode=cR;Yt.Suspense=pR;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;Yt.act=OS;Yt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=MS({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=_x.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)PS.call(t,l)&&!FS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Cu,type:e.type,key:i,ref:s,props:n,_owner:o}};Yt.createContext=function(e){return e={$$typeof:hR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dR,_context:e},e.Consumer=e};Yt.createElement=DS;Yt.createFactory=function(e){var t=DS.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:fR,render:e}};Yt.isValidElement=Cx;Yt.lazy=function(e){return{$$typeof:mR,_payload:{_status:-1,_result:e},_init:vR}};Yt.memo=function(e,t){return{$$typeof:gR,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=qd.transition;qd.transition={};try{e()}finally{qd.transition=t}};Yt.unstable_act=OS;Yt.useCallback=function(e,t){return Dr.current.useCallback(e,t)};Yt.useContext=function(e){return Dr.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return Dr.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return Dr.current.useEffect(e,t)};Yt.useId=function(){return Dr.current.useId()};Yt.useImperativeHandle=function(e,t,r){return Dr.current.useImperativeHandle(e,t,r)};Yt.useInsertionEffect=function(e,t){return Dr.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return Dr.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return Dr.current.useMemo(e,t)};Yt.useReducer=function(e,t,r){return Dr.current.useReducer(e,t,r)};Yt.useRef=function(e){return Dr.current.useRef(e)};Yt.useState=function(e){return Dr.current.useState(e)};Yt.useSyncExternalStore=function(e,t,r){return Dr.current.useSyncExternalStore(e,t,r)};Yt.useTransition=function(){return Dr.current.useTransition()};Yt.version="18.3.1";AS.exports=Yt;var T=AS.exports;const $S=ES(T),kR=sR({__proto__:null,default:$S},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=T,_R=Symbol.for("react.element"),CR=Symbol.for("react.fragment"),TR=Object.prototype.hasOwnProperty,ER=SR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jR={key:!0,ref:!0,__self:!0,__source:!0};function NS(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)TR.call(t,n)&&!jR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_R,type:e,key:s,ref:o,props:i,_owner:ER.current}}If.Fragment=CR;If.jsx=NS;If.jsxs=NS;jS.exports=If;var d=jS.exports,cm={},IS={exports:{}},pn={},zS={exports:{}},WS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var $=E.length;E.push(M);t:for(;0<$;){var z=$-1>>>1,q=E[z];if(0<i(q,M))E[z]=M,E[$]=q,$=z;else break t}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var M=E[0],$=E.pop();if($!==M){E[0]=$;t:for(var z=0,q=E.length,nt=q>>>1;z<nt;){var ut=2*(z+1)-1,ft=E[ut],V=ut+1,tt=E[V];if(0>i(ft,$))V<q&&0>i(tt,ft)?(E[z]=tt,E[V]=$,z=V):(E[z]=ft,E[ut]=$,z=ut);else if(V<q&&0>i(tt,$))E[z]=tt,E[V]=$,z=V;else break t}}return M}function i(E,M){var $=E.sortIndex-M.sortIndex;return $!==0?$:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=E)n(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(c)}}function C(E){if(m=!1,v(E),!g)if(r(l)!==null)g=!0,L(k);else{var M=r(c);M!==null&&B(C,M.startTime-E)}}function k(E,M){g=!1,m&&(m=!1,x(A),A=-1),p=!0;var $=f;try{for(v(M),h=r(l);h!==null&&(!(h.expirationTime>M)||E&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var q=z(h.expirationTime<=M);M=e.unstable_now(),typeof q=="function"?h.callback=q:h===r(l)&&n(l),v(M)}else n(l);h=r(l)}if(h!==null)var nt=!0;else{var ut=r(c);ut!==null&&B(C,ut.startTime-M),nt=!1}return nt}finally{h=null,f=$,p=!1}}var S=!1,_=null,A=-1,D=5,F=-1;function O(){return!(e.unstable_now()-F<D)}function W(){if(_!==null){var E=e.unstable_now();F=E;var M=!0;try{M=_(!0,E)}finally{M?H():(S=!1,_=null)}}else S=!1}var H;if(typeof b=="function")H=function(){b(W)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,j=P.port2;P.port1.onmessage=W,H=function(){j.postMessage(null)}}else H=function(){y(W,0)};function L(E){_=E,S||(S=!0,H())}function B(E,M){A=y(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var $=f;f=M;try{return E()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=f;f=E;try{return M()}finally{f=$}},e.unstable_scheduleCallback=function(E,M,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,E){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,E={id:u++,callback:M,priorityLevel:E,startTime:$,expirationTime:q,sortIndex:-1},$>z?(E.sortIndex=$,t(c,E),r(l)===null&&E===r(c)&&(m?(x(A),A=-1):m=!0,B(C,$-z))):(E.sortIndex=q,t(l,E),g||p||(g=!0,L(k))),E},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(E){var M=f;return function(){var $=f;f=M;try{return E.apply(this,arguments)}finally{f=$}}}})(WS);zS.exports=WS;var AR=zS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=T,hn=AR;function ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HS=new Set,Ic={};function Vo(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for(Ic[e]=t,e=0;e<t.length;e++)HS.add(t[e])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,MR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xb={},Qb={};function RR(e){return um.call(Qb,e)?!0:um.call(Xb,e)?!1:MR.test(e)?Qb[e]=!0:(Xb[e]=!0,!1)}function BR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PR(e,t,r,n){if(t===null||typeof t>"u"||BR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sr[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sr[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sr[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sr[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sr[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sr[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sr[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sr[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sr[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tx=/[\-:]([a-z])/g;function Ex(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tx,Ex);sr[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tx,Ex);sr[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tx,Ex);sr[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sr[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sr[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function jx(e,t,r,n){var i=sr.hasOwnProperty(t)?sr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PR(t,r,i,n)&&(r=null),n||i===null?RR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ns=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),ga=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),US=Symbol.for("react.context"),Lx=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),Mx=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),VS=Symbol.for("react.offscreen"),Kb=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=Kb&&e[Kb]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Zp;function ec(e){if(Zp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zp=t&&t[1]||""}return`
`+Zp+e}var tg=!1;function eg(e,t){if(!e||tg)return"";tg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{tg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ec(e):""}function FR(e){switch(e.tag){case 5:return ec(e.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return e=eg(e.type,!1),e;case 11:return e=eg(e.type.render,!1),e;case 1:return e=eg(e.type,!0),e;default:return""}}function pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ma:return"Fragment";case ga:return"Portal";case dm:return"Profiler";case Ax:return"StrictMode";case hm:return"Suspense";case fm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case US:return(e.displayName||"Context")+".Consumer";case qS:return(e._context.displayName||"Context")+".Provider";case Lx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mx:return t=e.displayName||null,t!==null?t:pm(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return pm(e(t))}catch{}}return null}function DR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pm(t);case 8:return t===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OR(e){var t=YS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=OR(e))}function GS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _h(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gm(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XS(e,t){t=t.checked,t!=null&&jx(e,"checked",t,!1)}function mm(e,t){XS(e,t);var r=Fs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xm(e,t.type,r):t.hasOwnProperty("defaultValue")&&xm(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xm(e,t,r){(t!=="number"||_h(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rc=Array.isArray;function Aa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ym(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ot(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function t1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ot(92));if(rc(r)){if(1<r.length)throw Error(ot(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fs(r)}}function QS(e,t){var r=Fs(t.value),n=Fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function e1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rd,JS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$R=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(e){$R.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bc[t]=bc[e]})});function ZS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bc.hasOwnProperty(e)&&bc[e]?(""+t).trim():t+"px"}function t_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ZS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var NR=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(e,t){if(t){if(NR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ot(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ot(62))}}function wm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function Rx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,La=null,Ma=null;function r1(e){if(e=ju(e)){if(typeof Sm!="function")throw Error(ot(280));var t=e.stateNode;t&&(t=Uf(t),Sm(e.stateNode,e.type,t))}}function e_(e){La?Ma?Ma.push(e):Ma=[e]:La=e}function r_(){if(La){var e=La,t=Ma;if(Ma=La=null,r1(e),t)for(e=0;e<t.length;e++)r1(t[e])}}function n_(e,t){return e(t)}function i_(){}var rg=!1;function s_(e,t,r){if(rg)return e(t,r);rg=!0;try{return n_(e,t,r)}finally{rg=!1,(La!==null||Ma!==null)&&(i_(),r_())}}function Wc(e,t){var r=e.stateNode;if(r===null)return null;var n=Uf(r);if(n===null)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ot(231,t,typeof r));return r}var _m=!1;if(Ki)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){_m=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{_m=!1}function IR(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var vc=!1,Ch=null,Th=!1,Cm=null,zR={onError:function(e){vc=!0,Ch=e}};function WR(e,t,r,n,i,s,o,a,l){vc=!1,Ch=null,IR.apply(zR,arguments)}function HR(e,t,r,n,i,s,o,a,l){if(WR.apply(this,arguments),vc){if(vc){var c=Ch;vc=!1,Ch=null}else throw Error(ot(198));Th||(Th=!0,Cm=c)}}function Yo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function n1(e){if(Yo(e)!==e)throw Error(ot(188))}function qR(e){var t=e.alternate;if(!t){if(t=Yo(e),t===null)throw Error(ot(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return n1(i),e;if(s===n)return n1(i),t;s=s.sibling}throw Error(ot(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ot(189))}}if(r.alternate!==n)throw Error(ot(190))}if(r.tag!==3)throw Error(ot(188));return r.stateNode.current===r?e:t}function a_(e){return e=qR(e),e!==null?l_(e):null}function l_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l_(e);if(t!==null)return t;e=e.sibling}return null}var c_=hn.unstable_scheduleCallback,i1=hn.unstable_cancelCallback,UR=hn.unstable_shouldYield,VR=hn.unstable_requestPaint,Le=hn.unstable_now,YR=hn.unstable_getCurrentPriorityLevel,Bx=hn.unstable_ImmediatePriority,u_=hn.unstable_UserBlockingPriority,Eh=hn.unstable_NormalPriority,GR=hn.unstable_LowPriority,d_=hn.unstable_IdlePriority,zf=null,yi=null;function XR(e){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(zf,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:JR,QR=Math.log,KR=Math.LN2;function JR(e){return e>>>=0,e===0?32:31-(QR(e)/KR|0)|0}var nd=64,id=4194304;function nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=nc(a):(s&=o,s!==0&&(n=nc(s)))}else o=r&~i,o!==0?n=nc(o):s!==0&&(n=nc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qn(t),i=1<<r,n|=e[r],t&=~i;return n}function ZR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Qn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=ZR(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h_(){var e=nd;return nd<<=1,!(nd&4194240)&&(nd=64),e}function ng(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=r}function e3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Qn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Px(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var se=0;function f_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p_,Fx,g_,m_,x_,Em=!1,sd=[],Cs=null,Ts=null,Es=null,Hc=new Map,qc=new Map,gs=[],r3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s1(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(t.pointerId)}}function Rl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ju(t),t!==null&&Fx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function n3(e,t,r,n,i){switch(t){case"focusin":return Cs=Rl(Cs,e,t,r,n,i),!0;case"dragenter":return Ts=Rl(Ts,e,t,r,n,i),!0;case"mouseover":return Es=Rl(Es,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,Rl(Hc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,qc.set(s,Rl(qc.get(s)||null,e,t,r,n,i)),!0}return!1}function y_(e){var t=fo(e.target);if(t!==null){var r=Yo(t);if(r!==null){if(t=r.tag,t===13){if(t=o_(r),t!==null){e.blockedOn=t,x_(e.priority,function(){g_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);km=n,r.target.dispatchEvent(n),km=null}else return t=ju(r),t!==null&&Fx(t),e.blockedOn=r,!1;t.shift()}return!0}function o1(e,t,r){Ud(e)&&r.delete(t)}function i3(){Em=!1,Cs!==null&&Ud(Cs)&&(Cs=null),Ts!==null&&Ud(Ts)&&(Ts=null),Es!==null&&Ud(Es)&&(Es=null),Hc.forEach(o1),qc.forEach(o1)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Em||(Em=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,i3)))}function Uc(e){function t(i){return Bl(i,e)}if(0<sd.length){Bl(sd[0],e);for(var r=1;r<sd.length;r++){var n=sd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cs!==null&&Bl(Cs,e),Ts!==null&&Bl(Ts,e),Es!==null&&Bl(Es,e),Hc.forEach(t),qc.forEach(t),r=0;r<gs.length;r++)n=gs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<gs.length&&(r=gs[0],r.blockedOn===null);)y_(r),r.blockedOn===null&&gs.shift()}var Ra=ns.ReactCurrentBatchConfig,Ah=!0;function s3(e,t,r,n){var i=se,s=Ra.transition;Ra.transition=null;try{se=1,Dx(e,t,r,n)}finally{se=i,Ra.transition=s}}function o3(e,t,r,n){var i=se,s=Ra.transition;Ra.transition=null;try{se=4,Dx(e,t,r,n)}finally{se=i,Ra.transition=s}}function Dx(e,t,r,n){if(Ah){var i=jm(e,t,r,n);if(i===null)fg(e,t,n,Lh,r),s1(e,n);else if(n3(i,e,t,r,n))n.stopPropagation();else if(s1(e,n),t&4&&-1<r3.indexOf(e)){for(;i!==null;){var s=ju(i);if(s!==null&&p_(s),s=jm(e,t,r,n),s===null&&fg(e,t,n,Lh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else fg(e,t,n,null,r)}}var Lh=null;function jm(e,t,r,n){if(Lh=null,e=Rx(n),e=fo(e),e!==null)if(t=Yo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lh=e,null}function b_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YR()){case Bx:return 1;case u_:return 4;case Eh:case GR:return 16;case d_:return 536870912;default:return 16}default:return 16}}var xs=null,Ox=null,Vd=null;function v_(){if(Vd)return Vd;var e,t=Ox,r=t.length,n,i="value"in xs?xs.value:xs.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Vd=i.slice(e,1<n?1-n:void 0)}function Yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function a1(){return!1}function gn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?od:a1,this.isPropagationStopped=a1,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$x=gn(fl),Eu=Se({},fl,{view:0,detail:0}),a3=gn(Eu),ig,sg,Pl,Wf=Se({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(ig=e.screenX-Pl.screenX,sg=e.screenY-Pl.screenY):sg=ig=0,Pl=e),ig)},movementY:function(e){return"movementY"in e?e.movementY:sg}}),l1=gn(Wf),l3=Se({},Wf,{dataTransfer:0}),c3=gn(l3),u3=Se({},Eu,{relatedTarget:0}),og=gn(u3),d3=Se({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),h3=gn(d3),f3=Se({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p3=gn(f3),g3=Se({},fl,{data:0}),c1=gn(g3),m3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y3[e])?!!t[e]:!1}function Nx(){return b3}var v3=Se({},Eu,{key:function(e){if(e.key){var t=m3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?Yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w3=gn(v3),k3=Se({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u1=gn(k3),S3=Se({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),_3=gn(S3),C3=Se({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),T3=gn(C3),E3=Se({},Wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j3=gn(E3),A3=[9,13,27,32],Ix=Ki&&"CompositionEvent"in window,wc=null;Ki&&"documentMode"in document&&(wc=document.documentMode);var L3=Ki&&"TextEvent"in window&&!wc,w_=Ki&&(!Ix||wc&&8<wc&&11>=wc),d1=" ",h1=!1;function k_(e,t){switch(e){case"keyup":return A3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function M3(e,t){switch(e){case"compositionend":return S_(t);case"keypress":return t.which!==32?null:(h1=!0,d1);case"textInput":return e=t.data,e===d1&&h1?null:e;default:return null}}function R3(e,t){if(xa)return e==="compositionend"||!Ix&&k_(e,t)?(e=v_(),Vd=Ox=xs=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w_&&t.locale!=="ko"?null:t.data;default:return null}}var B3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B3[e.type]:t==="textarea"}function __(e,t,r,n){e_(n),t=Mh(t,"onChange"),0<t.length&&(r=new $x("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kc=null,Vc=null;function P3(e){F_(e,0)}function Hf(e){var t=va(e);if(GS(t))return e}function F3(e,t){if(e==="change")return t}var C_=!1;if(Ki){var ag;if(Ki){var lg="oninput"in document;if(!lg){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),lg=typeof p1.oninput=="function"}ag=lg}else ag=!1;C_=ag&&(!document.documentMode||9<document.documentMode)}function g1(){kc&&(kc.detachEvent("onpropertychange",T_),Vc=kc=null)}function T_(e){if(e.propertyName==="value"&&Hf(Vc)){var t=[];__(t,Vc,e,Rx(e)),s_(P3,t)}}function D3(e,t,r){e==="focusin"?(g1(),kc=t,Vc=r,kc.attachEvent("onpropertychange",T_)):e==="focusout"&&g1()}function O3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hf(Vc)}function $3(e,t){if(e==="click")return Hf(t)}function N3(e,t){if(e==="input"||e==="change")return Hf(t)}function I3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:I3;function Yc(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!um.call(t,i)||!ti(e[i],t[i]))return!1}return!0}function m1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x1(e,t){var r=m1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=m1(r)}}function E_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function j_(){for(var e=window,t=_h();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_h(e.document)}return t}function zx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z3(e){var t=j_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&E_(r.ownerDocument.documentElement,r)){if(n!==null&&zx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=x1(r,s);var o=x1(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W3=Ki&&"documentMode"in document&&11>=document.documentMode,ya=null,Am=null,Sc=null,Lm=!1;function y1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lm||ya==null||ya!==_h(n)||(n=ya,"selectionStart"in n&&zx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sc&&Yc(Sc,n)||(Sc=n,n=Mh(Am,"onSelect"),0<n.length&&(t=new $x("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ya)))}function ad(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ba={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},cg={},A_={};Ki&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function qf(e){if(cg[e])return cg[e];if(!ba[e])return e;var t=ba[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A_)return cg[e]=t[r];return e}var L_=qf("animationend"),M_=qf("animationiteration"),R_=qf("animationstart"),B_=qf("transitionend"),P_=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(e,t){P_.set(e,t),Vo(t,[e])}for(var ug=0;ug<b1.length;ug++){var dg=b1[ug],H3=dg.toLowerCase(),q3=dg[0].toUpperCase()+dg.slice(1);Hs(H3,"on"+q3)}Hs(L_,"onAnimationEnd");Hs(M_,"onAnimationIteration");Hs(R_,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(B_,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function v1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,HR(n,t,void 0,e),e.currentTarget=null}function F_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;t:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;v1(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;v1(i,a,c),s=l}}}if(Th)throw e=Cm,Th=!1,Cm=null,e}function fe(e,t){var r=t[Fm];r===void 0&&(r=t[Fm]=new Set);var n=e+"__bubble";r.has(n)||(D_(t,e,2,!1),r.add(n))}function hg(e,t,r){var n=0;t&&(n|=4),D_(r,e,n,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[ld]){e[ld]=!0,HS.forEach(function(r){r!=="selectionchange"&&(U3.has(r)||hg(r,!1,e),hg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ld]||(t[ld]=!0,hg("selectionchange",!1,t))}}function D_(e,t,r,n){switch(b_(t)){case 1:var i=s3;break;case 4:i=o3;break;default:i=Dx}r=i.bind(null,t,r,e),i=void 0,!_m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fg(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue t}a=a.parentNode}}n=n.return}s_(function(){var c=s,u=Rx(r),h=[];t:{var f=P_.get(e);if(f!==void 0){var p=$x,g=e;switch(e){case"keypress":if(Yd(r)===0)break t;case"keydown":case"keyup":p=w3;break;case"focusin":g="focus",p=og;break;case"focusout":g="blur",p=og;break;case"beforeblur":case"afterblur":p=og;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=l1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_3;break;case L_:case M_:case R_:p=h3;break;case B_:p=T3;break;case"scroll":p=a3;break;case"wheel":p=j3;break;case"copy":case"cut":case"paste":p=p3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=u1}var m=(t&4)!==0,y=!m&&e==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,v;b!==null;){v=b;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,x!==null&&(C=Wc(b,x),C!=null&&m.push(Xc(b,C,v)))),y)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==km&&(g=r.relatedTarget||r.fromElement)&&(fo(g)||g[Ji]))break t;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?fo(g):null,g!==null&&(y=Yo(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=l1,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=u1,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?f:va(p),v=g==null?f:va(g),f=new m(C,b+"leave",p,r,u),f.target=y,f.relatedTarget=v,C=null,fo(u)===c&&(m=new m(x,b+"enter",g,r,u),m.target=v,m.relatedTarget=y,C=m),y=C,p&&g)e:{for(m=p,x=g,b=0,v=m;v;v=la(v))b++;for(v=0,C=x;C;C=la(C))v++;for(;0<b-v;)m=la(m),b--;for(;0<v-b;)x=la(x),v--;for(;b--;){if(m===x||x!==null&&m===x.alternate)break e;m=la(m),x=la(x)}m=null}else m=null;p!==null&&w1(h,f,p,m,!1),g!==null&&y!==null&&w1(h,y,g,m,!0)}}t:{if(f=c?va(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=F3;else if(f1(f))if(C_)k=N3;else{k=O3;var S=D3}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=$3);if(k&&(k=k(e,c))){__(h,k,r,u);break t}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&xm(f,"number",f.value)}switch(S=c?va(c):window,e){case"focusin":(f1(S)||S.contentEditable==="true")&&(ya=S,Am=c,Sc=null);break;case"focusout":Sc=Am=ya=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,y1(h,r,u);break;case"selectionchange":if(W3)break;case"keydown":case"keyup":y1(h,r,u)}var _;if(Ix)t:{switch(e){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else xa?k_(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(w_&&r.locale!=="ko"&&(xa||A!=="onCompositionStart"?A==="onCompositionEnd"&&xa&&(_=v_()):(xs=u,Ox="value"in xs?xs.value:xs.textContent,xa=!0)),S=Mh(c,A),0<S.length&&(A=new c1(A,e,null,r,u),h.push({event:A,listeners:S}),_?A.data=_:(_=S_(r),_!==null&&(A.data=_)))),(_=L3?M3(e,r):R3(e,r))&&(c=Mh(c,"onBeforeInput"),0<c.length&&(u=new c1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=_))}F_(h,t)})}function Xc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wc(e,r),s!=null&&n.unshift(Xc(e,s,i)),s=Wc(e,t),s!=null&&n.push(Xc(e,s,i))),e=e.return}return n}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w1(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Wc(r,s),l!=null&&o.unshift(Xc(r,l,a))):i||(l=Wc(r,s),l!=null&&o.push(Xc(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function k1(e){return(typeof e=="string"?e:""+e).replace(V3,`
`).replace(Y3,"")}function cd(e,t,r){if(t=k1(t),k1(e)!==t&&r)throw Error(ot(425))}function Rh(){}var Mm=null,Rm=null;function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,G3=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(e){return S1.resolve(null).then(e).catch(Q3)}:Pm;function Q3(e){setTimeout(function(){throw e})}function pg(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Uc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Uc(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),xi="__reactFiber$"+pl,Qc="__reactProps$"+pl,Ji="__reactContainer$"+pl,Fm="__reactEvents$"+pl,K3="__reactListeners$"+pl,J3="__reactHandles$"+pl;function fo(e){var t=e[xi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ji]||r[xi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_1(e);e!==null;){if(r=e[xi])return r;e=_1(e)}return t}e=r,r=e.parentNode}return null}function ju(e){return e=e[xi]||e[Ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ot(33))}function Uf(e){return e[Qc]||null}var Dm=[],wa=-1;function qs(e){return{current:e}}function ge(e){0>wa||(e.current=Dm[wa],Dm[wa]=null,wa--)}function ue(e,t){wa++,Dm[wa]=e.current,e.current=t}var Ds={},kr=qs(Ds),Kr=qs(!1),Mo=Ds;function Ga(e,t){var r=e.type.contextTypes;if(!r)return Ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(e){return e=e.childContextTypes,e!=null}function Bh(){ge(Kr),ge(kr)}function C1(e,t,r){if(kr.current!==Ds)throw Error(ot(168));ue(kr,t),ue(Kr,r)}function O_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ot(108,DR(e)||"Unknown",i));return Se({},r,n)}function Ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,Mo=kr.current,ue(kr,e),ue(Kr,Kr.current),!0}function T1(e,t,r){var n=e.stateNode;if(!n)throw Error(ot(169));r?(e=O_(e,t,Mo),n.__reactInternalMemoizedMergedChildContext=e,ge(Kr),ge(kr),ue(kr,e)):ge(Kr),ue(Kr,r)}var zi=null,Vf=!1,gg=!1;function $_(e){zi===null?zi=[e]:zi.push(e)}function Z3(e){Vf=!0,$_(e)}function Us(){if(!gg&&zi!==null){gg=!0;var e=0,t=se;try{var r=zi;for(se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zi=null,Vf=!1}catch(i){throw zi!==null&&(zi=zi.slice(e+1)),c_(Bx,Us),i}finally{se=t,gg=!1}}return null}var ka=[],Sa=0,Fh=null,Dh=0,_n=[],Cn=0,Ro=null,Hi=1,qi="";function so(e,t){ka[Sa++]=Dh,ka[Sa++]=Fh,Fh=e,Dh=t}function N_(e,t,r){_n[Cn++]=Hi,_n[Cn++]=qi,_n[Cn++]=Ro,Ro=e;var n=Hi;e=qi;var i=32-Qn(n)-1;n&=~(1<<i),r+=1;var s=32-Qn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Hi=1<<32-Qn(t)+i|r<<i|n,qi=s+e}else Hi=1<<s|r<<i|n,qi=e}function Wx(e){e.return!==null&&(so(e,1),N_(e,1,0))}function Hx(e){for(;e===Fh;)Fh=ka[--Sa],ka[Sa]=null,Dh=ka[--Sa],ka[Sa]=null;for(;e===Ro;)Ro=_n[--Cn],_n[Cn]=null,qi=_n[--Cn],_n[Cn]=null,Hi=_n[--Cn],_n[Cn]=null}var un=null,cn=null,be=!1,qn=null;function I_(e,t){var r=Tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function E1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,cn=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ro!==null?{id:Hi,overflow:qi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,un=e,cn=null,!0):!1;default:return!1}}function Om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $m(e){if(be){var t=cn;if(t){var r=t;if(!E1(e,t)){if(Om(e))throw Error(ot(418));t=js(r.nextSibling);var n=un;t&&E1(e,t)?I_(n,r):(e.flags=e.flags&-4097|2,be=!1,un=e)}}else{if(Om(e))throw Error(ot(418));e.flags=e.flags&-4097|2,be=!1,un=e}}}function j1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function ud(e){if(e!==un)return!1;if(!be)return j1(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bm(e.type,e.memoizedProps)),t&&(t=cn)){if(Om(e))throw z_(),Error(ot(418));for(;t;)I_(e,t),t=js(t.nextSibling)}if(j1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cn=js(e.nextSibling);break t}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cn=null}}else cn=un?js(e.stateNode.nextSibling):null;return!0}function z_(){for(var e=cn;e;)e=js(e.nextSibling)}function Xa(){cn=un=null,be=!1}function qx(e){qn===null?qn=[e]:qn.push(e)}var tB=ns.ReactCurrentBatchConfig;function Fl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ot(309));var n=r.stateNode}if(!n)throw Error(ot(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ot(284));if(!r._owner)throw Error(ot(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(ot(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A1(e){var t=e._init;return t(e._payload)}function W_(e){function t(x,b){if(e){var v=x.deletions;v===null?(x.deletions=[b],x.flags|=16):v.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Rs(x,b),x.index=0,x.sibling=null,x}function s(x,b,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<b?(x.flags|=2,b):v):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,v,C){return b===null||b.tag!==6?(b=kg(v,x.mode,C),b.return=x,b):(b=i(b,v),b.return=x,b)}function l(x,b,v,C){var k=v.type;return k===ma?u(x,b,v.props.children,C,v.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&A1(k)===b.type)?(C=i(b,v.props),C.ref=Fl(x,b,v),C.return=x,C):(C=th(v.type,v.key,v.props,null,x.mode,C),C.ref=Fl(x,b,v),C.return=x,C)}function c(x,b,v,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Sg(v,x.mode,C),b.return=x,b):(b=i(b,v.children||[]),b.return=x,b)}function u(x,b,v,C,k){return b===null||b.tag!==7?(b=_o(v,x.mode,C,k),b.return=x,b):(b=i(b,v),b.return=x,b)}function h(x,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kg(""+b,x.mode,v),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case td:return v=th(b.type,b.key,b.props,null,x.mode,v),v.ref=Fl(x,null,b),v.return=x,v;case ga:return b=Sg(b,x.mode,v),b.return=x,b;case hs:var C=b._init;return h(x,C(b._payload),v)}if(rc(b)||Ll(b))return b=_o(b,x.mode,v,null),b.return=x,b;dd(x,b)}return null}function f(x,b,v,C){var k=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(x,b,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case td:return v.key===k?l(x,b,v,C):null;case ga:return v.key===k?c(x,b,v,C):null;case hs:return k=v._init,f(x,b,k(v._payload),C)}if(rc(v)||Ll(v))return k!==null?null:u(x,b,v,C,null);dd(x,v)}return null}function p(x,b,v,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(v)||null,a(b,x,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case td:return x=x.get(C.key===null?v:C.key)||null,l(b,x,C,k);case ga:return x=x.get(C.key===null?v:C.key)||null,c(b,x,C,k);case hs:var S=C._init;return p(x,b,v,S(C._payload),k)}if(rc(C)||Ll(C))return x=x.get(v)||null,u(b,x,C,k,null);dd(b,C)}return null}function g(x,b,v,C){for(var k=null,S=null,_=b,A=b=0,D=null;_!==null&&A<v.length;A++){_.index>A?(D=_,_=null):D=_.sibling;var F=f(x,_,v[A],C);if(F===null){_===null&&(_=D);break}e&&_&&F.alternate===null&&t(x,_),b=s(F,b,A),S===null?k=F:S.sibling=F,S=F,_=D}if(A===v.length)return r(x,_),be&&so(x,A),k;if(_===null){for(;A<v.length;A++)_=h(x,v[A],C),_!==null&&(b=s(_,b,A),S===null?k=_:S.sibling=_,S=_);return be&&so(x,A),k}for(_=n(x,_);A<v.length;A++)D=p(_,x,A,v[A],C),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?A:D.key),b=s(D,b,A),S===null?k=D:S.sibling=D,S=D);return e&&_.forEach(function(O){return t(x,O)}),be&&so(x,A),k}function m(x,b,v,C){var k=Ll(v);if(typeof k!="function")throw Error(ot(150));if(v=k.call(v),v==null)throw Error(ot(151));for(var S=k=null,_=b,A=b=0,D=null,F=v.next();_!==null&&!F.done;A++,F=v.next()){_.index>A?(D=_,_=null):D=_.sibling;var O=f(x,_,F.value,C);if(O===null){_===null&&(_=D);break}e&&_&&O.alternate===null&&t(x,_),b=s(O,b,A),S===null?k=O:S.sibling=O,S=O,_=D}if(F.done)return r(x,_),be&&so(x,A),k;if(_===null){for(;!F.done;A++,F=v.next())F=h(x,F.value,C),F!==null&&(b=s(F,b,A),S===null?k=F:S.sibling=F,S=F);return be&&so(x,A),k}for(_=n(x,_);!F.done;A++,F=v.next())F=p(_,x,A,F.value,C),F!==null&&(e&&F.alternate!==null&&_.delete(F.key===null?A:F.key),b=s(F,b,A),S===null?k=F:S.sibling=F,S=F);return e&&_.forEach(function(W){return t(x,W)}),be&&so(x,A),k}function y(x,b,v,C){if(typeof v=="object"&&v!==null&&v.type===ma&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case td:t:{for(var k=v.key,S=b;S!==null;){if(S.key===k){if(k=v.type,k===ma){if(S.tag===7){r(x,S.sibling),b=i(S,v.props.children),b.return=x,x=b;break t}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&A1(k)===S.type){r(x,S.sibling),b=i(S,v.props),b.ref=Fl(x,S,v),b.return=x,x=b;break t}r(x,S);break}else t(x,S);S=S.sibling}v.type===ma?(b=_o(v.props.children,x.mode,C,v.key),b.return=x,x=b):(C=th(v.type,v.key,v.props,null,x.mode,C),C.ref=Fl(x,b,v),C.return=x,x=C)}return o(x);case ga:t:{for(S=v.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(x,b.sibling),b=i(b,v.children||[]),b.return=x,x=b;break t}else{r(x,b);break}else t(x,b);b=b.sibling}b=Sg(v,x.mode,C),b.return=x,x=b}return o(x);case hs:return S=v._init,y(x,b,S(v._payload),C)}if(rc(v))return g(x,b,v,C);if(Ll(v))return m(x,b,v,C);dd(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,v),b.return=x,x=b):(r(x,b),b=kg(v,x.mode,C),b.return=x,x=b),o(x)):r(x,b)}return y}var Qa=W_(!0),H_=W_(!1),Oh=qs(null),$h=null,_a=null,Ux=null;function Vx(){Ux=_a=$h=null}function Yx(e){var t=Oh.current;ge(Oh),e._currentValue=t}function Nm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ba(e,t){$h=e,Ux=_a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xr=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(Ux!==e)if(e={context:e,memoizedValue:t,next:null},_a===null){if($h===null)throw Error(ot(308));_a=e,$h.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var po=null;function Gx(e){po===null?po=[e]:po.push(e)}function q_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Gx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zi(e,n)}function Zi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fs=!1;function Xx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Kt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zi(e,r)}return i=n.interleaved,i===null?(t.next=t,Gx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zi(e,r)}function Gd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Px(e,r)}}function L1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nh(e,t,r,n){var i=e.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var g=e,m=a;switch(f=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break t}h=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break t;h=Se({},h,f);break t;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Po|=o,e.lanes=o,e.memoizedState=h}}function M1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ot(191,i));i.call(n)}}}var Au={},bi=qs(Au),Kc=qs(Au),Jc=qs(Au);function go(e){if(e===Au)throw Error(ot(174));return e}function Qx(e,t){switch(ue(Jc,t),ue(Kc,e),ue(bi,Au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}ge(bi),ue(bi,t)}function Ka(){ge(bi),ge(Kc),ge(Jc)}function V_(e){go(Jc.current);var t=go(bi.current),r=bm(t,e.type);t!==r&&(ue(Kc,e),ue(bi,r))}function Kx(e){Kc.current===e&&(ge(bi),ge(Kc))}var we=qs(0);function Ih(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mg=[];function Jx(){for(var e=0;e<mg.length;e++)mg[e]._workInProgressVersionPrimary=null;mg.length=0}var Xd=ns.ReactCurrentDispatcher,xg=ns.ReactCurrentBatchConfig,Bo=0,ke=null,Ie=null,Ye=null,zh=!1,_c=!1,Zc=0,eB=0;function cr(){throw Error(ot(321))}function Zx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ti(e[r],t[r]))return!1;return!0}function ty(e,t,r,n,i,s){if(Bo=s,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xd.current=e===null||e.memoizedState===null?sB:oB,e=r(n,i),_c){s=0;do{if(_c=!1,Zc=0,25<=s)throw Error(ot(301));s+=1,Ye=Ie=null,t.updateQueue=null,Xd.current=aB,e=r(n,i)}while(_c)}if(Xd.current=Wh,t=Ie!==null&&Ie.next!==null,Bo=0,Ye=Ie=ke=null,zh=!1,t)throw Error(ot(300));return e}function ey(){var e=Zc!==0;return Zc=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ke.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ln(){if(Ie===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Ye===null?ke.memoizedState:Ye.next;if(t!==null)Ye=t,Ie=e;else{if(e===null)throw Error(ot(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ye===null?ke.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function tu(e,t){return typeof t=="function"?t(e):t}function yg(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=Ie,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Bo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,ke.lanes|=u,Po|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,ti(n,t.memoizedState)||(Xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ke.lanes|=s,Po|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bg(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ti(s,t.memoizedState)||(Xr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Y_(){}function G_(e,t){var r=ke,n=Ln(),i=t(),s=!ti(n.memoizedState,i);if(s&&(n.memoizedState=i,Xr=!0),n=n.queue,ry(K_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,eu(9,Q_.bind(null,r,n,i,t),void 0,null),Xe===null)throw Error(ot(349));Bo&30||X_(r,t,i)}return i}function X_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q_(e,t,r,n){t.value=r,t.getSnapshot=n,J_(t)&&Z_(e)}function K_(e,t,r){return r(function(){J_(t)&&Z_(e)})}function J_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ti(e,r)}catch{return!0}}function Z_(e){var t=Zi(e,1);t!==null&&Kn(t,e,1,-1)}function R1(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=iB.bind(null,ke,e),[t.memoizedState,e]}function eu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function t2(){return Ln().memoizedState}function Qd(e,t,r,n){var i=pi();ke.flags|=e,i.memoizedState=eu(1|t,r,void 0,n===void 0?null:n)}function Yf(e,t,r,n){var i=Ln();n=n===void 0?null:n;var s=void 0;if(Ie!==null){var o=Ie.memoizedState;if(s=o.destroy,n!==null&&Zx(n,o.deps)){i.memoizedState=eu(t,r,s,n);return}}ke.flags|=e,i.memoizedState=eu(1|t,r,s,n)}function B1(e,t){return Qd(8390656,8,e,t)}function ry(e,t){return Yf(2048,8,e,t)}function e2(e,t){return Yf(4,2,e,t)}function r2(e,t){return Yf(4,4,e,t)}function n2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i2(e,t,r){return r=r!=null?r.concat([e]):null,Yf(4,4,n2.bind(null,t,e),r)}function ny(){}function s2(e,t){var r=Ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function o2(e,t){var r=Ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function a2(e,t,r){return Bo&21?(ti(r,t)||(r=h_(),ke.lanes|=r,Po|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xr=!0),e.memoizedState=r)}function rB(e,t){var r=se;se=r!==0&&4>r?r:4,e(!0);var n=xg.transition;xg.transition={};try{e(!1),t()}finally{se=r,xg.transition=n}}function l2(){return Ln().memoizedState}function nB(e,t,r){var n=Ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c2(e))u2(t,r);else if(r=q_(e,t,r,n),r!==null){var i=Br();Kn(r,e,n,i),d2(r,t,n)}}function iB(e,t,r){var n=Ms(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c2(e))u2(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ti(a,o)){var l=t.interleaved;l===null?(i.next=i,Gx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=q_(e,t,i,n),r!==null&&(i=Br(),Kn(r,e,n,i),d2(r,t,n))}}function c2(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function u2(e,t){_c=zh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Px(e,r)}}var Wh={readContext:An,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},sB={readContext:An,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:B1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qd(4194308,4,n2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qd(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nB.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:R1,useDebugValue:ny,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=R1(!1),t=e[0];return e=rB.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ke,i=pi();if(be){if(r===void 0)throw Error(ot(407));r=r()}else{if(r=t(),Xe===null)throw Error(ot(349));Bo&30||X_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,B1(K_.bind(null,n,s,e),[e]),n.flags|=2048,eu(9,Q_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=pi(),t=Xe.identifierPrefix;if(be){var r=qi,n=Hi;r=(n&~(1<<32-Qn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oB={readContext:An,useCallback:s2,useContext:An,useEffect:ry,useImperativeHandle:i2,useInsertionEffect:e2,useLayoutEffect:r2,useMemo:o2,useReducer:yg,useRef:t2,useState:function(){return yg(tu)},useDebugValue:ny,useDeferredValue:function(e){var t=Ln();return a2(t,Ie.memoizedState,e)},useTransition:function(){var e=yg(tu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Y_,useSyncExternalStore:G_,useId:l2,unstable_isNewReconciler:!1},aB={readContext:An,useCallback:s2,useContext:An,useEffect:ry,useImperativeHandle:i2,useInsertionEffect:e2,useLayoutEffect:r2,useMemo:o2,useReducer:bg,useRef:t2,useState:function(){return bg(tu)},useDebugValue:ny,useDeferredValue:function(e){var t=Ln();return Ie===null?t.memoizedState=e:a2(t,Ie.memoizedState,e)},useTransition:function(){var e=bg(tu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Y_,useSyncExternalStore:G_,useId:l2,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Im(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gf={isMounted:function(e){return(e=e._reactInternals)?Yo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Br(),i=Ms(e),s=Yi(n,i);s.payload=t,r!=null&&(s.callback=r),t=As(e,s,i),t!==null&&(Kn(t,e,i,n),Gd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Br(),i=Ms(e),s=Yi(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=As(e,s,i),t!==null&&(Kn(t,e,i,n),Gd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Br(),n=Ms(e),i=Yi(r,n);i.tag=2,t!=null&&(i.callback=t),t=As(e,i,n),t!==null&&(Kn(t,e,n,r),Gd(t,e,n))}};function P1(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yc(r,n)||!Yc(i,s):!0}function h2(e,t,r){var n=!1,i=Ds,s=t.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=Jr(t)?Mo:kr.current,n=t.contextTypes,s=(n=n!=null)?Ga(e,i):Ds),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function F1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gf.enqueueReplaceState(t,t.state,null)}function zm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Xx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=Jr(t)?Mo:kr.current,i.context=Ga(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Im(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gf.enqueueReplaceState(i,i.state,null),Nh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var r="",n=t;do r+=FR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function vg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lB=typeof WeakMap=="function"?WeakMap:Map;function f2(e,t,r){r=Yi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qh||(qh=!0,Jm=n),Wm(e,t)},r}function p2(e,t,r){r=Yi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Wm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Wm(e,t),typeof n!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function D1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lB;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kB.bind(null,e,t,r),t.then(e,e))}function O1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yi(-1,1),t.tag=2,As(r,t,1))),r.lanes|=1),e)}var cB=ns.ReactCurrentOwner,Xr=!1;function Ar(e,t,r,n){t.child=e===null?H_(t,null,r,n):Qa(t,e.child,r,n)}function N1(e,t,r,n,i){r=r.render;var s=t.ref;return Ba(t,i),n=ty(e,t,r,n,s,i),r=ey(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ts(e,t,i)):(be&&r&&Wx(t),t.flags|=1,Ar(e,t,n,i),t.child)}function I1(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!dy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,g2(e,t,s,n,i)):(e=th(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yc,r(o,n)&&e.ref===t.ref)return ts(e,t,i)}return t.flags|=1,e=Rs(s,n),e.ref=t.ref,e.return=t,t.child=e}function g2(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Yc(s,n)&&e.ref===t.ref)if(Xr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Xr=!0);else return t.lanes=e.lanes,ts(e,t,i)}return Hm(e,t,r,n,i)}function m2(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ta,ln),ln|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Ta,ln),ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ue(Ta,ln),ln|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ue(Ta,ln),ln|=n;return Ar(e,t,i,r),t.child}function x2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hm(e,t,r,n,i){var s=Jr(r)?Mo:kr.current;return s=Ga(t,s),Ba(t,i),r=ty(e,t,r,n,s,i),n=ey(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ts(e,t,i)):(be&&n&&Wx(t),t.flags|=1,Ar(e,t,r,i),t.child)}function z1(e,t,r,n,i){if(Jr(r)){var s=!0;Ph(t)}else s=!1;if(Ba(t,i),t.stateNode===null)Kd(e,t),h2(t,r,n),zm(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=An(c):(c=Jr(r)?Mo:kr.current,c=Ga(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&F1(t,o,n,c),fs=!1;var f=t.memoizedState;o.state=f,Nh(t,n,o,i),l=t.memoizedState,a!==n||f!==l||Kr.current||fs?(typeof u=="function"&&(Im(t,r,u,n),l=t.memoizedState),(a=fs||P1(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,U_(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Wn(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=An(l):(l=Jr(r)?Mo:kr.current,l=Ga(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&F1(t,o,n,l),fs=!1,f=t.memoizedState,o.state=f,Nh(t,n,o,i);var g=t.memoizedState;a!==h||f!==g||Kr.current||fs?(typeof p=="function"&&(Im(t,r,p,n),g=t.memoizedState),(c=fs||P1(t,r,c,n,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return qm(e,t,r,n,s,i)}function qm(e,t,r,n,i,s){x2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&T1(t,r,!1),ts(e,t,s);n=t.stateNode,cB.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qa(t,e.child,null,s),t.child=Qa(t,null,a,s)):Ar(e,t,a,s),t.memoizedState=n.state,i&&T1(t,r,!0),t.child}function y2(e){var t=e.stateNode;t.pendingContext?C1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C1(e,t.context,!1),Qx(e,t.containerInfo)}function W1(e,t,r,n,i){return Xa(),qx(i),t.flags|=256,Ar(e,t,r,n),t.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Vm(e){return{baseLanes:e,cachePool:null,transitions:null}}function b2(e,t,r){var n=t.pendingProps,i=we.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(we,i&1),e===null)return $m(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kf(o,n,0,null),e=_o(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vm(r),t.memoizedState=Um,e):iy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uB(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Rs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rs(a,s):(s=_o(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Vm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Um,n}return s=e.child,e=s.sibling,n=Rs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function iy(e,t){return t=Kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hd(e,t,r,n){return n!==null&&qx(n),Qa(t,e.child,null,r),e=iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uB(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=vg(Error(ot(422))),hd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Kf({mode:"visible",children:n.children},i,0,null),s=_o(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Qa(t,e.child,null,o),t.child.memoizedState=Vm(o),t.memoizedState=Um,s);if(!(t.mode&1))return hd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ot(419)),n=vg(s,n,void 0),hd(e,t,o,n)}if(a=(o&e.childLanes)!==0,Xr||a){if(n=Xe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zi(e,i),Kn(n,e,i,-1))}return uy(),n=vg(Error(ot(421))),hd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=SB.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,cn=js(i.nextSibling),un=t,be=!0,qn=null,e!==null&&(_n[Cn++]=Hi,_n[Cn++]=qi,_n[Cn++]=Ro,Hi=e.id,qi=e.overflow,Ro=t),t=iy(t,n.children),t.flags|=4096,t)}function H1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nm(e.return,t,r)}function wg(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function v2(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ar(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&H1(e,r,t);else if(e.tag===19)H1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(we,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ih(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),wg(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ih(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}wg(t,!0,r,null,s);break;case"together":wg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ts(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ot(153));if(t.child!==null){for(e=t.child,r=Rs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dB(e,t,r){switch(t.tag){case 3:y2(t),Xa();break;case 5:V_(t);break;case 1:Jr(t.type)&&Ph(t);break;case 4:Qx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ue(Oh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?b2(e,t,r):(ue(we,we.current&1),e=ts(e,t,r),e!==null?e.sibling:null);ue(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v2(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,m2(e,t,r)}return ts(e,t,r)}var w2,Ym,k2,S2;w2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ym=function(){};k2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,go(bi.current);var s=null;switch(r){case"input":i=gm(e,i),n=gm(e,n),s=[];break;case"select":i=Se({},i,{value:void 0}),n=Se({},n,{value:void 0}),s=[];break;case"textarea":i=ym(e,i),n=ym(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rh)}vm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ic.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};S2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dl(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hB(e,t,r){var n=t.pendingProps;switch(Hx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return Jr(t.type)&&Bh(),ur(t),null;case 3:return n=t.stateNode,Ka(),ge(Kr),ge(kr),Jx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(e0(qn),qn=null))),Ym(e,t),ur(t),null;case 5:Kx(t);var i=go(Jc.current);if(r=t.type,e!==null&&t.stateNode!=null)k2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ot(166));return ur(t),null}if(e=go(bi.current),ud(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[xi]=t,n[Qc]=s,e=(t.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(i=0;i<ic.length;i++)fe(ic[i],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":Jb(n,s),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},fe("invalid",n);break;case"textarea":t1(n,s),fe("invalid",n)}vm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&cd(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cd(n.textContent,a,e),i=["children",""+a]):Ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",n)}switch(r){case"input":ed(n),Zb(n,s,!0);break;case"textarea":ed(n),e1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xi]=t,e[Qc]=n,w2(e,t,!1,!1),t.stateNode=e;t:{switch(o=wm(r,n),r){case"dialog":fe("cancel",e),fe("close",e),i=n;break;case"iframe":case"object":case"embed":fe("load",e),i=n;break;case"video":case"audio":for(i=0;i<ic.length;i++)fe(ic[i],e);i=n;break;case"source":fe("error",e),i=n;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=n;break;case"details":fe("toggle",e),i=n;break;case"input":Jb(e,n),i=gm(e,n),fe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Se({},n,{value:void 0}),fe("invalid",e);break;case"textarea":t1(e,n),i=ym(e,n),fe("invalid",e);break;default:i=n}vm(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?t_(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JS(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zc(e,l):typeof l=="number"&&zc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fe("scroll",e):l!=null&&jx(e,s,l,o))}switch(r){case"input":ed(e),Zb(e,n,!1);break;case"textarea":ed(e),e1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Aa(e,!!n.multiple,s,!1):n.defaultValue!=null&&Aa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)S2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ot(166));if(r=go(Jc.current),go(bi.current),ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[xi]=t,(s=n.nodeValue!==r)&&(e=un,e!==null))switch(e.tag){case 3:cd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=t,t.stateNode=n}return ur(t),null;case 13:if(ge(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&cn!==null&&t.mode&1&&!(t.flags&128))z_(),Xa(),t.flags|=98560,s=!1;else if(s=ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ot(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ot(317));s[xi]=t}else Xa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),s=!1}else qn!==null&&(e0(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?He===0&&(He=3):uy())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return Ka(),Ym(e,t),e===null&&Gc(t.stateNode.containerInfo),ur(t),null;case 10:return Yx(t.type._context),ur(t),null;case 17:return Jr(t.type)&&Bh(),ur(t),null;case 19:if(ge(we),s=t.memoizedState,s===null)return ur(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Dl(s,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ih(e),o!==null){for(t.flags|=128,Dl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(we,we.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>Za&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ih(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return ur(t),null}else 2*Le()-s.renderingStartTime>Za&&r!==1073741824&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,r=we.current,ue(we,n?r&1|2:r&1),t):(ur(t),null);case 22:case 23:return cy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ln&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(ot(156,t.tag))}function fB(e,t){switch(Hx(t),t.tag){case 1:return Jr(t.type)&&Bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),ge(Kr),ge(kr),Jx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kx(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));Xa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return Ka(),null;case 10:return Yx(t.type._context),null;case 22:case 23:return cy(),null;case 24:return null;default:return null}}var fd=!1,mr=!1,pB=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Ca(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Gm(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var q1=!1;function gB(e,t){if(Mm=Ah,e=j_(),zx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break t}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;e:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break e;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rm={focusedElem:e,selectionRange:r},Ah=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wn(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(C){Ee(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return g=q1,q1=!1,g}function Cc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gm(t,r,s)}i=i.next}while(i!==n)}}function Xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _2(e){var t=e.alternate;t!==null&&(e.alternate=null,_2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[Qc],delete t[Fm],delete t[K3],delete t[J3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C2(e){return e.tag===5||e.tag===3||e.tag===4}function U1(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||C2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rh));else if(n!==4&&(e=e.child,e!==null))for(Qm(e,t,r),e=e.sibling;e!==null;)Qm(e,t,r),e=e.sibling}function Km(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Km(e,t,r),e=e.sibling;e!==null;)Km(e,t,r),e=e.sibling}var rr=null,Hn=!1;function cs(e,t,r){for(r=r.child;r!==null;)T2(e,t,r),r=r.sibling}function T2(e,t,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(zf,r)}catch{}switch(r.tag){case 5:mr||Ca(r,t);case 6:var n=rr,i=Hn;rr=null,cs(e,t,r),rr=n,Hn=i,rr!==null&&(Hn?(e=rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(Hn?(e=rr,r=r.stateNode,e.nodeType===8?pg(e.parentNode,r):e.nodeType===1&&pg(e,r),Uc(e)):pg(rr,r.stateNode));break;case 4:n=rr,i=Hn,rr=r.stateNode.containerInfo,Hn=!0,cs(e,t,r),rr=n,Hn=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gm(r,t,o),i=i.next}while(i!==n)}cs(e,t,r);break;case 1:if(!mr&&(Ca(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ee(r,t,a)}cs(e,t,r);break;case 21:cs(e,t,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,cs(e,t,r),mr=n):cs(e,t,r);break;default:cs(e,t,r)}}function V1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pB),t.forEach(function(n){var i=_B.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:rr=a.stateNode,Hn=!1;break t;case 3:rr=a.stateNode.containerInfo,Hn=!0;break t;case 4:rr=a.stateNode.containerInfo,Hn=!0;break t}a=a.return}if(rr===null)throw Error(ot(160));T2(s,o,i),rr=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ee(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E2(t,e),t=t.sibling}function E2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),ai(e),n&4){try{Cc(3,e,e.return),Xf(3,e)}catch(m){Ee(e,e.return,m)}try{Cc(5,e,e.return)}catch(m){Ee(e,e.return,m)}}break;case 1:Nn(t,e),ai(e),n&512&&r!==null&&Ca(r,r.return);break;case 5:if(Nn(t,e),ai(e),n&512&&r!==null&&Ca(r,r.return),e.flags&32){var i=e.stateNode;try{zc(i,"")}catch(m){Ee(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XS(i,s),wm(a,o);var c=wm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?t_(i,h):u==="dangerouslySetInnerHTML"?JS(i,h):u==="children"?zc(i,h):jx(i,u,h,c)}switch(a){case"input":mm(i,s);break;case"textarea":QS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Aa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Aa(i,!!s.multiple,s.defaultValue,!0):Aa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(m){Ee(e,e.return,m)}}break;case 6:if(Nn(t,e),ai(e),n&4){if(e.stateNode===null)throw Error(ot(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Ee(e,e.return,m)}}break;case 3:if(Nn(t,e),ai(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uc(t.containerInfo)}catch(m){Ee(e,e.return,m)}break;case 4:Nn(t,e),ai(e);break;case 13:Nn(t,e),ai(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ay=Le())),n&4&&V1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(mr=(c=mr)||u,Nn(t,e),mr=c):Nn(t,e),ai(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(gt=e,u=e.child;u!==null;){for(h=gt=u;gt!==null;){switch(f=gt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cc(4,f,f.return);break;case 1:Ca(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ee(n,r,m)}}break;case 5:Ca(f,f.return);break;case 22:if(f.memoizedState!==null){G1(h);continue}}p!==null?(p.return=f,gt=p):G1(h)}u=u.sibling}t:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZS("display",o))}catch(m){Ee(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Ee(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(t,e),ai(e),n&4&&V1(e);break;case 21:break;default:Nn(t,e),ai(e)}}function ai(e){var t=e.flags;if(t&2){try{t:{for(var r=e.return;r!==null;){if(C2(r)){var n=r;break t}r=r.return}throw Error(ot(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zc(i,""),n.flags&=-33);var s=U1(e);Km(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=U1(e);Qm(e,a,o);break;default:throw Error(ot(161))}}catch(l){Ee(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mB(e,t,r){gt=e,j2(e)}function j2(e,t,r){for(var n=(e.mode&1)!==0;gt!==null;){var i=gt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||fd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mr;a=fd;var c=mr;if(fd=o,(mr=l)&&!c)for(gt=i;gt!==null;)o=gt,l=o.child,o.tag===22&&o.memoizedState!==null?X1(i):l!==null?(l.return=o,gt=l):X1(i);for(;s!==null;)gt=s,j2(s),s=s.sibling;gt=i,fd=a,mr=c}Y1(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,gt=s):Y1(e)}}function Y1(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mr||Xf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&M1(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}M1(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Uc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}mr||t.flags&512&&Xm(t)}catch(f){Ee(t,t.return,f)}}if(t===e){gt=null;break}if(r=t.sibling,r!==null){r.return=t.return,gt=r;break}gt=t.return}}function G1(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,gt=r;break}gt=t.return}}function X1(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xf(4,t)}catch(l){Ee(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Ee(t,i,l)}}var s=t.return;try{Xm(t)}catch(l){Ee(t,s,l)}break;case 5:var o=t.return;try{Xm(t)}catch(l){Ee(t,o,l)}}}catch(l){Ee(t,t.return,l)}if(t===e){gt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,gt=a;break}gt=t.return}}var xB=Math.ceil,Hh=ns.ReactCurrentDispatcher,sy=ns.ReactCurrentOwner,jn=ns.ReactCurrentBatchConfig,Kt=0,Xe=null,Fe=null,ir=0,ln=0,Ta=qs(0),He=0,ru=null,Po=0,Qf=0,oy=0,Tc=null,Ur=null,ay=0,Za=1/0,Ii=null,qh=!1,Jm=null,Ls=null,pd=!1,ys=null,Uh=0,Ec=0,Zm=null,Jd=-1,Zd=0;function Br(){return Kt&6?Le():Jd!==-1?Jd:Jd=Le()}function Ms(e){return e.mode&1?Kt&2&&ir!==0?ir&-ir:tB.transition!==null?(Zd===0&&(Zd=h_()),Zd):(e=se,e!==0||(e=window.event,e=e===void 0?16:b_(e.type)),e):1}function Kn(e,t,r,n){if(50<Ec)throw Ec=0,Zm=null,Error(ot(185));Tu(e,r,n),(!(Kt&2)||e!==Xe)&&(e===Xe&&(!(Kt&2)&&(Qf|=r),He===4&&ms(e,ir)),Zr(e,n),r===1&&Kt===0&&!(t.mode&1)&&(Za=Le()+500,Vf&&Us()))}function Zr(e,t){var r=e.callbackNode;t3(e,t);var n=jh(e,e===Xe?ir:0);if(n===0)r!==null&&i1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&i1(r),t===1)e.tag===0?Z3(Q1.bind(null,e)):$_(Q1.bind(null,e)),X3(function(){!(Kt&6)&&Us()}),r=null;else{switch(f_(n)){case 1:r=Bx;break;case 4:r=u_;break;case 16:r=Eh;break;case 536870912:r=d_;break;default:r=Eh}r=D2(r,A2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function A2(e,t){if(Jd=-1,Zd=0,Kt&6)throw Error(ot(327));var r=e.callbackNode;if(Pa()&&e.callbackNode!==r)return null;var n=jh(e,e===Xe?ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vh(e,n);else{t=n;var i=Kt;Kt|=2;var s=M2();(Xe!==e||ir!==t)&&(Ii=null,Za=Le()+500,So(e,t));do try{vB();break}catch(a){L2(e,a)}while(!0);Vx(),Hh.current=s,Kt=i,Fe!==null?t=0:(Xe=null,ir=0,t=He)}if(t!==0){if(t===2&&(i=Tm(e),i!==0&&(n=i,t=t0(e,i))),t===1)throw r=ru,So(e,0),ms(e,n),Zr(e,Le()),r;if(t===6)ms(e,n);else{if(i=e.current.alternate,!(n&30)&&!yB(i)&&(t=Vh(e,n),t===2&&(s=Tm(e),s!==0&&(n=s,t=t0(e,s))),t===1))throw r=ru,So(e,0),ms(e,n),Zr(e,Le()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ot(345));case 2:oo(e,Ur,Ii);break;case 3:if(ms(e,n),(n&130023424)===n&&(t=ay+500-Le(),10<t)){if(jh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Br(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pm(oo.bind(null,e,Ur,Ii),t);break}oo(e,Ur,Ii);break;case 4:if(ms(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Qn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xB(n/1960))-n,10<n){e.timeoutHandle=Pm(oo.bind(null,e,Ur,Ii),n);break}oo(e,Ur,Ii);break;case 5:oo(e,Ur,Ii);break;default:throw Error(ot(329))}}}return Zr(e,Le()),e.callbackNode===r?A2.bind(null,e):null}function t0(e,t){var r=Tc;return e.current.memoizedState.isDehydrated&&(So(e,t).flags|=256),e=Vh(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&e0(t)),e}function e0(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function yB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ti(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ms(e,t){for(t&=~oy,t&=~Qf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qn(t),n=1<<r;e[r]=-1,t&=~n}}function Q1(e){if(Kt&6)throw Error(ot(327));Pa();var t=jh(e,0);if(!(t&1))return Zr(e,Le()),null;var r=Vh(e,t);if(e.tag!==0&&r===2){var n=Tm(e);n!==0&&(t=n,r=t0(e,n))}if(r===1)throw r=ru,So(e,0),ms(e,t),Zr(e,Le()),r;if(r===6)throw Error(ot(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oo(e,Ur,Ii),Zr(e,Le()),null}function ly(e,t){var r=Kt;Kt|=1;try{return e(t)}finally{Kt=r,Kt===0&&(Za=Le()+500,Vf&&Us())}}function Fo(e){ys!==null&&ys.tag===0&&!(Kt&6)&&Pa();var t=Kt;Kt|=1;var r=jn.transition,n=se;try{if(jn.transition=null,se=1,e)return e()}finally{se=n,jn.transition=r,Kt=t,!(Kt&6)&&Us()}}function cy(){ln=Ta.current,ge(Ta)}function So(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,G3(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(Hx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bh();break;case 3:Ka(),ge(Kr),ge(kr),Jx();break;case 5:Kx(n);break;case 4:Ka();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Yx(n.type._context);break;case 22:case 23:cy()}r=r.return}if(Xe=e,Fe=e=Rs(e.current,null),ir=ln=t,He=0,ru=null,oy=Qf=Po=0,Ur=Tc=null,po!==null){for(t=0;t<po.length;t++)if(r=po[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}po=null}return e}function L2(e,t){do{var r=Fe;try{if(Vx(),Xd.current=Wh,zh){for(var n=ke.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zh=!1}if(Bo=0,Ye=Ie=ke=null,_c=!1,Zc=0,sy.current=null,r===null||r.return===null){He=1,ru=t,Fe=null;break}t:{var s=e,o=r.return,a=r,l=t;if(t=ir,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=O1(o);if(p!==null){p.flags&=-257,$1(p,o,a,s,t),p.mode&1&&D1(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break t}else{if(!(t&1)){D1(s,c,t),uy();break t}l=Error(ot(426))}}else if(be&&a.mode&1){var y=O1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$1(y,o,a,s,t),qx(Ja(l,a));break t}}s=l=Ja(l,a),He!==4&&(He=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=f2(s,l,t);L1(s,x);break t;case 1:a=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ls===null||!Ls.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=p2(s,a,t);L1(s,C);break t}}s=s.return}while(s!==null)}B2(r)}catch(k){t=k,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(!0)}function M2(){var e=Hh.current;return Hh.current=Wh,e===null?Wh:e}function uy(){(He===0||He===3||He===2)&&(He=4),Xe===null||!(Po&268435455)&&!(Qf&268435455)||ms(Xe,ir)}function Vh(e,t){var r=Kt;Kt|=2;var n=M2();(Xe!==e||ir!==t)&&(Ii=null,So(e,t));do try{bB();break}catch(i){L2(e,i)}while(!0);if(Vx(),Kt=r,Hh.current=n,Fe!==null)throw Error(ot(261));return Xe=null,ir=0,He}function bB(){for(;Fe!==null;)R2(Fe)}function vB(){for(;Fe!==null&&!UR();)R2(Fe)}function R2(e){var t=F2(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?B2(e):Fe=t,sy.current=null}function B2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fB(r,t),r!==null){r.flags&=32767,Fe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Fe=null;return}}else if(r=hB(r,t,ln),r!==null){Fe=r;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);He===0&&(He=5)}function oo(e,t,r){var n=se,i=jn.transition;try{jn.transition=null,se=1,wB(e,t,r,n)}finally{jn.transition=i,se=n}return null}function wB(e,t,r,n){do Pa();while(ys!==null);if(Kt&6)throw Error(ot(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ot(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(e3(e,s),e===Xe&&(Fe=Xe=null,ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pd||(pd=!0,D2(Eh,function(){return Pa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=se;se=1;var a=Kt;Kt|=4,sy.current=null,gB(e,r),E2(r,e),z3(Rm),Ah=!!Mm,Rm=Mm=null,e.current=r,mB(r),VR(),Kt=a,se=o,jn.transition=s}else e.current=r;if(pd&&(pd=!1,ys=e,Uh=i),s=e.pendingLanes,s===0&&(Ls=null),XR(r.stateNode),Zr(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qh)throw qh=!1,e=Jm,Jm=null,e;return Uh&1&&e.tag!==0&&Pa(),s=e.pendingLanes,s&1?e===Zm?Ec++:(Ec=0,Zm=e):Ec=0,Us(),null}function Pa(){if(ys!==null){var e=f_(Uh),t=jn.transition,r=se;try{if(jn.transition=null,se=16>e?16:e,ys===null)var n=!1;else{if(e=ys,ys=null,Uh=0,Kt&6)throw Error(ot(331));var i=Kt;for(Kt|=4,gt=e.current;gt!==null;){var s=gt,o=s.child;if(gt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(gt=c;gt!==null;){var u=gt;switch(u.tag){case 0:case 11:case 15:Cc(8,u,s)}var h=u.child;if(h!==null)h.return=u,gt=h;else for(;gt!==null;){u=gt;var f=u.sibling,p=u.return;if(_2(u),u===c){gt=null;break}if(f!==null){f.return=p,gt=f;break}gt=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}gt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,gt=o;else t:for(;gt!==null;){if(s=gt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,gt=x;break t}gt=s.return}}var b=e.current;for(gt=b;gt!==null;){o=gt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,gt=v;else t:for(o=b;gt!==null;){if(a=gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(k){Ee(a,a.return,k)}if(a===o){gt=null;break t}var C=a.sibling;if(C!==null){C.return=a.return,gt=C;break t}gt=a.return}}if(Kt=i,Us(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(zf,e)}catch{}n=!0}return n}finally{se=r,jn.transition=t}}return!1}function K1(e,t,r){t=Ja(r,t),t=f2(e,t,1),e=As(e,t,1),t=Br(),e!==null&&(Tu(e,1,t),Zr(e,t))}function Ee(e,t,r){if(e.tag===3)K1(e,e,r);else for(;t!==null;){if(t.tag===3){K1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ls===null||!Ls.has(n))){e=Ja(r,e),e=p2(t,e,1),t=As(t,e,1),e=Br(),t!==null&&(Tu(t,1,e),Zr(t,e));break}}t=t.return}}function kB(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Br(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(ir&r)===r&&(He===4||He===3&&(ir&130023424)===ir&&500>Le()-ay?So(e,0):oy|=r),Zr(e,t)}function P2(e,t){t===0&&(e.mode&1?(t=id,id<<=1,!(id&130023424)&&(id=4194304)):t=1);var r=Br();e=Zi(e,t),e!==null&&(Tu(e,t,r),Zr(e,r))}function SB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),P2(e,r)}function _B(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ot(314))}n!==null&&n.delete(t),P2(e,r)}var F2;F2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kr.current)Xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xr=!1,dB(e,t,r);Xr=!!(e.flags&131072)}else Xr=!1,be&&t.flags&1048576&&N_(t,Dh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kd(e,t),e=t.pendingProps;var i=Ga(t,kr.current);Ba(t,r),i=ty(null,t,n,e,i,r);var s=ey();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jr(n)?(s=!0,Ph(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xx(t),i.updater=Gf,t.stateNode=i,i._reactInternals=t,zm(t,n,e,r),t=qm(null,t,n,!0,s,r)):(t.tag=0,be&&s&&Wx(t),Ar(null,t,i,r),t=t.child),t;case 16:n=t.elementType;t:{switch(Kd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=TB(n),e=Wn(n,e),i){case 0:t=Hm(null,t,n,e,r);break t;case 1:t=z1(null,t,n,e,r);break t;case 11:t=N1(null,t,n,e,r);break t;case 14:t=I1(null,t,n,Wn(n.type,e),r);break t}throw Error(ot(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),Hm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),z1(e,t,n,i,r);case 3:t:{if(y2(t),e===null)throw Error(ot(387));n=t.pendingProps,s=t.memoizedState,i=s.element,U_(e,t),Nh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ja(Error(ot(423)),t),t=W1(e,t,n,r,i);break t}else if(n!==i){i=Ja(Error(ot(424)),t),t=W1(e,t,n,r,i);break t}else for(cn=js(t.stateNode.containerInfo.firstChild),un=t,be=!0,qn=null,r=H_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xa(),n===i){t=ts(e,t,r);break t}Ar(e,t,n,r)}t=t.child}return t;case 5:return V_(t),e===null&&$m(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Bm(n,i)?o=null:s!==null&&Bm(n,s)&&(t.flags|=32),x2(e,t),Ar(e,t,o,r),t.child;case 6:return e===null&&$m(t),null;case 13:return b2(e,t,r);case 4:return Qx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qa(t,null,n,r):Ar(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),N1(e,t,n,i,r);case 7:return Ar(e,t,t.pendingProps,r),t.child;case 8:return Ar(e,t,t.pendingProps.children,r),t.child;case 12:return Ar(e,t,t.pendingProps.children,r),t.child;case 10:t:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ue(Oh,n._currentValue),n._currentValue=o,s!==null)if(ti(s.value,o)){if(s.children===i.children&&!Kr.current){t=ts(e,t,r);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Yi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Nm(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ot(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Nm(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ar(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ba(t,r),i=An(i),n=n(i),t.flags|=1,Ar(e,t,n,r),t.child;case 14:return n=t.type,i=Wn(n,t.pendingProps),i=Wn(n.type,i),I1(e,t,n,i,r);case 15:return g2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),Kd(e,t),t.tag=1,Jr(n)?(e=!0,Ph(t)):e=!1,Ba(t,r),h2(t,n,i),zm(t,n,i,r),qm(null,t,n,!0,e,r);case 19:return v2(e,t,r);case 22:return m2(e,t,r)}throw Error(ot(156,t.tag))};function D2(e,t){return c_(e,t)}function CB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,r,n){return new CB(e,t,r,n)}function dy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TB(e){if(typeof e=="function")return dy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lx)return 11;if(e===Mx)return 14}return 2}function Rs(e,t){var r=e.alternate;return r===null?(r=Tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function th(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")dy(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case ma:return _o(r.children,i,s,t);case Ax:o=8,i|=8;break;case dm:return e=Tn(12,r,t,i|2),e.elementType=dm,e.lanes=s,e;case hm:return e=Tn(13,r,t,i),e.elementType=hm,e.lanes=s,e;case fm:return e=Tn(19,r,t,i),e.elementType=fm,e.lanes=s,e;case VS:return Kf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qS:o=10;break t;case US:o=9;break t;case Lx:o=11;break t;case Mx:o=14;break t;case hs:o=16,n=null;break t}throw Error(ot(130,e==null?e:typeof e,""))}return t=Tn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function _o(e,t,r,n){return e=Tn(7,e,n,t),e.lanes=r,e}function Kf(e,t,r,n){return e=Tn(22,e,n,t),e.elementType=VS,e.lanes=r,e.stateNode={isHidden:!1},e}function kg(e,t,r){return e=Tn(6,e,null,t),e.lanes=r,e}function Sg(e,t,r){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EB(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hy(e,t,r,n,i,s,o,a,l){return e=new EB(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xx(s),e}function jB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O2(e){if(!e)return Ds;e=e._reactInternals;t:{if(Yo(e)!==e||e.tag!==1)throw Error(ot(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(ot(171))}if(e.tag===1){var r=e.type;if(Jr(r))return O_(e,r,t)}return t}function $2(e,t,r,n,i,s,o,a,l){return e=hy(r,n,!0,e,i,s,o,a,l),e.context=O2(null),r=e.current,n=Br(),i=Ms(r),s=Yi(n,i),s.callback=t??null,As(r,s,i),e.current.lanes=i,Tu(e,i,n),Zr(e,n),e}function Jf(e,t,r,n){var i=t.current,s=Br(),o=Ms(i);return r=O2(r),t.context===null?t.context=r:t.pendingContext=r,t=Yi(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=As(i,t,o),e!==null&&(Kn(e,i,o,s),Gd(e,i,o)),o}function Yh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function J1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fy(e,t){J1(e,t),(e=e.alternate)&&J1(e,t)}function AB(){return null}var N2=typeof reportError=="function"?reportError:function(e){console.error(e)};function py(e){this._internalRoot=e}Zf.prototype.render=py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ot(409));Jf(e,t,null,null)};Zf.prototype.unmount=py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){Jf(null,e,null,null)}),t[Ji]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=m_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gs.length&&t!==0&&t<gs[r].priority;r++);gs.splice(r,0,e),r===0&&y_(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function LB(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Yh(o);s.call(c)}}var o=$2(t,n,e,0,null,!1,!1,"",Z1);return e._reactRootContainer=o,e[Ji]=o.current,Gc(e.nodeType===8?e.parentNode:e),Fo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Yh(l);a.call(c)}}var l=hy(e,0,!1,null,null,!1,!1,"",Z1);return e._reactRootContainer=l,e[Ji]=l.current,Gc(e.nodeType===8?e.parentNode:e),Fo(function(){Jf(t,l,r,n)}),l}function ep(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Yh(o);a.call(l)}}Jf(t,o,e,i)}else o=LB(r,t,e,i,n);return Yh(o)}p_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nc(t.pendingLanes);r!==0&&(Px(t,r|1),Zr(t,Le()),!(Kt&6)&&(Za=Le()+500,Us()))}break;case 13:Fo(function(){var n=Zi(e,1);if(n!==null){var i=Br();Kn(n,e,1,i)}}),fy(e,1)}};Fx=function(e){if(e.tag===13){var t=Zi(e,134217728);if(t!==null){var r=Br();Kn(t,e,134217728,r)}fy(e,134217728)}};g_=function(e){if(e.tag===13){var t=Ms(e),r=Zi(e,t);if(r!==null){var n=Br();Kn(r,e,t,n)}fy(e,t)}};m_=function(){return se};x_=function(e,t){var r=se;try{return se=e,t()}finally{se=r}};Sm=function(e,t,r){switch(t){case"input":if(mm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Uf(n);if(!i)throw Error(ot(90));GS(n),mm(n,i)}}}break;case"textarea":QS(e,r);break;case"select":t=r.value,t!=null&&Aa(e,!!r.multiple,t,!1)}};n_=ly;i_=Fo;var MB={usingClientEntryPoint:!1,Events:[ju,va,Uf,e_,r_,ly]},Ol={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RB={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||AB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{zf=gd.inject(RB),yi=gd}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MB;pn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(ot(200));return jB(e,t,null,r)};pn.createRoot=function(e,t){if(!gy(e))throw Error(ot(299));var r=!1,n="",i=N2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hy(e,1,!1,null,null,r,!1,n,i),e[Ji]=t.current,Gc(e.nodeType===8?e.parentNode:e),new py(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ot(188)):(e=Object.keys(e).join(","),Error(ot(268,e)));return e=a_(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return Fo(e)};pn.hydrate=function(e,t,r){if(!tp(t))throw Error(ot(200));return ep(null,e,t,!0,r)};pn.hydrateRoot=function(e,t,r){if(!gy(e))throw Error(ot(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=N2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$2(t,null,e,1,r??null,i,!1,s,o),e[Ji]=t.current,Gc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Zf(t)};pn.render=function(e,t,r){if(!tp(t))throw Error(ot(200));return ep(null,e,t,!1,r)};pn.unmountComponentAtNode=function(e){if(!tp(e))throw Error(ot(40));return e._reactRootContainer?(Fo(function(){ep(null,null,e,!1,function(){e._reactRootContainer=null,e[Ji]=null})}),!0):!1};pn.unstable_batchedUpdates=ly;pn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tp(r))throw Error(ot(200));if(e==null||e._reactInternals===void 0)throw Error(ot(38));return ep(e,t,r,!1,n)};pn.version="18.3.1-next-f1338f8080-20240426";function I2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I2)}catch(e){console.error(e)}}I2(),IS.exports=pn;var BB=IS.exports,tv=BB;cm.createRoot=tv.createRoot,cm.hydrateRoot=tv.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}var bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bs||(bs={}));const ev="popstate";function PB(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return r0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:z2(i)}return DB(t,r,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function my(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FB(){return Math.random().toString(36).substr(2,8)}function rv(e,t){return{usr:e.state,key:e.key,idx:t}}function r0(e,t,r,n){return r===void 0&&(r=null),nu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gl(t):t,{state:r,key:t&&t.key||n||FB()})}function z2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function DB(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=bs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(nu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=bs.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:x})}function f(y,x){a=bs.Push;let b=r0(m.location,y,x);c=u()+1;let v=rv(b,c),C=m.createHref(b);try{o.pushState(v,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(C)}s&&l&&l({action:a,location:m.location,delta:1})}function p(y,x){a=bs.Replace;let b=r0(m.location,y,x);c=u();let v=rv(b,c),C=m.createHref(b);o.replaceState(v,"",C),s&&l&&l({action:a,location:m.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:z2(y);return b=b.replace(/ $/,"%20"),De(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ev,h),l=y,()=>{i.removeEventListener(ev,h),l=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return o.go(y)}};return m}var nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nv||(nv={}));function OB(e,t,r){return r===void 0&&(r="/"),$B(e,t,r)}function $B(e,t,r,n){let i=typeof t=="string"?gl(t):t,s=q2(i.pathname||"/",r);if(s==null)return null;let o=W2(e);NB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=KB(s);a=GB(o[l],c)}return a}function W2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Co([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W2(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:VB(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of H2(s.path))i(s,o,l)}),t}function H2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=H2(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function NB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IB=/^:[\w-]+$/,zB=3,WB=2,HB=1,qB=10,UB=-2,iv=e=>e==="*";function VB(e,t){let r=e.split("/"),n=r.length;return r.some(iv)&&(n+=UB),t&&(n+=WB),r.filter(i=>!iv(i)).reduce((i,s)=>i+(IB.test(s)?zB:s===""?HB:qB),n)}function YB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function GB(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=XB({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Co([s,h.pathname]),pathnameBase:rP(Co([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Co([s,h.pathnameBase]))}return o}function XB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=QB(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function QB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),my(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function KB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return my(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function q2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const JB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZB=e=>JB.test(e);function tP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?gl(e):e,s;if(r)if(ZB(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),my(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=sv(r.substring(1),"/"):s=sv(r,t)}else s=t;return{pathname:s,search:nP(n),hash:iP(i)}}function sv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _g(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U2(e,t){let r=eP(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function V2(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=gl(e):(i=nu({},e),De(!i.pathname||!i.pathname.includes("?"),_g("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),_g("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),_g("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=tP(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Co=e=>e.join("/").replace(/\/\/+/g,"/"),rP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"];new Set(Y2);const oP=["get",...Y2];new Set(oP);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}const xy=T.createContext(null),aP=T.createContext(null),Lu=T.createContext(null),rp=T.createContext(null),Vs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),G2=T.createContext(null);function Mu(){return T.useContext(rp)!=null}function Ru(){return Mu()||De(!1),T.useContext(rp).location}function X2(e){T.useContext(Lu).static||T.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=T.useContext(Vs);return e?vP():lP()}function lP(){Mu()||De(!1);let e=T.useContext(xy),{basename:t,future:r,navigator:n}=T.useContext(Lu),{matches:i}=T.useContext(Vs),{pathname:s}=Ru(),o=JSON.stringify(U2(i,r.v7_relativeSplatPath)),a=T.useRef(!1);return X2(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=V2(c,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Co([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,s,e])}function Go(){let{matches:e}=T.useContext(Vs),t=e[e.length-1];return t?t.params:{}}function cP(e,t){return uP(e,t)}function uP(e,t,r,n){Mu()||De(!1);let{navigator:i}=T.useContext(Lu),{matches:s}=T.useContext(Vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ru(),u;if(t){var h;let y=typeof t=="string"?gl(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||De(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=OB(e,{pathname:p}),m=gP(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Co([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Co([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&m?T.createElement(rp.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bs.Pop}},m):m}function dP(){let e=bP(),t=sP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,null)}const hP=T.createElement(dP,null);class fP extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(Vs.Provider,{value:this.props.routeContext},T.createElement(G2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pP(e){let{routeContext:t,match:r,children:n}=e,i=T.useContext(xy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Vs.Provider,{value:t},n)}function gP(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||De(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,m=null,y=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||hP,l&&(c<0&&f===0?(wP("route-fallback"),g=!0,y=null):c===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let v;return p?v=m:g?v=y:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,T.createElement(pP,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(fP,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),K2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K2||{});function mP(e){let t=T.useContext(xy);return t||De(!1),t}function xP(e){let t=T.useContext(aP);return t||De(!1),t}function yP(e){let t=T.useContext(Vs);return t||De(!1),t}function J2(e){let t=yP(),r=t.matches[t.matches.length-1];return r.route.id||De(!1),r.route.id}function bP(){var e;let t=T.useContext(G2),r=xP(),n=J2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vP(){let{router:e}=mP(Q2.UseNavigateStable),t=J2(K2.UseNavigateStable),r=T.useRef(!1);return X2(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,iu({fromRouteId:t},s)))},[e,t])}const ov={};function wP(e,t,r){ov[e]||(ov[e]=!0)}function kP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function SP(e){let{to:t,replace:r,state:n,relative:i}=e;Mu()||De(!1);let{future:s,static:o}=T.useContext(Lu),{matches:a}=T.useContext(Vs),{pathname:l}=Ru(),c=Pn(),u=V2(t,U2(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function In(e){De(!1)}function _P(e){let{basename:t="/",children:r=null,location:n,navigationType:i=bs.Pop,navigator:s,static:o=!1,future:a}=e;Mu()&&De(!1);let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:iu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=gl(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,m=T.useMemo(()=>{let y=q2(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:i}},[l,u,h,f,p,g,i]);return m==null?null:T.createElement(Lu.Provider,{value:c},T.createElement(rp.Provider,{children:r,value:m}))}function CP(e){let{children:t,location:r}=e;return cP(n0(t),r)}new Promise(()=>{});function n0(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let s=[...t,i];if(n.type===T.Fragment){r.push.apply(r,n0(n.props.children,s));return}n.type!==In&&De(!1),!n.props.index||!n.props.children||De(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=n0(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function TP(e,t){let r=i0(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const EP="6";try{window.__reactRouterVersion=EP}catch{}const jP="startTransition",av=kR[jP];function AP(e){let{basename:t,children:r,future:n,window:i}=e,s=T.useRef();s.current==null&&(s.current=PB({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=T.useCallback(h=>{c&&av?av(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.useEffect(()=>kP(n),[n]),T.createElement(_P,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var lv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lv||(lv={}));var cv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cv||(cv={}));function np(e){let t=T.useRef(i0(e)),r=T.useRef(!1),n=Ru(),i=T.useMemo(()=>TP(n.search,r.current?null:t.current),[n.search]),s=Pn(),o=T.useCallback((a,l)=>{const c=i0(typeof a=="function"?a(i):a);r.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function Z2(e,t){return function(){return e.apply(t,arguments)}}const{toString:LP}=Object.prototype,{getPrototypeOf:yy}=Object,{iterator:ip,toStringTag:tC}=Symbol,sp=(e=>t=>{const r=LP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ri=e=>(e=e.toLowerCase(),t=>sp(t)===e),op=e=>t=>typeof t===e,{isArray:ml}=Array,tl=op("undefined");function Bu(e){return e!==null&&!tl(e)&&e.constructor!==null&&!tl(e.constructor)&&tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eC=ri("ArrayBuffer");function MP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&eC(e.buffer),t}const RP=op("string"),tn=op("function"),rC=op("number"),Pu=e=>e!==null&&typeof e=="object",BP=e=>e===!0||e===!1,eh=e=>{if(sp(e)!=="object")return!1;const t=yy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tC in e)&&!(ip in e)},PP=e=>{if(!Pu(e)||Bu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},FP=ri("Date"),DP=ri("File"),OP=ri("Blob"),$P=ri("FileList"),NP=e=>Pu(e)&&tn(e.pipe),IP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tn(e.append)&&((t=sp(e))==="formdata"||t==="object"&&tn(e.toString)&&e.toString()==="[object FormData]"))},zP=ri("URLSearchParams"),[WP,HP,qP,UP]=["ReadableStream","Request","Response","Headers"].map(ri),VP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ml(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Bu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function nC(e,t){if(Bu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iC=e=>!tl(e)&&e!==mo;function s0(){const{caseless:e,skipUndefined:t}=iC(this)&&this||{},r={},n=(i,s)=>{const o=e&&nC(r,s)||s;eh(r[o])&&eh(i)?r[o]=s0(r[o],i):eh(i)?r[o]=s0({},i):ml(i)?r[o]=i.slice():(!t||!tl(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fu(arguments[i],n);return r}const YP=(e,t,r,{allOwnKeys:n}={})=>(Fu(t,(i,s)=>{r&&tn(i)?e[s]=Z2(i,r):e[s]=i},{allOwnKeys:n}),e),GP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),XP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},QP=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&yy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},KP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},JP=e=>{if(!e)return null;if(ml(e))return e;let t=e.length;if(!rC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ZP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yy(Uint8Array)),tF=(e,t)=>{const n=(e&&e[ip]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},eF=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},rF=ri("HTMLFormElement"),nF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),uv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),iF=ri("RegExp"),sC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Fu(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},sF=e=>{sC(e,(t,r)=>{if(tn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(tn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},oF=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ml(e)?n(e):n(String(e).split(t)),r},aF=()=>{},lF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cF(e){return!!(e&&tn(e.append)&&e[tC]==="FormData"&&e[ip])}const uF=e=>{const t=new Array(10),r=(n,i)=>{if(Pu(n)){if(t.indexOf(n)>=0)return;if(Bu(n))return n;if(!("toJSON"in n)){t[i]=n;const s=ml(n)?[]:{};return Fu(n,(o,a)=>{const l=r(o,i+1);!tl(l)&&(s[a]=l)}),t[i]=void 0,s}}return n};return r(e,0)},dF=ri("AsyncFunction"),hF=e=>e&&(Pu(e)||tn(e))&&tn(e.then)&&tn(e.catch),oC=((e,t)=>e?setImmediate:t?((r,n)=>(mo.addEventListener("message",({source:i,data:s})=>{i===mo&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),mo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tn(mo.postMessage)),fF=typeof queueMicrotask<"u"?queueMicrotask.bind(mo):typeof process<"u"&&process.nextTick||oC,pF=e=>e!=null&&tn(e[ip]),Y={isArray:ml,isArrayBuffer:eC,isBuffer:Bu,isFormData:IP,isArrayBufferView:MP,isString:RP,isNumber:rC,isBoolean:BP,isObject:Pu,isPlainObject:eh,isEmptyObject:PP,isReadableStream:WP,isRequest:HP,isResponse:qP,isHeaders:UP,isUndefined:tl,isDate:FP,isFile:DP,isBlob:OP,isRegExp:iF,isFunction:tn,isStream:NP,isURLSearchParams:zP,isTypedArray:ZP,isFileList:$P,forEach:Fu,merge:s0,extend:YP,trim:VP,stripBOM:GP,inherits:XP,toFlatObject:QP,kindOf:sp,kindOfTest:ri,endsWith:KP,toArray:JP,forEachEntry:tF,matchAll:eF,isHTMLForm:rF,hasOwnProperty:uv,hasOwnProp:uv,reduceDescriptors:sC,freezeMethods:sF,toObjectSet:oF,toCamelCase:nF,noop:aF,toFiniteNumber:lF,findKey:nC,global:mo,isContextDefined:iC,isSpecCompliantForm:cF,toJSONObject:uF,isAsyncFn:dF,isThenable:hF,setImmediate:oC,asap:fF,isIterable:pF};function $t(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Y.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const aC=$t.prototype,lC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lC[e]={value:e}});Object.defineProperties($t,lC);Object.defineProperty(aC,"isAxiosError",{value:!0});$t.from=(e,t,r,n,i,s)=>{const o=Object.create(aC);Y.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return $t.call(o,a,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const gF=null;function o0(e){return Y.isPlainObject(e)||Y.isArray(e)}function cC(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function dv(e,t,r){return e?e.concat(t).map(function(i,s){return i=cC(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function mF(e){return Y.isArray(e)&&!e.some(o0)}const xF=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function ap(e,t,r){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!Y.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Y.isDate(g))return g.toISOString();if(Y.isBoolean(g))return g.toString();if(!l&&Y.isBlob(g))throw new $t("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(g)||Y.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,y){let x=g;if(g&&!y&&typeof g=="object"){if(Y.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(Y.isArray(g)&&mF(g)||(Y.isFileList(g)||Y.endsWith(m,"[]"))&&(x=Y.toArray(g)))return m=cC(m),x.forEach(function(v,C){!(Y.isUndefined(v)||v===null)&&t.append(o===!0?dv([m],C,s):o===null?m:m+"[]",c(v))}),!1}return o0(g)?!0:(t.append(dv(y,m,s),c(g)),!1)}const h=[],f=Object.assign(xF,{defaultVisitor:u,convertValue:c,isVisitable:o0});function p(g,m){if(!Y.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),Y.forEach(g,function(x,b){(!(Y.isUndefined(x)||x===null)&&i.call(t,x,Y.isString(b)?b.trim():b,m,f))===!0&&p(x,m?m.concat(b):[b])}),h.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return p(e),t}function hv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function by(e,t){this._pairs=[],e&&ap(e,this,t)}const uC=by.prototype;uC.append=function(t,r){this._pairs.push([t,r])};uC.toString=function(t){const r=t?function(n){return t.call(this,n,hv)}:hv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function yF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dC(e,t,r){if(!t)return e;const n=r&&r.encode||yF;Y.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=Y.isURLSearchParams(t)?t.toString():new by(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class fv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(n){n!==null&&t(n)})}}const hC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bF=typeof URLSearchParams<"u"?URLSearchParams:by,vF=typeof FormData<"u"?FormData:null,wF=typeof Blob<"u"?Blob:null,kF={isBrowser:!0,classes:{URLSearchParams:bF,FormData:vF,Blob:wF},protocols:["http","https","file","blob","url","data"]},vy=typeof window<"u"&&typeof document<"u",a0=typeof navigator=="object"&&navigator||void 0,SF=vy&&(!a0||["ReactNative","NativeScript","NS"].indexOf(a0.product)<0),_F=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CF=vy&&window.location.href||"http://localhost",TF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vy,hasStandardBrowserEnv:SF,hasStandardBrowserWebWorkerEnv:_F,navigator:a0,origin:CF},Symbol.toStringTag,{value:"Module"})),xr={...TF,...kF};function EF(e,t){return ap(e,new xr.classes.URLSearchParams,{visitor:function(r,n,i,s){return xr.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function jF(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AF(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function fC(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&Y.isArray(i)?i.length:o,l?(Y.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!Y.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&Y.isArray(i[o])&&(i[o]=AF(i[o])),!a)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(n,i)=>{t(jF(n),i,r,0)}),r}return null}function LF(e,t,r){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Du={transitional:hC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Y.isObject(t);if(s&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return i?JSON.stringify(fC(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return EF(t,this.formSerializer).toString();if((a=Y.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ap(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),LF(t)):t}],transformResponse:[function(t){const r=this.transitional||Du.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?$t.from(a,$t.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xr.classes.FormData,Blob:xr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Du.headers[e]={}});const MF=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RF=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&MF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},pv=Symbol("internals");function $l(e){return e&&String(e).trim().toLowerCase()}function rh(e){return e===!1||e==null?e:Y.isArray(e)?e.map(rh):String(e)}function BF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const PF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cg(e,t,r,n,i){if(Y.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Y.isString(t)){if(Y.isString(n))return t.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(t)}}function FF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function DF(e,t){const r=Y.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let en=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,l,c){const u=$l(l);if(!u)throw new Error("header name must be a non-empty string");const h=Y.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=rh(a))}const o=(a,l)=>Y.forEach(a,(c,u)=>s(c,u,l));if(Y.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Y.isString(t)&&(t=t.trim())&&!PF(t))o(RF(t),r);else if(Y.isObject(t)&&Y.isIterable(t)){let a={},l,c;for(const u of t){if(!Y.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Y.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=$l(t),t){const n=Y.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return BF(i);if(Y.isFunction(r))return r.call(this,i,n);if(Y.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$l(t),t){const n=Y.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Cg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=$l(o),o){const a=Y.findKey(n,o);a&&(!r||Cg(n,n[a],a,r))&&(delete n[a],i=!0)}}return Y.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Cg(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return Y.forEach(this,(i,s)=>{const o=Y.findKey(n,s);if(o){r[o]=rh(i),delete r[s];return}const a=t?FF(s):String(s).trim();a!==s&&delete r[s],r[a]=rh(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Y.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[pv]=this[pv]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=$l(o);n[a]||(DF(i,o),n[a]=!0)}return Y.isArray(t)?t.forEach(s):s(t),this}};en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(en.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Y.freezeMethods(en);function Tg(e,t){const r=this||Du,n=t||r,i=en.from(n.headers);let s=n.data;return Y.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function pC(e){return!!(e&&e.__CANCEL__)}function xl(e,t,r){$t.call(this,e??"canceled",$t.ERR_CANCELED,t,r),this.name="CanceledError"}Y.inherits(xl,$t,{__CANCEL__:!0});function gC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $t("Request failed with status code "+r.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function OF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $F(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[s];o||(o=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function NF(e,t){let r=0,n=1e3/t,i,s;const o=(c,u=Date.now())=>{r=u,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},n-h)))},()=>i&&o(i)]}const Gh=(e,t,r=3)=>{let n=0;const i=$F(50,250);return NF(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,c=i(l),u=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},gv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mv=e=>(...t)=>Y.asap(()=>e(...t)),IF=xr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,xr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(xr.origin),xr.navigator&&/(msie|trident)/i.test(xr.navigator.userAgent)):()=>!0,zF=xr.hasStandardBrowserEnv?{write(e,t,r,n,i,s,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];Y.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),Y.isString(n)&&a.push(`path=${n}`),Y.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),Y.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function WF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mC(e,t,r){let n=!WF(t);return e&&(n||r==!1)?HF(e,t):t}const xv=e=>e instanceof en?{...e}:e;function Do(e,t){t=t||{};const r={};function n(c,u,h,f){return Y.isPlainObject(c)&&Y.isPlainObject(u)?Y.merge.call({caseless:f},c,u):Y.isPlainObject(u)?Y.merge({},u):Y.isArray(u)?u.slice():u}function i(c,u,h,f){if(Y.isUndefined(u)){if(!Y.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function s(c,u){if(!Y.isUndefined(u))return n(void 0,u)}function o(c,u){if(Y.isUndefined(u)){if(!Y.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(xv(c),xv(u),h,!0)};return Y.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||i,f=h(e[u],t[u],u);Y.isUndefined(f)&&h!==a||(r[u]=f)}),r}const xC=e=>{const t=Do({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=en.from(o),t.url=dC(mC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Y.isFormData(r)){if(xr.hasStandardBrowserEnv||xr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&o.set(u,h)})}}if(xr.hasStandardBrowserEnv&&(n&&Y.isFunction(n)&&(n=n(t)),n||n!==!1&&IF(t.url))){const l=i&&s&&zF.read(s);l&&o.set(i,l)}return t},qF=typeof XMLHttpRequest<"u",UF=qF&&function(e){return new Promise(function(r,n){const i=xC(e);let s=i.data;const o=en.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const v=en.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};gC(function(_){r(_),m()},function(_){n(_),m()},k),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new $t("Request aborted",$t.ECONNABORTED,e,y)),y=null)},y.onerror=function(C){const k=C&&C.message?C.message:"Network Error",S=new $t(k,$t.ERR_NETWORK,e,y);S.event=C||null,n(S),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||hC;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new $t(C,k.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Y.forEach(o.toJSON(),function(C,k){y.setRequestHeader(k,C)}),Y.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,g]=Gh(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=Gh(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=v=>{y&&(n(!v||v.type?new xl(null,e,y):v),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=OF(i.url);if(b&&xr.protocols.indexOf(b)===-1){n(new $t("Unsupported protocol "+b+":",$t.ERR_BAD_REQUEST,e));return}y.send(s||null)})},VF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof $t?u:new xl(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Y.asap(a),l}},YF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},GF=async function*(e,t){for await(const r of XF(e))yield*YF(r,t)},XF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},yv=(e,t,r,n)=>{const i=GF(e,t);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},bv=64*1024,{isFunction:md}=Y,QF=(({Request:e,Response:t})=>({Request:e,Response:t}))(Y.global),{ReadableStream:vv,TextEncoder:wv}=Y.global,kv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KF=e=>{e=Y.merge.call({skipUndefined:!0},QF,e);const{fetch:t,Request:r,Response:n}=e,i=t?md(t):typeof fetch=="function",s=md(r),o=md(n);if(!i)return!1;const a=i&&md(vv),l=i&&(typeof wv=="function"?(g=>m=>g.encode(m))(new wv):async g=>new Uint8Array(await new r(g).arrayBuffer())),c=s&&a&&kv(()=>{let g=!1;const m=new r(xr.origin,{body:new vv,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),u=o&&a&&kv(()=>Y.isReadableStream(new n("").body)),h={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(m,y)=>{let x=m&&m[g];if(x)return x.call(m);throw new $t(`Response type '${g}' is not supported`,$t.ERR_NOT_SUPPORT,y)})});const f=async g=>{if(g==null)return 0;if(Y.isBlob(g))return g.size;if(Y.isSpecCompliantForm(g))return(await new r(xr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(g)||Y.isArrayBuffer(g))return g.byteLength;if(Y.isURLSearchParams(g)&&(g=g+""),Y.isString(g))return(await l(g)).byteLength},p=async(g,m)=>{const y=Y.toFiniteNumber(g.getContentLength());return y??f(m)};return async g=>{let{url:m,method:y,data:x,signal:b,cancelToken:v,timeout:C,onDownloadProgress:k,onUploadProgress:S,responseType:_,headers:A,withCredentials:D="same-origin",fetchOptions:F}=xC(g),O=t||fetch;_=_?(_+"").toLowerCase():"text";let W=VF([b,v&&v.toAbortSignal()],C),H=null;const P=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let j;try{if(S&&c&&y!=="get"&&y!=="head"&&(j=await p(A,x))!==0){let z=new r(m,{method:"POST",body:x,duplex:"half"}),q;if(Y.isFormData(x)&&(q=z.headers.get("content-type"))&&A.setContentType(q),z.body){const[nt,ut]=gv(j,Gh(mv(S)));x=yv(z.body,bv,nt,ut)}}Y.isString(D)||(D=D?"include":"omit");const L=s&&"credentials"in r.prototype,B={...F,signal:W,method:y.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:L?D:void 0};H=s&&new r(m,B);let E=await(s?O(H,F):O(m,B));const M=u&&(_==="stream"||_==="response");if(u&&(k||M&&P)){const z={};["status","statusText","headers"].forEach(ft=>{z[ft]=E[ft]});const q=Y.toFiniteNumber(E.headers.get("content-length")),[nt,ut]=k&&gv(q,Gh(mv(k),!0))||[];E=new n(yv(E.body,bv,nt,()=>{ut&&ut(),P&&P()}),z)}_=_||"text";let $=await h[Y.findKey(h,_)||"text"](E,g);return!M&&P&&P(),await new Promise((z,q)=>{gC(z,q,{data:$,headers:en.from(E.headers),status:E.status,statusText:E.statusText,config:g,request:H})})}catch(L){throw P&&P(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,g,H),{cause:L.cause||L}):$t.from(L,L&&L.code,g,H)}}},JF=new Map,yC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let o=s.length,a=o,l,c,u=JF;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:KF(t)),u=c;return c};yC();const wy={http:gF,xhr:UF,fetch:{get:yC}};Y.forEach(wy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sv=e=>`- ${e}`,ZF=e=>Y.isFunction(e)||e===null||e===!1;function tD(e,t){e=Y.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let o=0;o<r;o++){n=e[o];let a;if(i=n,!ZF(n)&&(i=wy[(a=String(n)).toLowerCase()],i===void 0))throw new $t(`Unknown adapter '${a}'`);if(i&&(Y.isFunction(i)||(i=i.get(t))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(Sv).join(`
`):" "+Sv(o[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const bC={getAdapter:tD,adapters:wy};function Eg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xl(null,e)}function _v(e){return Eg(e),e.headers=en.from(e.headers),e.data=Tg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bC.getAdapter(e.adapter||Du.adapter,e)(e).then(function(n){return Eg(e),n.data=Tg.call(e,e.transformResponse,n),n.headers=en.from(n.headers),n},function(n){return pC(n)||(Eg(e),n&&n.response&&(n.response.data=Tg.call(e,e.transformResponse,n.response),n.response.headers=en.from(n.response.headers))),Promise.reject(n)})}const vC="1.13.2",lp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Cv={};lp.transitional=function(t,r,n){function i(s,o){return"[Axios v"+vC+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new $t(i(o," has been removed"+(r?" in "+r:"")),$t.ERR_DEPRECATED);return r&&!Cv[o]&&(Cv[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};lp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function eD(e,t,r){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new $t("option "+s+" must be "+l,$t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $t("Unknown option "+s,$t.ERR_BAD_OPTION)}}const nh={assertOptions:eD,validators:lp},li=nh.validators;let To=class{constructor(t){this.defaults=t||{},this.interceptors={request:new fv,response:new fv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Do(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&nh.assertOptions(n,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),i!=null&&(Y.isFunction(i)?r.paramsSerializer={serialize:i}:nh.assertOptions(i,{encode:li.function,serialize:li.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nh.assertOptions(r,{baseUrl:li.spelling("baseURL"),withXsrfToken:li.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Y.merge(s.common,s[r.method]);s&&Y.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=en.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,f;if(!l){const g=[_v.bind(this),void 0];for(g.unshift(...a),g.push(...c),f=g.length,u=Promise.resolve(r);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=r;for(;h<f;){const g=a[h++],m=a[h++];try{p=g(p)}catch(y){m.call(this,y);break}}try{u=_v.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Do(this.defaults,t);const r=mC(t.baseURL,t.url,t.allowAbsoluteUrls);return dC(r,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){To.prototype[t]=function(r,n){return this.request(Do(n||{},{method:t,url:r,data:(n||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(Do(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}To.prototype[t]=r(),To.prototype[t+"Form"]=r(!0)});let rD=class wC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new xl(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new wC(function(i){t=i}),cancel:t}}};function nD(e){return function(r){return e.apply(null,r)}}function iD(e){return Y.isObject(e)&&e.isAxiosError===!0}const l0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(l0).forEach(([e,t])=>{l0[t]=e});function kC(e){const t=new To(e),r=Z2(To.prototype.request,t);return Y.extend(r,To.prototype,t,{allOwnKeys:!0}),Y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return kC(Do(e,i))},r}const X=kC(Du);X.Axios=To;X.CanceledError=xl;X.CancelToken=rD;X.isCancel=pC;X.VERSION=vC;X.toFormData=ap;X.AxiosError=$t;X.Cancel=X.CanceledError;X.all=function(t){return Promise.all(t)};X.spread=nD;X.isAxiosError=iD;X.mergeConfig=Do;X.AxiosHeaders=en;X.formToJSON=e=>fC(Y.isHTMLForm(e)?new FormData(e):e);X.getAdapter=bC.getAdapter;X.HttpStatusCode=l0;X.default=X;const{Axios:MK,AxiosError:RK,CanceledError:BK,isCancel:PK,CancelToken:FK,VERSION:DK,all:OK,Cancel:$K,isAxiosError:NK,spread:IK,toFormData:zK,AxiosHeaders:WK,HttpStatusCode:HK,formToJSON:qK,getAdapter:UK,mergeConfig:VK}=X,sD="/react/assets/Logo-Oik8n6rj.png";function Qe({dbType:e="sql",handlerName:t=""}){const r=Pn(),n=Ru(),[i,s]=T.useState(e),[o,a]=T.useState(t),[l,c]=T.useState([]),[u,h]=T.useState(!1),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[y,x]=T.useState(!1),[b,v]=T.useState(!0);T.useEffect(()=>{s(e),a(t)},[e,t]),T.useEffect(()=>{C()},[]);const C=async()=>{try{const D=await X.get("/api/current_state");D.data.success&&(s(D.data.db_type),a(D.data.handler),c(D.data.available_handlers||[]),await k(D.data.handler))}catch(D){console.error("Failed to fetch current state:",D)}finally{v(!1)}},k=async D=>{try{const F=await X.get("/api/check_credentials");if(console.log(" Credentials check response:",F.data),F.data.success){const O=F.data.needs_credentials,W=F.data.handler_supports_credentials!==!1;m(O),x(W),p(!O&&W),O&&W&&!n.pathname.includes("/credentials")&&(console.log(` Credentials needed for ${D}, redirecting...`),r(`/credentials/${D}`))}}catch(F){console.error("Failed to check credentials:",F),m(!1),x(!1),p(!1)}finally{v(!1)}},S=async()=>{if(u)return;h(!0);const D=i==="sql"?"nosql":"sql";try{const F=await X.post("/api/switch_handler",{type:D,handler:null});F.data.success?(s(F.data.db_type),a(F.data.handler),await k(F.data.handler),F.data.needs_credentials||(r("/"),setTimeout(()=>{window.location.reload()},100))):(console.error("Switch failed:",F.data.error),alert("Failed to switch: "+F.data.error))}catch(F){console.error("Switch error:",F),alert("Failed to switch database type")}finally{h(!1)}},_=async D=>{if(!u){h(!0);try{const F=await X.post("/api/switch_handler",{type:i,handler:D});F.data.success?(a(F.data.handler),await k(F.data.handler),F.data.needs_credentials||(r("/"),window.location.reload())):(console.error("Handler switch failed:",F.data.error),alert("Failed to switch handler: "+F.data.error))}catch(F){console.error("Handler switch error:",F),alert("Failed to switch handler")}finally{h(!1)}}},A=async()=>{var F,O;if(window.confirm(`Are you sure you want to sign out from ${o}?

This will:
 Remove your stored credentials
 Redirect you to the credentials page
 Require re-entering credentials on next use`))try{const W=await X.post("/api/sign_out",{handler_name:o});W.data.success?(console.log(" Signed out successfully"),p(!1),m(!0),r(`/credentials/${o}`),setTimeout(()=>{window.location.reload()},100)):alert("Failed to sign out: "+W.data.error)}catch(W){console.error("Sign out error:",W),alert("Failed to sign out: "+(((O=(F=W.response)==null?void 0:F.data)==null?void 0:O.error)||W.message))}};return d.jsxs("div",{className:"sidebar",children:[d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},children:d.jsx("img",{src:sD,alt:"DBDragoness Logo",style:{width:"140px",height:"140px",objectFit:"contain"}})}),d.jsxs("h2",{children:["DBDragoness (",i.toUpperCase(),")"]}),d.jsx("p",{style:{fontSize:"0.9em",color:"#f0f0f0",marginBottom:"10px"},children:o||"No Handler"}),l.length>1&&d.jsx("div",{style:{marginBottom:"15px"},children:d.jsx("select",{value:o,onChange:D=>_(D.target.value),disabled:u,style:{width:"100%",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",border:"1px solid #9370db",borderRadius:"5px",fontSize:"0.9em"},children:l.map(D=>d.jsx("option",{value:D,children:D},D))})}),d.jsx("a",{href:"/react/",children:" Home"}),d.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),r("/query")},children:" Query"}),d.jsxs("a",{href:"#",onClick:D=>{D.preventDefault(),S()},style:{opacity:u?.5:1,cursor:u?"wait":"pointer"},children:[""," ",u?"Switching...":`Switch to ${i==="sql"?"NoSQL":"SQL"}`]}),!b&&y&&f&&!g&&d.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),A()},style:{marginTop:"20px",borderTop:"1px solid rgba(147, 112, 219, 0.3)",paddingTop:"15px",color:"#ff6b6b"},children:" Sign Out"})]})}function oD({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(e+"_copy"),[s,o]=T.useState(!1),[a,l]=T.useState(""),[c,u]=T.useState(!1),h=async f=>{var p,g;if(f.preventDefault(),l(""),!n.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){l("Database name must start with a letter, contain only letters, numbers, underscores.");return}if(n===e){l("New name must be different from current name.");return}u(!0);try{const m=await X.post("/api/databases/rename",{old_name:e,new_name:n,keep_old:s});m.data.success?(r(n),t()):l(m.data.error||"Failed to rename database")}catch(m){console.error("Rename error:",m),l(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to rename database")}finally{u(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"500px",width:"95%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:f=>f.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"20px"},children:"Rename Database"}),a&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:a}),d.jsxs("form",{onSubmit:h,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Database Name:"}),d.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"Enter new name",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},disabled:c})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer"},children:[d.jsx("input",{type:"checkbox",checked:s,onChange:f=>o(f.target.checked),style:{marginRight:"8px"},disabled:c}),"Keep old database as backup"]}),d.jsx("p",{style:{color:"#aaa",fontSize:"12px",marginTop:"5px",marginLeft:"24px"},children:"If unchecked, the old database will be deleted after successful copy"})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},disabled:c,children:"Cancel"}),d.jsx("button",{type:"submit",disabled:c,style:{background:c?"#ccc":"#9370db",cursor:c?"not-allowed":"pointer"},children:c?s?"Copying...":"Renaming...":s?"Copy":"Rename"})]})]})]})})}function aD({dbName:e,currentDbType:t,currentHandler:r,onClose:n,onSuccess:i}){const[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(e+"_converted"),[h,f]=T.useState({sql:[],nosql:[]}),[p,g]=T.useState(""),[m,y]=T.useState(!1),[x,b]=T.useState(""),[v,C]=T.useState(0),[k,S]=T.useState(""),[_,A]=T.useState(""),[D,F]=T.useState(!1),[O,W]=T.useState("");T.useEffect(()=>{H()},[]);const H=async()=>{try{const B=await X.get("/api/available_handlers");B.data.success&&f({sql:B.data.sql,nosql:B.data.nosql})}catch(B){console.error("Failed to fetch handlers:",B)}},P=()=>{if(!s)return[];const E=(s==="sql"?h.sql:h.nosql).filter(q=>!(q===r&&s===t));if(!p)return E;const M=p.toLowerCase(),$=E.filter(q=>q.toLowerCase().startsWith(M)),z=E.filter(q=>q.toLowerCase().includes(M)&&!q.toLowerCase().startsWith(M));return[...$,...z]},j=async B=>{if(B.preventDefault(),b(""),!s||!a){b("Please select target database type and handler");return}if(!c.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){b("Database name must start with a letter, contain only letters, numbers, underscores.");return}y(!0),F(!0),C(0);try{const M=(await fetch("/api/databases/convert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_db:e,target_db_name:c,target_type:s,target_handler:a})})).body.getReader(),$=new TextDecoder;for(;;){const{done:z,value:q}=await M.read();if(z)break;const ut=$.decode(q).split(`
`);for(const ft of ut)if(ft.startsWith("data: "))try{const V=JSON.parse(ft.substring(6));if(V.error){b(V.error),F(!1),y(!1);return}V.progress!==void 0&&(C(V.progress),S(V.stage||""),A(V.current||"")),V.progress===100&&(W(`Successfully converted ${e} to ${c}!`),setTimeout(()=>{i(c,s,a),n()},3e3))}catch(V){console.error("Failed to parse SSE data:",V)}}}catch(E){console.error("Conversion error:",E),b(E.message||"Failed to convert database"),F(!1),y(!1)}},L=P();return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:D?void 0:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"95%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)",maxHeight:"90vh",overflowY:"auto"},onClick:B=>B.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:"Convert Database"}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:["Current: ",d.jsx("strong",{children:e})," (",t.toUpperCase()," -"," ",r,")"]}),!D&&!O&&d.jsxs("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid #ffc107",borderRadius:"5px",padding:"15px",marginBottom:"20px",color:"#ffc107",fontSize:"0.9em"},children:[d.jsx("strong",{children:" Important:"}),d.jsxs("ul",{style:{marginTop:"10px",paddingLeft:"20px"},children:[d.jsx("li",{children:"The original database will remain untouched"}),d.jsx("li",{children:"We strive to transfer all metadata (triggers, procedures, constraints)"}),d.jsx("li",{children:"Some metadata may be lost if the target database doesn't support it"}),d.jsx("li",{children:"Please verify the target database capabilities before converting"})]})]}),x&&d.jsx("div",{className:"error",style:{marginBottom:"15px",padding:"10px",background:"rgba(220, 53, 69, 0.2)",border:"1px solid #dc3545",borderRadius:"5px",color:"#ff6b6b"},children:x}),O&&d.jsxs("div",{style:{padding:"20px",background:"rgba(40, 167, 69, 0.2)",border:"1px solid #28a745",borderRadius:"5px",color:"#28a745",textAlign:"center",fontSize:"1.1em"},children:[" ",O,d.jsx("p",{style:{marginTop:"10px",fontSize:"0.9em"},children:"Redirecting in 3 seconds..."})]}),D&&!O&&d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("div",{style:{background:"rgba(147, 112, 219, 0.2)",borderRadius:"10px",overflow:"hidden",marginBottom:"10px"},children:d.jsxs("div",{style:{height:"30px",background:"linear-gradient(90deg, #9370db, #ba55d3)",width:`${v}%`,transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.9em"},children:[v,"%"]})}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",textAlign:"center"},children:[k==="export"&&"Exporting data...",k==="switch"&&"Switching handler...",k==="import"&&"Importing data...",k==="complete"&&"Finalizing...",_&&d.jsx("span",{style:{display:"block",marginTop:"5px",color:"#9370db"},children:_})]})]}),!D&&!O&&d.jsxs("form",{onSubmit:j,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Target Database Type:"}),d.jsxs("select",{value:s,onChange:B=>{o(B.target.value),l(""),g("")},style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},required:!0,children:[d.jsx("option",{value:"",children:"-- Select Type --"}),d.jsx("option",{value:"sql",children:"SQL"}),d.jsx("option",{value:"nosql",children:"NoSQL"})]})]}),s&&d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Search Handler:"}),d.jsx("input",{type:"text",value:p,onChange:B=>g(B.target.value),placeholder:"Type to search...",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",marginBottom:"10px"}}),d.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.05)"},children:L.length===0?d.jsx("div",{style:{padding:"15px",color:"#aaa",textAlign:"center"},children:"No handlers found"}):L.map(B=>d.jsxs("div",{onClick:()=>{l(B),g("")},style:{padding:"12px 15px",cursor:"pointer",background:a===B?"rgba(147, 112, 219, 0.3)":"transparent",color:"#f0f0f0",borderBottom:"1px solid rgba(147, 112, 219, 0.2)",transition:"background 0.2s"},onMouseEnter:E=>{a!==B&&(E.currentTarget.style.background="rgba(147, 112, 219, 0.15)")},onMouseLeave:E=>{a!==B&&(E.currentTarget.style.background="transparent")},children:[B,a===B&&d.jsx("span",{style:{float:"right",color:"#28a745"},children:""})]},B))}),a&&d.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(40, 167, 69, 0.1)",border:"1px solid #28a745",borderRadius:"5px",color:"#28a745",fontSize:"0.9em"},children:["Selected: ",d.jsx("strong",{children:a})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Database Name:"}),d.jsx("input",{type:"text",value:c,onChange:B=>u(B.target.value),placeholder:"Enter new database name",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"},required:!0})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:m,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:m?"not-allowed":"pointer",fontSize:"14px",opacity:m?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:m||!a,style:{padding:"10px 20px",background:m||!a?"#ccc":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:m||!a?"not-allowed":"pointer",fontSize:"14px"},children:m?"Converting...":"Convert"})]})]})]})})}function lD({dbName:e,handlerName:t}){const[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState(!1);T.useEffect(()=>{r&&!i&&l()},[r]);const l=async()=>{a(!0);try{const c=await X.get(`/api/db/${e}/connection_info`);c.data.success&&s(c.data)}catch(c){console.error("Failed to fetch connection info:",c)}finally{a(!1)}};return d.jsx("div",{id:`conn-${e}`,style:{marginBottom:"15px"},children:d.jsxs("details",{style:{marginBottom:"15px",padding:"10px",background:"#1e0033e6",borderRadius:"4px",border:"1px solid #ddd"},open:r,onToggle:c=>n(c.target.open),children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",background:"#1e0033e6",color:"#c0bae7ff",padding:"8px"},children:[" ",e," - Connection Info"]}),o&&d.jsx("p",{children:"Loading..."}),i&&d.jsxs("div",{style:{marginTop:"10px",padding:"15px",background:"#1e0033e6",borderLeft:"3px solid #6a5acd"},children:[d.jsx("p",{children:d.jsx("strong",{children:" Connection String:"})}),d.jsx("br",{}),d.jsx("code",{style:{display:"block",background:"black",color:"#f8f8f2",padding:"10px",borderRadius:"4px",overflowX:"auto",marginBottom:"15px"},children:i.connection_string}),d.jsx("p",{children:d.jsx("strong",{children:" Test Code:"})}),d.jsx("br",{}),d.jsx("pre",{style:{background:"black",color:"#f8f8f2",padding:"15px",borderRadius:"4px",overflowX:"auto",fontSize:"0.9em"},children:i.test_code}),i.notes&&i.notes.length>0&&d.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderLeft:"3px solid #ffc107",borderRadius:"4px"},children:[d.jsx("strong",{style:{color:"black"},children:" Tips:"}),d.jsx("ul",{style:{margin:"5px 0",paddingLeft:"20px",fontSize:"0.9em",color:"black"},children:i.notes.map((c,u)=>d.jsx("li",{children:c},u))})]})]})]})})}function cD(){np();const e=Pn(),[t,r]=T.useState([]),[n,i]=T.useState("sql"),[s,o]=T.useState(""),[a,l]=T.useState([]),[c,u]=T.useState(""),[h,f]=T.useState(""),[p,g]=T.useState(!0),[m,y]=T.useState(""),[x,b]=T.useState([]),[v,C]=T.useState(!1),[k,S]=T.useState(null),[_,A]=T.useState(1),[D]=T.useState(10),[F,O]=T.useState(1),[W,H]=T.useState(0),[P,j]=T.useState(!1),[L,B]=T.useState(""),[E,M]=T.useState(!1),[$,z]=T.useState("");T.useEffect(()=>{q()},[]),T.useEffect(()=>{nt()},[]),T.useEffect(()=>{m&&ft(m)},[_]);const q=async()=>{try{g(!0);const rt=await X.get("/api/databases");if(rt.data.success){const dt=rt.data.databases;b(dt),r(dt),i(rt.data.db_type),o(rt.data.handler),l(rt.data.available_handlers||[]);const Bt=rt.data.databases.length;H(Bt),O(Math.ceil(Bt/D))}else f(rt.data.error||"Failed to fetch databases")}catch(rt){console.error("Failed to fetch databases:",rt)}finally{g(!1)}},nt=async()=>{try{const rt=await X.get("/api/check_credentials");if(rt.data.success&&rt.data.needs_credentials){e(`/credentials/${rt.data.handler}`);return}q()}catch(rt){console.error("Failed to check credentials:",rt),q()}},ut=rt=>{q()},ft=async rt=>{C(!0);try{const dt=await X.get("/api/databases/search",{params:{q:rt,page:_,per_page:D}});dt.data.success&&(r(dt.data.databases),O(dt.data.total_pages),H(dt.data.total))}catch(dt){console.error("Search error:",dt)}finally{C(!1)}},V=rt=>{y(rt),k&&clearTimeout(k);const dt=setTimeout(()=>{ft(rt)},300);S(dt)},tt=async rt=>{if(rt.preventDefault(),f(""),!c.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){f("Database name must start with a letter, contain only letters, numbers, underscores.");return}if(t.includes(c)){f("Database name already exists.");return}try{const dt=await X.post("/api/databases",{action:"create",db_name:c});dt.data.success?(u(""),q(),e(`/db/${c}`)):f(dt.data.error||"Failed to create database")}catch(dt){console.error("Create database error:",dt),f("Failed to create database")}},lt=async rt=>{if(window.confirm(`Are you sure you want to delete database ${rt}?`))try{const dt=await X.post("/api/databases",{action:"delete",db_name:rt});dt.data.success?q():f(dt.data.error||"Failed to delete database")}catch(dt){console.error("Delete database error:",dt),f("Failed to delete database")}},bt=async rt=>{f(""),g(!0);try{const dt=await X.post("/api/switch_handler",{type:n,handler:rt});if(dt.data.success){o(dt.data.handler),i(dt.data.db_type),l(dt.data.available_handlers||[]);const Bt=await X.get("/api/check_credentials");if(Bt.data.success&&Bt.data.needs_credentials){e(`/credentials/${Bt.data.handler}`,{replace:!0});return}q()}else f(dt.data.error||"Failed to switch handler")}catch(dt){console.error("Switch handler error:",dt),f("Failed to switch handler")}finally{g(!1)}},kt=t.slice((_-1)*D,_*D),At=()=>{y(""),r(x),O(Math.ceil(x.length/D)),A(1)};return p?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:n,handlerName:s}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading databases..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:n,handlerName:s}),d.jsxs("div",{className:"center",children:[d.jsxs("h1",{children:["Database Manager (",n.toUpperCase()," - ",s,")"]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"handler_select",children:"Database Type:"}),d.jsx("select",{id:"handler_select",value:s,onChange:rt=>bt(rt.target.value),children:a.map(rt=>d.jsx("option",{value:rt,children:rt},rt))})]}),h&&d.jsx("p",{style:{color:"red"},children:h}),d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",id:"search-databases",placeholder:"Search databases on this page...",value:m,onChange:rt=>V(rt.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",outline:"none",background:"rgba(147, 112, 219, 0.1)",boxShadow:"0 4px 15px rgba(147, 112, 219, 0.3)",transition:"all 0.3s"}}),d.jsx("button",{onClick:At,style:{marginLeft:"10px",padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Clear"}),d.jsx("div",{id:"search-info",style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:m&&(v?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):kt.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",W," database",W!==1?"s":""," ","match"]}))})]}),d.jsxs("form",{onSubmit:tt,id:"db_form",children:[d.jsx("input",{type:"text",name:"db_name",placeholder:"New Database Name",value:c,onChange:rt=>u(rt.target.value)}),d.jsx("button",{type:"submit",children:"Create"})]}),d.jsxs("table",{className:"db-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Database Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:kt.map(rt=>d.jsxs("tr",{children:[d.jsx("td",{children:rt}),d.jsxs("td",{children:[d.jsx("button",{className:"view-btn",onClick:()=>e(`/db/${rt}`),style:{background:"#1e9530"},children:"View"}),d.jsx("button",{onClick:()=>{B(rt),j(!0)},style:{background:"#ff9800"},children:"Rename"}),d.jsx("button",{onClick:()=>{z(rt),M(!0)},style:{background:"#334155"},children:"Convert"}),d.jsx("button",{onClick:()=>{const dt=t.indexOf(rt),Bt=Math.floor(dt/D)+1;Bt!==_&&A(Bt),setTimeout(()=>{const le=document.getElementById(`conn-${rt}`);le?(le.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const ae=le.querySelector("details");ae&&(ae.open=!0)},500)):setTimeout(()=>{const ae=document.getElementById(`conn-${rt}`);ae&&(ae.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const $r=ae.querySelector("details");$r&&($r.open=!0)},300))},200)},Bt!==_?300:0)},style:{background:"#17a2b8"},children:"Connection Info"}),d.jsx("button",{onClick:()=>lt(rt),style:{background:"#dc3545"},children:"Delete"})]})]},rt))})]}),F>1&&d.jsxs("div",{className:"pagination",children:[_>1?d.jsx("a",{href:"#",onClick:rt=>{rt.preventDefault(),A(_-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",_," of ",F," (",W," total)"]}),_<F?d.jsx("a",{href:"#",onClick:rt=>{rt.preventDefault(),A(_+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),t.length>0&&d.jsxs("div",{style:{marginTop:"40px"},children:[d.jsx("h2",{children:"Connection Strings"}),d.jsx("p",{style:{color:"white",fontSize:"0.9em"},children:" Note: Replace placeholder values with your actual credentials where needed."}),d.jsx("div",{style:{background:"#1e0033e6",padding:"15px",borderRadius:"5px",marginTop:"20px"},children:kt.map(rt=>d.jsx(lD,{dbName:rt,handlerName:s},rt))}),F>1&&d.jsxs("div",{className:"pagination",style:{marginTop:"20px"},children:[_>1?d.jsx("a",{href:"#",onClick:rt=>{rt.preventDefault(),A(_-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",_," of ",F]}),_<F?d.jsx("a",{href:"#",onClick:rt=>{rt.preventDefault(),A(_+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),P&&d.jsx(oD,{dbName:L,onClose:()=>j(!1),onSuccess:ut}),E&&d.jsx(aD,{dbName:$,currentDbType:n,currentHandler:s,onClose:()=>M(!1),onSuccess:(rt,dt,Bt)=>{window.location.href=`/react/db/${rt}`}})]})]})}function uD({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(1),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState([]),[h,f]=T.useState({}),[p,g]=T.useState({}),[m,y]=T.useState([]),[x,b]=T.useState(""),[v,C]=T.useState(!1),[k,S]=T.useState(!0),[_,A]=T.useState("");T.useEffect(()=>{D()},[]);const D=async()=>{try{const j=await X.get(`/api/db/${e}/supported_types`);j.data.success&&y(j.data.types||["TEXT","INTEGER","REAL","BLOB"])}catch(j){console.error("Failed to fetch types:",j),y(["TEXT","INTEGER","REAL","BLOB"])}try{const j=await X.get(`/api/db/${e}/capabilities`);j.data.success&&S(j.data.capabilities.supports_non_pk_autoincrement)}catch(j){console.error("Failed to fetch capabilities:",j),S(!0)}try{const j=await X.get("/api/current_state");j.data.success&&A(j.data.handler)}catch(j){console.error("Failed to fetch handler name:",j)}},F=(j,L)=>L==="PostgreSQL"?["SERIAL","BIGSERIAL","SMALLSERIAL","INTEGER","BIGINT","SMALLINT"].includes(j==null?void 0:j.toUpperCase()):L==="MySQL"?["INT","INTEGER","BIGINT","SMALLINT","TINYINT","MEDIUMINT"].includes(j==null?void 0:j.toUpperCase()):["INTEGER","INT","BIGINT","SMALLINT","TINYINT"].includes(j==null?void 0:j.toUpperCase()),O=j=>{if(j.preventDefault(),b(""),!s.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){b("Table name must start with a letter, contain only letters, numbers, underscores.");return}const L=parseInt(a);if(isNaN(L)||L<1||L>20){b("Number of columns must be between 1 and 20. More can be added later!");return}const B=[];for(let E=0;E<L;E++)B.push({name:"",type:m[0]||"TEXT",is_pk:!1,is_not_null:!1,is_autoincrement:!1,is_unique:!1});u(B),f({}),g({}),i(2)},W=(j,L,B)=>{const E=[...c];if(L==="is_autoincrement"&&B===!0){E.forEach((M,$)=>{$===j?(M.is_autoincrement=!0,M.is_unique=!0,M.is_not_null=!0):M.is_autoincrement&&(M.is_autoincrement=!1,M.is_unique=!!M.is_pk,M.is_not_null=!!M.is_pk)}),u(E);return}if(L==="is_autoincrement"&&B===!1){E[j]={...E[j],is_autoincrement:!1,is_unique:!!E[j].is_pk,is_not_null:!!E[j].is_pk},u(E);return}L==="is_unique"&&B===!1&&E[j].is_autoincrement||L==="is_not_null"&&B===!1&&E[j].is_autoincrement||(E[j]={...E[j],[L]:B},u(E))},H=(j,L)=>{const B=[...c];L?(B.forEach((E,M)=>{M!==j&&(E.is_pk=!1,E.is_not_null=!1,E.is_unique=!1)}),B[j].is_pk=!0,B[j].is_not_null=!0,B[j].is_unique=!0):(B[j].is_pk=!1,B[j].is_not_null=!1,B[j].is_unique=!1),u(B)},P=async j=>{var L,B;j.preventDefault(),b(""),C(!0);for(const E of c)if(!E.name||!E.type){b("All columns must have a name and type."),C(!1);return}try{const E=c.map($=>{const z={...$},q=h[$.name];return q&&q.trim()&&(z.check_constraint=q.trim()),z}),M=await X.post(`/api/db/${e}/create_table`,{table_name:s,columns:E});M.data.success?(r(M.data.table_name),t()):b(M.data.error||"Failed to create table")}catch(E){console.error("Create table error:",E),b("Failed to create table: "+(((B=(L=E.response)==null?void 0:L.data)==null?void 0:B.error)||E.message))}finally{C(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"1100px",width:"95%",maxHeight:"85vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:j=>j.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"20px"},children:["Create Table in ",e]}),x&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:x}),n===1&&d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Table Name:"}),d.jsx("input",{type:"text",value:s,onChange:j=>o(j.target.value),placeholder:"e.g., users, products",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Number of Columns (1-20):"}),d.jsx("input",{type:"number",value:a,onChange:j=>l(j.target.value),min:"1",max:"20",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},children:"Cancel"}),d.jsx("button",{onClick:O,style:{background:"#9370db"},children:"Next"})]})]}),n===2&&d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginBottom:"15px"},children:["Define Columns for ",s]}),d.jsx("div",{style:{marginBottom:"20px",overflowX:"auto",overflowY:"visible",paddingBottom:"10px",maxWidth:"100%"},children:d.jsx("div",{style:{minWidth:"1200px",display:"flex",flexDirection:"column",gap:"10px"},children:c.map((j,L)=>d.jsxs("div",{children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px 230px 120px 120px 120px 100px 100px",gap:"8px",alignItems:"center",padding:"12px",background:"rgba(147, 112, 219, 0.15)",borderRadius:"8px",width:"100%",boxSizing:"border-box"},children:[d.jsx("input",{type:"text",value:j.name,onChange:B=>W(L,"name",B.target.value),placeholder:`Column ${L+1}`,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",width:"100%"},children:[d.jsx("select",{value:j.type.includes("(")?j.type.split("(")[0]:j.type,onChange:B=>{var $;const E=B.target.value;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(E)){const z=j.type.includes("(")&&(($=j.type.match(/\((\d+)\)/))==null?void 0:$[1])||"255";W(L,"type",`${E}(${z})`)}else W(L,"type",E)},style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",flex:1,minWidth:"90px"},children:m.map(B=>d.jsx("option",{value:B,children:B},B))}),(()=>{var M;const B=j.type.includes("(")?j.type.split("(")[0]:j.type;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(B)){const $=j.type.includes("(")&&((M=j.type.match(/\((\d+)\)/))==null?void 0:M[1])||"";return d.jsx("input",{type:"text",value:$,onChange:z=>{const q=z.target.value;(q===""||/^\d+$/.test(q))&&(q===""?W(L,"type",B):W(L,"type",`${B}(${q})`))},onBlur:z=>{z.target.value===""&&W(L,"type",`${B}(255)`)},placeholder:"Len",style:{width:"70px",padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",textAlign:"center"}})}return null})()]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:j.is_pk,onChange:B=>H(L,B.target.checked),style:{marginRight:"5px"}}),"Primary Key"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:j.is_pk||j.is_autoincrement?"not-allowed":"pointer",opacity:j.is_pk||j.is_autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:j.is_pk||j.is_not_null||j.is_autoincrement||!1,onChange:B=>W(L,"is_not_null",B.target.checked),disabled:j.is_pk||j.is_autoincrement,style:{marginRight:"5px"}}),"Not Null"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:(k||j.is_pk)&&F(j.type,_)?"pointer":"not-allowed",opacity:(k||j.is_pk)&&F(j.type,_)?1:.6,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:j.is_autoincrement,onChange:B=>{if(F(j.type,_)){if(!k&&!j.is_pk)return;W(L,"is_autoincrement",B.target.checked)}},disabled:!k&&!j.is_pk||!F(j.type,_),style:{marginRight:"5px"}}),"Auto Inc"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:j.is_pk||j.is_autoincrement?"not-allowed":"pointer",opacity:j.is_pk||j.is_autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:j.is_pk||j.is_unique||j.is_autoincrement||!1,onChange:B=>{!j.is_pk&&!j.is_autoincrement&&W(L,"is_unique",B.target.checked)},disabled:j.is_pk||j.is_autoincrement,style:{marginRight:"5px"}}),"Unique"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:!!(h[j.name]||p[j.name]),onChange:B=>{if(B.target.checked)g({...p,[j.name]:!0}),h[j.name]||f({...h,[j.name]:""});else{const E={...h};delete E[j.name],f(E);const M={...p};delete M[j.name],g(M)}},style:{marginRight:"5px"}}),"CHECK"]})]}),(h[j.name]!==void 0||p[j.name])&&d.jsxs("div",{style:{marginTop:"5px",marginLeft:"15px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",border:"1.5px solid #4caf50",borderRadius:"5px"},children:[d.jsxs("div",{style:{marginBottom:"5px",color:"#4caf50",fontSize:"0.85em",fontWeight:"bold"},children:["CHECK Constraint for ",j.name,":"]}),d.jsx("input",{type:"text",value:h[j.name]||"",onChange:B=>{f({...h,[j.name]:B.target.value})},placeholder:"e.g., age > 0, price BETWEEN 0 AND 1000",style:{width:"100%",padding:"8px",border:"1.5px solid #4caf50",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontFamily:"monospace",fontSize:"0.9em"}}),d.jsxs("div",{style:{marginTop:"5px",fontSize:"0.75em",color:"#ccc"},children:[" Examples: age ",">"," 18, price ",">"," 0, status IN ('active', 'pending')"]})]})]},L))})})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>i(1),style:{background:"#6c757d"},children:"Back"}),d.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d"},children:"Cancel"}),d.jsx("button",{onClick:P,disabled:v,style:{background:v?"#ccc":"#9370db",cursor:v?"not-allowed":"pointer"},children:v?"Creating...":"Create Table"})]})]})]})})}const dD="modulepreload",hD=function(e){return"/react/"+e},Tv={},ne=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=hD(l),l in Tv)return;Tv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":dD,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var Ev={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},SC={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(oR,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",h="month",f="quarter",p="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var j=["th","st","nd","rd"],L=P%100;return"["+P+(j[(L-20)%10]||j[L]||j[0])+"]"}},v=function(P,j,L){var B=String(P);return!B||B.length>=j?P:""+Array(j+1-B.length).join(L)+P},C={s:v,z:function(P){var j=-P.utcOffset(),L=Math.abs(j),B=Math.floor(L/60),E=L%60;return(j<=0?"+":"-")+v(B,2,"0")+":"+v(E,2,"0")},m:function P(j,L){if(j.date()<L.date())return-P(L,j);var B=12*(L.year()-j.year())+(L.month()-j.month()),E=j.clone().add(B,h),M=L-E<0,$=j.clone().add(B+(M?-1:1),h);return+(-(B+(L-E)/(M?E-$:$-E))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:h,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:f}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},k="en",S={};S[k]=b;var _="$isDayjsObject",A=function(P){return P instanceof W||!(!P||!P[_])},D=function P(j,L,B){var E;if(!j)return k;if(typeof j=="string"){var M=j.toLowerCase();S[M]&&(E=M),L&&(S[M]=L,E=M);var $=j.split("-");if(!E&&$.length>1)return P($[0])}else{var z=j.name;S[z]=j,E=z}return!B&&E&&(k=E),E||!B&&k},F=function(P,j){if(A(P))return P.clone();var L=typeof j=="object"?j:{};return L.date=P,L.args=arguments,new W(L)},O=C;O.l=D,O.i=A,O.w=function(P,j){return F(P,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var W=function(){function P(L){this.$L=D(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[_]=!0}var j=P.prototype;return j.parse=function(L){this.$d=function(B){var E=B.date,M=B.utc;if(E===null)return new Date(NaN);if(O.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var $=E.match(y);if($){var z=$[2]-1||0,q=($[7]||"0").substring(0,3);return M?new Date(Date.UTC($[1],z,$[3]||1,$[4]||0,$[5]||0,$[6]||0,q)):new Date($[1],z,$[3]||1,$[4]||0,$[5]||0,$[6]||0,q)}}return new Date(E)}(L),this.init()},j.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},j.$utils=function(){return O},j.isValid=function(){return this.$d.toString()!==m},j.isSame=function(L,B){var E=F(L);return this.startOf(B)<=E&&E<=this.endOf(B)},j.isAfter=function(L,B){return F(L)<this.startOf(B)},j.isBefore=function(L,B){return this.endOf(B)<F(L)},j.$g=function(L,B,E){return O.u(L)?this[B]:this.set(E,L)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(L,B){var E=this,M=!!O.u(B)||B,$=O.p(L),z=function(bt,kt){var At=O.w(E.$u?Date.UTC(E.$y,kt,bt):new Date(E.$y,kt,bt),E);return M?At:At.endOf(c)},q=function(bt,kt){return O.w(E.toDate()[bt].apply(E.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(kt)),E)},nt=this.$W,ut=this.$M,ft=this.$D,V="set"+(this.$u?"UTC":"");switch($){case p:return M?z(1,0):z(31,11);case h:return M?z(1,ut):z(0,ut+1);case u:var tt=this.$locale().weekStart||0,lt=(nt<tt?nt+7:nt)-tt;return z(M?ft-lt:ft+(6-lt),ut);case c:case g:return q(V+"Hours",0);case l:return q(V+"Minutes",1);case a:return q(V+"Seconds",2);case o:return q(V+"Milliseconds",3);default:return this.clone()}},j.endOf=function(L){return this.startOf(L,!1)},j.$set=function(L,B){var E,M=O.p(L),$="set"+(this.$u?"UTC":""),z=(E={},E[c]=$+"Date",E[g]=$+"Date",E[h]=$+"Month",E[p]=$+"FullYear",E[l]=$+"Hours",E[a]=$+"Minutes",E[o]=$+"Seconds",E[s]=$+"Milliseconds",E)[M],q=M===c?this.$D+(B-this.$W):B;if(M===h||M===p){var nt=this.clone().set(g,1);nt.$d[z](q),nt.init(),this.$d=nt.set(g,Math.min(this.$D,nt.daysInMonth())).$d}else z&&this.$d[z](q);return this.init(),this},j.set=function(L,B){return this.clone().$set(L,B)},j.get=function(L){return this[O.p(L)]()},j.add=function(L,B){var E,M=this;L=Number(L);var $=O.p(B),z=function(ut){var ft=F(M);return O.w(ft.date(ft.date()+Math.round(ut*L)),M)};if($===h)return this.set(h,this.$M+L);if($===p)return this.set(p,this.$y+L);if($===c)return z(1);if($===u)return z(7);var q=(E={},E[a]=n,E[l]=i,E[o]=r,E)[$]||1,nt=this.$d.getTime()+L*q;return O.w(nt,this)},j.subtract=function(L,B){return this.add(-1*L,B)},j.format=function(L){var B=this,E=this.$locale();if(!this.isValid())return E.invalidDate||m;var M=L||"YYYY-MM-DDTHH:mm:ssZ",$=O.z(this),z=this.$H,q=this.$m,nt=this.$M,ut=E.weekdays,ft=E.months,V=E.meridiem,tt=function(kt,At,rt,dt){return kt&&(kt[At]||kt(B,M))||rt[At].slice(0,dt)},lt=function(kt){return O.s(z%12||12,kt,"0")},bt=V||function(kt,At,rt){var dt=kt<12?"AM":"PM";return rt?dt.toLowerCase():dt};return M.replace(x,function(kt,At){return At||function(rt){switch(rt){case"YY":return String(B.$y).slice(-2);case"YYYY":return O.s(B.$y,4,"0");case"M":return nt+1;case"MM":return O.s(nt+1,2,"0");case"MMM":return tt(E.monthsShort,nt,ft,3);case"MMMM":return tt(ft,nt);case"D":return B.$D;case"DD":return O.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return tt(E.weekdaysMin,B.$W,ut,2);case"ddd":return tt(E.weekdaysShort,B.$W,ut,3);case"dddd":return ut[B.$W];case"H":return String(z);case"HH":return O.s(z,2,"0");case"h":return lt(1);case"hh":return lt(2);case"a":return bt(z,q,!0);case"A":return bt(z,q,!1);case"m":return String(q);case"mm":return O.s(q,2,"0");case"s":return String(B.$s);case"ss":return O.s(B.$s,2,"0");case"SSS":return O.s(B.$ms,3,"0");case"Z":return $}return null}(kt)||$.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(L,B,E){var M,$=this,z=O.p(B),q=F(L),nt=(q.utcOffset()-this.utcOffset())*n,ut=this-q,ft=function(){return O.m($,q)};switch(z){case p:M=ft()/12;break;case h:M=ft();break;case f:M=ft()/3;break;case u:M=(ut-nt)/6048e5;break;case c:M=(ut-nt)/864e5;break;case l:M=ut/i;break;case a:M=ut/n;break;case o:M=ut/r;break;default:M=ut}return E?M:O.a(M)},j.daysInMonth=function(){return this.endOf(h).$D},j.$locale=function(){return S[this.$L]},j.locale=function(L,B){if(!L)return this.$L;var E=this.clone(),M=D(L,B,!0);return M&&(E.$L=M),E},j.clone=function(){return O.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},P}(),H=W.prototype;return F.prototype=H,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",p],["$D",g]].forEach(function(P){H[P[1]]=function(j){return this.$g(j,P[0],P[1])}}),F.extend=function(P,j){return P.$i||(P(j,W,F),P.$i=!0),F},F.locale=D,F.isDayjs=A,F.unix=function(P){return F(1e3*P)},F.en=S[k],F.Ls=S,F.p={},F})})(SC);var fD=SC.exports;const pD=ES(fD);var _C=Object.defineProperty,w=(e,t)=>_C(e,"name",{value:t,configurable:!0}),gD=(e,t)=>{for(var r in t)_C(e,r,{get:t[r],enumerable:!0})},Ri={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Q={trace:w((...e)=>{},"trace"),debug:w((...e)=>{},"debug"),info:w((...e)=>{},"info"),warn:w((...e)=>{},"warn"),error:w((...e)=>{},"error"),fatal:w((...e)=>{},"fatal")},ky=w(function(e="fatal"){let t=Ri.fatal;typeof e=="string"?e.toLowerCase()in Ri&&(t=Ri[e]):typeof e=="number"&&(t=e),Q.trace=()=>{},Q.debug=()=>{},Q.info=()=>{},Q.warn=()=>{},Q.error=()=>{},Q.fatal=()=>{},t<=Ri.fatal&&(Q.fatal=console.error?console.error.bind(console,kn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",kn("FATAL"))),t<=Ri.error&&(Q.error=console.error?console.error.bind(console,kn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",kn("ERROR"))),t<=Ri.warn&&(Q.warn=console.warn?console.warn.bind(console,kn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",kn("WARN"))),t<=Ri.info&&(Q.info=console.info?console.info.bind(console,kn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",kn("INFO"))),t<=Ri.debug&&(Q.debug=console.debug?console.debug.bind(console,kn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kn("DEBUG"))),t<=Ri.trace&&(Q.trace=console.debug?console.debug.bind(console,kn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",kn("TRACE")))},"setLogLevel"),kn=w(e=>`%c${pD().format("ss.SSS")} : ${e} : `,"format");const ih={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return ih.hue2rgb(s,i,e+1/3)*255;case"g":return ih.hue2rgb(s,i,e)*255;case"b":return ih.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(n==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/a+(t<r?6:0))*60;case t:return((r-e)/a+2)*60;case r:return((e-t)/a+4)*60;default:return-1}}},mD={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},xD={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Rt={channel:ih,lang:mD,unit:xD},ds={};for(let e=0;e<=255;e++)ds[e]=Rt.unit.dec2hex(e);const dr={ALL:0,RGB:1,HSL:2};class yD{constructor(){this.type=dr.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=dr.ALL}is(t){return this.type===t}}class bD{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new yD}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=dr.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=Rt.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=Rt.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=Rt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=Rt.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=Rt.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=Rt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(dr.HSL)&&r!==void 0?r:(this._ensureHSL(),Rt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(dr.HSL)&&r!==void 0?r:(this._ensureHSL(),Rt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(dr.HSL)&&r!==void 0?r:(this._ensureHSL(),Rt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(dr.RGB)&&r!==void 0?r:(this._ensureRGB(),Rt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(dr.RGB)&&r!==void 0?r:(this._ensureRGB(),Rt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(dr.RGB)&&r!==void 0?r:(this._ensureRGB(),Rt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(dr.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(dr.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(dr.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(dr.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(dr.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(dr.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const cp=new bD({r:0,g:0,b:0,a:0},"transparent"),Fa={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Fa.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,c=s?0:-1,u=o?255:15;return cp.set({r:(n>>l*(c+3)&u)*a,g:(n>>l*(c+2)&u)*a,b:(n>>l*(c+1)&u)*a,a:s?(n&u)*a/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${ds[Math.round(t)]}${ds[Math.round(r)]}${ds[Math.round(n)]}${ds[Math.round(i*255)]}`:`#${ds[Math.round(t)]}${ds[Math.round(r)]}${ds[Math.round(n)]}`}},xo={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(xo.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return Rt.channel.clamp.h(parseFloat(r)*.9);case"rad":return Rt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Rt.channel.clamp.h(parseFloat(r)*360)}}return Rt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(xo.re);if(!r)return;const[,n,i,s,o,a]=r;return cp.set({h:xo._hue2deg(n),s:Rt.channel.clamp.s(parseFloat(i)),l:Rt.channel.clamp.l(parseFloat(s)),a:o?Rt.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Rt.lang.round(t)}, ${Rt.lang.round(r)}%, ${Rt.lang.round(n)}%, ${i})`:`hsl(${Rt.lang.round(t)}, ${Rt.lang.round(r)}%, ${Rt.lang.round(n)}%)`}},jc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=jc.colors[e];if(t)return Fa.parse(t)},stringify:e=>{const t=Fa.stringify(e);for(const r in jc.colors)if(jc.colors[r]===t)return r}},sc={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(sc.re);if(!r)return;const[,n,i,s,o,a,l,c,u]=r;return cp.set({r:Rt.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Rt.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Rt.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:c?Rt.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Rt.lang.round(t)}, ${Rt.lang.round(r)}, ${Rt.lang.round(n)}, ${Rt.lang.round(i)})`:`rgb(${Rt.lang.round(t)}, ${Rt.lang.round(r)}, ${Rt.lang.round(n)})`}},ki={format:{keyword:jc,hex:Fa,rgb:sc,rgba:sc,hsl:xo,hsla:xo},parse:e=>{if(typeof e!="string")return e;const t=Fa.parse(e)||sc.parse(e)||xo.parse(e)||jc.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(dr.HSL)||e.data.r===void 0?xo.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?sc.stringify(e):Fa.stringify(e)},CC=(e,t)=>{const r=ki.parse(e);for(const n in t)r[n]=Rt.channel.clamp[n](t[n]);return ki.stringify(r)},Ac=(e,t,r=0,n=1)=>{if(typeof e!="number")return CC(e,{a:t});const i=cp.set({r:Rt.channel.clamp.r(e),g:Rt.channel.clamp.g(t),b:Rt.channel.clamp.b(r),a:Rt.channel.clamp.a(n)});return ki.stringify(i)},vD=e=>{const{r:t,g:r,b:n}=ki.parse(e),i=.2126*Rt.channel.toLinear(t)+.7152*Rt.channel.toLinear(r)+.0722*Rt.channel.toLinear(n);return Rt.lang.round(i)},wD=e=>vD(e)>=.5,Ou=e=>!wD(e),TC=(e,t,r)=>{const n=ki.parse(e),i=n[t],s=Rt.channel.clamp[t](i+r);return i!==s&&(n[t]=s),ki.stringify(n)},xt=(e,t)=>TC(e,"l",t),Tt=(e,t)=>TC(e,"l",-t),U=(e,t)=>{const r=ki.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return CC(e,n)},kD=(e,t,r=50)=>{const{r:n,g:i,b:s,a:o}=ki.parse(e),{r:a,g:l,b:c,a:u}=ki.parse(t),h=r/100,f=h*2-1,p=o-u,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,y=1-m,x=n*m+a*y,b=i*m+l*y,v=s*m+c*y,C=o*h+u*(1-h);return Ac(x,b,v,C)},ht=(e,t=100)=>{const r=ki.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,kD(r,e,t)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:EC,setPrototypeOf:jv,isFrozen:SD,getPrototypeOf:_D,getOwnPropertyDescriptor:CD}=Object;let{freeze:Pr,seal:Mn,create:c0}=Object,{apply:u0,construct:d0}=typeof Reflect<"u"&&Reflect;Pr||(Pr=function(t){return t});Mn||(Mn=function(t){return t});u0||(u0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});d0||(d0=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const xd=Fr(Array.prototype.forEach),TD=Fr(Array.prototype.lastIndexOf),Av=Fr(Array.prototype.pop),Nl=Fr(Array.prototype.push),ED=Fr(Array.prototype.splice),sh=Fr(String.prototype.toLowerCase),jg=Fr(String.prototype.toString),Ag=Fr(String.prototype.match),Il=Fr(String.prototype.replace),jD=Fr(String.prototype.indexOf),AD=Fr(String.prototype.trim),zn=Fr(Object.prototype.hasOwnProperty),jr=Fr(RegExp.prototype.test),zl=LD(TypeError);function Fr(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return u0(e,t,n)}}function LD(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d0(e,r)}}function Ut(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sh;jv&&jv(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(SD(t)||(t[n]=s),i=s)}e[i]=!0}return e}function MD(e){for(let t=0;t<e.length;t++)zn(e,t)||(e[t]=null);return e}function Fi(e){const t=c0(null);for(const[r,n]of EC(e))zn(e,r)&&(Array.isArray(n)?t[r]=MD(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Fi(n):t[r]=n);return t}function Wl(e,t){for(;e!==null;){const n=CD(e,t);if(n){if(n.get)return Fr(n.get);if(typeof n.value=="function")return Fr(n.value)}e=_D(e)}function r(){return null}return r}const Lv=Pr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lg=Pr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mg=Pr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),RD=Pr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rg=Pr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BD=Pr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mv=Pr(["#text"]),Rv=Pr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Bg=Pr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Bv=Pr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yd=Pr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PD=Mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FD=Mn(/<%[\w\W]*|[\w\W]*%>/gm),DD=Mn(/\$\{[\w\W]*/gm),OD=Mn(/^data-[\-\w.\u00B7-\uFFFF]+$/),$D=Mn(/^aria-[\-\w]+$/),jC=Mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ND=Mn(/^(?:\w+script|data):/i),ID=Mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),AC=Mn(/^html$/i),zD=Mn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pv=Object.freeze({__proto__:null,ARIA_ATTR:$D,ATTR_WHITESPACE:ID,CUSTOM_ELEMENT:zD,DATA_ATTR:OD,DOCTYPE_NAME:AC,ERB_EXPR:FD,IS_ALLOWED_URI:jC,IS_SCRIPT_OR_DATA:ND,MUSTACHE_EXPR:PD,TMPLIT_EXPR:DD});const Hl={element:1,text:3,progressingInstruction:7,comment:8,document:9},WD=function(){return typeof window>"u"?null:window},HD=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Fv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function LC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WD();const t=_t=>LC(_t);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Hl.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=e,g=l.prototype,m=Wl(g,"cloneNode"),y=Wl(g,"remove"),x=Wl(g,"nextSibling"),b=Wl(g,"childNodes"),v=Wl(g,"parentNode");if(typeof o=="function"){const _t=r.createElement("template");_t.content&&_t.content.ownerDocument&&(r=_t.content.ownerDocument)}let C,k="";const{implementation:S,createNodeIterator:_,createDocumentFragment:A,getElementsByTagName:D}=r,{importNode:F}=n;let O=Fv();t.isSupported=typeof EC=="function"&&typeof v=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:H,TMPLIT_EXPR:P,DATA_ATTR:j,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:M}=Pv;let{IS_ALLOWED_URI:$}=Pv,z=null;const q=Ut({},[...Lv,...Lg,...Mg,...Rg,...Mv]);let nt=null;const ut=Ut({},[...Rv,...Bg,...Bv,...yd]);let ft=Object.seal(c0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,tt=null;const lt=Object.seal(c0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let bt=!0,kt=!0,At=!1,rt=!0,dt=!1,Bt=!0,le=!1,ae=!1,$r=!1,Ae=!1,de=!1,Je=!1,mn=!0,Fn=!1;const _e="user-content-";let rn=!0,Nr=!1,Ir={},Ce=null;const nn=Ut({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ti=null;const Ei=Ut({},["audio","video","img","source","image","track"]);let xn=null;const Cr=Ut({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yn="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml";let Ze=he,bn=!1,Oe=null;const vn=Ut({},[yn,Te,he],jg);let Tr=Ut({},["mi","mo","mn","ms","mtext"]),sn=Ut({},["annotation-xml"]);const ct=Ut({},["title","style","font","a","script"]);let Ot=null;const Nt=["application/xhtml+xml","text/html"],Ht="text/html";let Ft=null,Wt=null;const on=r.createElement("form"),ta=function(N){return N instanceof RegExp||N instanceof Function},Er=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Wt&&Wt===N)){if((!N||typeof N!="object")&&(N={}),N=Fi(N),Ot=Nt.indexOf(N.PARSER_MEDIA_TYPE)===-1?Ht:N.PARSER_MEDIA_TYPE,Ft=Ot==="application/xhtml+xml"?jg:sh,z=zn(N,"ALLOWED_TAGS")?Ut({},N.ALLOWED_TAGS,Ft):q,nt=zn(N,"ALLOWED_ATTR")?Ut({},N.ALLOWED_ATTR,Ft):ut,Oe=zn(N,"ALLOWED_NAMESPACES")?Ut({},N.ALLOWED_NAMESPACES,jg):vn,xn=zn(N,"ADD_URI_SAFE_ATTR")?Ut(Fi(Cr),N.ADD_URI_SAFE_ATTR,Ft):Cr,Ti=zn(N,"ADD_DATA_URI_TAGS")?Ut(Fi(Ei),N.ADD_DATA_URI_TAGS,Ft):Ei,Ce=zn(N,"FORBID_CONTENTS")?Ut({},N.FORBID_CONTENTS,Ft):nn,V=zn(N,"FORBID_TAGS")?Ut({},N.FORBID_TAGS,Ft):Fi({}),tt=zn(N,"FORBID_ATTR")?Ut({},N.FORBID_ATTR,Ft):Fi({}),Ir=zn(N,"USE_PROFILES")?N.USE_PROFILES:!1,bt=N.ALLOW_ARIA_ATTR!==!1,kt=N.ALLOW_DATA_ATTR!==!1,At=N.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dt=N.SAFE_FOR_TEMPLATES||!1,Bt=N.SAFE_FOR_XML!==!1,le=N.WHOLE_DOCUMENT||!1,Ae=N.RETURN_DOM||!1,de=N.RETURN_DOM_FRAGMENT||!1,Je=N.RETURN_TRUSTED_TYPE||!1,$r=N.FORCE_BODY||!1,mn=N.SANITIZE_DOM!==!1,Fn=N.SANITIZE_NAMED_PROPS||!1,rn=N.KEEP_CONTENT!==!1,Nr=N.IN_PLACE||!1,$=N.ALLOWED_URI_REGEXP||jC,Ze=N.NAMESPACE||he,Tr=N.MATHML_TEXT_INTEGRATION_POINTS||Tr,sn=N.HTML_INTEGRATION_POINTS||sn,ft=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&ta(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ft.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&ta(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ft.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ft.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dt&&(kt=!1),de&&(Ae=!0),Ir&&(z=Ut({},Mv),nt=[],Ir.html===!0&&(Ut(z,Lv),Ut(nt,Rv)),Ir.svg===!0&&(Ut(z,Lg),Ut(nt,Bg),Ut(nt,yd)),Ir.svgFilters===!0&&(Ut(z,Mg),Ut(nt,Bg),Ut(nt,yd)),Ir.mathMl===!0&&(Ut(z,Rg),Ut(nt,Bv),Ut(nt,yd))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?lt.tagCheck=N.ADD_TAGS:(z===q&&(z=Fi(z)),Ut(z,N.ADD_TAGS,Ft))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?lt.attributeCheck=N.ADD_ATTR:(nt===ut&&(nt=Fi(nt)),Ut(nt,N.ADD_ATTR,Ft))),N.ADD_URI_SAFE_ATTR&&Ut(xn,N.ADD_URI_SAFE_ATTR,Ft),N.FORBID_CONTENTS&&(Ce===nn&&(Ce=Fi(Ce)),Ut(Ce,N.FORBID_CONTENTS,Ft)),rn&&(z["#text"]=!0),le&&Ut(z,["html","head","body"]),z.table&&(Ut(z,["tbody"]),delete V.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw zl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=N.TRUSTED_TYPES_POLICY,k=C.createHTML("")}else C===void 0&&(C=HD(p,i)),C!==null&&typeof k=="string"&&(k=C.createHTML(""));Pr&&Pr(N),Wt=N}},or=Ut({},[...Lg,...Mg,...RD]),Dn=Ut({},[...Rg,...BD]),qt=function(N){let it=v(N);(!it||!it.tagName)&&(it={namespaceURI:Ze,tagName:"template"});const mt=sh(N.tagName),oe=sh(it.tagName);return Oe[N.namespaceURI]?N.namespaceURI===Te?it.namespaceURI===he?mt==="svg":it.namespaceURI===yn?mt==="svg"&&(oe==="annotation-xml"||Tr[oe]):!!or[mt]:N.namespaceURI===yn?it.namespaceURI===he?mt==="math":it.namespaceURI===Te?mt==="math"&&sn[oe]:!!Dn[mt]:N.namespaceURI===he?it.namespaceURI===Te&&!sn[oe]||it.namespaceURI===yn&&!Tr[oe]?!1:!Dn[mt]&&(ct[mt]||!or[mt]):!!(Ot==="application/xhtml+xml"&&Oe[N.namespaceURI]):!1},tr=function(N){Nl(t.removed,{element:N});try{v(N).removeChild(N)}catch{y(N)}},ar=function(N,it){try{Nl(t.removed,{attribute:it.getAttributeNode(N),from:it})}catch{Nl(t.removed,{attribute:null,from:it})}if(it.removeAttribute(N),N==="is")if(Ae||de)try{tr(it)}catch{}else try{it.setAttribute(N,"")}catch{}},Js=function(N){let it=null,mt=null;if($r)N="<remove></remove>"+N;else{const xe=Ag(N,/^[\r\n\t ]+/);mt=xe&&xe[0]}Ot==="application/xhtml+xml"&&Ze===he&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const oe=C?C.createHTML(N):N;if(Ze===he)try{it=new f().parseFromString(oe,Ot)}catch{}if(!it||!it.documentElement){it=S.createDocument(Ze,"template",null);try{it.documentElement.innerHTML=bn?k:oe}catch{}}const $e=it.body||it.documentElement;return N&&mt&&$e.insertBefore(r.createTextNode(mt),$e.childNodes[0]||null),Ze===he?D.call(it,le?"html":"body")[0]:le?it.documentElement:$e},ss=function(N){return _.call(N.ownerDocument||N,N,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ji=function(N){return N instanceof h&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof u)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},os=function(N){return typeof a=="function"&&N instanceof a};function Ve(_t,N,it){xd(_t,mt=>{mt.call(t,N,it,Wt)})}const ea=function(N){let it=null;if(Ve(O.beforeSanitizeElements,N,null),ji(N))return tr(N),!0;const mt=Ft(N.nodeName);if(Ve(O.uponSanitizeElement,N,{tagName:mt,allowedTags:z}),Bt&&N.hasChildNodes()&&!os(N.firstElementChild)&&jr(/<[/\w!]/g,N.innerHTML)&&jr(/<[/\w!]/g,N.textContent)||N.nodeType===Hl.progressingInstruction||Bt&&N.nodeType===Hl.comment&&jr(/<[/\w]/g,N.data))return tr(N),!0;if(!(lt.tagCheck instanceof Function&&lt.tagCheck(mt))&&(!z[mt]||V[mt])){if(!V[mt]&&to(mt)&&(ft.tagNameCheck instanceof RegExp&&jr(ft.tagNameCheck,mt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(mt)))return!1;if(rn&&!Ce[mt]){const oe=v(N)||N.parentNode,$e=b(N)||N.childNodes;if($e&&oe){const xe=$e.length;for(let Ne=xe-1;Ne>=0;--Ne){const wn=m($e[Ne],!0);wn.__removalCount=(N.__removalCount||0)+1,oe.insertBefore(wn,x(N))}}}return tr(N),!0}return N instanceof l&&!qt(N)||(mt==="noscript"||mt==="noembed"||mt==="noframes")&&jr(/<\/no(script|embed|frames)/i,N.innerHTML)?(tr(N),!0):(dt&&N.nodeType===Hl.text&&(it=N.textContent,xd([W,H,P],oe=>{it=Il(it,oe," ")}),N.textContent!==it&&(Nl(t.removed,{element:N.cloneNode()}),N.textContent=it)),Ve(O.afterSanitizeElements,N,null),!1)},Zs=function(N,it,mt){if(mn&&(it==="id"||it==="name")&&(mt in r||mt in on))return!1;if(!(kt&&!tt[it]&&jr(j,it))){if(!(bt&&jr(L,it))){if(!(lt.attributeCheck instanceof Function&&lt.attributeCheck(it,N))){if(!nt[it]||tt[it]){if(!(to(N)&&(ft.tagNameCheck instanceof RegExp&&jr(ft.tagNameCheck,N)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(N))&&(ft.attributeNameCheck instanceof RegExp&&jr(ft.attributeNameCheck,it)||ft.attributeNameCheck instanceof Function&&ft.attributeNameCheck(it,N))||it==="is"&&ft.allowCustomizedBuiltInElements&&(ft.tagNameCheck instanceof RegExp&&jr(ft.tagNameCheck,mt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(mt))))return!1}else if(!xn[it]){if(!jr($,Il(mt,E,""))){if(!((it==="src"||it==="xlink:href"||it==="href")&&N!=="script"&&jD(mt,"data:")===0&&Ti[N])){if(!(At&&!jr(B,Il(mt,E,"")))){if(mt)return!1}}}}}}}return!0},to=function(N){return N!=="annotation-xml"&&Ag(N,M)},as=function(N){Ve(O.beforeSanitizeAttributes,N,null);const{attributes:it}=N;if(!it||ji(N))return;const mt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:nt,forceKeepAttr:void 0};let oe=it.length;for(;oe--;){const $e=it[oe],{name:xe,namespaceURI:Ne,value:wn}=$e,Ai=Ft(xe),na=wn;let Be=xe==="value"?na:AD(na);if(mt.attrName=Ai,mt.attrValue=Be,mt.keepAttr=!0,mt.forceKeepAttr=void 0,Ve(O.uponSanitizeAttribute,N,mt),Be=mt.attrValue,Fn&&(Ai==="id"||Ai==="name")&&(ar(xe,N),Be=_e+Be),Bt&&jr(/((--!?|])>)|<\/(style|title|textarea)/i,Be)){ar(xe,N);continue}if(Ai==="attributename"&&Ag(Be,"href")){ar(xe,N);continue}if(mt.forceKeepAttr)continue;if(!mt.keepAttr){ar(xe,N);continue}if(!rt&&jr(/\/>/i,Be)){ar(xe,N);continue}dt&&xd([W,H,P],ia=>{Be=Il(Be,ia," ")});const Li=Ft(N.nodeName);if(!Zs(Li,Ai,Be)){ar(xe,N);continue}if(C&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Ne)switch(p.getAttributeType(Li,Ai)){case"TrustedHTML":{Be=C.createHTML(Be);break}case"TrustedScriptURL":{Be=C.createScriptURL(Be);break}}if(Be!==na)try{Ne?N.setAttributeNS(Ne,xe,Be):N.setAttribute(xe,Be),ji(N)?tr(N):Av(t.removed)}catch{ar(xe,N)}}Ve(O.afterSanitizeAttributes,N,null)},ra=function _t(N){let it=null;const mt=ss(N);for(Ve(O.beforeSanitizeShadowDOM,N,null);it=mt.nextNode();)Ve(O.uponSanitizeShadowNode,it,null),ea(it),as(it),it.content instanceof s&&_t(it.content);Ve(O.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(_t){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=null,mt=null,oe=null,$e=null;if(bn=!_t,bn&&(_t="<!-->"),typeof _t!="string"&&!os(_t))if(typeof _t.toString=="function"){if(_t=_t.toString(),typeof _t!="string")throw zl("dirty is not a string, aborting")}else throw zl("toString is not a function");if(!t.isSupported)return _t;if(ae||Er(N),t.removed=[],typeof _t=="string"&&(Nr=!1),Nr){if(_t.nodeName){const wn=Ft(_t.nodeName);if(!z[wn]||V[wn])throw zl("root node is forbidden and cannot be sanitized in-place")}}else if(_t instanceof a)it=Js("<!---->"),mt=it.ownerDocument.importNode(_t,!0),mt.nodeType===Hl.element&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?it=mt:it.appendChild(mt);else{if(!Ae&&!dt&&!le&&_t.indexOf("<")===-1)return C&&Je?C.createHTML(_t):_t;if(it=Js(_t),!it)return Ae?null:Je?k:""}it&&$r&&tr(it.firstChild);const xe=ss(Nr?_t:it);for(;oe=xe.nextNode();)ea(oe),as(oe),oe.content instanceof s&&ra(oe.content);if(Nr)return _t;if(Ae){if(de)for($e=A.call(it.ownerDocument);it.firstChild;)$e.appendChild(it.firstChild);else $e=it;return(nt.shadowroot||nt.shadowrootmode)&&($e=F.call(n,$e,!0)),$e}let Ne=le?it.outerHTML:it.innerHTML;return le&&z["!doctype"]&&it.ownerDocument&&it.ownerDocument.doctype&&it.ownerDocument.doctype.name&&jr(AC,it.ownerDocument.doctype.name)&&(Ne="<!DOCTYPE "+it.ownerDocument.doctype.name+`>
`+Ne),dt&&xd([W,H,P],wn=>{Ne=Il(Ne,wn," ")}),C&&Je?C.createHTML(Ne):Ne},t.setConfig=function(){let _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Er(_t),ae=!0},t.clearConfig=function(){Wt=null,ae=!1},t.isValidAttribute=function(_t,N,it){Wt||Er({});const mt=Ft(_t),oe=Ft(N);return Zs(mt,oe,it)},t.addHook=function(_t,N){typeof N=="function"&&Nl(O[_t],N)},t.removeHook=function(_t,N){if(N!==void 0){const it=TD(O[_t],N);return it===-1?void 0:ED(O[_t],it,1)[0]}return Av(O[_t])},t.removeHooks=function(_t){O[_t]=[]},t.removeAllHooks=function(){O=Fv()},t}var el=LC(),MC=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Lc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,qD=/\s*%%.*\n/gm,Na,RC=(Na=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},w(Na,"UnknownDiagramError"),Na),Oo={},Sy=w(function(e,t){e=e.replace(MC,"").replace(Lc,"").replace(qD,`
`);for(const[r,{detector:n}]of Object.entries(Oo))if(n(e,t))return r;throw new RC(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),h0=w((...e)=>{for(const{id:t,detector:r,loader:n}of e)BC(t,r,n)},"registerLazyLoadedDiagrams"),BC=w((e,t,r)=>{Oo[e]&&Q.warn(`Detector with key ${e} already exists. Overwriting.`),Oo[e]={detector:t,loader:r},Q.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),UD=w(e=>Oo[e].loader,"getDiagramLoader"),f0=w((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>f0(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=f0(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),ze=f0,up="#ffffff",dp="#f2f2f2",Lr=w((e,t)=>t?U(e,{s:-40,l:10}):U(e,{s:-40,l:-10}),"mkBorder"),Ia,VD=(Ia=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,C,k,S;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||U(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||U(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Lr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Lr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Lr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Lr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ht(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ht(this.tertiaryColor),this.lineColor=this.lineColor||ht(this.background),this.arrowheadColor=this.arrowheadColor||ht(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Tt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Tt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ht(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||xt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Tt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Tt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||xt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.darkMode)for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScale"+_]=Tt(this["cScale"+_],75);else for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScale"+_]=Tt(this["cScale"+_],25);for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScaleInv"+_]=this["cScaleInv"+_]||ht(this["cScale"+_]);for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this.darkMode?this["cScalePeer"+_]=this["cScalePeer"+_]||xt(this["cScale"+_],10):this["cScalePeer"+_]=this["cScalePeer"+_]||Tt(this["cScale"+_],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let _=0;_<this.THEME_COLOR_LIMIT;_++)this["cScaleLabel"+_]=this["cScaleLabel"+_]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let _=0;_<5;_++)this["surface"+_]=this["surface"+_]||U(this.mainBkg,{h:180,s:-15,l:t*(5+_*3)}),this["surfacePeer"+_]=this["surfacePeer"+_]||U(this.mainBkg,{h:180,s:-15,l:t*(8+_*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||U(this.primaryColor,{h:64}),this.fillType3=this.fillType3||U(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||U(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||U(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||U(this.primaryColor,{h:128}),this.fillType7=this.fillType7||U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||U(this.primaryColor,{l:-10}),this.pie5=this.pie5||U(this.secondaryColor,{l:-10}),this.pie6=this.pie6||U(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||U(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?xt(this.quadrant1Fill):Tt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((x=this.xyChart)==null?void 0:x.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((b=this.xyChart)==null?void 0:b.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((C=this.xyChart)==null?void 0:C.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Tt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=xt(this.git0,25),this.git1=xt(this.git1,25),this.git2=xt(this.git2,25),this.git3=xt(this.git3,25),this.git4=xt(this.git4,25),this.git5=xt(this.git5,25),this.git6=xt(this.git6,25),this.git7=xt(this.git7,25)):(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Ia,"Theme"),Ia),YD=w(e=>{const t=new VD;return t.calculate(e),t},"getThemeVariables"),za,GD=(za=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=xt(this.primaryColor,16),this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=ht(this.background),this.secondaryBorderColor=Lr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Lr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=xt(ht("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ac(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Tt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Tt(this.sectionBkgColor,10),this.taskBorderColor=Ac(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ac(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||xt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Tt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,C,k;this.secondBkg=xt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=xt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=xt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||ht(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScalePeer"+S]=this["cScalePeer"+S]||xt(this["cScale"+S],10);for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||U(this.mainBkg,{h:30,s:-30,l:-(-10+S*4)}),this["surfacePeer"+S]=this["surfacePeer"+S]||U(this.mainBkg,{h:30,s:-30,l:-(-7+S*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?xt(this.quadrant1Fill):Tt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((v=this.radar)==null?void 0:v.graticuleOpacity)||.3,legendBoxSize:((C=this.radar)==null?void 0:C.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Tt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=xt(this.secondaryColor,20),this.git1=xt(this.pie2||this.secondaryColor,20),this.git2=xt(this.pie3||this.tertiaryColor,20),this.git3=xt(this.pie4||U(this.primaryColor,{h:-30}),20),this.git4=xt(this.pie5||U(this.primaryColor,{h:-60}),20),this.git5=xt(this.pie6||U(this.primaryColor,{h:-90}),10),this.git6=xt(this.pie7||U(this.primaryColor,{h:60}),10),this.git7=xt(this.pie8||U(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||xt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||xt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(za,"Theme"),za),XD=w(e=>{const t=new GD;return t.calculate(e),t},"getThemeVariables"),Wa,QD=(Wa=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=U(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=Lr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Lr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Lr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ac(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,C,k;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Tt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Tt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Tt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Tt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||U(this["cScale"+S],{h:180});for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||U(this.mainBkg,{h:30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||U(this.mainBkg,{h:30,l:-(7+S*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ht(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ht(this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=xt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||xt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||xt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||U(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||U(this.primaryColor,{l:-10}),this.pie5=this.pie5||U(this.secondaryColor,{l:-30}),this.pie6=this.pie6||U(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||U(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?xt(this.quadrant1Fill):Tt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((v=this.xyChart)==null?void 0:v.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((C=this.xyChart)==null?void 0:C.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=xt(this.git0,25),this.git1=xt(this.git1,25),this.git2=xt(this.git2,25),this.git3=xt(this.git3,25),this.git4=xt(this.git4,25),this.git5=xt(this.git5,25),this.git6=xt(this.git6,25),this.git7=xt(this.git7,25)):(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)),this.gitInv0=this.gitInv0||Tt(ht(this.git0),25),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Wa,"Theme"),Wa),KD=w(e=>{const t=new QD;return t.calculate(e),t},"getThemeVariables"),Ha,JD=(Ha=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=xt("#cde498",10),this.primaryBorderColor=Lr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Lr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Lr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.primaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,C,k;this.actorBorder=Tt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||U(this.primaryColor,{h:30}),this.cScale4=this.cScale4||U(this.primaryColor,{h:60}),this.cScale5=this.cScale5||U(this.primaryColor,{h:90}),this.cScale6=this.cScale6||U(this.primaryColor,{h:120}),this.cScale7=this.cScale7||U(this.primaryColor,{h:150}),this.cScale8=this.cScale8||U(this.primaryColor,{h:210}),this.cScale9=this.cScale9||U(this.primaryColor,{h:270}),this.cScale10=this.cScale10||U(this.primaryColor,{h:300}),this.cScale11=this.cScale11||U(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Tt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Tt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Tt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Tt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||U(this["cScale"+S],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||U(this.mainBkg,{h:30,s:-30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||U(this.mainBkg,{h:30,s:-30,l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||xt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||U(this.primaryColor,{l:-30}),this.pie5=this.pie5||U(this.secondaryColor,{l:-30}),this.pie6=this.pie6||U(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||U(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||U(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||U(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||U(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||U(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||U(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?xt(this.quadrant1Fill):Tt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((a=this.radar)==null?void 0:a.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.xyChart={backgroundColor:((h=this.xyChart)==null?void 0:h.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((b=this.xyChart)==null?void 0:b.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((v=this.xyChart)==null?void 0:v.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((C=this.xyChart)==null?void 0:C.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||U(this.primaryColor,{h:-30}),this.git4=this.git4||U(this.primaryColor,{h:-60}),this.git5=this.git5||U(this.primaryColor,{h:-90}),this.git6=this.git6||U(this.primaryColor,{h:60}),this.git7=this.git7||U(this.primaryColor,{h:120}),this.darkMode?(this.git0=xt(this.git0,25),this.git1=xt(this.git1,25),this.git2=xt(this.git2,25),this.git3=xt(this.git3,25),this.git4=xt(this.git4,25),this.git5=xt(this.git5,25),this.git6=xt(this.git6,25),this.git7=xt(this.git7,25)):(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(Ha,"Theme"),Ha),ZD=w(e=>{const t=new JD;return t.calculate(e),t},"getThemeVariables"),qa,tO=(qa=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=xt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=U(this.primaryColor,{h:-160}),this.primaryBorderColor=Lr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Lr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Lr(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,o,a,l,c,u,h,f,p,g,m,y,x,b,v,C,k;this.secondBkg=xt(this.contrast,55),this.border2=this.contrast,this.actorBorder=xt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||ht(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this.darkMode?this["cScalePeer"+S]=this["cScalePeer"+S]||xt(this["cScale"+S],10):this["cScalePeer"+S]=this["cScalePeer"+S]||Tt(this["cScale"+S],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||U(this.mainBkg,{l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||U(this.mainBkg,{l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=xt(this.contrast,30),this.sectionBkgColor2=xt(this.contrast,30),this.taskBorderColor=Tt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=xt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Tt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=U(this.primaryColor,{h:64}),this.fillType3=U(this.secondaryColor,{h:64}),this.fillType4=U(this.primaryColor,{h:-64}),this.fillType5=U(this.secondaryColor,{h:-64}),this.fillType6=U(this.primaryColor,{h:128}),this.fillType7=U(this.secondaryColor,{h:128});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||U(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||U(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||U(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||U(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||U(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||U(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ou(this.quadrant1Fill)?xt(this.quadrant1Fill):Tt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((b=this.radar)==null?void 0:b.graticuleStrokeWidth)||1,graticuleOpacity:((v=this.radar)==null?void 0:v.graticuleOpacity)||.3,legendBoxSize:((C=this.radar)==null?void 0:C.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Tt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||U(this.primaryColor,{h:-30}),this.git4=this.pie5||U(this.primaryColor,{h:-60}),this.git5=this.pie6||U(this.primaryColor,{h:-90}),this.git6=this.pie7||U(this.primaryColor,{h:60}),this.git7=this.pie8||U(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||up,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dp}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},w(qa,"Theme"),qa),eO=w(e=>{const t=new tO;return t.calculate(e),t},"getThemeVariables"),Gi={base:{getThemeVariables:YD},dark:{getThemeVariables:XD},default:{getThemeVariables:KD},forest:{getThemeVariables:ZD},neutral:{getThemeVariables:eO}},ci={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},PC={...ci,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Gi.default.getThemeVariables(),sequence:{...ci.sequence,messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:w(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:w(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ci.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ci.c4,useWidth:void 0,personFont:w(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ci.flowchart,inheritDir:!1},external_personFont:w(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:w(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:w(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:w(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:w(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:w(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:w(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:w(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:w(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:w(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:w(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:w(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:w(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:w(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:w(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:w(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:w(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:w(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:w(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:w(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:w(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ci.pie,useWidth:984},xyChart:{...ci.xyChart,useWidth:void 0},requirement:{...ci.requirement,useWidth:void 0},packet:{...ci.packet},radar:{...ci.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},FC=w((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...FC(e[n],"")]:[...r,t+n],[]),"keyify"),rO=new Set(FC(PC,"")),DC=PC,Xh=w(e=>{if(Q.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Xh(t));return}for(const t of Object.keys(e)){if(Q.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!rO.has(t)||e[t]==null){Q.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){Q.debug("sanitizing object",t),Xh(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(Q.debug("sanitizing css option",t),e[t]=nO(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}Q.debug("After sanitization",e)}},"sanitizeDirective"),nO=w(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),rl=Object.freeze(DC),Vr=ze({},rl),Qh,$o=[],Mc=ze({},rl),hp=w((e,t)=>{let r=ze({},e),n={};for(const i of t)NC(i),n=ze(n,i);if(r=ze(r,n),n.theme&&n.theme in Gi){const i=ze({},Qh),s=ze(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Gi&&(r.themeVariables=Gi[r.theme].getThemeVariables(s))}return Mc=r,IC(Mc),Mc},"updateCurrentConfig"),iO=w(e=>(Vr=ze({},rl),Vr=ze(Vr,e),e.theme&&Gi[e.theme]&&(Vr.themeVariables=Gi[e.theme].getThemeVariables(e.themeVariables)),hp(Vr,$o),Vr),"setSiteConfig"),sO=w(e=>{Qh=ze({},e)},"saveConfigFromInitialize"),oO=w(e=>(Vr=ze(Vr,e),hp(Vr,$o),Vr),"updateSiteConfig"),OC=w(()=>ze({},Vr),"getSiteConfig"),$C=w(e=>(IC(e),ze(Mc,e),br()),"setConfig"),br=w(()=>ze({},Mc),"getConfig"),NC=w(e=>{e&&(["secure",...Vr.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(Q.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&NC(e[t])}))},"sanitize"),aO=w(e=>{var t;Xh(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),$o.push(e),hp(Vr,$o)},"addDirective"),Kh=w((e=Vr)=>{$o=[],hp(e,$o)},"reset"),lO={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Dv={},cO=w(e=>{Dv[e]||(Q.warn(lO[e]),Dv[e]=!0)},"issueWarning"),IC=w(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&cO("LAZY_LOAD_DEPRECATED")},"checkConfig"),YK=w(()=>{let e={};Qh&&(e=ze(e,Qh));for(const t of $o)e=ze(e,t);return e},"getUserDefinedConfig"),$u=/<br\s*\/?>/gi,uO=w(e=>e?HC(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),dO=(()=>{let e=!1;return()=>{e||(zC(),e=!0)}})();function zC(){const e="data-temp-href-target";el.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),el.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}w(zC,"setupDompurifyHooks");var WC=w(e=>(dO(),el.sanitize(e)),"removeScript"),Ov=w((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=WC(e):n!=="loose"&&(e=HC(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=gO(e))}return e},"sanitizeMore"),Rn=w((e,t)=>e&&(t.dompurifyConfig?e=el.sanitize(Ov(e,t),t.dompurifyConfig).toString():e=el.sanitize(Ov(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),hO=w((e,t)=>typeof e=="string"?Rn(e,t):e.flat().map(r=>Rn(r,t)),"sanitizeTextOrArray"),fO=w(e=>$u.test(e),"hasBreaks"),pO=w(e=>e.split($u),"splitBreaks"),gO=w(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),HC=w(e=>e.replace($u,"#br#"),"breakToPlaceholder"),mO=w(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Ue=w(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),xO=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),yO=w(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),$v=w(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],o=t[n+1];bO(s,o)&&(i=s+","+o,n++,r.pop())}r.push(vO(i))}return r.join("")},"parseGenericTypes"),p0=w((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),bO=w((e,t)=>{const r=p0(e,"~"),n=p0(t,"~");return r===1&&n===1},"shouldCombineSets"),vO=w(e=>{const t=p0(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),Nv=w(()=>window.MathMLElement!==void 0,"isMathMLSupported"),g0=/\$\$(.*)\$\$/g,nl=w(e=>{var t;return(((t=e.match(g0))==null?void 0:t.length)??0)>0},"hasKatex"),GK=w(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await _y(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),wO=w(async(e,t)=>{if(!nl(e))return e;if(!(Nv()||t.legacyMathML||t.forceLegacyMathML))return e.replace(g0,"MathML is unsupported in this environment.");{const{default:r}=await ne(async()=>{const{default:i}=await import("./katex-BbEIqZs1.js");return{default:i}},[]),n=t.forceLegacyMathML||!Nv()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split($u).map(i=>nl(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(g0,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),_y=w(async(e,t)=>Rn(await wO(e,t),t),"renderKatexSanitized"),yl={getRows:uO,sanitizeText:Rn,sanitizeTextOrArray:hO,hasBreaks:fO,splitBreaks:pO,lineBreakRegex:$u,removeScript:WC,getUrl:mO,evaluate:Ue,getMax:xO,getMin:yO},kO=w(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),SO=w(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),qC=w(function(e,t,r,n){const i=SO(t,r,n);kO(e,i)},"configureSvgSize"),_O=w(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,o=i.height;Q.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;Q.info(`Graph bounds: ${a}x${l}`,e),a=s+r*2,l=o+r*2,Q.info(`Calculated bounds: ${a}x${l}`),qC(t,l,a,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",c)},"setupGraphViewbox"),oh={},CO=w((e,t,r)=>{let n="";return e in oh&&oh[e]?n=oh[e](r):Q.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),TO=w((e,t)=>{t!==void 0&&(oh[e]=t)},"addStylesForDiagram"),EO=CO,UC={};gD(UC,{clear:()=>jO,getAccDescription:()=>RO,getAccTitle:()=>LO,getDiagramTitle:()=>PO,setAccDescription:()=>MO,setAccTitle:()=>AO,setDiagramTitle:()=>BO});var Cy="",Ty="",Ey="",jy=w(e=>Rn(e,br()),"sanitizeText"),jO=w(()=>{Cy="",Ey="",Ty=""},"clear"),AO=w(e=>{Cy=jy(e).replace(/^\s+/g,"")},"setAccTitle"),LO=w(()=>Cy,"getAccTitle"),MO=w(e=>{Ey=jy(e).replace(/\n\s+/g,`
`)},"setAccDescription"),RO=w(()=>Ey,"getAccDescription"),BO=w(e=>{Ty=jy(e)},"setDiagramTitle"),PO=w(()=>Ty,"getDiagramTitle"),Iv=Q,FO=ky,ee=br,XK=$C,QK=rl,Ay=w(e=>Rn(e,ee()),"sanitizeText"),DO=_O,OO=w(()=>UC,"getCommonDb"),Jh={},Zh=w((e,t,r)=>{var n;Jh[e]&&Iv.warn(`Diagram with id ${e} already registered. Overwriting.`),Jh[e]=t,r&&BC(e,r),TO(e,t.styles),(n=t.injectUtils)==null||n.call(t,Iv,FO,ee,Ay,DO,OO(),()=>{})},"registerDiagram"),m0=w(e=>{if(e in Jh)return Jh[e];throw new $O(e)},"getDiagram"),Ua,$O=(Ua=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},w(Ua,"DiagramNotFoundError"),Ua),NO={value:()=>{}};function VC(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new ah(r)}function ah(e){this._=e}function IO(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}ah.prototype=VC.prototype={constructor:ah,on:function(e,t){var r=this._,n=IO(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=zO(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=zv(r[i],e.name,t);else if(t==null)for(i in r)r[i]=zv(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new ah(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function zO(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function zv(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=NO,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var x0="http://www.w3.org/1999/xhtml";const Wv={svg:"http://www.w3.org/2000/svg",xhtml:x0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fp(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Wv.hasOwnProperty(t)?{space:Wv[t],local:e}:e}function WO(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===x0&&t.documentElement.namespaceURI===x0?t.createElement(e):t.createElementNS(r,e)}}function HO(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function YC(e){var t=fp(e);return(t.local?HO:WO)(t)}function qO(){}function Ly(e){return e==null?qO:function(){return this.querySelector(e)}}function UO(e){typeof e!="function"&&(e=Ly(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new fn(n,this._parents)}function VO(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function YO(){return[]}function GC(e){return e==null?YO:function(){return this.querySelectorAll(e)}}function GO(e){return function(){return VO(e.apply(this,arguments))}}function XO(e){typeof e=="function"?e=GO(e):e=GC(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(n.push(e.call(l,l.__data__,c,o)),i.push(l));return new fn(n,i)}function XC(e){return function(){return this.matches(e)}}function QC(e){return function(t){return t.matches(e)}}var QO=Array.prototype.find;function KO(e){return function(){return QO.call(this.children,e)}}function JO(){return this.firstElementChild}function ZO(e){return this.select(e==null?JO:KO(typeof e=="function"?e:QC(e)))}var t$=Array.prototype.filter;function e$(){return Array.from(this.children)}function r$(e){return function(){return t$.call(this.children,e)}}function n$(e){return this.selectAll(e==null?e$:r$(typeof e=="function"?e:QC(e)))}function i$(e){typeof e!="function"&&(e=XC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new fn(n,this._parents)}function KC(e){return new Array(e.length)}function s$(){return new fn(this._enter||this._groups.map(KC),this._parents)}function tf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tf.prototype={constructor:tf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function o$(e){return function(){return e}}function a$(e,t,r,n,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):r[o]=new tf(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function l$(e,t,r,n,i,s,o){var a,l,c=new Map,u=t.length,h=s.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=o.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<h;++a)p=o.call(e,s[a],a,s)+"",(l=c.get(p))?(n[a]=l,l.__data__=s[a],c.delete(p)):r[a]=new tf(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function c$(e){return e.__data__}function u$(e,t){if(!arguments.length)return Array.from(this,c$);var r=t?l$:a$,n=this._parents,i=this._groups;typeof e!="function"&&(e=o$(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=n[c],h=i[c],f=h.length,p=d$(e.call(u,u&&u.__data__,c,n)),g=p.length,m=a[c]=new Array(g),y=o[c]=new Array(g),x=l[c]=new Array(f);r(u,h,m,y,x,p,t);for(var b=0,v=0,C,k;b<g;++b)if(C=m[b]){for(b>=v&&(v=b+1);!(k=y[v])&&++v<g;);C._next=k||null}}return o=new fn(o,n),o._enter=a,o._exit=l,o}function d$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h$(){return new fn(this._exit||this._groups.map(KC),this._parents)}function f$(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function p$(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=r[l],u=n[l],h=c.length,f=a[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<i;++l)a[l]=r[l];return new fn(a,this._parents)}function g$(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function m$(e){e||(e=x$);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new fn(i,this._parents).order()}function x$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function b$(){return Array.from(this)}function v$(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function w$(){let e=0;for(const t of this)++e;return e}function k$(){return!this.node()}function S$(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function _$(e){return function(){this.removeAttribute(e)}}function C$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function T$(e,t){return function(){this.setAttribute(e,t)}}function E$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function j$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function A$(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function L$(e,t){var r=fp(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?C$:_$:typeof t=="function"?r.local?A$:j$:r.local?E$:T$)(r,t))}function JC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function M$(e){return function(){this.style.removeProperty(e)}}function R$(e,t,r){return function(){this.style.setProperty(e,t,r)}}function B$(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function P$(e,t,r){return arguments.length>1?this.each((t==null?M$:typeof t=="function"?B$:R$)(e,t,r??"")):il(this.node(),e)}function il(e,t){return e.style.getPropertyValue(t)||JC(e).getComputedStyle(e,null).getPropertyValue(t)}function F$(e){return function(){delete this[e]}}function D$(e,t){return function(){this[e]=t}}function O$(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function $$(e,t){return arguments.length>1?this.each((t==null?F$:typeof t=="function"?O$:D$)(e,t)):this.node()[e]}function ZC(e){return e.trim().split(/^|\s+/)}function My(e){return e.classList||new tT(e)}function tT(e){this._node=e,this._names=ZC(e.getAttribute("class")||"")}tT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eT(e,t){for(var r=My(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function rT(e,t){for(var r=My(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function N$(e){return function(){eT(this,e)}}function I$(e){return function(){rT(this,e)}}function z$(e,t){return function(){(t.apply(this,arguments)?eT:rT)(this,e)}}function W$(e,t){var r=ZC(e+"");if(arguments.length<2){for(var n=My(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?z$:t?N$:I$)(r,t))}function H$(){this.textContent=""}function q$(e){return function(){this.textContent=e}}function U$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V$(e){return arguments.length?this.each(e==null?H$:(typeof e=="function"?U$:q$)(e)):this.node().textContent}function Y$(){this.innerHTML=""}function G$(e){return function(){this.innerHTML=e}}function X$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q$(e){return arguments.length?this.each(e==null?Y$:(typeof e=="function"?X$:G$)(e)):this.node().innerHTML}function K$(){this.nextSibling&&this.parentNode.appendChild(this)}function J$(){return this.each(K$)}function Z$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tN(){return this.each(Z$)}function eN(e){var t=typeof e=="function"?e:YC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rN(){return null}function nN(e,t){var r=typeof e=="function"?e:YC(e),n=t==null?rN:typeof t=="function"?t:Ly(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function iN(){var e=this.parentNode;e&&e.removeChild(this)}function sN(){return this.each(iN)}function oN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lN(e){return this.select(e?aN:oN)}function cN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function uN(e){return function(t){e.call(this,t,this.__data__)}}function dN(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function hN(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function fN(e,t,r){return function(){var n=this.__on,i,s=uN(t);if(n){for(var o=0,a=n.length;o<a;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function pN(e,t,r){var n=dN(e+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=n[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?fN:hN,i=0;i<s;++i)this.each(a(n[i],t,r));return this}function nT(e,t,r){var n=JC(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gN(e,t){return function(){return nT(this,e,t)}}function mN(e,t){return function(){return nT(this,e,t.apply(this,arguments))}}function xN(e,t){return this.each((typeof t=="function"?mN:gN)(e,t))}function*yN(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var iT=[null];function fn(e,t){this._groups=e,this._parents=t}function Nu(){return new fn([[document.documentElement]],iT)}function bN(){return this}fn.prototype=Nu.prototype={constructor:fn,select:UO,selectAll:XO,selectChild:ZO,selectChildren:n$,filter:i$,data:u$,enter:s$,exit:h$,join:f$,merge:p$,selection:bN,order:g$,sort:m$,call:y$,nodes:b$,node:v$,size:w$,empty:k$,each:S$,attr:L$,style:P$,property:$$,classed:W$,text:V$,html:Q$,raise:J$,lower:tN,append:eN,insert:nN,remove:sN,clone:lN,datum:cN,on:pN,dispatch:xN,[Symbol.iterator]:yN};function Qt(e){return typeof e=="string"?new fn([[document.querySelector(e)]],[document.documentElement]):new fn([[e]],iT)}function Ry(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Iu(){}var su=.7,ef=1/su,Da="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vN=/^#([0-9a-f]{3,8})$/,wN=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),kN=new RegExp(`^rgb\\(${vi},${vi},${vi}\\)$`),SN=new RegExp(`^rgba\\(${Da},${Da},${Da},${ou}\\)$`),_N=new RegExp(`^rgba\\(${vi},${vi},${vi},${ou}\\)$`),CN=new RegExp(`^hsl\\(${ou},${vi},${vi}\\)$`),TN=new RegExp(`^hsla\\(${ou},${vi},${vi},${ou}\\)$`),Hv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ry(Iu,au,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qv,formatHex:qv,formatHex8:EN,formatHsl:jN,formatRgb:Uv,toString:Uv});function qv(){return this.rgb().formatHex()}function EN(){return this.rgb().formatHex8()}function jN(){return oT(this).formatHsl()}function Uv(){return this.rgb().formatRgb()}function au(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vN.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Vv(t):r===3?new Qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wN.exec(e))?new Qr(t[1],t[2],t[3],1):(t=kN.exec(e))?new Qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SN.exec(e))?bd(t[1],t[2],t[3],t[4]):(t=_N.exec(e))?bd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CN.exec(e))?Xv(t[1],t[2]/100,t[3]/100,1):(t=TN.exec(e))?Xv(t[1],t[2]/100,t[3]/100,t[4]):Hv.hasOwnProperty(e)?Vv(Hv[e]):e==="transparent"?new Qr(NaN,NaN,NaN,0):null}function Vv(e){return new Qr(e>>16&255,e>>8&255,e&255,1)}function bd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qr(e,t,r,n)}function AN(e){return e instanceof Iu||(e=au(e)),e?(e=e.rgb(),new Qr(e.r,e.g,e.b,e.opacity)):new Qr}function y0(e,t,r,n){return arguments.length===1?AN(e):new Qr(e,t,r,n??1)}function Qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ry(Qr,y0,sT(Iu,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qr(Eo(this.r),Eo(this.g),Eo(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yv,formatHex:Yv,formatHex8:LN,formatRgb:Gv,toString:Gv}));function Yv(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function LN(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gv(){const e=rf(this.opacity);return`${e===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${e===1?")":`, ${e})`}`}function rf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Eo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yo(e){return e=Eo(e),(e<16?"0":"")+e.toString(16)}function Xv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yn(e,t,r,n)}function oT(e){if(e instanceof Yn)return new Yn(e.h,e.s,e.l,e.opacity);if(e instanceof Iu||(e=au(e)),!e)return new Yn;if(e instanceof Yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Yn(o,a,l,e.opacity)}function MN(e,t,r,n){return arguments.length===1?oT(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ry(Yn,MN,sT(Iu,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new Yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Qr(Pg(e>=240?e-240:e+120,i,n),Pg(e,i,n),Pg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yn(Qv(this.h),vd(this.s),vd(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rf(this.opacity);return`${e===1?"hsl(":"hsla("}${Qv(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qv(e){return e=(e||0)%360,e<0?e+360:e}function vd(e){return Math.max(0,Math.min(1,e||0))}function Pg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const By=e=>()=>e;function aT(e,t){return function(r){return e+r*t}}function RN(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KK(e,t){var r=t-e;return r?aT(e,r>180||r<-180?r-360*Math.round(r/360):r):By(isNaN(e)?t:e)}function BN(e){return(e=+e)==1?lT:function(t,r){return r-t?RN(t,r,e):By(isNaN(t)?r:t)}}function lT(e,t){var r=t-e;return r?aT(e,r):By(isNaN(e)?t:e)}const Kv=function e(t){var r=BN(t);function n(i,s){var o=r((i=y0(i)).r,(s=y0(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),c=lT(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function ps(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fg=new RegExp(b0.source,"g");function PN(e){return function(){return e}}function FN(e){return function(t){return e(t)+""}}function DN(e,t){var r=b0.lastIndex=Fg.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=b0.exec(e))&&(i=Fg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ps(n,i)})),r=Fg.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?FN(l[0].x):PN(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var Jv=180/Math.PI,v0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cT(e,t,r,n,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Jv,skewX:Math.atan(l)*Jv,scaleX:o,scaleY:a}}var wd;function ON(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?v0:cT(t.a,t.b,t.c,t.d,t.e,t.f)}function $N(e){return e==null||(wd||(wd=document.createElementNS("http://www.w3.org/2000/svg","g")),wd.setAttribute("transform",e),!(e=wd.transform.baseVal.consolidate()))?v0:(e=e.matrix,cT(e.a,e.b,e.c,e.d,e.e,e.f))}function uT(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,u,h,f,p,g){if(c!==h||u!==f){var m=p.push("translate(",null,t,null,r);g.push({i:m-4,x:ps(c,h)},{i:m-2,x:ps(u,f)})}else(h||f)&&p.push("translate("+h+t+f+r)}function o(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,n)-2,x:ps(c,u)})):u&&h.push(i(h)+"rotate("+u+n)}function a(c,u,h,f){c!==u?f.push({i:h.push(i(h)+"skewX(",null,n)-2,x:ps(c,u)}):u&&h.push(i(h)+"skewX("+u+n)}function l(c,u,h,f,p,g){if(c!==h||u!==f){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:ps(c,h)},{i:m-2,x:ps(u,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,f),o(c.rotate,u.rotate,h,f),a(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var g=-1,m=f.length,y;++g<m;)h[(y=f[g]).i]=y.x(p);return h.join("")}}}var NN=uT(ON,"px, ","px)","deg)"),IN=uT($N,", ",")",")"),sl=0,oc=0,ql=0,dT=1e3,nf,ac,sf=0,No=0,pp=0,lu=typeof performance=="object"&&performance.now?performance:Date,hT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Py(){return No||(hT(zN),No=lu.now()+pp)}function zN(){No=0}function of(){this._call=this._time=this._next=null}of.prototype=fT.prototype={constructor:of,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Py():+r)+(t==null?0:+t),!this._next&&ac!==this&&(ac?ac._next=this:nf=this,ac=this),this._call=e,this._time=r,w0()},stop:function(){this._call&&(this._call=null,this._time=1/0,w0())}};function fT(e,t,r){var n=new of;return n.restart(e,t,r),n}function WN(){Py(),++sl;for(var e=nf,t;e;)(t=No-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sl}function Zv(){No=(sf=lu.now())+pp,sl=oc=0;try{WN()}finally{sl=0,qN(),No=0}}function HN(){var e=lu.now(),t=e-sf;t>dT&&(pp-=t,sf=e)}function qN(){for(var e,t=nf,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:nf=r);ac=e,w0(n)}function w0(e){if(!sl){oc&&(oc=clearTimeout(oc));var t=e-No;t>24?(e<1/0&&(oc=setTimeout(Zv,e-lu.now()-pp)),ql&&(ql=clearInterval(ql))):(ql||(sf=lu.now(),ql=setInterval(HN,dT)),sl=1,hT(Zv))}}function tw(e,t,r){var n=new of;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var UN=VC("start","end","cancel","interrupt"),VN=[],pT=0,ew=1,k0=2,lh=3,rw=4,S0=5,ch=6;function gp(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;YN(e,r,{name:t,index:n,group:i,on:UN,tween:VN,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:pT})}function Fy(e,t){var r=ni(e,t);if(r.state>pT)throw new Error("too late; already scheduled");return r}function _i(e,t){var r=ni(e,t);if(r.state>lh)throw new Error("too late; already running");return r}function ni(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function YN(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=fT(s,0,r.time);function s(c){r.state=ew,r.timer.restart(o,r.delay,r.time),r.delay<=c&&o(c-r.delay)}function o(c){var u,h,f,p;if(r.state!==ew)return l();for(u in n)if(p=n[u],p.name===r.name){if(p.state===lh)return tw(o);p.state===rw?(p.state=ch,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=ch,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(tw(function(){r.state===lh&&(r.state=rw,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=k0,r.on.call("start",e,e.__data__,r.index,r.group),r.state===k0){for(r.state=lh,i=new Array(f=r.tween.length),u=0,h=-1;u<f;++u)(p=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function a(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=S0,1),h=-1,f=i.length;++h<f;)i[h].call(e,u);r.state===S0&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=ch,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function GN(e,t){var r=e.__transition,n,i,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>k0&&n.state<S0,n.state=ch,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}function XN(e){return this.each(function(){GN(this,e)})}function QN(e,t){var r,n;return function(){var i=_i(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function KN(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=_i(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function JN(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ni(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?QN:KN)(r,e,t))}function Dy(e,t,r){var n=e._id;return e.each(function(){var i=_i(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return ni(i,n).value[t]}}function gT(e,t){var r;return(typeof t=="number"?ps:t instanceof au?Kv:(r=au(t))?(t=r,Kv):DN)(e,t)}function ZN(e){return function(){this.removeAttribute(e)}}function tI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eI(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}function rI(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}function nI(e,t,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a)))}}function iI(e,t,r){var n,i,s;return function(){var o,a=r(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a)))}}function sI(e,t){var r=fp(e),n=r==="transform"?IN:gT;return this.attrTween(e,typeof t=="function"?(r.local?iI:nI)(r,n,Dy(this,"attr."+e,t)):t==null?(r.local?tI:ZN)(r):(r.local?rI:eI)(r,n,t))}function oI(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function aI(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function lI(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&aI(e,s)),r}return i._value=t,i}function cI(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&oI(e,s)),r}return i._value=t,i}function uI(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=fp(e);return this.tween(r,(n.local?lI:cI)(n,t))}function dI(e,t){return function(){Fy(this,e).delay=+t.apply(this,arguments)}}function hI(e,t){return t=+t,function(){Fy(this,e).delay=t}}function fI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dI:hI)(t,e)):ni(this.node(),t).delay}function pI(e,t){return function(){_i(this,e).duration=+t.apply(this,arguments)}}function gI(e,t){return t=+t,function(){_i(this,e).duration=t}}function mI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pI:gI)(t,e)):ni(this.node(),t).duration}function xI(e,t){if(typeof t!="function")throw new Error;return function(){_i(this,e).ease=t}}function yI(e){var t=this._id;return arguments.length?this.each(xI(t,e)):ni(this.node(),t).ease}function bI(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;_i(this,e).ease=r}}function vI(e){if(typeof e!="function")throw new Error;return this.each(bI(this._id,e))}function wI(e){typeof e!="function"&&(e=XC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new es(n,this._parents,this._name,this._id)}function kI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],u=l.length,h=o[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;a<n;++a)o[a]=t[a];return new es(o,this._parents,this._name,this._id)}function SI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function _I(e,t,r){var n,i,s=SI(t)?Fy:_i;return function(){var o=s(this,e),a=o.on;a!==n&&(i=(n=a).copy()).on(t,r),o.on=i}}function CI(e,t){var r=this._id;return arguments.length<2?ni(this.node(),r).on.on(e):this.each(_I(r,e,t))}function TI(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function EI(){return this.on("end.remove",TI(this._id))}function jI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ly(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a=n[o],l=a.length,c=s[o]=new Array(l),u,h,f=0;f<l;++f)(u=a[f])&&(h=e.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,gp(c[f],t,r,f,c,ni(u,r)));return new es(s,this._parents,t,r)}function AI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=GC(e));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var l=n[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=e.call(u,u.__data__,h,l),p,g=ni(u,r),m=0,y=f.length;m<y;++m)(p=f[m])&&gp(p,t,r,m,f,g);s.push(f),o.push(u)}return new es(s,o,t,r)}var LI=Nu.prototype.constructor;function MI(){return new LI(this._groups,this._parents)}function RI(e,t){var r,n,i;return function(){var s=il(this,e),o=(this.style.removeProperty(e),il(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}function mT(e){return function(){this.style.removeProperty(e)}}function BI(e,t,r){var n,i=r+"",s;return function(){var o=il(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}function PI(e,t,r){var n,i,s;return function(){var o=il(this,e),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),il(this,e))),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a))}}function FI(e,t){var r,n,i,s="style."+t,o="end."+s,a;return function(){var l=_i(this,e),c=l.on,u=l.value[s]==null?a||(a=mT(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(o,i=u),l.on=n}}function DI(e,t,r){var n=(e+="")=="transform"?NN:gT;return t==null?this.styleTween(e,RI(e,n)).on("end.style."+e,mT(e)):typeof t=="function"?this.styleTween(e,PI(e,n,Dy(this,"style."+e,t))).each(FI(this._id,e)):this.styleTween(e,BI(e,n,t),r).on("end.style."+e,null)}function OI(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function $I(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&OI(e,o,r)),n}return s._value=t,s}function NI(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,$I(e,t,r??""))}function II(e){return function(){this.textContent=e}}function zI(e){return function(){var t=e(this);this.textContent=t??""}}function WI(e){return this.tween("text",typeof e=="function"?zI(Dy(this,"text",e)):II(e==null?"":e+""))}function HI(e){return function(t){this.textContent=e.call(this,t)}}function qI(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&HI(i)),t}return n._value=e,n}function UI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qI(e))}function VI(){for(var e=this._name,t=this._id,r=xT(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ni(l,t);gp(l,e,r,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new es(n,this._parents,e,r)}function YI(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};r.each(function(){var c=_i(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var GI=0;function es(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function xT(){return++GI}var Bi=Nu.prototype;es.prototype={constructor:es,select:jI,selectAll:AI,selectChild:Bi.selectChild,selectChildren:Bi.selectChildren,filter:wI,merge:kI,selection:MI,transition:VI,call:Bi.call,nodes:Bi.nodes,node:Bi.node,size:Bi.size,empty:Bi.empty,each:Bi.each,on:CI,attr:sI,attrTween:uI,style:DI,styleTween:NI,text:WI,textTween:UI,remove:EI,tween:JN,delay:fI,duration:mI,ease:yI,easeVarying:vI,end:YI,[Symbol.iterator]:Bi[Symbol.iterator]};function XI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var QI={time:null,delay:0,duration:250,ease:XI};function KI(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function JI(e){var t,r;e instanceof es?(t=e._id,e=e._name):(t=xT(),(r=QI).time=Py(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&gp(l,e,t,c,o,r||KI(l,t));return new es(n,this._parents,e,t)}Nu.prototype.interrupt=XN;Nu.prototype.transition=JI;const _0=Math.PI,C0=2*_0,ao=1e-6,ZI=C0-ao;function yT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function t4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yT;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class e4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yT:t4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-t,c=i-r,u=o-t,h=a-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ao)if(!(Math.abs(h*l-c*u)>ao)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=i-a,m=l*l+c*c,y=p*p+g*g,x=Math.sqrt(m),b=Math.sqrt(f),v=s*Math.tan((_0-Math.acos((m+f-y)/(2*x*b)))/2),C=v/b,k=v/x;Math.abs(C-1)>ao&&this._append`L${t+C*u},${r+C*h}`,this._append`A${s},${s},0,0,${+(h*p>u*g)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=t+a,u=r+l,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ao||Math.abs(this._y1-u)>ao)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%C0+C0),f>ZI?this._append`A${n},${n},0,1,${h},${t-a},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=u}`:f>ao&&this._append`A${n},${n},0,${+(f>=_0)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ca(e){return function(){return e}}const JK=Math.abs,ZK=Math.atan2,tJ=Math.cos,eJ=Math.max,rJ=Math.min,nJ=Math.sin,iJ=Math.sqrt,nw=1e-12,Oy=Math.PI,iw=Oy/2,sJ=2*Oy;function oJ(e){return e>1?0:e<-1?Oy:Math.acos(e)}function aJ(e){return e>=1?iw:e<=-1?-iw:Math.asin(e)}function r4(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e4(t)}function n4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function af(e){return new bT(e)}function i4(e){return e[0]}function s4(e){return e[1]}function o4(e,t){var r=ca(!0),n=null,i=af,s=null,o=r4(a);e=typeof e=="function"?e:e===void 0?i4:ca(e),t=typeof t=="function"?t:t===void 0?s4:ca(t);function a(l){var c,u=(l=n4(l)).length,h,f=!1,p;for(n==null&&(s=i(p=o())),c=0;c<=u;++c)!(c<u&&r(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,c,l),+t(h,c,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ca(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ca(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ca(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}class vT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wT(e){return new vT(e,!0)}function kT(e){return new vT(e,!1)}function Os(){}function lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mp(e){this._context=e}mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uh(e){return new mp(e)}function ST(e){this._context=e}ST.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a4(e){return new ST(e)}function _T(e){this._context=e}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l4(e){return new _T(e)}function CT(e,t){this._basis=new mp(e),this._beta=t}CT.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,o=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const c4=function e(t){function r(n){return t===1?new mp(n):new CT(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function cf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function $y(e,t){this._context=e,this._k=(1-t)/6}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const TT=function e(t){function r(n){return new $y(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Ny(e,t){this._context=e,this._k=(1-t)/6}Ny.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u4=function e(t){function r(n){return new Ny(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Iy(e,t){this._context=e,this._k=(1-t)/6}Iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const d4=function e(t){function r(n){return new Iy(n,t)}return r.tension=function(n){return e(+n)},r}(0);function zy(e,t,r){var n=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>nw){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>nw){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,s,o,e._x2,e._y2)}function ET(e,t){this._context=e,this._alpha=t}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jT=function e(t){function r(n){return t?new ET(n,t):new $y(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function AT(e,t){this._context=e,this._alpha=t}AT.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const h4=function e(t){function r(n){return t?new AT(n,t):new Ny(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function LT(e,t){this._context=e,this._alpha=t}LT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f4=function e(t){function r(n){return t?new LT(n,t):new Iy(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function MT(e){this._context=e}MT.prototype={areaStart:Os,areaEnd:Os,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function p4(e){return new MT(e)}function sw(e){return e<0?-1:1}function ow(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(sw(s)+sw(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function aw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Dg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-n)/3;e._context.bezierCurveTo(n+a,i+a*t,s-a,o-a*r,s,o)}function uf(e){this._context=e}uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dg(this,this._t0,aw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Dg(this,aw(this,r=ow(this,e,t)),r);break;default:Dg(this,this._t0,r=ow(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function RT(e){this._context=new BT(e)}(RT.prototype=Object.create(uf.prototype)).point=function(e,t){uf.prototype.point.call(this,t,e)};function BT(e){this._context=e}BT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function PT(e){return new uf(e)}function FT(e){return new RT(e)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lw(e),i=lw(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lw(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function OT(e){return new DT(e)}function xp(e,t){this._context=e,this._t=t}xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $T(e){return new xp(e,.5)}function NT(e){return new xp(e,0)}function IT(e){return new xp(e,1)}function lc(e,t,r){this.k=e,this.x=t,this.y=r}lc.prototype={constructor:lc,scale:function(e){return e===1?this:new lc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lc.prototype;var g4=w(e=>{var i;const{securityLevel:t}=ee();let r=Qt("body");if(t==="sandbox"){const o=((i=Qt(`#i${e}`).node())==null?void 0:i.contentDocument)??document;r=Qt(o.body)}return r.select(`#${e}`)},"selectSvgElement");function Wy(e){return typeof e>"u"||e===null}w(Wy,"isNothing");function zT(e){return typeof e=="object"&&e!==null}w(zT,"isObject");function WT(e){return Array.isArray(e)?e:Wy(e)?[]:[e]}w(WT,"toArray");function HT(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}w(HT,"extend");function qT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}w(qT,"repeat");function UT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}w(UT,"isNegativeZero");var m4=Wy,x4=zT,y4=WT,b4=qT,v4=UT,w4=HT,We={isNothing:m4,isObject:x4,toArray:y4,repeat:b4,isNegativeZero:v4,extend:w4};function Hy(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}w(Hy,"formatError");function ol(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Hy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}w(ol,"YAMLException$1");ol.prototype=Object.create(Error.prototype);ol.prototype.constructor=ol;ol.prototype.toString=w(function(t){return this.name+": "+Hy(this,t)},"toString");var Yr=ol;function dh(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+s.length}}w(dh,"getLine");function hh(e,t){return We.repeat(" ",t-e.length)+e}w(hh,"padStart");function VT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,h=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=dh(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),h),a=We.repeat(" ",t.indent)+hh((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=dh(e.buffer,n[o],i[o],e.position,h),a+=We.repeat(" ",t.indent)+hh((e.line+1).toString(),u)+" | "+c.str+`
`,a+=We.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=dh(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),h),a+=We.repeat(" ",t.indent)+hh((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}w(VT,"makeSnippet");var k4=VT,S4=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_4=["scalar","sequence","mapping"];function YT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}w(YT,"compileStyleAliases");function GT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(S4.indexOf(r)===-1)throw new Yr('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=YT(t.styleAliases||null),_4.indexOf(this.kind)===-1)throw new Yr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}w(GT,"Type$1");var vr=GT;function T0(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}w(T0,"compileList");function XT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(w(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}w(XT,"compileMap");function df(e){return this.extend(e)}w(df,"Schema$1");df.prototype.extend=w(function(t){var r=[],n=[];if(t instanceof vr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Yr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof vr))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Yr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Yr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof vr))throw new Yr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(df.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=T0(i,"implicit"),i.compiledExplicit=T0(i,"explicit"),i.compiledTypeMap=XT(i.compiledImplicit,i.compiledExplicit),i},"extend");var C4=df,T4=new vr("tag:yaml.org,2002:str",{kind:"scalar",construct:w(function(e){return e!==null?e:""},"construct")}),E4=new vr("tag:yaml.org,2002:seq",{kind:"sequence",construct:w(function(e){return e!==null?e:[]},"construct")}),j4=new vr("tag:yaml.org,2002:map",{kind:"mapping",construct:w(function(e){return e!==null?e:{}},"construct")}),A4=new C4({explicit:[T4,E4,j4]});function QT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}w(QT,"resolveYamlNull");function KT(){return null}w(KT,"constructYamlNull");function JT(e){return e===null}w(JT,"isNull");var L4=new vr("tag:yaml.org,2002:null",{kind:"scalar",resolve:QT,construct:KT,predicate:JT,represent:{canonical:w(function(){return"~"},"canonical"),lowercase:w(function(){return"null"},"lowercase"),uppercase:w(function(){return"NULL"},"uppercase"),camelcase:w(function(){return"Null"},"camelcase"),empty:w(function(){return""},"empty")},defaultStyle:"lowercase"});function ZT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}w(ZT,"resolveYamlBoolean");function tE(e){return e==="true"||e==="True"||e==="TRUE"}w(tE,"constructYamlBoolean");function eE(e){return Object.prototype.toString.call(e)==="[object Boolean]"}w(eE,"isBoolean");var M4=new vr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ZT,construct:tE,predicate:eE,represent:{lowercase:w(function(e){return e?"true":"false"},"lowercase"),uppercase:w(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:w(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function rE(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}w(rE,"isHexCode");function nE(e){return 48<=e&&e<=55}w(nE,"isOctCode");function iE(e){return 48<=e&&e<=57}w(iE,"isDecCode");function sE(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!rE(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!nE(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!iE(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}w(sE,"resolveYamlInteger");function oE(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}w(oE,"constructYamlInteger");function aE(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!We.isNegativeZero(e)}w(aE,"isInteger");var R4=new vr("tag:yaml.org,2002:int",{kind:"scalar",resolve:sE,construct:oE,predicate:aE,represent:{binary:w(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:w(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:w(function(e){return e.toString(10)},"decimal"),hexadecimal:w(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),B4=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function lE(e){return!(e===null||!B4.test(e)||e[e.length-1]==="_")}w(lE,"resolveYamlFloat");function cE(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}w(cE,"constructYamlFloat");var P4=/^[-+]?[0-9]+e/;function uE(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(We.isNegativeZero(e))return"-0.0";return r=e.toString(10),P4.test(r)?r.replace("e",".e"):r}w(uE,"representYamlFloat");function dE(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||We.isNegativeZero(e))}w(dE,"isFloat");var F4=new vr("tag:yaml.org,2002:float",{kind:"scalar",resolve:lE,construct:cE,predicate:dE,represent:uE,defaultStyle:"lowercase"}),hE=A4.extend({implicit:[L4,M4,R4,F4]}),D4=hE,fE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),pE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gE(e){return e===null?!1:fE.exec(e)!==null||pE.exec(e)!==null}w(gE,"resolveYamlTimestamp");function mE(e){var t,r,n,i,s,o,a,l=0,c=null,u,h,f;if(t=fE.exec(e),t===null&&(t=pE.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],h=+(t[11]||0),c=(u*60+h)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&f.setTime(f.getTime()-c),f}w(mE,"constructYamlTimestamp");function xE(e){return e.toISOString()}w(xE,"representYamlTimestamp");var O4=new vr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gE,construct:mE,instanceOf:Date,represent:xE});function yE(e){return e==="<<"||e===null}w(yE,"resolveYamlMerge");var $4=new vr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:yE}),qy=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bE(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=qy;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}w(bE,"resolveYamlBinary");function vE(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=qy,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}w(vE,"constructYamlBinary");function wE(e){var t="",r=0,n,i,s=e.length,o=qy;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}w(wE,"representYamlBinary");function kE(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}w(kE,"isBinary");var N4=new vr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bE,construct:vE,predicate:kE,represent:wE}),I4=Object.prototype.hasOwnProperty,z4=Object.prototype.toString;function SE(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,z4.call(i)!=="[object Object]")return!1;for(s in i)if(I4.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}w(SE,"resolveYamlOmap");function _E(e){return e!==null?e:[]}w(_E,"constructYamlOmap");var W4=new vr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:SE,construct:_E}),H4=Object.prototype.toString;function CE(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],H4.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}w(CE,"resolveYamlPairs");function TE(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}w(TE,"constructYamlPairs");var q4=new vr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:CE,construct:TE}),U4=Object.prototype.hasOwnProperty;function EE(e){if(e===null)return!0;var t,r=e;for(t in r)if(U4.call(r,t)&&r[t]!==null)return!1;return!0}w(EE,"resolveYamlSet");function jE(e){return e!==null?e:{}}w(jE,"constructYamlSet");var V4=new vr("tag:yaml.org,2002:set",{kind:"mapping",resolve:EE,construct:jE}),AE=D4.extend({implicit:[O4,$4],explicit:[N4,W4,q4,V4]}),$s=Object.prototype.hasOwnProperty,hf=1,LE=2,ME=3,ff=4,Og=1,Y4=2,cw=3,G4=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,X4=/[\x85\u2028\u2029]/,Q4=/[,\[\]\{\}]/,RE=/^(?:!|!!|![a-z\-]+!)$/i,BE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function E0(e){return Object.prototype.toString.call(e)}w(E0,"_class");function Jn(e){return e===10||e===13}w(Jn,"is_EOL");function Bs(e){return e===9||e===32}w(Bs,"is_WHITE_SPACE");function Mr(e){return e===9||e===32||e===10||e===13}w(Mr,"is_WS_OR_EOL");function bo(e){return e===44||e===91||e===93||e===123||e===125}w(bo,"is_FLOW_INDICATOR");function PE(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}w(PE,"fromHexCode");function FE(e){return e===120?2:e===117?4:e===85?8:0}w(FE,"escapedHexLen");function DE(e){return 48<=e&&e<=57?e-48:-1}w(DE,"fromDecimalCode");function j0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}w(j0,"simpleEscapeSequence");function OE(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}w(OE,"charFromCodepoint");var $E=new Array(256),NE=new Array(256);for(eo=0;eo<256;eo++)$E[eo]=j0(eo)?1:0,NE[eo]=j0(eo);var eo;function IE(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||AE,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}w(IE,"State$1");function Uy(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=k4(r),new Yr(t,r)}w(Uy,"generateError");function Ct(e,t){throw Uy(e,t)}w(Ct,"throwError");function cu(e,t){e.onWarning&&e.onWarning.call(null,Uy(e,t))}w(cu,"throwWarning");var uw={YAML:w(function(t,r,n){var i,s,o;t.version!==null&&Ct(t,"duplication of %YAML directive"),n.length!==1&&Ct(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ct(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Ct(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&cu(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:w(function(t,r,n){var i,s;n.length!==2&&Ct(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],RE.test(i)||Ct(t,"ill-formed tag handle (first argument) of the TAG directive"),$s.call(t.tagMap,i)&&Ct(t,'there is a previously declared suffix for "'+i+'" tag handle'),BE.test(s)||Ct(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ct(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function Xi(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||Ct(e,"expected valid JSON character");else G4.test(a)&&Ct(e,"the stream contains non-printable characters");e.result+=a}}w(Xi,"captureSegment");function A0(e,t,r,n){var i,s,o,a;for(We.isObject(r)||Ct(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],$s.call(t,s)||(t[s]=r[s],n[s]=!0)}w(A0,"mergeMappings");function vo(e,t,r,n,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&Ct(e,"nested arrays are not supported inside keys"),typeof i=="object"&&E0(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&E0(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)A0(e,t,s[c],r);else A0(e,t,s,r);else!e.json&&!$s.call(r,i)&&$s.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,Ct(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}w(vo,"storeMappingPair");function yp(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ct(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}w(yp,"readLineBreak");function Me(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Bs(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Jn(i))for(yp(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&cu(e,"deficient indentation"),n}w(Me,"skipSeparationSpace");function zu(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Mr(r)))}w(zu,"testDocumentSeparator");function bp(e,t){t===1?e.result+=" ":t>1&&(e.result+=We.repeat(`
`,t-1))}w(bp,"writeFoldedLines");function zE(e,t,r){var n,i,s,o,a,l,c,u,h=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),Mr(p)||bo(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Mr(i)||r&&bo(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Mr(i)||r&&bo(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Mr(n))break}else{if(e.position===e.lineStart&&zu(e)||r&&bo(p))break;if(Jn(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,Me(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(Xi(e,s,o,!1),bp(e,e.line-l),s=o=e.position,a=!1),Bs(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Xi(e,s,o,!1),e.result?!0:(e.kind=h,e.result=f,!1)}w(zE,"readPlainScalar");function WE(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Xi(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Jn(r)?(Xi(e,n,i,!0),bp(e,Me(e,!1,t)),n=i=e.position):e.position===e.lineStart&&zu(e)?Ct(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ct(e,"unexpected end of the stream within a single quoted scalar")}w(WE,"readSingleQuotedScalar");function HE(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Xi(e,r,e.position,!0),e.position++,!0;if(a===92){if(Xi(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Jn(a))Me(e,!1,t);else if(a<256&&$E[a])e.result+=NE[a],e.position++;else if((o=FE(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=PE(a))>=0?s=(s<<4)+o:Ct(e,"expected hexadecimal character");e.result+=OE(s),e.position++}else Ct(e,"unknown escape sequence");r=n=e.position}else Jn(a)?(Xi(e,r,n,!0),bp(e,Me(e,!1,t)),r=n=e.position):e.position===e.lineStart&&zu(e)?Ct(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ct(e,"unexpected end of the stream within a double quoted scalar")}w(HE,"readDoubleQuotedScalar");function qE(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,u,h,f,p,g=Object.create(null),m,y,x,b;if(b=e.input.charCodeAt(e.position),b===91)u=93,p=!1,a=[];else if(b===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),b=e.input.charCodeAt(++e.position);b!==0;){if(Me(e,!0,t),b=e.input.charCodeAt(e.position),b===u)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?b===44&&Ct(e,"expected the node content, but found ','"):Ct(e,"missed comma between flow collection entries"),y=m=x=null,h=f=!1,b===63&&(c=e.input.charCodeAt(e.position+1),Mr(c)&&(h=f=!0,e.position++,Me(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Io(e,t,hf,!1,!0),y=e.tag,m=e.result,Me(e,!0,t),b=e.input.charCodeAt(e.position),(f||e.line===n)&&b===58&&(h=!0,b=e.input.charCodeAt(++e.position),Me(e,!0,t),Io(e,t,hf,!1,!0),x=e.result),p?vo(e,a,g,y,m,x,n,i,s):h?a.push(vo(e,null,g,y,m,x,n,i,s)):a.push(m),Me(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}Ct(e,"unexpected end of the stream within a flow collection")}w(qE,"readFlowCollection");function UE(e,t){var r,n,i=Og,s=!1,o=!1,a=t,l=0,c=!1,u,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Og===i?i=h===43?cw:Y4:Ct(e,"repeat of a chomping mode identifier");else if((u=DE(h))>=0)u===0?Ct(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Ct(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(Bs(h)){do h=e.input.charCodeAt(++e.position);while(Bs(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Jn(h)&&h!==0)}for(;h!==0;){for(yp(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Jn(h)){l++;continue}if(e.lineIndent<a){i===cw?e.result+=We.repeat(`
`,s?1+l:l):i===Og&&s&&(e.result+=`
`);break}for(n?Bs(h)?(c=!0,e.result+=We.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=We.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=We.repeat(`
`,l):e.result+=We.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Jn(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Xi(e,r,e.position,!1)}return!0}w(UE,"readBlockScalar");function L0(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ct(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Mr(o))));){if(a=!0,e.position++,Me(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Io(e,t,ME,!1,!0),s.push(e.result),Me(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)Ct(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}w(L0,"readBlockSequence");function VE(e,t,r){var n,i,s,o,a,l,c=e.tag,u=e.anchor,h={},f=Object.create(null),p=null,g=null,m=null,y=!1,x=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),b=e.input.charCodeAt(e.position);b!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ct(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&Mr(n))b===63?(y&&(vo(e,h,f,p,g,null,o,a,l),p=g=m=null),x=!0,y=!0,i=!0):y?(y=!1,i=!0):Ct(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Io(e,r,LE,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Bs(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),Mr(b)||Ct(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(vo(e,h,f,p,g,null,o,a,l),p=g=m=null),x=!0,y=!1,i=!1,p=e.tag,g=e.result;else if(x)Ct(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(x)Ct(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,l=e.position),Io(e,t,ff,!0,i)&&(y?g=e.result:m=e.result),y||(vo(e,h,f,p,g,m,o,a,l),p=g=m=null),Me(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)Ct(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&vo(e,h,f,p,g,null,o,a,l),x&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),x}w(VE,"readBlockMapping");function YE(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&Ct(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):Ct(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Mr(o);)o===33&&(n?Ct(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),RE.test(i)||Ct(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Q4.test(s)&&Ct(e,"tag suffix cannot contain flow indicator characters")}s&&!BE.test(s)&&Ct(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ct(e,"tag name is malformed: "+s)}return r?e.tag=s:$s.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Ct(e,'undeclared tag handle "'+i+'"'),!0}w(YE,"readTagProperty");function GE(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ct(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Mr(r)&&!bo(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ct(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}w(GE,"readAnchorProperty");function XE(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Mr(n)&&!bo(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ct(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),$s.call(e.anchorMap,r)||Ct(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Me(e,!0,-1),!0}w(XE,"readAlias");function Io(e,t,r,n,i){var s,o,a,l=1,c=!1,u=!1,h,f,p,g,m,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ff===r||ME===r,n&&Me(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;YE(e)||GE(e);)Me(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||ff===r)&&(hf===r||LE===r?m=t:m=t+1,y=e.position-e.lineStart,l===1?a&&(L0(e,y)||VE(e,y,m))||qE(e,m)?u=!0:(o&&UE(e,m)||WE(e,m)||HE(e,m)?u=!0:XE(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Ct(e,"alias node should not have any properties")):zE(e,m,hf===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&L0(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ct(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,f=e.implicitTypes.length;h<f;h+=1)if(g=e.implicitTypes[h],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($s.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,f=p.length;h<f;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){g=p[h];break}g||Ct(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&Ct(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ct(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}w(Io,"composeNode");function QE(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Me(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Mr(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Ct(e,"directive name must not be less than one character in length");o!==0;){for(;Bs(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Jn(o));break}if(Jn(o))break;for(r=e.position;o!==0&&!Mr(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&yp(e),$s.call(uw,n)?uw[n](e,n,i):cu(e,'unknown document directive "'+n+'"')}if(Me(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Me(e,!0,-1)):s&&Ct(e,"directives end mark is expected"),Io(e,e.lineIndent-1,ff,!1,!0),Me(e,!0,-1),e.checkLineBreaks&&X4.test(e.input.slice(t,e.position))&&cu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zu(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Me(e,!0,-1));return}if(e.position<e.length-1)Ct(e,"end of the stream or a document separator is expected");else return}w(QE,"readDocument");function Vy(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new IE(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ct(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)QE(r);return r.documents}w(Vy,"loadDocuments");function K4(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Vy(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}w(K4,"loadAll$1");function KE(e,t){var r=Vy(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Yr("expected a single document in the stream, but found more")}}w(KE,"load$1");var J4=KE,Z4={load:J4},JE=Object.prototype.toString,ZE=Object.prototype.hasOwnProperty,Yy=65279,t6=9,uu=10,e6=13,r6=32,n6=33,i6=34,M0=35,s6=37,o6=38,a6=39,l6=42,t5=44,c6=45,pf=58,u6=61,d6=62,h6=63,f6=64,e5=91,r5=93,p6=96,n5=123,g6=124,i5=125,_r={};_r[0]="\\0";_r[7]="\\a";_r[8]="\\b";_r[9]="\\t";_r[10]="\\n";_r[11]="\\v";_r[12]="\\f";_r[13]="\\r";_r[27]="\\e";_r[34]='\\"';_r[92]="\\\\";_r[133]="\\N";_r[160]="\\_";_r[8232]="\\L";_r[8233]="\\P";var m6=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],x6=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function s5(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&ZE.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}w(s5,"compileStyleMap");function o5(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Yr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+We.repeat("0",n-t.length)+t}w(o5,"encodeHex");var y6=1,du=2;function a5(e){this.schema=e.schema||AE,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=We.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=s5(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?du:y6,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}w(a5,"State");function R0(e,t){for(var r=We.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}w(R0,"indentString");function gf(e,t){return`
`+We.repeat(" ",e.indent*t)}w(gf,"generateNextLine");function l5(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}w(l5,"testImplicitResolving");function hu(e){return e===r6||e===t6}w(hu,"isWhitespace");function al(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Yy||65536<=e&&e<=1114111}w(al,"isPrintable");function B0(e){return al(e)&&e!==Yy&&e!==e6&&e!==uu}w(B0,"isNsCharOrWhitespace");function P0(e,t,r){var n=B0(e),i=n&&!hu(e);return(r?n:n&&e!==t5&&e!==e5&&e!==r5&&e!==n5&&e!==i5)&&e!==M0&&!(t===pf&&!i)||B0(t)&&!hu(t)&&e===M0||t===pf&&i}w(P0,"isPlainSafe");function c5(e){return al(e)&&e!==Yy&&!hu(e)&&e!==c6&&e!==h6&&e!==pf&&e!==t5&&e!==e5&&e!==r5&&e!==n5&&e!==i5&&e!==M0&&e!==o6&&e!==l6&&e!==n6&&e!==g6&&e!==u6&&e!==d6&&e!==a6&&e!==i6&&e!==s6&&e!==f6&&e!==p6}w(c5,"isPlainSafeFirst");function u5(e){return!hu(e)&&e!==pf}w(u5,"isPlainSafeLast");function Ea(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}w(Ea,"codePointAt");function Gy(e){var t=/^\n* /;return t.test(e)}w(Gy,"needIndentIndicator");var d5=1,F0=2,h5=3,f5=4,fa=5;function p5(e,t,r,n,i,s,o,a){var l,c=0,u=null,h=!1,f=!1,p=n!==-1,g=-1,m=c5(Ea(e,0))&&u5(Ea(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ea(e,l),!al(c))return fa;m=m&&P0(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ea(e,l),c===uu)h=!0,p&&(f=f||l-g-1>n&&e[g+1]!==" ",g=l);else if(!al(c))return fa;m=m&&P0(c,u,a),u=c}f=f||p&&l-g-1>n&&e[g+1]!==" "}return!h&&!f?m&&!o&&!i(e)?d5:s===du?fa:F0:r>9&&Gy(e)?fa:o?s===du?fa:F0:f?f5:h5}w(p5,"chooseScalarStyle");function g5(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===du?'""':"''";if(!e.noCompatMode&&(m6.indexOf(t)!==-1||x6.test(t)))return e.quotingType===du?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return l5(e,c)}switch(w(l,"testAmbiguity"),p5(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case d5:return t;case F0:return"'"+t.replace(/'/g,"''")+"'";case h5:return"|"+D0(t,e.indent)+O0(R0(t,s));case f5:return">"+D0(t,e.indent)+O0(R0(m5(t,o),s));case fa:return'"'+x5(t)+'"';default:throw new Yr("impossible error: invalid scalar style")}}()}w(g5,"writeScalar");function D0(e,t){var r=Gy(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}w(D0,"blockHeader");function O0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}w(O0,"dropEndingNewline");function m5(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,$0(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+$0(l,t),i=s}return n}w(m5,"foldString");function $0(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}w($0,"foldLine");function x5(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ea(e,i),n=_r[r],!n&&al(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||o5(r);return t}w(x5,"escapeString");function y5(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Si(e,t,a,!1,!1)||typeof a>"u"&&Si(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}w(y5,"writeFlowSequence");function N0(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(Si(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Si(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=gf(e,t)),e.dump&&uu===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}w(N0,"writeBlockSequence");function b5(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),Si(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Si(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}w(b5,"writeFlowMapping");function v5(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,u,h,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Yr("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)f="",(!n||i!=="")&&(f+=gf(e,t)),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),Si(e,t+1,c,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&uu===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,h&&(f+=gf(e,t)),Si(e,t+1,u,!0,h)&&(e.dump&&uu===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}w(v5,"writeBlockMapping");function I0(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,JE.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(ZE.call(a.represent,l))n=a.represent[l](t,l);else throw new Yr("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}w(I0,"detectType");function Si(e,t,r,n,i,s,o){e.tag=null,e.dump=r,I0(e,r,!1)||I0(e,r,!0);var a=JE.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",h,f;if(u&&(h=e.duplicates.indexOf(r),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(u&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(v5(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(b5(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?N0(e,t-1,e.dump,i):N0(e,t,e.dump,i),f&&(e.dump="&ref_"+h+e.dump)):(y5(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&g5(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Yr("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}w(Si,"writeNode");function w5(e,t){var r=[],n=[],i,s;for(mf(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}w(w5,"getDuplicateReferences");function mf(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)mf(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)mf(e[n[i]],t,r)}w(mf,"inspectNode");function b6(e,t){t=t||{};var r=new a5(t);r.noRefs||w5(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Si(r,0,n,!0,!0)?r.dump+`
`:""}w(b6,"dump$1");function v6(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}w(v6,"renamed");var w6=hE,k6=Z4.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var fr={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},dw={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function cc(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=ye(e),t=ye(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],o=i-r,a=s-n;return{angle:Math.atan(a/o),deltaX:o,deltaY:a}}w(cc,"calculateDeltaAndAngle");var ye=w(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),S6=w(e=>({x:w(function(t,r,n){let i=0;const s=ye(n[0]).x<ye(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(fr,e.arrowTypeStart)){const{angle:p,deltaX:g}=cc(n[0],n[1]);i=fr[e.arrowTypeStart]*Math.cos(p)*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(fr,e.arrowTypeEnd)){const{angle:p,deltaX:g}=cc(n[n.length-1],n[n.length-2]);i=fr[e.arrowTypeEnd]*Math.cos(p)*(g>=0?1:-1)}const o=Math.abs(ye(t).x-ye(n[n.length-1]).x),a=Math.abs(ye(t).y-ye(n[n.length-1]).y),l=Math.abs(ye(t).x-ye(n[0]).x),c=Math.abs(ye(t).y-ye(n[0]).y),u=fr[e.arrowTypeStart],h=fr[e.arrowTypeEnd],f=1;if(o<h&&o>0&&a<h){let p=h+f-o;p*=s==="right"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+f-l;p*=s==="right"?-1:1,i+=p}return ye(t).x+i},"x"),y:w(function(t,r,n){let i=0;const s=ye(n[0]).y<ye(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(fr,e.arrowTypeStart)){const{angle:p,deltaY:g}=cc(n[0],n[1]);i=fr[e.arrowTypeStart]*Math.abs(Math.sin(p))*(g>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(fr,e.arrowTypeEnd)){const{angle:p,deltaY:g}=cc(n[n.length-1],n[n.length-2]);i=fr[e.arrowTypeEnd]*Math.abs(Math.sin(p))*(g>=0?1:-1)}const o=Math.abs(ye(t).y-ye(n[n.length-1]).y),a=Math.abs(ye(t).x-ye(n[n.length-1]).x),l=Math.abs(ye(t).y-ye(n[0]).y),c=Math.abs(ye(t).x-ye(n[0]).x),u=fr[e.arrowTypeStart],h=fr[e.arrowTypeEnd],f=1;if(o<h&&o>0&&a<h){let p=h+f-o;p*=s==="up"?-1:1,i-=p}if(l<u&&l>0&&c<u){let p=u+f-l;p*=s==="up"?-1:1,i+=p}return ye(t).y+i},"y")}),"getLineFunctionsWithOffset"),Xy=w(({flowchart:e})=>{var i,s;const t=((i=e==null?void 0:e.subGraphTitleMargin)==null?void 0:i.top)??0,r=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),_6=w(e=>{const{handDrawnSeed:t}=ee();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),bl=w(e=>{const t=C6([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),C6=w(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i==null?void 0:i.trim())}),t},"styles2Map"),k5=w(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),wt=w(e=>{const{stylesArray:t}=bl(e),r=[],n=[],i=[],s=[];return t.forEach(o=>{const a=o[0];k5(a)?r.push(o.join(":")+" !important"):(n.push(o.join(":")+" !important"),a.includes("stroke")&&i.push(o.join(":")+" !important"),a==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),vt=w((e,t)=>{var l;const{themeVariables:r,handDrawnSeed:n}=ee(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:o}=bl(e);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:n,strokeWidth:((l=o.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:T6(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),T6=w(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),Qy={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.BLANK_URL=Ge.relativeFirstCharacters=Ge.whitespaceEscapeCharsRegex=Ge.urlSchemeRegex=Ge.ctrlCharactersRegex=Ge.htmlCtrlEntityRegex=Ge.htmlEntitiesRegex=Ge.invalidProtocolRegex=void 0;Ge.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Ge.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Ge.htmlCtrlEntityRegex=/&(newline|tab);/gi;Ge.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Ge.urlSchemeRegex=/^.+(:|&colon;)/gim;Ge.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Ge.relativeFirstCharacters=[".","/"];Ge.BLANK_URL="about:blank";Object.defineProperty(Qy,"__esModule",{value:!0});var S5=Qy.sanitizeUrl=void 0,hr=Ge;function E6(e){return hr.relativeFirstCharacters.indexOf(e[0])>-1}function j6(e){var t=e.replace(hr.ctrlCharactersRegex,"");return t.replace(hr.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function A6(e){return URL.canParse(e)}function hw(e){try{return decodeURIComponent(e)}catch{return e}}function L6(e){if(!e)return hr.BLANK_URL;var t,r=hw(e.trim());do r=j6(r).replace(hr.htmlCtrlEntityRegex,"").replace(hr.ctrlCharactersRegex,"").replace(hr.whitespaceEscapeCharsRegex,"").trim(),r=hw(r),t=r.match(hr.ctrlCharactersRegex)||r.match(hr.htmlEntitiesRegex)||r.match(hr.htmlCtrlEntityRegex)||r.match(hr.whitespaceEscapeCharsRegex);while(t&&t.length>0);var n=r;if(!n)return hr.BLANK_URL;if(E6(n))return n;var i=n.trimStart(),s=i.match(hr.urlSchemeRegex);if(!s)return n;var o=s[0].toLowerCase().trim();if(hr.invalidProtocolRegex.test(o))return hr.BLANK_URL;var a=i.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://"))return a;if(o==="http:"||o==="https:"){if(!A6(a))return hr.BLANK_URL;var l=new URL(a);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return a}S5=Qy.sanitizeUrl=L6;var _5=typeof global=="object"&&global&&global.Object===Object&&global,M6=typeof self=="object"&&self&&self.Object===Object&&self,Ci=_5||M6||Function("return this")(),xf=Ci.Symbol,C5=Object.prototype,R6=C5.hasOwnProperty,B6=C5.toString,Ul=xf?xf.toStringTag:void 0;function P6(e){var t=R6.call(e,Ul),r=e[Ul];try{e[Ul]=void 0;var n=!0}catch{}var i=B6.call(e);return n&&(t?e[Ul]=r:delete e[Ul]),i}var F6=Object.prototype,D6=F6.toString;function O6(e){return D6.call(e)}var $6="[object Null]",N6="[object Undefined]",fw=xf?xf.toStringTag:void 0;function vl(e){return e==null?e===void 0?N6:$6:fw&&fw in Object(e)?P6(e):O6(e)}function Xo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var I6="[object AsyncFunction]",z6="[object Function]",W6="[object GeneratorFunction]",H6="[object Proxy]";function Ky(e){if(!Xo(e))return!1;var t=vl(e);return t==z6||t==W6||t==I6||t==H6}var $g=Ci["__core-js_shared__"],pw=function(){var e=/[^.]+$/.exec($g&&$g.keys&&$g.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function q6(e){return!!pw&&pw in e}var U6=Function.prototype,V6=U6.toString;function Qo(e){if(e!=null){try{return V6.call(e)}catch{}try{return e+""}catch{}}return""}var Y6=/[\\^$.*+?()[\]{}|]/g,G6=/^\[object .+?Constructor\]$/,X6=Function.prototype,Q6=Object.prototype,K6=X6.toString,J6=Q6.hasOwnProperty,Z6=RegExp("^"+K6.call(J6).replace(Y6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t8(e){if(!Xo(e)||q6(e))return!1;var t=Ky(e)?Z6:G6;return t.test(Qo(e))}function e8(e,t){return e==null?void 0:e[t]}function Ko(e,t){var r=e8(e,t);return t8(r)?r:void 0}var fu=Ko(Object,"create");function r8(){this.__data__=fu?fu(null):{},this.size=0}function n8(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var i8="__lodash_hash_undefined__",s8=Object.prototype,o8=s8.hasOwnProperty;function a8(e){var t=this.__data__;if(fu){var r=t[e];return r===i8?void 0:r}return o8.call(t,e)?t[e]:void 0}var l8=Object.prototype,c8=l8.hasOwnProperty;function u8(e){var t=this.__data__;return fu?t[e]!==void 0:c8.call(t,e)}var d8="__lodash_hash_undefined__";function h8(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fu&&t===void 0?d8:t,this}function zo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zo.prototype.clear=r8;zo.prototype.delete=n8;zo.prototype.get=a8;zo.prototype.has=u8;zo.prototype.set=h8;function f8(){this.__data__=[],this.size=0}function vp(e,t){return e===t||e!==e&&t!==t}function wp(e,t){for(var r=e.length;r--;)if(vp(e[r][0],t))return r;return-1}var p8=Array.prototype,g8=p8.splice;function m8(e){var t=this.__data__,r=wp(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():g8.call(t,r,1),--this.size,!0}function x8(e){var t=this.__data__,r=wp(t,e);return r<0?void 0:t[r][1]}function y8(e){return wp(this.__data__,e)>-1}function b8(e,t){var r=this.__data__,n=wp(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function is(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}is.prototype.clear=f8;is.prototype.delete=m8;is.prototype.get=x8;is.prototype.has=y8;is.prototype.set=b8;var pu=Ko(Ci,"Map");function v8(){this.size=0,this.__data__={hash:new zo,map:new(pu||is),string:new zo}}function w8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function kp(e,t){var r=e.__data__;return w8(t)?r[typeof t=="string"?"string":"hash"]:r.map}function k8(e){var t=kp(this,e).delete(e);return this.size-=t?1:0,t}function S8(e){return kp(this,e).get(e)}function _8(e){return kp(this,e).has(e)}function C8(e,t){var r=kp(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ys(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ys.prototype.clear=v8;Ys.prototype.delete=k8;Ys.prototype.get=S8;Ys.prototype.has=_8;Ys.prototype.set=C8;var T8="Expected a function";function Wu(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(T8);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Wu.Cache||Ys),r}Wu.Cache=Ys;function E8(){this.__data__=new is,this.size=0}function j8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function A8(e){return this.__data__.get(e)}function L8(e){return this.__data__.has(e)}var M8=200;function R8(e,t){var r=this.__data__;if(r instanceof is){var n=r.__data__;if(!pu||n.length<M8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ys(n)}return r.set(e,t),this.size=r.size,this}function wl(e){var t=this.__data__=new is(e);this.size=t.size}wl.prototype.clear=E8;wl.prototype.delete=j8;wl.prototype.get=A8;wl.prototype.has=L8;wl.prototype.set=R8;var yf=function(){try{var e=Ko(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Jy(e,t,r){t=="__proto__"&&yf?yf(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function z0(e,t,r){(r!==void 0&&!vp(e[t],r)||r===void 0&&!(t in e))&&Jy(e,t,r)}function B8(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[++i];if(r(s[l],l,s)===!1)break}return t}}var P8=B8(),T5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gw=T5&&typeof module=="object"&&module&&!module.nodeType&&module,F8=gw&&gw.exports===T5,mw=F8?Ci.Buffer:void 0,xw=mw?mw.allocUnsafe:void 0;function D8(e,t){if(t)return e.slice();var r=e.length,n=xw?xw(r):new e.constructor(r);return e.copy(n),n}var yw=Ci.Uint8Array;function O8(e){var t=new e.constructor(e.byteLength);return new yw(t).set(new yw(e)),t}function $8(e,t){var r=t?O8(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function N8(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var bw=Object.create,I8=function(){function e(){}return function(t){if(!Xo(t))return{};if(bw)return bw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function E5(e,t){return function(r){return e(t(r))}}var j5=E5(Object.getPrototypeOf,Object),z8=Object.prototype;function Sp(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z8;return e===r}function W8(e){return typeof e.constructor=="function"&&!Sp(e)?I8(j5(e)):{}}function Hu(e){return e!=null&&typeof e=="object"}var H8="[object Arguments]";function vw(e){return Hu(e)&&vl(e)==H8}var A5=Object.prototype,q8=A5.hasOwnProperty,U8=A5.propertyIsEnumerable,bf=vw(function(){return arguments}())?vw:function(e){return Hu(e)&&q8.call(e,"callee")&&!U8.call(e,"callee")},vf=Array.isArray,V8=9007199254740991;function L5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V8}function _p(e){return e!=null&&L5(e.length)&&!Ky(e)}function Y8(e){return Hu(e)&&_p(e)}function G8(){return!1}var M5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ww=M5&&typeof module=="object"&&module&&!module.nodeType&&module,X8=ww&&ww.exports===M5,kw=X8?Ci.Buffer:void 0,Q8=kw?kw.isBuffer:void 0,Zy=Q8||G8,K8="[object Object]",J8=Function.prototype,Z8=Object.prototype,R5=J8.toString,t9=Z8.hasOwnProperty,e9=R5.call(Object);function r9(e){if(!Hu(e)||vl(e)!=K8)return!1;var t=j5(e);if(t===null)return!0;var r=t9.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&R5.call(r)==e9}var n9="[object Arguments]",i9="[object Array]",s9="[object Boolean]",o9="[object Date]",a9="[object Error]",l9="[object Function]",c9="[object Map]",u9="[object Number]",d9="[object Object]",h9="[object RegExp]",f9="[object Set]",p9="[object String]",g9="[object WeakMap]",m9="[object ArrayBuffer]",x9="[object DataView]",y9="[object Float32Array]",b9="[object Float64Array]",v9="[object Int8Array]",w9="[object Int16Array]",k9="[object Int32Array]",S9="[object Uint8Array]",_9="[object Uint8ClampedArray]",C9="[object Uint16Array]",T9="[object Uint32Array]",pe={};pe[y9]=pe[b9]=pe[v9]=pe[w9]=pe[k9]=pe[S9]=pe[_9]=pe[C9]=pe[T9]=!0;pe[n9]=pe[i9]=pe[m9]=pe[s9]=pe[x9]=pe[o9]=pe[a9]=pe[l9]=pe[c9]=pe[u9]=pe[d9]=pe[h9]=pe[f9]=pe[p9]=pe[g9]=!1;function E9(e){return Hu(e)&&L5(e.length)&&!!pe[vl(e)]}function j9(e){return function(t){return e(t)}}var B5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rc=B5&&typeof module=="object"&&module&&!module.nodeType&&module,A9=Rc&&Rc.exports===B5,Ng=A9&&_5.process,Sw=function(){try{var e=Rc&&Rc.require&&Rc.require("util").types;return e||Ng&&Ng.binding&&Ng.binding("util")}catch{}}(),_w=Sw&&Sw.isTypedArray,tb=_w?j9(_w):E9;function W0(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var L9=Object.prototype,M9=L9.hasOwnProperty;function R9(e,t,r){var n=e[t];(!(M9.call(e,t)&&vp(n,r))||r===void 0&&!(t in e))&&Jy(e,t,r)}function B9(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?Jy(r,a,l):R9(r,a,l)}return r}function P9(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var F9=9007199254740991,D9=/^(?:0|[1-9]\d*)$/;function P5(e,t){var r=typeof e;return t=t??F9,!!t&&(r=="number"||r!="symbol"&&D9.test(e))&&e>-1&&e%1==0&&e<t}var O9=Object.prototype,$9=O9.hasOwnProperty;function N9(e,t){var r=vf(e),n=!r&&bf(e),i=!r&&!n&&Zy(e),s=!r&&!n&&!i&&tb(e),o=r||n||i||s,a=o?P9(e.length,String):[],l=a.length;for(var c in e)(t||$9.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||P5(c,l)))&&a.push(c);return a}function I9(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var z9=Object.prototype,W9=z9.hasOwnProperty;function H9(e){if(!Xo(e))return I9(e);var t=Sp(e),r=[];for(var n in e)n=="constructor"&&(t||!W9.call(e,n))||r.push(n);return r}function F5(e){return _p(e)?N9(e,!0):H9(e)}function q9(e){return B9(e,F5(e))}function U9(e,t,r,n,i,s,o){var a=W0(e,r),l=W0(t,r),c=o.get(l);if(c){z0(e,r,c);return}var u=s?s(a,l,r+"",e,t,o):void 0,h=u===void 0;if(h){var f=vf(l),p=!f&&Zy(l),g=!f&&!p&&tb(l);u=l,f||p||g?vf(a)?u=a:Y8(a)?u=N8(a):p?(h=!1,u=D8(l,!0)):g?(h=!1,u=$8(l,!0)):u=[]:r9(l)||bf(l)?(u=a,bf(a)?u=q9(a):(!Xo(a)||Ky(a))&&(u=W8(l))):h=!1}h&&(o.set(l,u),i(u,l,n,s,o),o.delete(l)),z0(e,r,u)}function D5(e,t,r,n,i){e!==t&&P8(t,function(s,o){if(i||(i=new wl),Xo(s))U9(e,t,o,r,D5,n,i);else{var a=n?n(W0(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),z0(e,o,a)}},F5)}function O5(e){return e}function V9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Cw=Math.max;function Y9(e,t,r){return t=Cw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=Cw(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),V9(e,this,a)}}function G9(e){return function(){return e}}var X9=yf?function(e,t){return yf(e,"toString",{configurable:!0,enumerable:!1,value:G9(t),writable:!0})}:O5,Q9=800,K9=16,J9=Date.now;function Z9(e){var t=0,r=0;return function(){var n=J9(),i=K9-(n-r);if(r=n,i>0){if(++t>=Q9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tz=Z9(X9);function ez(e,t){return tz(Y9(e,t,O5),e+"")}function rz(e,t,r){if(!Xo(r))return!1;var n=typeof t;return(n=="number"?_p(r)&&P5(t,r.length):n=="string"&&t in r)?vp(r[t],e):!1}function nz(e){return ez(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&rz(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,s)}return t})}var iz=nz(function(e,t,r){D5(e,t,r)}),sz="",oz={curveBasis:uh,curveBasisClosed:a4,curveBasisOpen:l4,curveBumpX:wT,curveBumpY:kT,curveBundle:c4,curveCardinalClosed:u4,curveCardinalOpen:d4,curveCardinal:TT,curveCatmullRomClosed:h4,curveCatmullRomOpen:f4,curveCatmullRom:jT,curveLinear:af,curveLinearClosed:p4,curveMonotoneX:PT,curveMonotoneY:FT,curveNatural:OT,curveStep:$T,curveStepAfter:IT,curveStepBefore:NT},az=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,lz=w(function(e,t){const r=$5(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const o=r.map(a=>a.args);Xh(o),n=ze(n,[...o])}else n=r.args;if(!n)return;let i=Sy(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),$5=w(function(e,t=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${az.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(i,"").replace(/'/gm,'"'),Q.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const o=[];for(;(s=Lc.exec(e))!==null;)if(s.index===Lc.lastIndex&&Lc.lastIndex++,s&&!t||t&&((r=s[1])!=null&&r.match(t))||t&&((n=s[2])!=null&&n.match(t))){const a=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:a,args:l})}return o.length===0?{type:e,args:null}:o.length===1?o[0]:o}catch(i){return Q.error(`ERROR: ${i.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),cz=w(function(e){return e.replace(Lc,"")},"removeDirectives"),uz=w(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function eb(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return oz[r]??t}w(eb,"interpolateToCurve");function N5(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?S5(r):r}w(N5,"formatUrl");var dz=w((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let o=0;o<n;o++)if(s=s[r[o]],!s){Q.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function rb(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}w(rb,"distance");function I5(e){let t,r=0;e.forEach(i=>{r+=rb(i,t),t=i});const n=r/2;return nb(e,n)}w(I5,"traverseEdge");function z5(e){return e.length===1?e[0]:I5(e)}w(z5,"calcLabelPosition");var Tw=w((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),nb=w((e,t)=>{let r,n=t;for(const i of e){if(r){const s=rb(i,r);if(s===0)return r;if(s<n)n-=s;else{const o=n/s;if(o<=0)return r;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:Tw((1-o)*r.x+o*i.x,5),y:Tw((1-o)*r.y+o*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),hz=w((e,t,r)=>{Q.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=nb(t,25),s=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(o)*s+(t[0].x+i.x)/2,a.y=-Math.cos(o)*s+(t[0].y+i.y)/2,a},"calcCardinalityPosition");function W5(e,t,r){const n=structuredClone(r);Q.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=nb(n,i),o=10+e*.5,a=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(a+Math.PI)*o+(n[0].x+s.x)/2,l.y=-Math.cos(a+Math.PI)*o+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(a-Math.PI)*o+(n[0].x+s.x)/2-5,l.y=-Math.cos(a-Math.PI)*o+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(a)*o+(n[0].x+s.x)/2-5,l.y=-Math.cos(a)*o+(n[0].y+s.y)/2-5):(l.x=Math.sin(a)*o+(n[0].x+s.x)/2,l.y=-Math.cos(a)*o+(n[0].y+s.y)/2),l}w(W5,"calcTerminalLabelPosition");function H5(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}w(H5,"getStylesFromArray");var Ew=0,fz=w(()=>(Ew++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Ew),"generateId");function q5(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}w(q5,"makeRandomHex");var pz=w(e=>q5(e.length),"random"),gz=w(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),mz=w(function(e,t){const r=t.text.replace(yl.lineBreakRegex," "),[,n]=Cp(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),xz=Wu((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),yl.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((o,a)=>{const l=rs(`${o} `,r),c=rs(s,r);if(l>t){const{hyphenatedStrings:f,remainingWord:p}=yz(o,t,"-",r);i.push(s,...f),s=p}else c+l>=t?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===n.length&&i.push(s)}),i.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),yz=Wu((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let o="";return i.forEach((a,l)=>{const c=`${o}${a}`;if(rs(c,n)>=t){const h=l+1,f=i.length===h,p=`${c}${r}`;s.push(f?c:p),o=""}else o=c}),{hyphenatedStrings:s,remainingWord:o}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function U5(e,t){return ib(e,t).height}w(U5,"calculateTextHeight");function rs(e,t){return ib(e,t).width}w(rs,"calculateTextWidth");var ib=Wu((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=Cp(r),o=["sans-serif",n],a=e.split(yl.lineBreakRegex),l=[],c=Qt("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const f of o){let p=0;const g={width:0,height:0,lineHeight:0};for(const m of a){const y=gz();y.text=m||sz;const x=mz(u,y).style("font-size",s).style("font-weight",i).style("font-family",f),b=(x._groups||x)[0][0].getBBox();if(b.width===0&&b.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,b.width)),p=Math.round(b.height),g.height+=p,g.lineHeight=Math.round(Math.max(g.lineHeight,p))}l.push(g)}u.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Va,bz=(Va=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},w(Va,"InitIDGenerator"),Va),kd,vz=w(function(e){return kd=kd||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),kd.innerHTML=e,unescape(kd.textContent)},"entityDecode");function sb(e){return"str"in e}w(sb,"isDetailedError");var wz=w((e,t,r,n)=>{var s;if(!n)return;const i=(s=e.node())==null?void 0:s.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Cp=w(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function ob(e,t){return iz({},e,t)}w(ob,"cleanAndMerge");var Gn={assignWithDepth:ze,wrapLabel:xz,calculateTextHeight:U5,calculateTextWidth:rs,calculateTextDimensions:ib,cleanAndMerge:ob,detectInit:lz,detectDirective:$5,isSubstringInArray:uz,interpolateToCurve:eb,calcLabelPosition:z5,calcCardinalityPosition:hz,calcTerminalLabelPosition:W5,formatUrl:N5,getStylesFromArray:H5,generateId:fz,random:pz,runFunc:dz,entityDecode:vz,insertTitle:wz,isLabelCoordinateInPath:V5,parseFontSize:Cp,InitIDGenerator:bz},kz=w(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},"encodeEntities"),Jo=w(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),lJ=w((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function wr(e){return e??null}w(wr,"handleUndefinedAttr");function V5(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}w(V5,"isLabelCoordinateInPath");const Sz=Object.freeze({left:0,top:0,width:16,height:16}),wf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Y5=Object.freeze({...Sz,...wf}),_z=Object.freeze({...Y5,body:"",hidden:!1}),Cz=Object.freeze({width:null,height:null}),Tz=Object.freeze({...Cz,...wf}),Ez=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:a};return Ig(c)?c:null}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:n,prefix:o.shift(),name:o.join("-")};return Ig(a)?a:null}if(r&&n===""){const a={provider:n,prefix:"",name:s};return Ig(a,r)?a:null}return null},Ig=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function jz(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function jw(e,t){const r=jz(e,t);for(const n in _z)n in wf?n in e&&!(n in r)&&(r[n]=wf[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function Az(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(r[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=n[o]&&n[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function Aw(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=jw(n[a]||i[a],s)}return o(t),r.forEach(o),jw(e,s)}function Lz(e,t){if(e.icons[t])return Aw(e,t,[]);const r=Az(e,[t])[t];return r?Aw(e,t,r):null}const Mz=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Rz=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Lw(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(Mz);if(n===null||!n.length)return e;const i=[];let s=n.shift(),o=Rz.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");o=!o}}function Bz(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(o+1)}return{defs:r,content:e}}function Pz(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Fz(e,t,r){const n=Bz(e);return Pz(n.defs,t+n.content+r)}const Dz=e=>e==="unset"||e==="undefined"||e==="none";function Oz(e,t){const r={...Y5,...e},n={...Tz,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(m=>{const y=[],x=m.hFlip,b=m.vFlip;let v=m.rotate;x?b?v+=2:(y.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),y.push("scale(-1 1)"),i.top=i.left=0):b&&(y.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),y.push("scale(1 -1)"),i.top=i.left=0);let C;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:C=i.height/2+i.top,y.unshift("rotate(90 "+C.toString()+" "+C.toString()+")");break;case 2:y.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:C=i.width/2+i.left,y.unshift("rotate(-90 "+C.toString()+" "+C.toString()+")");break}v%2===1&&(i.left!==i.top&&(C=i.left,i.left=i.top,i.top=C),i.width!==i.height&&(C=i.width,i.width=i.height,i.height=C)),y.length&&(s=Fz(s,'<g transform="'+y.join(" ")+'">',"</g>"))});const o=n.width,a=n.height,l=i.width,c=i.height;let u,h;o===null?(h=a===null?"1em":a==="auto"?c:a,u=Lw(h,l/c)):(u=o==="auto"?l:o,h=a===null?Lw(u,c/l):a==="auto"?c:a);const f={},p=(m,y)=>{Dz(y)||(f[m]=y.toString())};p("width",u),p("height",h);const g=[i.left,i.top,l,c];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:s}}const $z=/\sid="(\S+)"/g,Mw=new Map;function Nz(e){e=e.replace(/[0-9]+$/,"")||"a";const t=Mw.get(e)||0;return Mw.set(e,t+1),t?`${e}${t}`:e}function Iz(e){const t=[];let r;for(;r=$z.exec(e);)t.push(r[1]);if(!t.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const s=Nz(i),o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}function zz(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function ab(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Zo=ab();function G5(e){Zo=e}var Bc={exec:()=>null};function te(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Rr.caret,"$1"),r=r.replace(i,o),n},getRegex:()=>new RegExp(r,t)};return n}var Wz=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Rr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Hz=/^(?:[ \t]*(?:\n|$))+/,qz=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Uz=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Vz=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,lb=/(?:[*+-]|\d{1,9}[.)])/,X5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Q5=te(X5).replace(/bull/g,lb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Yz=te(X5).replace(/bull/g,lb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),cb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gz=/^[^\n]+/,ub=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Xz=te(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ub).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Qz=te(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,lb).getRegex(),Tp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",db=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Kz=te("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",db).replace("tag",Tp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),K5=te(cb).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex(),Jz=te(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",K5).getRegex(),hb={blockquote:Jz,code:qz,def:Xz,fences:Uz,heading:Vz,hr:qu,html:Kz,lheading:Q5,list:Qz,newline:Hz,paragraph:K5,table:Bc,text:Gz},Rw=te("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex(),Zz={...hb,lheading:Yz,table:Rw,paragraph:te(cb).replace("hr",qu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Rw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tp).getRegex()},t7={...hb,html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",db).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:te(cb).replace("hr",qu).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Q5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},e7=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,r7=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,J5=/^( {2,}|\\)\n(?!\s*$)/,n7=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ep=/[\p{P}\p{S}]/u,fb=/[\s\p{P}\p{S}]/u,Z5=/[^\s\p{P}\p{S}]/u,i7=te(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,fb).getRegex(),tj=/(?!~)[\p{P}\p{S}]/u,s7=/(?!~)[\s\p{P}\p{S}]/u,o7=/(?:[^\s\p{P}\p{S}]|~)/u,a7=te(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Wz?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ej=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,l7=te(ej,"u").replace(/punct/g,Ep).getRegex(),c7=te(ej,"u").replace(/punct/g,tj).getRegex(),rj="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",u7=te(rj,"gu").replace(/notPunctSpace/g,Z5).replace(/punctSpace/g,fb).replace(/punct/g,Ep).getRegex(),d7=te(rj,"gu").replace(/notPunctSpace/g,o7).replace(/punctSpace/g,s7).replace(/punct/g,tj).getRegex(),h7=te("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Z5).replace(/punctSpace/g,fb).replace(/punct/g,Ep).getRegex(),f7=te(/\\(punct)/,"gu").replace(/punct/g,Ep).getRegex(),p7=te(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),g7=te(db).replace("(?:-->|$)","-->").getRegex(),m7=te("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",g7).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),kf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,x7=te(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",kf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),nj=te(/^!?\[(label)\]\[(ref)\]/).replace("label",kf).replace("ref",ub).getRegex(),ij=te(/^!?\[(ref)\](?:\[\])?/).replace("ref",ub).getRegex(),y7=te("reflink|nolink(?!\\()","g").replace("reflink",nj).replace("nolink",ij).getRegex(),Bw=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,pb={_backpedal:Bc,anyPunctuation:f7,autolink:p7,blockSkip:a7,br:J5,code:r7,del:Bc,emStrongLDelim:l7,emStrongRDelimAst:u7,emStrongRDelimUnd:h7,escape:e7,link:x7,nolink:ij,punctuation:i7,reflink:nj,reflinkSearch:y7,tag:m7,text:n7,url:Bc},b7={...pb,link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",kf).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kf).getRegex()},H0={...pb,emStrongRDelimAst:d7,emStrongLDelim:c7,url:te(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Bw).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:te(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Bw).getRegex()},v7={...H0,br:te(J5).replace("{2,}","*").getRegex(),text:te(H0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sd={normal:hb,gfm:Zz,pedantic:t7},Vl={normal:pb,gfm:H0,breaks:v7,pedantic:b7},w7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pw=e=>w7[e];function di(e,t){if(t){if(Rr.escapeTest.test(e))return e.replace(Rr.escapeReplace,Pw)}else if(Rr.escapeTestNoEncode.test(e))return e.replace(Rr.escapeReplaceNoEncode,Pw);return e}function Fw(e){try{e=encodeURI(e).replace(Rr.percentDecode,"%")}catch{return null}return e}function Dw(e,t){var s;let r=e.replace(Rr.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(Rr.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Rr.slashPipe,"|");return n}function Yl(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function k7(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function Ow(e,t,r,n,i){let s=t.href,o=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}function S7(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var Sf=class{constructor(t){et(this,"options");et(this,"rules");et(this,"lexer");this.options=t||Zo}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Yl(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=S7(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Yl(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Yl(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=Yl(r[0],`
`).split(`
`),i="",s="",o=[];for(;n.length>0;){let a=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),a=!0;else if(!a)l.push(n[c]);else break;n=n.slice(c);let u=l.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${u}`:u,s=s?`${s}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=f,n.length===0)break;let p=o.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let g=p,m=g.raw+`
`+n.join(`
`),y=this.blockquote(m);o[o.length-1]=y,i=i.substring(0,i.length-g.raw.length)+y.raw,s=s.substring(0,s.length-g.text.length)+y.text;break}else if((p==null?void 0:p.type)==="list"){let g=p,m=g.raw+`
`+n.join(`
`),y=this.list(m);o[o.length-1]=y,i=i.substring(0,i.length-p.raw.length)+y.raw,s=s.substring(0,s.length-g.raw.length)+y.raw,n=m.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let o=this.rules.other.listItemRegex(n),a=!1;for(;t;){let c=!1,u="",h="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;u=r[0],t=t.substring(u.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),p=t.split(`
`,1)[0],g=!f.trim(),m=0;if(this.options.pedantic?(m=2,h=f.trimStart()):g?m=r[1].length+1:(m=r[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,h=f.slice(m),m+=r[1].length),g&&this.rules.other.blankLine.test(p)&&(u+=p+`
`,t=t.substring(p.length+1),c=!0),!c){let b=this.rules.other.nextBulletRegex(m),v=this.rules.other.hrRegex(m),C=this.rules.other.fencesBeginRegex(m),k=this.rules.other.headingBeginRegex(m),S=this.rules.other.htmlBeginRegex(m);for(;t;){let _=t.split(`
`,1)[0],A;if(p=_,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),A=p):A=p.replace(this.rules.other.tabCharGlobal,"    "),C.test(p)||k.test(p)||S.test(p)||b.test(p)||v.test(p))break;if(A.search(this.rules.other.nonSpaceChar)>=m||!p.trim())h+=`
`+A.slice(m);else{if(g||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(f)||k.test(f)||v.test(f))break;h+=`
`+p}!g&&!p.trim()&&(g=!0),u+=_+`
`,t=t.substring(_.length+1),f=A.slice(m)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0));let y=null,x;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(x=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:u,task:!!y,checked:x,loose:!1,text:h,tokens:[]}),s.raw+=u}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let u=s.items[c].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){var a;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=Dw(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=r[3])!=null&&a.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<n.length;l++)o.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:o.align[l]});for(let l of s)o.rows.push(Dw(l,o.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[u]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=Yl(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=k7(r[2],"()");if(o===-2)return;if(o>-1){let a=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,a).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Ow(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Ow(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,o,a,l=s,c=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,r=r.slice(-1*t.length+s);(i=u.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let h=[...i[0]][0].length,f=t.slice(0,s+i.index+h+a);if(Math.min(s,a)%2){let g=f.slice(1,-1);return{type:"em",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}let p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Un=class q0{constructor(t){et(this,"tokens");et(this,"options");et(this,"state");et(this,"tokenizer");et(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Zo,this.options.tokenizer=this.options.tokenizer||new Sf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Rr,block:Sd.normal,inline:Vl.normal};this.options.pedantic?(r.block=Sd.pedantic,r.inline=Vl.pedantic):this.options.gfm&&(r.block=Sd.gfm,this.options.breaks?r.inline=Vl.breaks:r.inline=Vl.gfm),this.tokenizer.rules=r}static get rules(){return{block:Sd,inline:Vl}}static lex(t,r){return new q0(r).lex(t)}static lexInline(t,r){return new q0(r).inlineTokens(t)}lex(t){t=t.replace(Rr.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,s,o;for(this.options.pedantic&&(t=t.replace(Rr.tabCharGlobal,"    ").replace(Rr.spaceLine,""));t;){let a;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(a=c.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);let c=r.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},r.push(a));continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}let l=t;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a),n=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var l,c,u,h,f;let n=t,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},n))??n;let o=!1,a="";for(;t;){o||(a=""),o=!1;let p;if((h=(u=this.options.extensions)==null?void 0:u.inline)!=null&&h.some(m=>(p=m.call({lexer:this},t,r))?(t=t.substring(p.raw.length),r.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);let m=r.at(-1);p.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=p.raw,m.text+=p.text):r.push(p);continue}if(p=this.tokenizer.emStrong(t,n,a)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),r.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),r.push(p);continue}let g=t;if((f=this.options.extensions)!=null&&f.startInline){let m=1/0,y=t.slice(1),x;this.options.extensions.startInline.forEach(b=>{x=b.call({lexer:this},y),typeof x=="number"&&x>=0&&(m=Math.min(m,x))}),m<1/0&&m>=0&&(g=t.substring(0,m+1))}if(p=this.tokenizer.inlineText(g)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(a=p.raw.slice(-1)),o=!0;let m=r.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=p.raw,m.text+=p.text):r.push(p);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}},_f=class{constructor(t){et(this,"options");et(this,"parser");this.options=t||Zo}space(t){return""}code({text:t,lang:r,escaped:n}){var o;let i=(o=(r||"").match(Rr.notSpaceStart))==null?void 0:o[0],s=t.replace(Rr.endingNewline,"")+`
`;return i?'<pre><code class="language-'+di(i)+'">'+(n?s:di(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:di(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let a=0;a<t.items.length;a++){let l=t.items[a];i+=this.listitem(l)}let s=r?"ol":"ul",o=r&&n!==1?' start="'+n+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(t){var n;let r="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+di(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let o=t.rows[s];n="";for(let a=0;a<o.length;a++)n+=this.tablecell(o[a]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${di(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=Fw(t);if(s===null)return i;t=s;let o='<a href="'+t+'"';return r&&(o+=' title="'+di(r)+'"'),o+=">"+i+"</a>",o}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=Fw(t);if(s===null)return di(n);t=s;let o=`<img src="${t}" alt="${n}"`;return r&&(o+=` title="${di(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:di(t.text)}},gb=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Vn=class U0{constructor(t){et(this,"options");et(this,"renderer");et(this,"textRenderer");this.options=t||Zo,this.options.renderer=this.options.renderer||new _f,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gb}static parse(t,r){return new U0(r).parse(t)}static parseInline(t,r){return new U0(r).parseInline(t)}parse(t,r=!0){var i,s;let n="";for(let o=0;o<t.length;o++){let a=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){n+=u||"";continue}}let l=a;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"def":{n+=this.renderer.def(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<t.length&&t[o+1].type==="text";)c=t[++o],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r=this.renderer){var i,s;let n="";for(let o=0;o<t.length;o++){let a=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=c||"";continue}}let l=a;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Wd,uc=(Wd=class{constructor(t){et(this,"options");et(this,"block");this.options=t||Zo}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Un.lex:Un.lexInline}provideParser(){return this.block?Vn.parse:Vn.parseInline}},et(Wd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),et(Wd,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Wd),_7=class{constructor(...t){et(this,"defaults",ab());et(this,"options",this.setOptions);et(this,"parse",this.parseMarkdown(!0));et(this,"parseInline",this.parseMarkdown(!1));et(this,"Parser",Vn);et(this,"Renderer",_f);et(this,"TextRenderer",gb);et(this,"Lexer",Un);et(this,"Tokenizer",Sf);et(this,"Hooks",uc);this.use(...t)}walkTokens(t,r){var i,s;let n=[];for(let o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{let a=o;for(let l of a.header)n=n.concat(this.walkTokens(l.tokens,r));for(let l of a.rows)for(let c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{let a=o;n=n.concat(this.walkTokens(a.items,r));break}default:{let a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=r.renderers[s.name];o?r.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[s.level];o?o.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new _f(this.defaults);for(let o in n.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=n.renderer[a],c=s[a];s[a]=(...u)=>{let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Sf(this.defaults);for(let o in n.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=n.tokenizer[a],c=s[a];s[a]=(...u)=>{let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new uc;for(let o in n.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=n.hooks[a],c=s[a];uc.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async&&uc.passThroughHooksRespectAsync.has(o))return(async()=>{let f=await l.call(s,u);return c.call(s,f)})();let h=l.call(s,u);return c.call(s,h)}:s[a]=(...u)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(s,u);return f===!1&&(f=await c.apply(s,u)),f})();let h=l.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Un.lex(t,r??this.defaults)}parser(t,r){return Vn.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():t?Un.lex:Un.lexInline)(a,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let u=await(s.hooks?await s.hooks.provideParser():t?Vn.parse:Vn.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(u):u})().catch(o);try{s.hooks&&(r=s.hooks.preprocess(r));let a=(s.hooks?s.hooks.provideLexer():t?Un.lex:Un.lexInline)(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?Vn.parse:Vn.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+di(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},Wo=new _7;function re(e,t){return Wo.parse(e,t)}re.options=re.setOptions=function(e){return Wo.setOptions(e),re.defaults=Wo.defaults,G5(re.defaults),re};re.getDefaults=ab;re.defaults=Zo;re.use=function(...e){return Wo.use(...e),re.defaults=Wo.defaults,G5(re.defaults),re};re.walkTokens=function(e,t){return Wo.walkTokens(e,t)};re.parseInline=Wo.parseInline;re.Parser=Vn;re.parser=Vn.parse;re.Renderer=_f;re.TextRenderer=gb;re.Lexer=Un;re.lexer=Un.lex;re.Tokenizer=Sf;re.Hooks=uc;re.parse=re;re.options;re.setOptions;re.use;re.walkTokens;re.parseInline;Vn.parse;Un.lex;function sj(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(a,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?a.concat(c.map(function(u){var h,f;return(f=(h=u.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&f!==void 0?f:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(a){return a.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach(function(a,l){var c=o.match(/(?:^|\n)( *)$/),u=c?c[1]:"",h=a;typeof a=="string"&&a.includes(`
`)&&(h=String(a).split(`
`).map(function(f,p){return p===0?f:""+u+f}).join(`
`)),o+=h+n[l+1]}),o}var C7={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},V0=new Map,oj=new Map,T7=w(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Q.debug("Registering icon pack:",t.name),"loader"in t)oj.set(t.name,t.loader);else if("icons"in t)V0.set(t.name,t.icons);else throw Q.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),aj=w(async(e,t)=>{const r=Ez(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=V0.get(n);if(!i){const o=oj.get(n);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await o(),prefix:n},V0.set(n,i)}catch(a){throw Q.error(a),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=Lz(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),E7=w(async e=>{try{return await aj(e),!0}catch{return!1}},"isIconAvailable"),Uu=w(async(e,t,r)=>{let n;try{n=await aj(e,t==null?void 0:t.fallbackPrefix)}catch(o){Q.error(o),n=C7}const i=Oz(n,t),s=zz(Iz(i.body),{...i.attributes,...r});return Rn(s,br())},"getIconSVG");function lj(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=sj(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}w(lj,"preprocessMarkdown");function cj(e,t={}){const r=lj(e,t),n=re.lexer(r),i=[[]];let s=0;function o(a,l="normal"){a.type==="text"?a.text.split(`
`).forEach((u,h)=>{h!==0&&(s++,i.push([])),u.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[s].push({content:f,type:l})})}):a.type==="strong"||a.type==="em"?a.tokens.forEach(c=>{o(c,a.type)}):a.type==="html"&&i[s].push({content:a.text,type:"normal"})}return w(o,"processNode"),n.forEach(a=>{var l;a.type==="paragraph"?(l=a.tokens)==null||l.forEach(c=>{o(c)}):a.type==="html"?i[s].push({content:a.text,type:"normal"}):i[s].push({content:a.raw,type:"normal"})}),i}w(cj,"markdownToLines");function uj(e,{markdownAutoWrap:t}={}){const r=re.lexer(e);function n(i){var s,o,a;return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(n).join("")}</strong>`:i.type==="em"?`<em>${(o=i.tokens)==null?void 0:o.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(a=i.tokens)==null?void 0:a.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(Q.warn(`Unsupported markdown: ${i.type}`),i.raw)}return w(n,"output"),r.map(n).join("")}w(uj,"markdownToHTML");function dj(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}w(dj,"splitTextToChars");function hj(e,t){const r=dj(t.content);return mb(e,[],r,t.type)}w(hj,"splitWordToFitWidth");function mb(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,o=[...t,i];return e([{content:o.join(""),type:n}])?mb(e,o,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}w(mb,"splitWordToFitWidthRecursion");function fj(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Cf(e,t)}w(fj,"splitLineToFitWidth");function Cf(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},o=[...n];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),t(o))return Cf(e,t,r,o);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[a,l]=hj(t,s);r.push([a]),l.content&&e.unshift(l)}return Cf(e,t,r)}w(Cf,"splitLineToFitWidthRecursion");function Y0(e,t){t&&e.attr("style",t)}w(Y0,"applyStyle");async function pj(e,t,r,n,i=!1,s=br()){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const a=o.append("xhtml:div"),l=nl(t.label)?await _y(t.label.replace(yl.lineBreakRegex,`
`),s):Rn(t.label,s),c=t.isNode?"nodeLabel":"edgeLabel",u=a.append("span");u.html(l),Y0(u,t.labelStyle),u.attr("class",`${c} ${n}`),Y0(a,t.labelStyle),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("line-height","1.5"),a.style("max-width",r+"px"),a.style("text-align","center"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&a.attr("class","labelBkg");let h=a.node().getBoundingClientRect();return h.width===r&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",r+"px"),h=a.node().getBoundingClientRect()),o.node()}w(pj,"addHtmlSpan");function jp(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}w(jp,"createTspan");function gj(e,t,r){const n=e.append("text"),i=jp(n,1,t);Ap(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}w(gj,"computeWidthOfText");function j7(e,t,r){var o;const n=e.append("text"),i=jp(n,1,t);Ap(i,[{content:r,type:"normal"}]);const s=(o=i.node())==null?void 0:o.getBoundingClientRect();return s&&n.remove(),s}w(j7,"computeDimensionOfText");function mj(e,t,r,n=!1){const s=t.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),a=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const u=w(f=>gj(s,1.1,f)<=e,"checkWidth"),h=u(c)?[c]:fj(c,u);for(const f of h){const p=jp(a,l,1.1);Ap(p,f),l++}}if(n){const c=a.node().getBBox(),u=2;return o.attr("x",c.x-u).attr("y",c.y-u).attr("width",c.width+2*u).attr("height",c.height+2*u),s.node()}else return a.node()}w(mj,"createFormattedText");function Ap(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}w(Ap,"updateTextContentAndStyles");async function xj(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,o)=>(r.push((async()=>{const a=`${s}:${o}`;return await E7(a)?await Uu(a,void 0,{class:"label-icon"}):`<i class='${Rn(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}w(xj,"replaceIconSubstring");var Gs=w(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:a=200,addSvgBackground:l=!1}={},c)=>{if(Q.debug("XYZ createText",t,r,n,i,s,o,"addSvgBackground: ",l),s){const u=uj(t,c),h=await xj(Jo(u),c),f=t.replace(/\\\\/g,"\\"),p={isNode:o,label:nl(t)?f:h,labelStyle:r.replace("fill:","color:")};return await pj(e,p,a,i,l,c)}else{const u=t.replace(/<br\s*\/?>/g,"<br/>"),h=cj(u.replace("<br>","<br/>"),c),f=mj(a,e,h,t?l:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qt(f).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Qt(f).select("rect").attr("style",p.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qt(f).select("text").attr("style",g)}return f}},"createText");function zg(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,o=Math.cos(s),a=Math.sin(s);for(const l of e){const[c,u]=l;l[0]=(c-n)*o-(u-i)*a+n,l[1]=(c-n)*a+(u-i)*o+i}}}function A7(e,t){return e[0]===t[0]&&e[1]===t[1]}function L7(e,t,r,n=1){const i=r,s=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,a=[0,0];if(i)for(const c of o)zg(c,a,i);const l=function(c,u,h){const f=[];for(const b of c){const v=[...b];A7(v[0],v[v.length-1])||v.push([v[0][0],v[0][1]]),v.length>2&&f.push(v)}const p=[];u=Math.max(u,.1);const g=[];for(const b of f)for(let v=0;v<b.length-1;v++){const C=b[v],k=b[v+1];if(C[1]!==k[1]){const S=Math.min(C[1],k[1]);g.push({ymin:S,ymax:Math.max(C[1],k[1]),x:S===C[1]?C[0]:k[0],islope:(k[0]-C[0])/(k[1]-C[1])})}}if(g.sort((b,v)=>b.ymin<v.ymin?-1:b.ymin>v.ymin?1:b.x<v.x?-1:b.x>v.x?1:b.ymax===v.ymax?0:(b.ymax-v.ymax)/Math.abs(b.ymax-v.ymax)),!g.length)return p;let m=[],y=g[0].ymin,x=0;for(;m.length||g.length;){if(g.length){let b=-1;for(let v=0;v<g.length&&!(g[v].ymin>y);v++)b=v;g.splice(0,b+1).forEach(v=>{m.push({s:y,edge:v})})}if(m=m.filter(b=>!(b.edge.ymax<=y)),m.sort((b,v)=>b.edge.x===v.edge.x?0:(b.edge.x-v.edge.x)/Math.abs(b.edge.x-v.edge.x)),(h!==1||x%u==0)&&m.length>1)for(let b=0;b<m.length;b+=2){const v=b+1;if(v>=m.length)break;const C=m[b].edge,k=m[v].edge;p.push([[Math.round(C.x),y],[Math.round(k.x),y]])}y+=h,m.forEach(b=>{b.edge.x=b.edge.x+h*b.edge.islope}),x++}return p}(o,s,n);if(i){for(const c of o)zg(c,a,-i);(function(c,u,h){const f=[];c.forEach(p=>f.push(...p)),zg(f,u,h)})(l,a,-i)}return l}function Vu(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),L7(e,i,n,s||1)}class xb{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=Vu(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function Lp(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class M7 extends xb{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Vu(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,o=[],a=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,u]of i)Lp([c,u])&&o.push([[c[0]-a,c[1]+l],[...u]],[[c[0]+a,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class R7 extends xb{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class B7{constructor(t){this.helper=t}fillPolygons(t,r){const n=Vu(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=i/4;for(const a of t){const l=Lp(a),c=l/i,u=Math.ceil(c)-1,h=l-u*i,f=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let g=0;g<u;g++){const m=p+h+g*i,y=f-o+2*Math.random()*o,x=m-o+2*Math.random()*o,b=this.helper.ellipse(y,x,s,s,r);n.push(...b.ops)}}return{type:"fillSketch",ops:n}}}class P7{constructor(t){this.helper=t}fillPolygons(t,r){const n=Vu(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(o=>{const a=Lp(o),l=Math.floor(a/(n+i)),c=(a+i-l*(n+i))/2;let u=o[0],h=o[1];u[0]>h[0]&&(u=o[1],h=o[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<l;p++){const g=p*(n+i),m=g+n,y=[u[0]+g*Math.cos(f)+c*Math.cos(f),u[1]+g*Math.sin(f)+c*Math.sin(f)],x=[u[0]+m*Math.cos(f)+c*Math.cos(f),u[1]+m*Math.sin(f)+c*Math.sin(f)];s.push(...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],r))}}),s}}class F7{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=Vu(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const o=Lp(s),a=Math.round(o/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<a;h++){const f=2*h*r,p=2*(h+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],y=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],x=[m[0]+g*Math.cos(u+Math.PI/4),m[1]+g*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],x[0],x[1],n),...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],n))}}),i}}const Hr={};class D7{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const O7=0,Wg=1,$w=2,_d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Hg(e,t){return e.type===t}function yb(e){const t=[],r=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:O7,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:Wg,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:$w,text:""},a}(e);let n="BOD",i=0,s=r[i];for(;!Hg(s,$w);){let o=0;const a=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return yb("M0,0"+e);i++,o=_d[s.text],n=s.text}else Hg(s,Wg)?o=_d[n]:(i++,o=_d[s.text],n=s.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const c=r[l];if(!Hg(c,Wg))throw new Error("Param not a number: "+n+","+c.text);a[a.length]=+c.text}if(typeof _d[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:a};t.push(l),i+=o,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function yj(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:o,data:a}of e)switch(o){case"M":s.push({key:"M",data:[...a]}),[t,r]=a,[n,i]=a;break;case"m":t+=a[0],r+=a[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...a]}),[t,r]=a;break;case"l":t+=a[0],r+=a[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],r=a[5];break;case"c":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],r=a[3];break;case"q":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],r=a[6];break;case"a":t+=a[5],r+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,r]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),r=a[0];break;case"v":r+=a[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],r=a[3];break;case"s":{const l=a.map((c,u)=>u%2?c+r:c+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],r=a[1];break;case"t":t+=a[0],r+=a[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function bj(e){const t=[];let r="",n=0,i=0,s=0,o=0,a=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[n,i]=u,[s,o]=u;break;case"C":t.push({key:"C",data:[...u]}),n=u[4],i=u[5],a=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],t.push({key:"L",data:[n,i]});break;case"V":i=u[0],t.push({key:"L",data:[n,i]});break;case"S":{let h=0,f=0;r==="C"||r==="S"?(h=n+(n-a),f=i+(i-l)):(h=n,f=i),t.push({key:"C",data:[h,f,...u]}),a=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[h,f]=u;let p=0,g=0;r==="Q"||r==="T"?(p=n+(n-a),g=i+(i-l)):(p=n,g=i);const m=n+2*(p-n)/3,y=i+2*(g-i)/3,x=h+2*(p-h)/3,b=f+2*(g-f)/3;t.push({key:"C",data:[m,y,x,b,h,f]}),a=p,l=g,n=h,i=f;break}case"Q":{const[h,f,p,g]=u,m=n+2*(h-n)/3,y=i+2*(f-i)/3,x=p+2*(h-p)/3,b=g+2*(f-g)/3;t.push({key:"C",data:[m,y,x,b,p,g]}),a=h,l=f,n=p,i=g;break}case"A":{const h=Math.abs(u[0]),f=Math.abs(u[1]),p=u[2],g=u[3],m=u[4],y=u[5],x=u[6];h===0||f===0?(t.push({key:"C",data:[n,i,y,x,y,x]}),n=y,i=x):(n!==y||i!==x)&&(vj(n,i,y,x,h,f,p,g,m).forEach(function(b){t.push({key:"C",data:b})}),n=y,i=x);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=o}r=c}return t}function Gl(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function vj(e,t,r,n,i,s,o,a,l,c){const u=(h=o,Math.PI*h/180);var h;let f=[],p=0,g=0,m=0,y=0;if(c)[p,g,m,y]=c;else{[e,t]=Gl(e,t,-u),[r,n]=Gl(r,n,-u);const H=(e-r)/2,P=(t-n)/2;let j=H*H/(i*i)+P*P/(s*s);j>1&&(j=Math.sqrt(j),i*=j,s*=j);const L=i*i,B=s*s,E=L*B-L*P*P-B*H*H,M=L*P*P+B*H*H,$=(a===l?-1:1)*Math.sqrt(Math.abs(E/M));m=$*i*P/s+(e+r)/2,y=$*-s*H/i+(t+n)/2,p=Math.asin(parseFloat(((t-y)/s).toFixed(9))),g=Math.asin(parseFloat(((n-y)/s).toFixed(9))),e<m&&(p=Math.PI-p),r<m&&(g=Math.PI-g),p<0&&(p=2*Math.PI+p),g<0&&(g=2*Math.PI+g),l&&p>g&&(p-=2*Math.PI),!l&&g>p&&(g-=2*Math.PI)}let x=g-p;if(Math.abs(x)>120*Math.PI/180){const H=g,P=r,j=n;g=l&&g>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=vj(r=m+i*Math.cos(g),n=y+s*Math.sin(g),P,j,i,s,o,0,l,[g,H,m,y])}x=g-p;const b=Math.cos(p),v=Math.sin(p),C=Math.cos(g),k=Math.sin(g),S=Math.tan(x/4),_=4/3*i*S,A=4/3*s*S,D=[e,t],F=[e+_*v,t-A*b],O=[r+_*k,n-A*C],W=[r,n];if(F[0]=2*D[0]-F[0],F[1]=2*D[1]-F[1],c)return[F,O,W].concat(f);{f=[F,O,W].concat(f);const H=[];for(let P=0;P<f.length;P+=3){const j=Gl(f[P][0],f[P][1],u),L=Gl(f[P+1][0],f[P+1][1],u),B=Gl(f[P+2][0],f[P+2][1],u);H.push([j[0],j[1],L[0],L[1],B[0],B[1]])}return H}}const $7={randOffset:function(e,t){return Mt(e,t)},randOffsetWithRange:function(e,t,r){return Tf(e,t,r)},ellipse:function(e,t,r,n,i){const s=kj(r,n,i);return G0(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return Ns(e,t,r,n,i,!0)}};function wj(e,t,r,n,i){return{type:"path",ops:Ns(e,t,r,n,i)}}function fh(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...Ns(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...Ns(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?wj(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function N7(e,t,r,n,i){return function(s,o){return fh(s,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Nw(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=Cd(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:Cd(r[0],1.5*(1+.22*t.roughness),Ww(t));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const a=Cd(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:Cd(o,1.5*(1+.22*t.roughness),Ww(t));for(const c of a)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function kj(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let o=Math.abs(e/2),a=Math.abs(t/2);const l=1-r.curveFitting;return o+=Mt(o*l,r),a+=Mt(a*l,r),{increment:s,rx:o,ry:a}}function G0(e,t,r,n){const[i,s]=Hw(n.increment,e,t,n.rx,n.ry,1,n.increment*Tf(.1,Tf(.4,1,r),r),r);let o=Ef(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[a]=Hw(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Ef(a,null,r);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function Iw(e,t,r,n,i,s,o,a,l){const c=e,u=t;let h=Math.abs(r/2),f=Math.abs(n/2);h+=Mt(.01*h,l),f+=Mt(.01*f,l);let p=i,g=s;for(;p<0;)p+=2*Math.PI,g+=2*Math.PI;g-p>2*Math.PI&&(p=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-p)/2),x=qw(y,c,u,h,f,p,g,1,l);if(!l.disableMultiStroke){const b=qw(y,c,u,h,f,p,g,1.5,l);x.push(...b)}return o&&(a?x.push(...Ns(c,u,c+h*Math.cos(p),u+f*Math.sin(p),l),...Ns(c,u,c+h*Math.cos(g),u+f*Math.sin(g),l)):x.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(p),u+f*Math.sin(p)]})),{type:"path",ops:x}}function zw(e,t){const r=bj(yj(yb(e))),n=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of r)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":n.push(...Ns(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]];break;case"C":{const[l,c,u,h,f,p]=a;n.push(...I7(l,c,u,h,f,p,s,t)),s=[f,p];break}case"Z":n.push(...Ns(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function qg(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+Mt(i,t),n[0][1]+Mt(i,t)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[n[o][0]+Mt(i,t),n[o][1]+Mt(i,t)]})}}return{type:"fillPath",ops:r}}function ua(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!Hr[i])switch(i){case"zigzag":Hr[i]||(Hr[i]=new M7(n));break;case"cross-hatch":Hr[i]||(Hr[i]=new R7(n));break;case"dots":Hr[i]||(Hr[i]=new B7(n));break;case"dashed":Hr[i]||(Hr[i]=new P7(n));break;case"zigzag-line":Hr[i]||(Hr[i]=new F7(n));break;default:i="hachure",Hr[i]||(Hr[i]=new xb(n))}return Hr[i]}(t,$7).fillPolygons(e,t)}function Ww(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function Sj(e){return e.randomizer||(e.randomizer=new D7(e.seed||0)),e.randomizer.next()}function Tf(e,t,r,n=1){return r.roughness*n*(Sj(r)*(t-e)+e)}function Mt(e,t,r=1){return Tf(-e,e,t,r)}function Ns(e,t,r,n,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=X0(e,t,r,n,i,!0,!1);if(o)return a;const l=X0(e,t,r,n,i,!0,!0);return a.concat(l)}function X0(e,t,r,n,i,s,o){const a=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const h=u/2,f=.2+.2*Sj(i);let p=i.bowing*i.maxRandomnessOffset*(n-t)/200,g=i.bowing*i.maxRandomnessOffset*(e-r)/200;p=Mt(p,i,c),g=Mt(g,i,c);const m=[],y=()=>Mt(h,i,c),x=()=>Mt(u,i,c),b=i.preserveVertices;return o?m.push({op:"move",data:[e+(b?0:y()),t+(b?0:y())]}):m.push({op:"move",data:[e+(b?0:Mt(u,i,c)),t+(b?0:Mt(u,i,c))]}),o?m.push({op:"bcurveTo",data:[p+e+(r-e)*f+y(),g+t+(n-t)*f+y(),p+e+2*(r-e)*f+y(),g+t+2*(n-t)*f+y(),r+(b?0:y()),n+(b?0:y())]}):m.push({op:"bcurveTo",data:[p+e+(r-e)*f+x(),g+t+(n-t)*f+x(),p+e+2*(r-e)*f+x(),g+t+2*(n-t)*f+x(),r+(b?0:x()),n+(b?0:x())]}),m}function Cd(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+Mt(t,r),e[0][1]+Mt(t,r)]),n.push([e[0][0]+Mt(t,r),e[0][1]+Mt(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+Mt(t,r),e[i][1]+Mt(t,r)]),i===e.length-1&&n.push([e[i][0]+Mt(t,r),e[i][1]+Mt(t,r)]);return Ef(n,null,r)}function Ef(e,t,r){const n=e.length,i=[];if(n>3){const s=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<n;a++){const l=e[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*e[a+1][0]-o*e[a-1][0])/6,l[1]+(o*e[a+1][1]-o*e[a-1][1])/6],s[2]=[e[a+1][0]+(o*e[a][0]-o*e[a+2][0])/6,e[a+1][1]+(o*e[a][1]-o*e[a+2][1])/6],s[3]=[e[a+1][0],e[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...X0(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function Hw(e,t,r,n,i,s,o,a){const l=[],c=[];if(a.roughness===0){e/=4,c.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let u=0;u<=2*Math.PI;u+=e){const h=[t+n*Math.cos(u),r+i*Math.sin(u)];l.push(h),c.push(h)}c.push([t+n*Math.cos(0),r+i*Math.sin(0)]),c.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const u=Mt(.5,a)-Math.PI/2;c.push([Mt(s,a)+t+.9*n*Math.cos(u-e),Mt(s,a)+r+.9*i*Math.sin(u-e)]);const h=2*Math.PI+u-.01;for(let f=u;f<h;f+=e){const p=[Mt(s,a)+t+n*Math.cos(f),Mt(s,a)+r+i*Math.sin(f)];l.push(p),c.push(p)}c.push([Mt(s,a)+t+n*Math.cos(u+2*Math.PI+.5*o),Mt(s,a)+r+i*Math.sin(u+2*Math.PI+.5*o)]),c.push([Mt(s,a)+t+.98*n*Math.cos(u+o),Mt(s,a)+r+.98*i*Math.sin(u+o)]),c.push([Mt(s,a)+t+.9*n*Math.cos(u+.5*o),Mt(s,a)+r+.9*i*Math.sin(u+.5*o)])}return[c,l]}function qw(e,t,r,n,i,s,o,a,l){const c=s+Mt(.1,l),u=[];u.push([Mt(a,l)+t+.9*n*Math.cos(c-e),Mt(a,l)+r+.9*i*Math.sin(c-e)]);for(let h=c;h<=o;h+=e)u.push([Mt(a,l)+t+n*Math.cos(h),Mt(a,l)+r+i*Math.sin(h)]);return u.push([t+n*Math.cos(o),r+i*Math.sin(o)]),u.push([t+n*Math.cos(o),r+i*Math.sin(o)]),Ef(u,null,l)}function I7(e,t,r,n,i,s,o,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let u=[0,0];const h=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let p=0;p<h;p++)p===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(f?0:Mt(c[0],a)),o[1]+(f?0:Mt(c[0],a))]}),u=f?[i,s]:[i+Mt(c[p],a),s+Mt(c[p],a)],l.push({op:"bcurveTo",data:[e+Mt(c[p],a),t+Mt(c[p],a),r+Mt(c[p],a),n+Mt(c[p],a),u[0],u[1]]});return l}function Xl(e){return[...e]}function Uw(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Xl(e[0]),Xl(e[1]),Xl(e[2]),Xl(e[2]));else{const i=[];i.push(e[0],e[0]);for(let a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);const s=[],o=1-t;n.push(Xl(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],n.push(s[1],s[2],s[3])}}return n}function ph(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function z7(e,t,r){const n=ph(t,r);if(n===0)return ph(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),ph(e,lo(t,r,i))}function lo(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Q0(e,t,r,n){const i=n||[];if(function(a,l){const c=a[l+0],u=a[l+1],h=a[l+2],f=a[l+3];let p=3*u[0]-2*c[0]-f[0];p*=p;let g=3*u[1]-2*c[1]-f[1];g*=g;let m=3*h[0]-2*f[0]-c[0];m*=m;let y=3*h[1]-2*f[1]-c[1];return y*=y,p<m&&(p=m),g<y&&(g=y),p+g}(e,t)<r){const a=e[t+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(ph(s,o))>1&&i.push(a)):i.push(a),i.push(e[t+3])}else{const l=e[t+0],c=e[t+1],u=e[t+2],h=e[t+3],f=lo(l,c,.5),p=lo(c,u,.5),g=lo(u,h,.5),m=lo(f,p,.5),y=lo(p,g,.5),x=lo(m,y,.5);Q0([l,f,m,x],0,r,i),Q0([x,y,g,h],0,r,i)}var s,o;return i}function W7(e,t){return jf(e,0,e.length,t)}function jf(e,t,r,n,i){const s=i||[],o=e[t],a=e[r-1];let l=0,c=1;for(let u=t+1;u<r-1;++u){const h=z7(e[u],o,a);h>l&&(l=h,c=u)}return Math.sqrt(l)>n?(jf(e,t,c+1,n,s),jf(e,c,r,n,s)):(s.length||s.push(o),s.push(a)),s}function Ug(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)Q0(e,3*s,t,n);return r&&r>0?jf(n,0,n.length,r):n}const an="none";class Af{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const o=this._o(s);return this._d("line",[wj(t,r,n,i,o)],o)}rectangle(t,r,n,i,s){const o=this._o(s),a=[],l=N7(t,r,n,i,o);if(o.fill){const c=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];o.fillStyle==="solid"?a.push(qg([c],o)):a.push(ua([c],o))}return o.stroke!==an&&a.push(l),this._d("rectangle",a,o)}ellipse(t,r,n,i,s){const o=this._o(s),a=[],l=kj(n,i,o),c=G0(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){const u=G0(t,r,o,l).opset;u.type="fillPath",a.push(u)}else a.push(ua([c.estimatedPoints],o));return o.stroke!==an&&a.push(c.opset),this._d("ellipse",a,o)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[fh(t,!1,n)],n)}arc(t,r,n,i,s,o,a=!1,l){const c=this._o(l),u=[],h=Iw(t,r,n,i,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const p=Iw(t,r,n,i,s,o,!0,!1,f);p.type="fillPath",u.push(p)}else u.push(function(f,p,g,m,y,x,b){const v=f,C=p;let k=Math.abs(g/2),S=Math.abs(m/2);k+=Mt(.01*k,b),S+=Mt(.01*S,b);let _=y,A=x;for(;_<0;)_+=2*Math.PI,A+=2*Math.PI;A-_>2*Math.PI&&(_=0,A=2*Math.PI);const D=(A-_)/b.curveStepCount,F=[];for(let O=_;O<=A;O+=D)F.push([v+k*Math.cos(O),C+S*Math.sin(O)]);return F.push([v+k*Math.cos(A),C+S*Math.sin(A)]),F.push([v,C]),ua([F],b)}(t,r,n,i,s,o,c));return c.stroke!==an&&u.push(h),this._d("arc",u,c)}curve(t,r){const n=this._o(r),i=[],s=Nw(t,n);if(n.fill&&n.fill!==an)if(n.fillStyle==="solid"){const o=Nw(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=t;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...Ug(Uw([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):o.push(...Ug(Uw(c),10,(1+n.roughness)/2))}o.length&&i.push(ua([o],n))}return n.stroke!==an&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=fh(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(qg([t],n)):i.push(ua([t],n))),n.stroke!==an&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==an,o=n.stroke!==an,a=!!(n.simplification&&n.simplification<1),l=function(u,h,f){const p=bj(yj(yb(u))),g=[];let m=[],y=[0,0],x=[];const b=()=>{x.length>=4&&m.push(...Ug(x,h)),x=[]},v=()=>{b(),m.length&&(g.push(m),m=[])};for(const{key:k,data:S}of p)switch(k){case"M":v(),y=[S[0],S[1]],m.push(y);break;case"L":b(),m.push([S[0],S[1]]);break;case"C":if(!x.length){const _=m.length?m[m.length-1]:y;x.push([_[0],_[1]])}x.push([S[0],S[1]]),x.push([S[2],S[3]]),x.push([S[4],S[5]]);break;case"Z":b(),m.push([y[0],y[1]])}if(v(),!f)return g;const C=[];for(const k of g){const S=W7(k,f);S.length&&C.push(S)}return C}(t,1,a?4-4*(n.simplification||1):(1+n.roughness)/2),c=zw(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const u=zw(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(qg(l,n));else i.push(ua(l,n));return o&&(a?l.forEach(u=>{i.push(fh(u,!1,n))}):i.push(c)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(o=>+o.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:an};break;case"fillPath":o={d:this.opsToPath(s),stroke:an,strokeWidth:0,fill:n.fill||an};break;case"fillSketch":o=this.fillSketch(s,n)}o&&i.push(o)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||an,strokeWidth:n,fill:an}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class H7{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Af(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const o=typeof n=="number"&&n>=0?s.data.map(a=>+a.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o),o}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o),o}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o),o}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,o,a=!1,l){const c=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(c),c}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const Td="http://www.w3.org/2000/svg";class q7{constructor(t,r){this.svg=t,this.gen=new Af(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Td,"g"),o=t.options.fixedDecimalPlaceDigits;for(const a of r){let l=null;switch(a.type){case"path":l=i.createElementNS(Td,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Td,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(Td,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o)}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o)}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,o,a=!1,l){const c=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(c)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var yt={canvas:(e,t)=>new H7(e,t),svg:(e,t)=>new q7(e,t),generator:e=>new Af(e),newSeed:()=>Af.newSeed()},Lt=w(async(e,t,r)=>{var h,f;let n;const i=t.useHtmlLabels||Ue((h=ee())==null?void 0:h.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=s.insert("g").attr("class","label").attr("style",wr(t.labelStyle));let a;t.label===void 0?a="":a=typeof t.label=="string"?t.label:t.label[0];const l=await Gs(o,Rn(Jo(a),ee()),{useHtmlLabels:i,width:t.width||((f=ee().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const u=((t==null?void 0:t.padding)??0)/2;if(i){const p=l.children[0],g=Qt(l),m=p.getElementsByTagName("img");if(m){const y=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(x=>new Promise(b=>{function v(){if(x.style.display="flex",x.style.flexDirection="column",y){const C=ee().fontSize?ee().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[S=DC.fontSize]=Cp(C),_=S*k+"px";x.style.minWidth=_,x.style.maxWidth=_}else x.style.width="100%";b(x)}w(v,"setupImage"),setTimeout(()=>{x.complete&&v()}),x.addEventListener("error",v),x.addEventListener("load",v)})))}c=p.getBoundingClientRect(),g.attr("width",c.width),g.attr("height",c.height)}return i?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:u,label:o}},"labelHelper"),Vg=w(async(e,t,r)=>{var l,c,u,h,f,p;const n=r.useHtmlLabels||Ue((c=(l=ee())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Gs(i,Rn(Jo(t),ee()),{useHtmlLabels:n,width:r.width||((h=(u=ee())==null?void 0:u.flowchart)==null?void 0:h.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=s.getBBox();const a=r.padding/2;if(Ue((p=(f=ee())==null?void 0:f.flowchart)==null?void 0:p.htmlLabels)){const g=s.children[0],m=Qt(s);o=g.getBoundingClientRect(),m.attr("width",o.width),m.attr("height",o.height)}return n?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:a,label:i}},"insertLabel"),St=w((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),jt=w((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Vt(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}w(Vt,"createPathFromPoints");function Is(e,t,r,n,i,s){const o=[],l=r-e,c=n-t,u=l/s,h=2*Math.PI/u,f=t+c/2;for(let p=0;p<=50;p++){const g=p/50,m=e+g*l,y=f+i*Math.sin(h*(m-e));o.push({x:m,y})}return o}w(Is,"generateFullSineWavePoints");function gu(e,t,r,n,i,s){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(gu,"generateCirclePoints");var U7=w((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,a=e.height/2,l,c;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,c=a):(i<0&&(o=-o),l=o,c=i===0?0:o*s/i),{x:r+l,y:n+c}},"intersectRect"),kl=U7;function _j(e,t){t&&e.attr("style",t)}w(_j,"applyStyle");async function Cj(e){const t=Qt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=ee();let i=e.label;e.label&&nl(e.label)&&(i=await _y(e.label.replace(yl.lineBreakRegex,`
`),n));const o='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Rn(o,n)),_j(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}w(Cj,"addHtmlLabel");var V7=w(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Ue(ee().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Q.info("vertexText"+i);const s={isNode:n,label:Jo(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Cj(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},"createLabel"),wo=V7,Xs=w((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),Tj=w(async(e,t)=>{Q.info("Creating subgraph rect for ",t.id,t);const r=ee(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:o}=n,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=wt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ue(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),g=await Gs(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let m=g.getBBox();if(Ue(r.flowchart.htmlLabels)){const _=g.children[0],A=Qt(g);m=_.getBoundingClientRect(),A.attr("width",m.width),A.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-y/2,v=t.y-x/2;Q.trace("Data ",t,JSON.stringify(t));let C;if(t.look==="handDrawn"){const _=yt.svg(h),A=vt(t,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),D=_.path(Xs(b,v,y,x,0),A);C=h.insert(()=>(Q.debug("Rough node insert CXC",D),D),":first-child"),C.select("path:nth-child(2)").attr("style",c.join(";")),C.select("path").attr("style",u.join(";").replace("fill","stroke"))}else C=h.insert("rect",":first-child"),C.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",v).attr("width",y).attr("height",x);const{subGraphTitleTopMargin:k}=Xy(r);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),a){const _=p.select("span");_&&_.attr("style",a)}const S=C.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=m.height-t.padding/2,t.intersect=function(_){return kl(t,_)},{cluster:h,labelBBox:m}},"rect"),Y7=w((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(a){return kl(t,a)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),G7=w(async(e,t)=>{const r=ee(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:o,compositeTitleBackground:a,nodeBorder:l}=n,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),u=c.insert("g",":first-child"),h=c.insert("g").attr("class","cluster-label");let f=c.append("rect");const p=h.node().appendChild(await wo(t.label,t.labelStyle,void 0,!0));let g=p.getBBox();if(Ue(r.flowchart.htmlLabels)){const D=p.children[0],F=Qt(p);g=D.getBoundingClientRect(),F.attr("width",g.width),F.attr("height",g.height)}const m=0*t.padding,y=m/2,x=(t.width<=g.width+t.padding?g.width+t.padding:t.width)+m;t.width<=g.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height+m,v=t.height+m-g.height-6,C=t.x-x/2,k=t.y-b/2;t.width=x;const S=t.y-t.height/2-y+g.height+2;let _;if(t.look==="handDrawn"){const D=t.cssClasses.includes("statediagram-cluster-alt"),F=yt.svg(c),O=t.rx||t.ry?F.path(Xs(C,k,x,b,10),{roughness:.7,fill:a,fillStyle:"solid",stroke:l,seed:i}):F.rectangle(C,k,x,b,{seed:i});_=c.insert(()=>O,":first-child");const W=F.rectangle(C,S,x,v,{fill:D?s:o,fillStyle:D?"hachure":"solid",stroke:l,seed:i});_=c.insert(()=>O,":first-child"),f=c.insert(()=>W)}else _=u.insert("rect",":first-child"),_.attr("class","outer").attr("x",C).attr("y",k).attr("width",x).attr("height",b).attr("data-look",t.look),f.attr("class","inner").attr("x",C).attr("y",S).attr("width",x).attr("height",v);h.attr("transform",`translate(${t.x-g.width/2}, ${k+1-(Ue(r.flowchart.htmlLabels)?0:3)})`);const A=_.node().getBBox();return t.height=A.height,t.offsetX=0,t.offsetY=g.height-t.padding/2,t.labelBBox=g,t.intersect=function(D){return kl(t,D)},{cluster:c,labelBBox:g}},"roundedWithTitle"),X7=w(async(e,t)=>{Q.info("Creating subgraph rect for ",t.id,t);const r=ee(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:o}=n,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=wt(t),h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ue(r.flowchart.htmlLabels),p=h.insert("g").attr("class","cluster-label "),g=await Gs(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let m=g.getBBox();if(Ue(r.flowchart.htmlLabels)){const _=g.children[0],A=Qt(g);m=_.getBoundingClientRect(),A.attr("width",m.width),A.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,b=t.x-y/2,v=t.y-x/2;Q.trace("Data ",t,JSON.stringify(t));let C;if(t.look==="handDrawn"){const _=yt.svg(h),A=vt(t,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),D=_.path(Xs(b,v,y,x,t.rx),A);C=h.insert(()=>(Q.debug("Rough node insert CXC",D),D),":first-child"),C.select("path:nth-child(2)").attr("style",c.join(";")),C.select("path").attr("style",u.join(";").replace("fill","stroke"))}else C=h.insert("rect",":first-child"),C.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",b).attr("y",v).attr("width",y).attr("height",x);const{subGraphTitleTopMargin:k}=Xy(r);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),a){const _=p.select("span");_&&_.attr("style",a)}const S=C.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=m.height-t.padding/2,t.intersect=function(_){return kl(t,_)},{cluster:h,labelBBox:m}},"kanbanSection"),Q7=w((e,t)=>{const r=ee(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),a=o.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const u=t.height+l,h=t.x-c/2,f=t.y-u/2;t.width=c;let p;if(t.look==="handDrawn"){const y=yt.svg(o).rectangle(h,f,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});p=o.insert(()=>y,":first-child")}else p=a.insert("rect",":first-child"),p.attr("class","divider").attr("x",h).attr("y",f).attr("width",c).attr("height",u).attr("data-look",t.look);const g=p.node().getBBox();return t.height=g.height,t.offsetX=0,t.offsetY=0,t.intersect=function(m){return kl(t,m)},{cluster:o,labelBBox:{}}},"divider"),K7=Tj,J7={rect:Tj,squareRect:K7,roundedWithTitle:G7,noteGroup:Y7,divider:Q7,kanbanSection:X7},Ej=new Map,Z7=w(async(e,t)=>{const r=t.shape||"rect",n=await J7[r](e,t);return Ej.set(t.id,n),n},"insertCluster"),pJ=w(()=>{Ej=new Map},"clear");function jj(e,t){return e.intersect(t)}w(jj,"intersectNode");var tW=jj;function Aj(e,t,r,n){var i=e.x,s=e.y,o=i-n.x,a=s-n.y,l=Math.sqrt(t*t*a*a+r*r*o*o),c=Math.abs(t*r*o/l);n.x<i&&(c=-c);var u=Math.abs(t*r*a/l);return n.y<s&&(u=-u),{x:i+c,y:s+u}}w(Aj,"intersectEllipse");var Lj=Aj;function Mj(e,t,r){return Lj(e,t,t,r)}w(Mj,"intersectCircle");var eW=Mj;function Rj(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,o=t.x*e.y-e.x*t.y,a=i*r.x+s*r.y+o,l=i*n.x+s*n.y+o,c=1e-6;if(a!==0&&l!==0&&K0(a,l))return;const u=n.y-r.y,h=r.x-n.x,f=n.x*r.y-r.x*n.y,p=u*e.x+h*e.y+f,g=u*t.x+h*t.y+f;if(Math.abs(p)<c&&Math.abs(g)<c&&K0(p,g))return;const m=i*h-u*s;if(m===0)return;const y=Math.abs(m/2);let x=s*f-h*o;const b=x<0?(x-y)/m:(x+y)/m;x=u*o-i*f;const v=x<0?(x-y)/m:(x+y)/m;return{x:b,y:v}}}w(Rj,"intersectLine");function K0(e,t){return e*t>0}w(K0,"sameSign");var rW=Rj;function Bj(e,t,r){let n=e.x,i=e.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(u){o=Math.min(o,u.x),a=Math.min(a,u.y)}):(o=Math.min(o,t.x),a=Math.min(a,t.y));let l=n-e.width/2-o,c=i-e.height/2-a;for(let u=0;u<t.length;u++){let h=t[u],f=t[u<t.length-1?u+1:0],p=rW(e,r,{x:l+h.x,y:c+h.y},{x:l+f.x,y:c+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(u,h){let f=u.x-r.x,p=u.y-r.y,g=Math.sqrt(f*f+p*p),m=h.x-r.x,y=h.y-r.y,x=Math.sqrt(m*m+y*y);return g<x?-1:g===x?0:1}),s[0]):e}w(Bj,"intersectPolygon");var nW=Bj,pt={node:tW,circle:eW,ellipse:Lj,polygon:nW,rect:kl};function Pj(e,t){const{labelStyles:r}=wt(t);t.labelStyle=r;const n=jt(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=1,{cssStyles:a}=t,l=yt.svg(s),c=vt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const u=l.circle(0,0,o*2,c),h=s.insert(()=>u,":first-child");return h.attr("class","anchor").attr("style",wr(a)),St(t,h),t.intersect=function(f){return Q.info("Circle intersect",t,o,f),pt.circle(t,o,f)},s}w(Pj,"anchor");function J0(e,t,r,n,i,s,o){const l=(e+r)/2,c=(t+n)/2,u=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,p=h/i,g=f/s,m=Math.sqrt(p**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),x=l+y*s*Math.sin(u)*(o?-1:1),b=c-y*i*Math.cos(u)*(o?-1:1),v=Math.atan2((t-b)/s,(e-x)/i);let k=Math.atan2((n-b)/s,(r-x)/i)-v;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const S=[];for(let _=0;_<20;_++){const A=_/19,D=v+A*k,F=x+i*Math.cos(D),O=b+s*Math.sin(D);S.push({x:F,y:O})}return S}w(J0,"generateArcPoints");async function Fj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.width+t.padding+20,a=s.height+t.padding,l=a/2,c=l/(2.5+a/50),{cssStyles:u}=t,h=[{x:o/2,y:-a/2},{x:-o/2,y:-a/2},...J0(-o/2,-a/2,-o/2,a/2,c,l,!1),{x:o/2,y:a/2},...J0(o/2,a/2,o/2,-a/2,c,l,!0)],f=yt.svg(i),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Vt(h),m=f.path(g,p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(${c/2}, 0)`),St(t,y),t.intersect=function(x){return pt.polygon(t,h,x)},i}w(Fj,"bowTieRect");function Qs(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}w(Qs,"insertPolygonShape");async function Dj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.height+t.padding,a=12,l=s.width+t.padding+a,c=0,u=l,h=-o,f=0,p=[{x:c+a,y:h},{x:u,y:h},{x:u,y:f},{x:c,y:f},{x:c,y:h+a},{x:c+a,y:h}];let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){const y=yt.svg(i),x=vt(t,{}),b=Vt(p),v=y.path(b,x);g=i.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),m&&g.attr("style",m)}else g=Qs(i,l,o,p);return n&&g.attr("style",n),St(t,g),t.intersect=function(y){return pt.polygon(t,p,y)},i}w(Dj,"card");function Oj(e,t){const{nodeStyles:r}=wt(t);t.label="";const n=e.insert("g").attr("class",jt(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],a=yt.svg(n),l=vt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Vt(o),u=a.path(c,l),h=n.insert(()=>u,":first-child");return i&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&h.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return pt.polygon(t,o,f)},n}w(Oj,"choice");async function bb(e,t,r){const{labelStyles:n,nodeStyles:i}=wt(t);t.labelStyle=n;const{shapeSvg:s,bbox:o,halfPadding:a}=await Lt(e,t,jt(t)),l=(r==null?void 0:r.padding)??a,c=o.width/2+l;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=yt.svg(s),p=vt(t,{}),g=f.circle(0,0,c*2,p);u=s.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",wr(h))}else u=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return St(t,u),t.calcIntersect=function(f,p){const g=f.width/2;return pt.circle(f,g,p)},t.intersect=function(f){return Q.info("Circle intersect",t,c,f),pt.circle(t,c,f)},s}w(bb,"circle");function $j(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},o={x:-(n/2)*t,y:-(n/2)*r},a={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${a.x},${a.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}w($j,"createLine");function Nj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",jt(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:o}=t,a=yt.svg(i),l=vt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=a.circle(0,0,s*2,l),u=$j(s),h=a.path(u,l),f=i.insert(()=>c,":first-child");return f.insert(()=>h),o&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),St(t,f),t.intersect=function(p){return Q.info("crossedCircle intersect",t,{radius:s,point:p}),pt.circle(t,s,p)},i}w(Nj,"crossedCircle");function Di(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(Di,"generateCirclePoints");async function Ij(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...Di(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Di(a/2+c*2,-c,c,20,-180,-270),...Di(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Di(a/2,l/2,c,20,0,90)],f=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Di(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Di(a/2+a*.1,-c,c,20,-180,-270),...Di(a/2+a*.1,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Di(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2,y:l/2+c}],p=yt.svg(i),g=vt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Vt(h).replace("Z",""),x=p.path(y,g),b=Vt(f),v=p.path(b,{...g}),C=i.insert("g",":first-child");return C.insert(()=>v,":first-child").attr("stroke-opacity",0),C.insert(()=>x,":first-child"),C.attr("class","text"),u&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-a/2+c-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),St(t,C),t.intersect=function(k){return pt.polygon(t,f,k)},i}w(Ij,"curlyBraceLeft");function Oi(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:p,y:g})}return o}w(Oi,"generateCirclePoints");async function zj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...Oi(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Oi(a/2+c*2,-c,c,20,-180,-270),...Oi(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Oi(a/2,l/2,c,20,0,90)],f=[{x:-a/2,y:-l/2-c},{x:a/2,y:-l/2-c},...Oi(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Oi(a/2+c*2,-c,c,20,-180,-270),...Oi(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Oi(a/2,l/2,c,20,0,90),{x:a/2,y:l/2+c},{x:-a/2,y:l/2+c}],p=yt.svg(i),g=vt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Vt(h).replace("Z",""),x=p.path(y,g),b=Vt(f),v=p.path(b,{...g}),C=i.insert("g",":first-child");return C.insert(()=>v,":first-child").attr("stroke-opacity",0),C.insert(()=>x,":first-child"),C.attr("class","text"),u&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-a/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),St(t,C),t.intersect=function(k){return pt.polygon(t,f,k)},i}w(zj,"curlyBraceRight");function er(e,t,r,n=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(n-1);for(let h=0;h<n;h++){const f=a+h*u,p=e+r*Math.cos(f),g=t+r*Math.sin(f);o.push({x:-p,y:-g})}return o}w(er,"generateCirclePoints");async function Wj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=s.width+(t.padding??0),l=s.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=t,h=[...er(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...er(a/2+c*2,-c,c,20,-180,-270),...er(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...er(a/2,l/2,c,20,0,90)],f=[...er(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...er(-a/2-c/2,-c,c,20,0,90),...er(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...er(-a/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...er(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...er(a/2+c*2,-c,c,20,-180,-270),...er(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...er(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2-c-c/2,y:l/2+c},...er(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...er(-a/2-c/2,-c,c,20,0,90),...er(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...er(-a/2+c+c/2,l/2,c,30,-180,-270)],g=yt.svg(i),m=vt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=Vt(h).replace("Z",""),b=g.path(x,m),C=Vt(f).replace("Z",""),k=g.path(C,m),S=Vt(p),_=g.path(S,{...m}),A=i.insert("g",":first-child");return A.insert(()=>_,":first-child").attr("stroke-opacity",0),A.insert(()=>b,":first-child"),A.insert(()=>k,":first-child"),A.attr("class","text"),u&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",u),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-a/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),St(t,A),t.intersect=function(D){return pt.polygon(t,p,D)},i}w(Wj,"curlyBraces");async function Hj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=80,a=20,l=Math.max(o,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),c=Math.max(a,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/2,{cssStyles:h}=t,f=yt.svg(i),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=l,m=c,y=g-u,x=m/4,b=[{x:y,y:0},{x,y:0},{x:0,y:m/2},{x,y:m},{x:y,y:m},...gu(-y,-m/2,u,50,270,90)],v=Vt(b),C=f.path(v,p),k=i.insert(()=>C,":first-child");return k.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",n),k.attr("transform",`translate(${-l/2}, ${-c/2})`),St(t,k),t.intersect=function(S){return pt.polygon(t,b,S)},i}w(Hj,"curvedTrapezoid");var iW=w((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),sW=w((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),oW=w((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function qj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+t.padding,t.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+t.padding,t.height??0);let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=yt.svg(i),g=sW(0,0,a,u,l,c),m=oW(0,c,a,u,l,c),y=p.path(g,vt(t,{})),x=p.path(m,vt(t,{fill:"none"}));h=i.insert(()=>x,":first-child"),h=i.insert(()=>y,":first-child"),h.attr("class","basic label-container"),f&&h.attr("style",f)}else{const p=iW(0,0,a,u,l,c);h=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",wr(f)).attr("style",n)}return h.attr("label-offset-y",c),h.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),St(t,h),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(p){const g=pt.rect(t,p),m=g.x-(t.x??0);if(l!=0&&(Math.abs(m)<(t.width??0)/2||Math.abs(m)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-c)){let y=c*c*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,p.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},i}w(qj,"cylinder");async function Uj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=s.width+t.padding,l=s.height+t.padding,c=l*.2,u=-a/2,h=-l/2-c/2,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:u,y:h+c},{x:-u,y:h+c},{x:-u,y:-h},{x:u,y:-h},{x:u,y:h},{x:-u,y:h},{x:-u,y:h+c}],y=p.polygon(m.map(b=>[b.x,b.y]),g),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),o.attr("transform",`translate(${u+(t.padding??0)/2-(s.x-(s.left??0))}, ${h+c+(t.padding??0)/2-(s.y-(s.top??0))})`),St(t,x),t.intersect=function(b){return pt.rect(t,b)},i}w(Uj,"dividedRectangle");async function Vj(e,t){var f,p;const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o}=await Lt(e,t,jt(t)),l=s.width/2+o+5,c=s.width/2+o;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const g=yt.svg(i),m=vt(t,{roughness:.2,strokeWidth:2.5}),y=vt(t,{roughness:.2,strokeWidth:1.5}),x=g.circle(0,0,l*2,m),b=g.circle(0,0,c*2,y);u=i.insert("g",":first-child"),u.attr("class",wr(t.cssClasses)).attr("style",wr(h)),(f=u.node())==null||f.appendChild(x),(p=u.node())==null||p.appendChild(b)}else{u=i.insert("g",":first-child");const g=u.insert("circle",":first-child"),m=u.insert("circle");u.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return St(t,u),t.intersect=function(g){return Q.info("DoubleCircle intersect",t,l,g),pt.circle(t,l,g)},i}w(Vj,"doublecircle");function Yj(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=wt(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",jt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:a}=t,l=yt.svg(s),{nodeBorder:c}=r,u=vt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,o*2,u),f=s.insert(()=>h,":first-child");return f.selectAll("path").attr("style",`fill: ${c} !important;`),a&&a.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),St(t,f),t.intersect=function(p){return Q.info("filledCircle intersect",t,{radius:o,point:p}),pt.circle(t,o,p)},s}w(Yj,"filledCircle");async function Gj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=s.width+(t.padding??0),l=a+s.height,c=a+s.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:h}=t,f=yt.svg(i),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=Vt(u),m=f.path(g,p),y=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),t.width=a,t.height=l,St(t,y),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(x){return Q.info("Triangle intersect",t,u,x),pt.polygon(t,u,x)},i}w(Gj,"flippedTriangle");function Xj(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=wt(t);t.label="";const o=e.insert("g").attr("class",jt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t;let l=Math.max(70,(t==null?void 0:t.width)??0),c=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(l=Math.max(10,(t==null?void 0:t.width)??0),c=Math.max(70,(t==null?void 0:t.height)??0));const u=-1*l/2,h=-1*c/2,f=yt.svg(o),p=vt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=f.rectangle(u,h,l,c,p),m=o.insert(()=>g,":first-child");a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),St(t,m);const y=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=y/2||0,t.height+=y/2||0),t.intersect=function(x){return pt.rect(t,x)},o}w(Xj,"forkJoin");async function Qj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:o,bbox:a}=await Lt(e,t,jt(t)),l=Math.max(i,a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s,a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=c/2,{cssStyles:h}=t,f=yt.svg(o),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-l/2,y:-c/2},{x:l/2-u,y:-c/2},...gu(-l/2+u,0,u,50,90,270),{x:l/2-u,y:c/2},{x:-l/2,y:c/2}],m=Vt(g),y=f.path(m,p),x=o.insert(()=>y,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),St(t,x),t.intersect=function(b){return Q.info("Pill intersect",t,{radius:u,point:b}),pt.polygon(t,g,b)},o}w(Qj,"halfRoundedRectangle");async function Kj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.height+(t.padding??0),a=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,c=yt.svg(i),u=vt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=a/2;const f=h/6;h=h+f;const p=o/2,g=p/2,m=h-g,y=[{x:-m,y:-p},{x:0,y:-p},{x:m,y:-p},{x:h,y:0},{x:m,y:p},{x:0,y:p},{x:-m,y:p},{x:-h,y:0}],x=Vt(y),b=c.path(x,u),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=a,t.height=o,St(t,v),t.intersect=function(C){return pt.polygon(t,y,C)},i}w(Kj,"hexagon");async function Jj(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await Lt(e,t,jt(t)),s=Math.max(30,(t==null?void 0:t.width)??0),o=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:a}=t,l=yt.svg(i),c=vt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],h=Vt(u),f=l.path(h,c),p=i.insert(()=>f,":first-child");return p.attr("class","basic label-container"),a&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",a),n&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-s/2}, ${-o/2})`),St(t,p),t.intersect=function(g){return Q.info("Pill intersect",t,{points:u}),pt.polygon(t,u,g)},i}w(Jj,"hourglass");async function Zj(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=wt(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:h}=await Lt(e,t,"icon-shape default"),f=t.pos==="t",p=a,g=a,{nodeBorder:m}=r,{stylesMap:y}=bl(t),x=-g/2,b=-p/2,v=t.label?8:0,C=yt.svg(c),k=vt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const S=C.rectangle(x,b,g,p,k),_=Math.max(g,u.width),A=p+u.height+v,D=C.rectangle(-_/2,-A/2,_,A,{...k,fill:"transparent",stroke:"none"}),F=c.insert(()=>S,":first-child"),O=c.insert(()=>D);if(t.icon){const W=c.append("g");W.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const H=W.node().getBBox(),P=H.width,j=H.height,L=H.x,B=H.y;W.attr("transform",`translate(${-P/2-L},${f?u.height/2+v/2-j/2-B:-u.height/2-v/2-j/2-B})`),W.attr("style",`color: ${y.get("stroke")??m};`)}return h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${f?-A/2:A/2-u.height})`),F.attr("transform",`translate(0,${f?u.height/2+v/2:-u.height/2-v/2})`),St(t,O),t.intersect=function(W){if(Q.info("iconSquare intersect",t,W),!t.label)return pt.rect(t,W);const H=t.x??0,P=t.y??0,j=t.height??0;let L=[];return f?L=[{x:H-u.width/2,y:P-j/2},{x:H+u.width/2,y:P-j/2},{x:H+u.width/2,y:P-j/2+u.height+v},{x:H+g/2,y:P-j/2+u.height+v},{x:H+g/2,y:P+j/2},{x:H-g/2,y:P+j/2},{x:H-g/2,y:P-j/2+u.height+v},{x:H-u.width/2,y:P-j/2+u.height+v}]:L=[{x:H-g/2,y:P-j/2},{x:H+g/2,y:P-j/2},{x:H+g/2,y:P-j/2+p},{x:H+u.width/2,y:P-j/2+p},{x:H+u.width/2/2,y:P+j/2},{x:H-u.width/2,y:P+j/2},{x:H-u.width/2,y:P-j/2+p},{x:H-g/2,y:P-j/2+p}],pt.polygon(t,L,W)},c}w(Zj,"icon");async function tA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=wt(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:h}=await Lt(e,t,"icon-shape default"),f=20,p=t.label?8:0,g=t.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:x}=bl(t),b=yt.svg(c),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const C=x.get("fill");v.stroke=C??y;const k=c.append("g");t.icon&&k.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const S=k.node().getBBox(),_=S.width,A=S.height,D=S.x,F=S.y,O=Math.max(_,A)*Math.SQRT2+f*2,W=b.circle(0,0,O,v),H=Math.max(O,u.width),P=O+u.height+p,j=b.rectangle(-H/2,-P/2,H,P,{...v,fill:"transparent",stroke:"none"}),L=c.insert(()=>W,":first-child"),B=c.insert(()=>j);return k.attr("transform",`translate(${-_/2-D},${g?u.height/2+p/2-A/2-F:-u.height/2-p/2-A/2-F})`),k.attr("style",`color: ${x.get("stroke")??m};`),h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${g?-P/2:P/2-u.height})`),L.attr("transform",`translate(0,${g?u.height/2+p/2:-u.height/2-p/2})`),St(t,B),t.intersect=function(E){return Q.info("iconSquare intersect",t,E),pt.rect(t,E)},c}w(tA,"iconCircle");async function eA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=wt(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:h,label:f}=await Lt(e,t,"icon-shape default"),p=t.pos==="t",g=a+h*2,m=a+h*2,{nodeBorder:y,mainBkg:x}=r,{stylesMap:b}=bl(t),v=-m/2,C=-g/2,k=t.label?8:0,S=yt.svg(c),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const A=b.get("fill");_.stroke=A??x;const D=S.path(Xs(v,C,m,g,5),_),F=Math.max(m,u.width),O=g+u.height+k,W=S.rectangle(-F/2,-O/2,F,O,{..._,fill:"transparent",stroke:"none"}),H=c.insert(()=>D,":first-child").attr("class","icon-shape2"),P=c.insert(()=>W);if(t.icon){const j=c.append("g");j.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const L=j.node().getBBox(),B=L.width,E=L.height,M=L.x,$=L.y;j.attr("transform",`translate(${-B/2-M},${p?u.height/2+k/2-E/2-$:-u.height/2-k/2-E/2-$})`),j.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-O/2:O/2-u.height})`),H.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),St(t,P),t.intersect=function(j){if(Q.info("iconSquare intersect",t,j),!t.label)return pt.rect(t,j);const L=t.x??0,B=t.y??0,E=t.height??0;let M=[];return p?M=[{x:L-u.width/2,y:B-E/2},{x:L+u.width/2,y:B-E/2},{x:L+u.width/2,y:B-E/2+u.height+k},{x:L+m/2,y:B-E/2+u.height+k},{x:L+m/2,y:B+E/2},{x:L-m/2,y:B+E/2},{x:L-m/2,y:B-E/2+u.height+k},{x:L-u.width/2,y:B-E/2+u.height+k}]:M=[{x:L-m/2,y:B-E/2},{x:L+m/2,y:B-E/2},{x:L+m/2,y:B-E/2+g},{x:L+u.width/2,y:B-E/2+g},{x:L+u.width/2/2,y:B+E/2},{x:L-u.width/2,y:B+E/2},{x:L-u.width/2,y:B-E/2+g},{x:L-m/2,y:B-E/2+g}],pt.polygon(t,M,j)},c}w(eA,"iconRounded");async function rA(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=wt(t);t.labelStyle=i;const s=t.assetHeight??48,o=t.assetWidth??48,a=Math.max(s,o),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:h,label:f}=await Lt(e,t,"icon-shape default"),p=t.pos==="t",g=a+h*2,m=a+h*2,{nodeBorder:y,mainBkg:x}=r,{stylesMap:b}=bl(t),v=-m/2,C=-g/2,k=t.label?8:0,S=yt.svg(c),_=vt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const A=b.get("fill");_.stroke=A??x;const D=S.path(Xs(v,C,m,g,.1),_),F=Math.max(m,u.width),O=g+u.height+k,W=S.rectangle(-F/2,-O/2,F,O,{..._,fill:"transparent",stroke:"none"}),H=c.insert(()=>D,":first-child"),P=c.insert(()=>W);if(t.icon){const j=c.append("g");j.html(`<g>${await Uu(t.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const L=j.node().getBBox(),B=L.width,E=L.height,M=L.x,$=L.y;j.attr("transform",`translate(${-B/2-M},${p?u.height/2+k/2-E/2-$:-u.height/2-k/2-E/2-$})`),j.attr("style",`color: ${b.get("stroke")??y};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-O/2:O/2-u.height})`),H.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),St(t,P),t.intersect=function(j){if(Q.info("iconSquare intersect",t,j),!t.label)return pt.rect(t,j);const L=t.x??0,B=t.y??0,E=t.height??0;let M=[];return p?M=[{x:L-u.width/2,y:B-E/2},{x:L+u.width/2,y:B-E/2},{x:L+u.width/2,y:B-E/2+u.height+k},{x:L+m/2,y:B-E/2+u.height+k},{x:L+m/2,y:B+E/2},{x:L-m/2,y:B+E/2},{x:L-m/2,y:B-E/2+u.height+k},{x:L-u.width/2,y:B-E/2+u.height+k}]:M=[{x:L-m/2,y:B-E/2},{x:L+m/2,y:B-E/2},{x:L+m/2,y:B-E/2+g},{x:L+u.width/2,y:B-E/2+g},{x:L+u.width/2/2,y:B+E/2},{x:L-u.width/2,y:B+E/2},{x:L-u.width/2,y:B-E/2+g},{x:L-m/2,y:B-E/2+g}],pt.polygon(t,M,j)},c}w(rA,"iconSquare");async function nA(e,t,{config:{flowchart:r}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:o}=wt(t);t.labelStyle=o;const a=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(t.label?a??0:0,(t==null?void 0:t.assetWidth)??i),c=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:l,u=t.constraint==="on"?c/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(c,a??0);const{shapeSvg:h,bbox:f,label:p}=await Lt(e,t,"image-shape default"),g=t.pos==="t",m=-c/2,y=-u/2,x=t.label?8:0,b=yt.svg(h),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const C=b.rectangle(m,y,c,u,v),k=Math.max(c,f.width),S=u+f.height+x,_=b.rectangle(-k/2,-S/2,k,S,{...v,fill:"none",stroke:"none"}),A=h.insert(()=>C,":first-child"),D=h.insert(()=>_);if(t.img){const F=h.append("image");F.attr("href",t.img),F.attr("width",c),F.attr("height",u),F.attr("preserveAspectRatio","none"),F.attr("transform",`translate(${-c/2},${g?S/2-u:-S/2})`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-u/2-f.height/2-x/2:u/2-f.height/2+x/2})`),A.attr("transform",`translate(0,${g?f.height/2+x/2:-f.height/2-x/2})`),St(t,D),t.intersect=function(F){if(Q.info("iconSquare intersect",t,F),!t.label)return pt.rect(t,F);const O=t.x??0,W=t.y??0,H=t.height??0;let P=[];return g?P=[{x:O-f.width/2,y:W-H/2},{x:O+f.width/2,y:W-H/2},{x:O+f.width/2,y:W-H/2+f.height+x},{x:O+c/2,y:W-H/2+f.height+x},{x:O+c/2,y:W+H/2},{x:O-c/2,y:W+H/2},{x:O-c/2,y:W-H/2+f.height+x},{x:O-f.width/2,y:W-H/2+f.height+x}]:P=[{x:O-c/2,y:W-H/2},{x:O+c/2,y:W-H/2},{x:O+c/2,y:W-H/2+u},{x:O+f.width/2,y:W-H/2+u},{x:O+f.width/2/2,y:W+H/2},{x:O-f.width/2,y:W+H/2},{x:O-f.width/2,y:W-H/2+u},{x:O-c/2,y:W-H/2+u}],pt.polygon(t,P,F)},h}w(nA,"imageSquare");async function iA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:-3*a/6,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=yt.svg(i),f=vt(t,{}),p=Vt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Qs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,St(t,c),t.intersect=function(h){return pt.polygon(t,l,h)},i}w(iA,"inv_trapezoid");async function Mp(e,t,r){const{labelStyles:n,nodeStyles:i}=wt(t);t.labelStyle=n;const{shapeSvg:s,bbox:o}=await Lt(e,t,jt(t)),a=Math.max(o.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),l=Math.max(o.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),c=-a/2,u=-l/2;let h,{rx:f,ry:p}=t;const{cssStyles:g}=t;if(r!=null&&r.rx&&r.ry&&(f=r.rx,p=r.ry),t.look==="handDrawn"){const m=yt.svg(s),y=vt(t,{}),x=f||p?m.path(Xs(c,u,a,l,f||0),y):m.rectangle(c,u,a,l,y);h=s.insert(()=>x,":first-child"),h.attr("class","basic label-container").attr("style",wr(g))}else h=s.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",i).attr("rx",wr(f)).attr("ry",wr(p)).attr("x",c).attr("y",u).attr("width",a).attr("height",l);return St(t,h),t.calcIntersect=function(m,y){return pt.rect(m,y)},t.intersect=function(m){return pt.rect(t,m)},s}w(Mp,"drawRect");async function sA(e,t){const{shapeSvg:r,bbox:n,label:i}=await Lt(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),St(t,s),t.intersect=function(l){return pt.rect(t,l)},r}w(sA,"labelRect");async function oA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:-(3*a)/6,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=yt.svg(i),f=vt(t,{}),p=Vt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Qs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,St(t,c),t.intersect=function(h){return pt.polygon(t,l,h)},i}w(oA,"lean_left");async function aA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:-3*a/6,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=yt.svg(i),f=vt(t,{}),p=Vt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Qs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,St(t,c),t.intersect=function(h){return pt.polygon(t,l,h)},i}w(aA,"lean_right");function lA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",jt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,o=Math.max(35,(t==null?void 0:t.width)??0),a=Math.max(35,(t==null?void 0:t.height)??0),l=7,c=[{x:o,y:0},{x:0,y:a+l/2},{x:o-2*l,y:a+l/2},{x:0,y:2*a},{x:o,y:a-l/2},{x:2*l,y:a-l/2}],u=yt.svg(i),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=Vt(c),p=u.path(f,h),g=i.insert(()=>p,":first-child");return s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),g.attr("transform",`translate(-${o/2},${-a})`),St(t,g),t.intersect=function(m){return Q.info("lightningBolt intersect",t,m),pt.polygon(t,c,m)},i}w(lA,"lightningBolt");var aW=w((e,t,r,n,i,s,o)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+o}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),lW=w((e,t,r,n,i,s,o)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+o}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),cW=w((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function cA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0),t.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+(t.padding??0),t.height??0),h=u*.1;let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=yt.svg(i),m=lW(0,0,a,u,l,c,h),y=cW(0,c,a,u,l,c),x=vt(t,{}),b=g.path(m,x),v=g.path(y,x);i.insert(()=>v,":first-child").attr("class","line"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const g=aW(0,0,a,u,l,c,h);f=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",wr(p)).attr("style",n)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),St(t,f),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),t.intersect=function(g){const m=pt.rect(t,g),y=m.x-(t.x??0);if(l!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-c)){let x=c*c*(1-y*y/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,g.y-(t.y??0)>0&&(x=-x),m.y+=x}return m},i}w(cA,"linedCylinder");async function uA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=l+c,{cssStyles:h}=t,f=yt.svg(i),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-a/2-a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:u/2},...Is(-a/2-a/2*.1,u/2,a/2+a/2*.1,u/2,c,.8),{x:a/2+a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:-u/2},{x:-a/2,y:-u/2},{x:-a/2,y:u/2*1.1},{x:-a/2,y:-u/2}],m=f.polygon(g.map(x=>[x.x,x.y]),p),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",n),y.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)+a/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),St(t,y),t.intersect=function(x){return pt.polygon(t,g,x)},i}w(uA,"linedWaveEdgedRect");async function dA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,u=-a/2,h=-l/2,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{}),m=[{x:u-c,y:h+c},{x:u-c,y:h+l+c},{x:u+a-c,y:h+l+c},{x:u+a-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h+l-c},{x:u+a+c,y:h+l-c},{x:u+a+c,y:h-c},{x:u+c,y:h-c},{x:u+c,y:h},{x:u,y:h},{x:u,y:h+c}],y=[{x:u,y:h+c},{x:u+a-c,y:h+c},{x:u+a-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h},{x:u,y:h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=Vt(m),b=p.path(x,g),v=Vt(y),C=p.path(v,{...g,fill:"none"}),k=i.insert(()=>C,":first-child");return k.insert(()=>b,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),St(t,k),t.intersect=function(S){return pt.polygon(t,m,S)},i}w(dA,"multiRect");async function hA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=l+c,h=-a/2,f=-u/2,p=5,{cssStyles:g}=t,m=Is(h-p,f+u+p,h+a-p,f+u+p,c,.8),y=m==null?void 0:m[m.length-1],x=[{x:h-p,y:f+p},{x:h-p,y:f+u+p},...m,{x:h+a-p,y:y.y-p},{x:h+a,y:y.y-p},{x:h+a,y:y.y-2*p},{x:h+a+p,y:y.y-2*p},{x:h+a+p,y:f-p},{x:h+p,y:f-p},{x:h+p,y:f},{x:h,y:f},{x:h,y:f+p}],b=[{x:h,y:f+p},{x:h+a-p,y:f+p},{x:h+a-p,y:y.y-p},{x:h+a,y:y.y-p},{x:h+a,y:f},{x:h,y:f}],v=yt.svg(i),C=vt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const k=Vt(x),S=v.path(k,C),_=Vt(b),A=v.path(_,C),D=i.insert(()=>S,":first-child");return D.insert(()=>A),D.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),D.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-c/2-(s.y-(s.top??0))})`),St(t,D),t.intersect=function(F){return pt.polygon(t,x,F)},i}w(hA,"multiWaveEdgedRectangle");async function fA(e,t,{config:{themeVariables:r}}){var b;const{labelStyles:n,nodeStyles:i}=wt(t);t.labelStyle=n,t.useHtmlLabels||((b=br().flowchart)==null?void 0:b.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:a,label:l}=await Lt(e,t,jt(t)),c=Math.max(a.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(a.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-c/2,f=-u/2,{cssStyles:p}=t,g=yt.svg(o),m=vt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(h,f,c,u,m),x=o.insert(()=>y,":first-child");return x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),St(t,x),t.intersect=function(v){return pt.rect(t,v)},o}w(fA,"note");var uW=w((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function pA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.width+t.padding,a=s.height+t.padding,l=o+a,c=.5,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=yt.svg(i),g=vt(t,{}),m=uW(0,0,l),y=p.path(m,g);h=i.insert(()=>y,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),f&&h.attr("style",f)}else h=Qs(i,l,l,u),h.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&h.attr("style",n),St(t,h),t.calcIntersect=function(p,g){const m=p.width,y=[{x:m/2,y:0},{x:m,y:-m/2},{x:m/2,y:-m},{x:0,y:-m/2}],x=pt.polygon(p,y,g);return{x:x.x-.5,y:x.y-.5}},t.intersect=function(p){return this.calcIntersect(t,p)},i}w(pA,"question");async function gA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),c=-a/2,u=-l/2,h=u/2,f=[{x:c+h,y:u},{x:c,y:0},{x:c+h,y:-u},{x:-c,y:-u},{x:-c,y:u}],{cssStyles:p}=t,g=yt.svg(i),m=vt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=Vt(f),x=g.path(y,m),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${-h/2},0)`),o.attr("transform",`translate(${-h/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),St(t,b),t.intersect=function(v){return pt.polygon(t,f,v)},i}w(gA,"rect_left_inv_arrow");async function mA(e,t){var A,D;const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=s.insert("g"),a=s.insert("g").attr("class","label").attr("style",n),l=t.description,c=t.label,u=a.node().appendChild(await wo(c,t.labelStyle,!0,!0));let h={width:0,height:0};if(Ue((D=(A=ee())==null?void 0:A.flowchart)==null?void 0:D.htmlLabels)){const F=u.children[0],O=Qt(u);h=F.getBoundingClientRect(),O.attr("width",h.width),O.attr("height",h.height)}Q.info("Text 2",l);const f=l||[],p=u.getBBox(),g=a.node().appendChild(await wo(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),m=g.children[0],y=Qt(g);h=m.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height);const x=(t.padding||0)/2;Qt(g).attr("transform","translate( "+(h.width>p.width?0:(p.width-h.width)/2)+", "+(p.height+x+5)+")"),Qt(u).attr("transform","translate( "+(h.width<p.width?0:-(p.width-h.width)/2)+", 0)"),h=a.node().getBBox(),a.attr("transform","translate("+-h.width/2+", "+(-h.height/2-x+3)+")");const b=h.width+(t.padding||0),v=h.height+(t.padding||0),C=-h.width/2-x,k=-h.height/2-x;let S,_;if(t.look==="handDrawn"){const F=yt.svg(s),O=vt(t,{}),W=F.path(Xs(C,k,b,v,t.rx||0),O),H=F.line(-h.width/2-x,-h.height/2-x+p.height+x,h.width/2+x,-h.height/2-x+p.height+x,O);_=s.insert(()=>(Q.debug("Rough node insert CXC",W),H),":first-child"),S=s.insert(()=>(Q.debug("Rough node insert CXC",W),W),":first-child")}else S=o.insert("rect",":first-child"),_=o.insert("line"),S.attr("class","outer title-state").attr("style",n).attr("x",-h.width/2-x).attr("y",-h.height/2-x).attr("width",h.width+(t.padding||0)).attr("height",h.height+(t.padding||0)),_.attr("class","divider").attr("x1",-h.width/2-x).attr("x2",h.width/2+x).attr("y1",-h.height/2-x+p.height+x).attr("y2",-h.height/2-x+p.height+x);return St(t,S),t.intersect=function(F){return pt.rect(t,F)},s}w(mA,"rectWithTitle");function dc(e,t,r,n,i,s,o){const l=(e+r)/2,c=(t+n)/2,u=Math.atan2(n-t,r-e),h=(r-e)/2,f=(n-t)/2,p=h/i,g=f/s,m=Math.sqrt(p**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),x=l+y*s*Math.sin(u)*(o?-1:1),b=c-y*i*Math.cos(u)*(o?-1:1),v=Math.atan2((t-b)/s,(e-x)/i);let k=Math.atan2((n-b)/s,(r-x)/i)-v;o&&k<0&&(k+=2*Math.PI),!o&&k>0&&(k-=2*Math.PI);const S=[];for(let _=0;_<20;_++){const A=_/19,D=v+A*k,F=x+i*Math.cos(D),O=b+s*Math.sin(D);S.push({x:F,y:O})}return S}w(dc,"generateArcPoints");async function xA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=(t==null?void 0:t.padding)??0,a=(t==null?void 0:t.padding)??0,l=(t!=null&&t.width?t==null?void 0:t.width:s.width)+o*2,c=(t!=null&&t.height?t==null?void 0:t.height:s.height)+a*2,u=t.radius||5,h=t.taper||5,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{});t.stroke&&(g.stroke=t.stroke),t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-l/2+h,y:-c/2},{x:l/2-h,y:-c/2},...dc(l/2-h,-c/2,l/2,-c/2+h,u,u,!0),{x:l/2,y:-c/2+h},{x:l/2,y:c/2-h},...dc(l/2,c/2-h,l/2-h,c/2,u,u,!0),{x:l/2-h,y:c/2},{x:-l/2+h,y:c/2},...dc(-l/2+h,c/2,-l/2,c/2-h,u,u,!0),{x:-l/2,y:c/2-h},{x:-l/2,y:-c/2+h},...dc(-l/2,-c/2+h,-l/2+h,-c/2,u,u,!0)],y=Vt(m),x=p.path(y,g),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container outer-path"),f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),St(t,b),t.intersect=function(v){return pt.polygon(t,m,v)},i}w(xA,"roundedRect");async function yA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=(t==null?void 0:t.padding)??0,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-s.width/2-a,h=-s.height/2-a,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:u,y:h},{x:u+l+8,y:h},{x:u+l+8,y:h+c},{x:u-8,y:h+c},{x:u-8,y:h},{x:u,y:h},{x:u,y:h+c}],y=p.polygon(m.map(b=>[b.x,b.y]),g),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container").attr("style",wr(f)),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),o.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-c/2+(t.padding??0)-(s.y-(s.top??0))})`),St(t,x),t.intersect=function(b){return pt.rect(t,b)},i}w(yA,"shadedProcess");async function bA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=-a/2,u=-l/2,{cssStyles:h}=t,f=yt.svg(i),p=vt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:c,y:u},{x:c,y:u+l},{x:c+a,y:u+l},{x:c+a,y:u-l/2}],m=Vt(g),y=f.path(m,p),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),St(t,x),t.intersect=function(b){return pt.polygon(t,g,b)},i}w(bA,"slopedRect");async function vA(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Mp(e,t,r)}w(vA,"squareRect");async function wA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.height+t.padding,a=s.width+o/4+t.padding,l=o/2,{cssStyles:c}=t,u=yt.svg(i),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:-a/2+l,y:-o/2},{x:a/2-l,y:-o/2},...gu(-a/2+l,0,l,50,90,270),{x:a/2-l,y:o/2},...gu(a/2-l,0,l,50,270,450)],p=Vt(f),g=u.path(p,h),m=i.insert(()=>g,":first-child");return m.attr("class","basic label-container outer-path"),c&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",n),St(t,m),t.intersect=function(y){return pt.polygon(t,f,y)},i}w(wA,"stadium");async function kA(e,t){return Mp(e,t,{rx:5,ry:5})}w(kA,"state");function SA(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=wt(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:o,stateBorder:a,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),u=yt.svg(c),h=vt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=u.circle(0,0,14,{...h,stroke:o,strokeWidth:2}),p=a??l,g=u.circle(0,0,5,{...h,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=c.insert(()=>f,":first-child");return m.insert(()=>g),s&&m.selectAll("path").attr("style",s),i&&m.selectAll("path").attr("style",i),St(t,m),t.intersect=function(y){return pt.circle(t,7,y)},c}w(SA,"stateEnd");function _A(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const a=yt.svg(i).circle(0,0,14,_6(n));s=i.insert(()=>a),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return St(t,s),t.intersect=function(o){return pt.circle(t,7,o)},i}w(_A,"stateStart");async function CA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=((t==null?void 0:t.padding)||0)/2,a=s.width+t.padding,l=s.height+t.padding,c=-s.width/2-o,u=-s.height/2-o,h=[{x:0,y:0},{x:a,y:0},{x:a,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const f=yt.svg(i),p=vt(t,{}),g=f.rectangle(c-8,u,a+16,l,p),m=f.line(c,u,c,u+l,p),y=f.line(c+a,u,c+a,u+l,p);i.insert(()=>m,":first-child"),i.insert(()=>y,":first-child");const x=i.insert(()=>g,":first-child"),{cssStyles:b}=t;x.attr("class","basic label-container").attr("style",wr(b)),St(t,x)}else{const f=Qs(i,a,l,h);n&&f.attr("style",n),St(t,f)}return t.intersect=function(f){return pt.polygon(t,h,f)},i}w(CA,"subroutine");async function TA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),a=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=-o/2,c=-a/2,u=.2*a,h=.2*a,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{}),m=[{x:l-u/2,y:c},{x:l+o+u/2,y:c},{x:l+o+u/2,y:c+a},{x:l-u/2,y:c+a}],y=[{x:l+o-u/2,y:c+a},{x:l+o+u/2,y:c+a},{x:l+o+u/2,y:c+a-h}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=Vt(m),b=p.path(x,g),v=Vt(y),C=p.path(v,{...g,fillStyle:"solid"}),k=i.insert(()=>C,":first-child");return k.insert(()=>b,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),St(t,k),t.intersect=function(S){return pt.polygon(t,m,S)},i}w(TA,"taggedRect");async function EA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,u=.2*a,h=.2*l,f=l+c,{cssStyles:p}=t,g=yt.svg(i),m=vt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-a/2-a/2*.1,y:f/2},...Is(-a/2-a/2*.1,f/2,a/2+a/2*.1,f/2,c,.8),{x:a/2+a/2*.1,y:-f/2},{x:-a/2-a/2*.1,y:-f/2}],x=-a/2+a/2*.1,b=-f/2-h*.4,v=[{x:x+a-u,y:(b+l)*1.4},{x:x+a,y:b+l-h},{x:x+a,y:(b+l)*.9},...Is(x+a,(b+l)*1.3,x+a-u,(b+l)*1.5,-l*.03,.5)],C=Vt(y),k=g.path(C,m),S=Vt(v),_=g.path(S,{...m,fillStyle:"solid"}),A=i.insert(()=>_,":first-child");return A.insert(()=>k,":first-child"),A.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),A.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c/2-(s.y-(s.top??0))})`),St(t,A),t.intersect=function(D){return pt.polygon(t,y,D)},i}w(EA,"taggedWaveEdgedRectangle");async function jA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),a=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),l=-o/2,c=-a/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",a),St(t,u),t.intersect=function(h){return pt.rect(t,h)},i}w(jA,"text");var dW=w((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),hW=w((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),fW=w((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function AA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o,halfPadding:a}=await Lt(e,t,jt(t)),l=t.look==="neo"?a*2:a,c=s.height+l,u=c/2,h=u/(2.5+c/50),f=s.width+h+l,{cssStyles:p}=t;let g;if(t.look==="handDrawn"){const m=yt.svg(i),y=hW(0,0,f,c,h,u),x=fW(0,0,f,c,h,u),b=m.path(y,vt(t,{})),v=m.path(x,vt(t,{fill:"none"}));g=i.insert(()=>v,":first-child"),g=i.insert(()=>b,":first-child"),g.attr("class","basic label-container"),p&&g.attr("style",p)}else{const m=dW(0,0,f,c,h,u);g=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",wr(p)).attr("style",n),g.attr("class","basic label-container"),p&&g.selectAll("path").attr("style",p),n&&g.selectAll("path").attr("style",n)}return g.attr("label-offset-x",h),g.attr("transform",`translate(${-f/2}, ${c/2} )`),o.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),St(t,g),t.intersect=function(m){const y=pt.rect(t,m),x=y.y-(t.y??0);if(u!=0&&(Math.abs(x)<(t.height??0)/2||Math.abs(x)==(t.height??0)/2&&Math.abs(y.x-(t.x??0))>(t.width??0)/2-h)){let b=h*h*(1-x*x/(u*u));b!=0&&(b=Math.sqrt(Math.abs(b))),b=h-b,m.x-(t.x??0)>0&&(b=-b),y.x+=b}return y},i}w(AA,"tiltedCylinder");async function LA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=s.width+t.padding,a=s.height+t.padding,l=[{x:-3*a/6,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=t;if(t.look==="handDrawn"){const h=yt.svg(i),f=vt(t,{}),p=Vt(l),g=h.path(p,f);c=i.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Qs(i,o,a,l);return n&&c.attr("style",n),t.width=o,t.height=a,St(t,c),t.intersect=function(h){return pt.polygon(t,l,h)},i}w(LA,"trapezoid");async function MA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=60,a=20,l=Math.max(o,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(a,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:u}=t,h=yt.svg(i),f=vt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],g=Vt(p),m=h.path(g,f),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),St(t,y),t.intersect=function(x){return pt.polygon(t,p,x)},i}w(MA,"trapezoidalPentagon");async function RA(e,t){var b;const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Ue((b=ee().flowchart)==null?void 0:b.htmlLabels),l=s.width+(t.padding??0),c=l+s.height,u=l+s.height,h=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Vt(h),y=p.path(m,g),x=i.insert(()=>y,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return f&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=l,t.height=c,St(t,x),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(t.padding??0)/(a?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(v){return Q.info("Triangle intersect",t,h,v),pt.polygon(t,h,v)},i}w(RA,"triangle");async function BA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/8,u=l+c,{cssStyles:h}=t,p=70-a,g=p>0?p/2:0,m=yt.svg(i),y=vt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-a/2-g,y:u/2},...Is(-a/2-g,u/2,a/2+g,u/2,c,.8),{x:a/2+g,y:-u/2},{x:-a/2-g,y:-u/2}],b=Vt(x),v=m.path(b,y),C=i.insert(()=>v,":first-child");return C.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-c-(s.y-(s.top??0))})`),St(t,C),t.intersect=function(k){return pt.polygon(t,x,k)},i}w(BA,"waveEdgedRectangle");async function PA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await Lt(e,t,jt(t)),o=100,a=50,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/c;let h=l,f=c;h>f*u?f=h/u:h=f*u,h=Math.max(h,o),f=Math.max(f,a);const p=Math.min(f*.2,f/4),g=f+p*2,{cssStyles:m}=t,y=yt.svg(i),x=vt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-h/2,y:g/2},...Is(-h/2,g/2,h/2,g/2,p,1),{x:h/2,y:-g/2},...Is(h/2,-g/2,-h/2,-g/2,p,-1)],v=Vt(b),C=y.path(v,x),k=i.insert(()=>C,":first-child");return k.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),St(t,k),t.intersect=function(S){return pt.polygon(t,b,S)},i}w(PA,"waveRectangle");async function FA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:o}=await Lt(e,t,jt(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,u=-a/2,h=-l/2,{cssStyles:f}=t,p=yt.svg(i),g=vt(t,{}),m=[{x:u-c,y:h-c},{x:u-c,y:h+l},{x:u+a,y:h+l},{x:u+a,y:h-c}],y=`M${u-c},${h-c} L${u+a},${h-c} L${u+a},${h+l} L${u-c},${h+l} L${u-c},${h-c}
                M${u-c},${h} L${u+a},${h}
                M${u},${h-c} L${u},${h+l}`;t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=p.path(y,g),b=i.insert(()=>x,":first-child");return b.attr("transform",`translate(${c/2}, ${c/2})`),b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),o.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),St(t,b),t.intersect=function(v){return pt.polygon(t,m,v)},i}w(FA,"windowPane");async function vb(e,t){var q,nt,ut,ft;const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:V}=br(),{background:tt}=V,lt={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${tt}`]};await vb(e,lt)}const n=br();t.useHtmlLabels=n.htmlLabels;let i=((q=n.er)==null?void 0:q.diagramPadding)??10,s=((nt=n.er)==null?void 0:nt.entityPadding)??6;const{cssStyles:o}=t,{labelStyles:a,nodeStyles:l}=wt(t);if(r.attributes.length===0&&t.label){const V={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};rs(t.label,n)+V.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const tt=await Mp(e,t,V);if(!Ue(n.htmlLabels)){const lt=tt.select("text"),bt=(ut=lt.node())==null?void 0:ut.getBBox();lt.attr("transform",`translate(${-bt.width/2}, 0)`)}return tt}n.htmlLabels||(i*=1.25,s*=1.25);let c=jt(t);c||(c="node default");const u=e.insert("g").attr("class",c).attr("id",t.domId||t.id),h=await pa(u,t.label??"",n,0,0,["name"],a);h.height+=s;let f=0;const p=[],g=[];let m=0,y=0,x=0,b=0,v=!0,C=!0;for(const V of r.attributes){const tt=await pa(u,V.type,n,0,f,["attribute-type"],a);m=Math.max(m,tt.width+i);const lt=await pa(u,V.name,n,0,f,["attribute-name"],a);y=Math.max(y,lt.width+i);const bt=await pa(u,V.keys.join(),n,0,f,["attribute-keys"],a);x=Math.max(x,bt.width+i);const kt=await pa(u,V.comment,n,0,f,["attribute-comment"],a);b=Math.max(b,kt.width+i);const At=Math.max(tt.height,lt.height,bt.height,kt.height)+s;g.push({yOffset:f,rowHeight:At}),f+=At}let k=4;x<=i&&(v=!1,x=0,k--),b<=i&&(C=!1,b=0,k--);const S=u.node().getBBox();if(h.width+i*2-(m+y+x+b)>0){const V=h.width+i*2-(m+y+x+b);m+=V/k,y+=V/k,x>0&&(x+=V/k),b>0&&(b+=V/k)}const _=m+y+x+b,A=yt.svg(u),D=vt(t,{});t.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");let F=0;g.length>0&&(F=g.reduce((V,tt)=>V+((tt==null?void 0:tt.rowHeight)??0),0));const O=Math.max(S.width+i*2,(t==null?void 0:t.width)||0,_),W=Math.max((F??0)+h.height,(t==null?void 0:t.height)||0),H=-O/2,P=-W/2;u.selectAll("g:not(:first-child)").each((V,tt,lt)=>{const bt=Qt(lt[tt]),kt=bt.attr("transform");let At=0,rt=0;if(kt){const Bt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(kt);Bt&&(At=parseFloat(Bt[1]),rt=parseFloat(Bt[2]),bt.attr("class").includes("attribute-name")?At+=m:bt.attr("class").includes("attribute-keys")?At+=m+y:bt.attr("class").includes("attribute-comment")&&(At+=m+y+x))}bt.attr("transform",`translate(${H+i/2+At}, ${rt+P+h.height+s/2})`)}),u.select(".name").attr("transform","translate("+-h.width/2+", "+(P+s/2)+")");const j=A.rectangle(H,P,O,W,D),L=u.insert(()=>j,":first-child").attr("style",o.join("")),{themeVariables:B}=br(),{rowEven:E,rowOdd:M,nodeBorder:$}=B;p.push(0);for(const[V,tt]of g.entries()){const bt=(V+1)%2===0&&tt.yOffset!==0,kt=A.rectangle(H,h.height+P+(tt==null?void 0:tt.yOffset),O,tt==null?void 0:tt.rowHeight,{...D,fill:bt?E:M,stroke:$});u.insert(()=>kt,"g.label").attr("style",o.join("")).attr("class",`row-rect-${bt?"even":"odd"}`)}let z=A.line(H,h.height+P,O+H,h.height+P,D);u.insert(()=>z).attr("class","divider"),z=A.line(m+H,h.height+P,m+H,W+P,D),u.insert(()=>z).attr("class","divider"),v&&(z=A.line(m+y+H,h.height+P,m+y+H,W+P,D),u.insert(()=>z).attr("class","divider")),C&&(z=A.line(m+y+x+H,h.height+P,m+y+x+H,W+P,D),u.insert(()=>z).attr("class","divider"));for(const V of p)z=A.line(H,h.height+P+V,O+H,h.height+P+V,D),u.insert(()=>z).attr("class","divider");if(St(t,L),l&&t.look!=="handDrawn"){const V=l.split(";"),tt=(ft=V==null?void 0:V.filter(lt=>lt.includes("stroke")))==null?void 0:ft.map(lt=>`${lt}`).join("; ");u.selectAll("path").attr("style",tt??""),u.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(V){return pt.rect(t,V)},u}w(vb,"erBox");async function pa(e,t,r,n=0,i=0,s=[],o=""){const a=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",o);t!==$v(t)&&(t=$v(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=a.node().appendChild(await Gs(a,t,{width:rs(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let u=l.children[0];for(u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");u.childNodes[0];)u=u.childNodes[0],u.textContent=u.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Ue(r.htmlLabels)){const u=l.children[0];u.style.textAlign="start";const h=Qt(l);c=u.getBoundingClientRect(),h.attr("width",c.width),h.attr("height",c.height)}return c}w(pa,"addText");async function DA(e,t,r,n,i=r.class.padding??12){const s=n?0:3,o=e.insert("g").attr("class",jt(t)).attr("id",t.domId||t.id);let a=null,l=null,c=null,u=null,h=0,f=0,p=0;if(a=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const b=t.annotations[0];await hc(a,{text:`${b}`},0),h=a.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await hc(l,t,0,["font-weight: bolder"]);const g=l.node().getBBox();f=g.height,c=o.insert("g").attr("class","members-group text");let m=0;for(const b of t.members){const v=await hc(c,b,m,[b.parseClassifier()]);m+=v+s}p=c.node().getBBox().height,p<=0&&(p=i/2),u=o.insert("g").attr("class","methods-group text");let y=0;for(const b of t.methods){const v=await hc(u,b,y,[b.parseClassifier()]);y+=v+s}let x=o.node().getBBox();if(a!==null){const b=a.node().getBBox();a.attr("transform",`translate(${-b.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${h})`),x=o.node().getBBox(),c.attr("transform",`translate(0, ${h+f+i*2})`),x=o.node().getBBox(),u.attr("transform",`translate(0, ${h+f+(p?p+i*4:i*2)})`),x=o.node().getBBox(),{shapeSvg:o,bbox:x}}w(DA,"textHelper");async function hc(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=br();let o="useHtmlLabels"in t?t.useHtmlLabels:Ue(s.htmlLabels)??!0,a="";"text"in t?a=t.text:a=t.label,!o&&a.startsWith("\\")&&(a=a.substring(1)),nl(a)&&(o=!0);const l=await Gs(i,Ay(Jo(a)),{width:rs(a,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let c,u=1;if(o){const h=l.children[0],f=Qt(l);u=h.innerHTML.split("<br>").length,h.innerHTML.includes("</math>")&&(u+=h.innerHTML.split("<mrow>").length-1);const p=h.getElementsByTagName("img");if(p){const g=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(m=>new Promise(y=>{function x(){var b;if(m.style.display="flex",m.style.flexDirection="column",g){const v=((b=s.fontSize)==null?void 0:b.toString())??window.getComputedStyle(document.body).fontSize,k=parseInt(v,10)*5+"px";m.style.minWidth=k,m.style.maxWidth=k}else m.style.width="100%";y(m)}w(x,"setupImage"),setTimeout(()=>{m.complete&&x()}),m.addEventListener("error",x),m.addEventListener("load",x)})))}c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}else{n.includes("font-weight: bolder")&&Qt(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const h=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(h.textContent=a[0]+a.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),a[1]===" "&&(h.textContent=h.textContent[0]+" "+h.textContent.substring(1))),h.textContent==="undefined"&&(h.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+r)+")"),c.height}w(hc,"addText");async function OA(e,t){var D,F;const r=ee(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??Ue(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:a,bbox:l}=await DA(e,t,r,s,i),{labelStyles:c,nodeStyles:u}=wt(t);t.labelStyle=c,t.cssStyles=o.styles||"";const h=((D=o.styles)==null?void 0:D.join(";"))||u||"";t.cssStyles||(t.cssStyles=h.replaceAll("!important","").split(";"));const f=o.members.length===0&&o.methods.length===0&&!((F=r.class)!=null&&F.hideEmptyMembersBox),p=yt.svg(a),g=vt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=l.width;let y=l.height;o.members.length===0&&o.methods.length===0?y+=i:o.members.length>0&&o.methods.length===0&&(y+=i*2);const x=-m/2,b=-y/2,v=p.rectangle(x-n,b-n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0),m+2*n,y+2*n+(f?n*2:o.members.length===0&&o.methods.length===0?-n:0),g),C=a.insert(()=>v,":first-child");C.attr("class","basic label-container");const k=C.node().getBBox();a.selectAll(".text").each((O,W,H)=>{var M;const P=Qt(H[W]),j=P.attr("transform");let L=0;if(j){const z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(j);z&&(L=parseFloat(z[2]))}let B=L+b+n-(f?n:o.members.length===0&&o.methods.length===0?-n/2:0);s||(B-=4);let E=x;(P.attr("class").includes("label-group")||P.attr("class").includes("annotation-group"))&&(E=-((M=P.node())==null?void 0:M.getBBox().width)/2||0,a.selectAll("text").each(function($,z,q){window.getComputedStyle(q[z]).textAnchor==="middle"&&(E=0)})),P.attr("transform",`translate(${E}, ${B})`)});const S=a.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,_=a.select(".label-group").node().getBBox().height-(f?n/2:0)||0,A=a.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(o.members.length>0||o.methods.length>0||f){const O=p.line(k.x,S+_+b+n,k.x+k.width,S+_+b+n,g);a.insert(()=>O).attr("class","divider").attr("style",h)}if(f||o.members.length>0||o.methods.length>0){const O=p.line(k.x,S+_+A+b+i*2+n,k.x+k.width,S+_+A+b+n+i*2,g);a.insert(()=>O).attr("class","divider").attr("style",h)}if(o.look!=="handDrawn"&&a.selectAll("path").attr("style",h),C.select(":nth-child(2)").attr("style",h),a.selectAll(".divider").select("path").attr("style",h),t.labelStyle?a.selectAll("span").attr("style",t.labelStyle):a.selectAll("span").attr("style",h),!s){const O=RegExp(/color\s*:\s*([^;]*)/),W=O.exec(h);if(W){const H=W[0].replace("color","fill");a.selectAll("tspan").attr("style",H)}else if(c){const H=O.exec(c);if(H){const P=H[0].replace("color","fill");a.selectAll("tspan").attr("style",P)}}}return St(t,C),t.intersect=function(O){return pt.rect(t,O)},a}w(OA,"classBox");async function $A(e,t){var S,_;const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const i=t,s=t,o=20,a=20,l="verifyMethod"in t,c=jt(t),u=e.insert("g").attr("class",c).attr("id",t.domId??t.id);let h;l?h=await hi(u,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):h=await hi(u,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=h;const p=await hi(u,i.name,f,t.labelStyle+"; font-weight: bold;");if(f+=p+a,l){const A=await hi(u,`${i.requirementId?`ID: ${i.requirementId}`:""}`,f,t.labelStyle);f+=A;const D=await hi(u,`${i.text?`Text: ${i.text}`:""}`,f,t.labelStyle);f+=D;const F=await hi(u,`${i.risk?`Risk: ${i.risk}`:""}`,f,t.labelStyle);f+=F,await hi(u,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,t.labelStyle)}else{const A=await hi(u,`${s.type?`Type: ${s.type}`:""}`,f,t.labelStyle);f+=A,await hi(u,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,f,t.labelStyle)}const g=(((S=u.node())==null?void 0:S.getBBox().width)??200)+o,m=(((_=u.node())==null?void 0:_.getBBox().height)??200)+o,y=-g/2,x=-m/2,b=yt.svg(u),v=vt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const C=b.rectangle(y,x,g,m,v),k=u.insert(()=>C,":first-child");if(k.attr("class","basic label-container").attr("style",n),u.selectAll(".label").each((A,D,F)=>{const O=Qt(F[D]),W=O.attr("transform");let H=0,P=0;if(W){const E=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(W);E&&(H=parseFloat(E[1]),P=parseFloat(E[2]))}const j=P-m/2;let L=y+o/2;(D===0||D===1)&&(L=H),O.attr("transform",`translate(${L}, ${j+o})`)}),f>h+p+a){const A=b.line(y,x+h+p+a,y+g,x+h+p+a,v);u.insert(()=>A).attr("style",n)}return St(t,k),t.intersect=function(A){return pt.rect(t,A)},u}w($A,"requirementBox");async function hi(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=ee(),o=s.htmlLabels??!0,a=await Gs(i,Ay(Jo(t)),{width:rs(t,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:n},s);let l;if(o){const c=a.children[0],u=Qt(a);l=c.getBoundingClientRect(),u.attr("width",l.width),u.attr("height",l.height)}else{const c=a.children[0];for(const u of c.children)u.textContent=u.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&u.setAttribute("style",n);l=a.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}w(hi,"addText");var pW=w(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function NA(e,t,{config:r}){var W,H;const{labelStyles:n,nodeStyles:i}=wt(t);t.labelStyle=n||"";const s=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:a,bbox:l,label:c}=await Lt(e,t,jt(t)),u=t.padding||10;let h="",f;"ticket"in t&&t.ticket&&((W=r==null?void 0:r.kanban)!=null&&W.ticketBaseUrl)&&(h=(H=r==null?void 0:r.kanban)==null?void 0:H.ticketBaseUrl.replace("#TICKET#",t.ticket),f=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",h).attr("target","_blank"));const p={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,m;f?{label:g,bbox:m}=await Vg(f,"ticket"in t&&t.ticket||"",p):{label:g,bbox:m}=await Vg(a,"ticket"in t&&t.ticket||"",p);const{label:y,bbox:x}=await Vg(a,"assigned"in t&&t.assigned||"",p);t.width=o;const b=10,v=(t==null?void 0:t.width)||0,C=Math.max(m.height,x.height)/2,k=Math.max(l.height+b*2,(t==null?void 0:t.height)||0)+C,S=-v/2,_=-k/2;c.attr("transform","translate("+(u-v/2)+", "+(-C-l.height/2)+")"),g.attr("transform","translate("+(u-v/2)+", "+(-C+l.height/2)+")"),y.attr("transform","translate("+(u+v/2-x.width-2*s)+", "+(-C+l.height/2)+")");let A;const{rx:D,ry:F}=t,{cssStyles:O}=t;if(t.look==="handDrawn"){const P=yt.svg(a),j=vt(t,{}),L=D||F?P.path(Xs(S,_,v,k,D||0),j):P.rectangle(S,_,v,k,j);A=a.insert(()=>L,":first-child"),A.attr("class","basic label-container").attr("style",O||null)}else{A=a.insert("rect",":first-child"),A.attr("class","basic label-container __APA__").attr("style",i).attr("rx",D??5).attr("ry",F??5).attr("x",S).attr("y",_).attr("width",v).attr("height",k);const P="priority"in t&&t.priority;if(P){const j=a.append("line"),L=S+2,B=_+Math.floor((D??0)/2),E=_+k-Math.floor((D??0)/2);j.attr("x1",L).attr("y1",B).attr("x2",L).attr("y2",E).attr("stroke-width","4").attr("stroke",pW(P))}}return St(t,A),t.height=k,t.intersect=function(P){return pt.rect(t,P)},a}w(NA,"kanbanItem");async function IA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Lt(e,t,jt(t)),l=s.width+10*o,c=s.height+8*o,u=.15*l,{cssStyles:h}=t,f=s.width+20,p=s.height+20,g=Math.max(l,f),m=Math.max(c,p);a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let y;const x=`M0 0 
    a${u},${u} 1 0,0 ${g*.25},${-1*m*.1}
    a${u},${u} 1 0,0 ${g*.25},0
    a${u},${u} 1 0,0 ${g*.25},0
    a${u},${u} 1 0,0 ${g*.25},${m*.1}

    a${u},${u} 1 0,0 ${g*.15},${m*.33}
    a${u*.8},${u*.8} 1 0,0 0,${m*.34}
    a${u},${u} 1 0,0 ${-1*g*.15},${m*.33}

    a${u},${u} 1 0,0 ${-1*g*.25},${m*.15}
    a${u},${u} 1 0,0 ${-1*g*.25},0
    a${u},${u} 1 0,0 ${-1*g*.25},0
    a${u},${u} 1 0,0 ${-1*g*.25},${-1*m*.15}

    a${u},${u} 1 0,0 ${-1*g*.1},${-1*m*.33}
    a${u*.8},${u*.8} 1 0,0 0,${-1*m*.34}
    a${u},${u} 1 0,0 ${g*.1},${-1*m*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const b=yt.svg(i),v=vt(t,{}),C=b.path(x,v);y=i.insert(()=>C,":first-child"),y.attr("class","basic label-container").attr("style",wr(h))}else y=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",x);return y.attr("transform",`translate(${-g/2}, ${-m/2})`),St(t,y),t.calcIntersect=function(b,v){return pt.rect(b,v)},t.intersect=function(b){return Q.info("Bang intersect",t,b),pt.rect(t,b)},i}w(IA,"bang");async function zA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Lt(e,t,jt(t)),l=s.width+2*o,c=s.height+2*o,u=.15*l,h=.25*l,f=.35*l,p=.2*l,{cssStyles:g}=t;let m;const y=`M0 0 
    a${u},${u} 0 0,1 ${l*.25},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.4},${-1*l*.1}
    a${h},${h} 1 0,1 ${l*.35},${l*.2}

    a${u},${u} 1 0,1 ${l*.15},${c*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${c*.65}

    a${h},${u} 1 0,1 ${-1*l*.25},${l*.15}
    a${f},${f} 1 0,1 ${-1*l*.5},0
    a${u},${u} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${u},${u} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const x=yt.svg(i),b=vt(t,{}),v=x.path(y,b);m=i.insert(()=>v,":first-child"),m.attr("class","basic label-container").attr("style",wr(g))}else m=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",y);return a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),m.attr("transform",`translate(${-l/2}, ${-c/2})`),St(t,m),t.calcIntersect=function(x,b){return pt.rect(x,b)},t.intersect=function(x){return Q.info("Cloud intersect",t,x),pt.rect(t,x)},i}w(zA,"cloud");async function WA(e,t){const{labelStyles:r,nodeStyles:n}=wt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:o,label:a}=await Lt(e,t,jt(t)),l=s.width+8*o,c=s.height+2*o,u=5,h=`
    M${-l/2} ${c/2-u}
    v${-c+2*u}
    q0,-${u} ${u},-${u}
    h${l-2*u}
    q${u},0 ${u},${u}
    v${c-2*u}
    q0,${u} -${u},${u}
    h${-l+2*u}
    q-${u},0 -${u},-${u}
    Z
  `,f=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",h);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),a.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>a.node()),St(t,f),t.calcIntersect=function(p,g){return pt.rect(p,g)},t.intersect=function(p){return pt.rect(t,p)},i}w(WA,"defaultMindmapNode");async function HA(e,t){const r={padding:t.padding??0};return bb(e,t,r)}w(HA,"mindmapCircle");var gW=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:vA},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:xA},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:wA},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:CA},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:qj},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:bb},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:IA},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:zA},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:pA},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Kj},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:aA},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:oA},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:LA},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:iA},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Vj},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:jA},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Dj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:yA},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:_A},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:SA},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Xj},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Jj},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Ij},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:zj},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Wj},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lA},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:BA},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Qj},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:AA},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:cA},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Hj},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Uj},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:RA},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:FA},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Yj},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:MA},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Gj},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:bA},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:hA},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:dA},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Fj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Nj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:EA},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:TA},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:PA},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:gA},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:uA}],mW=w(()=>{const t=[...Object.entries({state:kA,choice:Oj,note:fA,rectWithTitle:mA,labelRect:sA,iconSquare:rA,iconCircle:tA,icon:Zj,iconRounded:eA,imageSquare:nA,anchor:Pj,kanbanItem:NA,mindmapCircle:HA,defaultMindmapNode:WA,classBox:OA,erBox:vb,requirementBox:$A}),...gW.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),qA=mW();function xW(e){return e in qA}w(xW,"isValidShape");var Rp=new Map;async function UA(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?qA[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),Rp.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}w(UA,"insertNode");var gJ=w((e,t)=>{Rp.set(t.id,e)},"setNodeElem"),mJ=w(()=>{Rp.clear()},"clear"),xJ=w(e=>{const t=Rp.get(e.id);Q.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),yW=w((e,t,r,n,i,s)=>{t.arrowTypeStart&&Vw(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&Vw(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),bW={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Vw=w((e,t,r,n,i,s,o)=>{var h;const a=bW[r];if(!a){Q.warn(`Unknown arrow type: ${r}`);return}const l=a.type,u=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const f=o.replace(/[^\dA-Za-z]/g,"_"),p=`${u}_${f}`;if(!document.getElementById(p)){const g=document.getElementById(u);if(g){const m=g.cloneNode(!0);m.id=p,m.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",o),a.fill&&x.setAttribute("fill",o)}),(h=g.parentNode)==null||h.appendChild(m)}}e.attr(`marker-${t}`,`url(${n}#${p})`)}else e.attr(`marker-${t}`,`url(${n}#${u})`)},"addEdgeMarker"),Lf=new Map,nr=new Map,yJ=w(()=>{Lf.clear(),nr.clear()},"clear"),Ed=w(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),vW=w(async(e,t)=>{let r=Ue(ee().flowchart.htmlLabels);const{labelStyles:n}=wt(t);t.labelStyle=n;const i=await Gs(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});Q.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(i);let a=i.getBBox();if(r){const c=i.children[0],u=Qt(i);a=c.getBoundingClientRect(),u.attr("width",a.width),u.attr("height",a.height)}o.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),Lf.set(t.id,s),t.width=a.width,t.height=a.height;let l;if(t.startLabelLeft){const c=await wo(t.startLabelLeft,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),nr.get(t.id)||nr.set(t.id,{}),nr.get(t.id).startLeft=u,fc(l,t.startLabelLeft)}if(t.startLabelRight){const c=await wo(t.startLabelRight,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=u.node().appendChild(c),h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),nr.get(t.id)||nr.set(t.id,{}),nr.get(t.id).startRight=u,fc(l,t.startLabelRight)}if(t.endLabelLeft){const c=await wo(t.endLabelLeft,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(c),nr.get(t.id)||nr.set(t.id,{}),nr.get(t.id).endLeft=u,fc(l,t.endLabelLeft)}if(t.endLabelRight){const c=await wo(t.endLabelRight,Ed(t.labelStyle)),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");l=h.node().appendChild(c);const f=c.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(c),nr.get(t.id)||nr.set(t.id,{}),nr.get(t.id).endRight=u,fc(l,t.endLabelRight)}return i},"insertEdgeLabel");function fc(e,t){ee().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}w(fc,"setTerminalWidth");var wW=w((e,t)=>{Q.debug("Moving label abc88 ",e.id,e.label,Lf.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=ee(),{subGraphTitleTotalMargin:i}=Xy(n);if(e.label){const s=Lf.get(e.id);let o=e.x,a=e.y;if(r){const l=Gn.calcLabelPosition(r);Q.debug("Moving label "+e.label+" from (",o,",",a,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(o=l.x,a=l.y)}s.attr("transform",`translate(${o}, ${a+i/2})`)}if(e.startLabelLeft){const s=nr.get(e.id).startLeft;let o=e.x,a=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.startLabelRight){const s=nr.get(e.id).startRight;let o=e.x,a=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.endLabelLeft){const s=nr.get(e.id).endLeft;let o=e.x,a=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(e.endLabelRight){const s=nr.get(e.id).endRight;let o=e.x,a=e.y;if(r){const l=Gn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}},"positionEdgeLabel"),kW=w((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),o=e.width/2,a=e.height/2;return i>=o||s>=a},"outsideNode"),SW=w((e,t,r)=>{Q.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),o=e.width/2;let a=r.x<t.x?o-s:o+s;const l=e.height/2,c=Math.abs(t.y-r.y),u=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*l){let h=r.y<t.y?t.y-l-i:i-l-t.y;a=u*h/c;const f={x:r.x<t.x?r.x+a:r.x-u+a,y:r.y<t.y?r.y+c-h:r.y-c+h};return a===0&&(f.x=t.x,f.y=t.y),u===0&&(f.x=t.x),c===0&&(f.y=t.y),Q.debug(`abc89 top/bottom calc, Q ${c}, q ${h}, R ${u}, r ${a}`,f),f}else{r.x<t.x?a=t.x-o-n:a=n-o-t.x;let h=c*a/u,f=r.x<t.x?r.x+u-a:r.x-u+a,p=r.y<t.y?r.y+h:r.y-h;return Q.debug(`sides calc abc89, Q ${c}, q ${h}, R ${u}, r ${a}`,{_x:f,_y:p}),a===0&&(f=t.x,p=t.y),u===0&&(f=t.x),c===0&&(p=t.y),{x:f,y:p}}},"intersection"),Yw=w((e,t)=>{Q.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(Q.info("abc88 checking point",s,t),!kW(t,s)&&!i){const o=SW(t,n,s);Q.debug("abc88 inside",s,n,o),Q.debug("abc88 intersection",o,t);let a=!1;r.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),r.some(l=>l.x===o.x&&l.y===o.y)?Q.warn("abc88 no intersect",o,r):r.push(o),i=!0}else Q.warn("abc88 outside",s,n),n=s,i||r.push(s)}),Q.debug("returning points",r),r},"cutPathAtIntersect");function VA(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],o=e[n+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}w(VA,"extractCornerPoints");var Gw=w(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),o=r/s;return{x:t.x-o*n,y:t.y-o*i}},"findAdjacentPoint"),_W=w(function(e){const{cornerPointPositions:t}=VA(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],o=e[n],a=Gw(i,o,5),l=Gw(s,o,5),c=l.x-a.x,u=l.y-a.y;r.push(a);const h=Math.sqrt(2)*2;let f={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){Q.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const p=5;o.x===a.x?f={x:c<0?a.x-p+h:a.x+p-h,y:u<0?a.y-h:a.y+h}:f={x:c<0?a.x-h:a.x+h,y:u<0?a.y-p+h:a.y+p-h}}else Q.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(f,l)}else r.push(e[n]);return r},"fixCorners"),CW=w((e,t,r)=>{const n=e-t-r,i=2,s=2,o=i+s,a=Math.floor(n/o),l=Array(a).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),TW=w(function(e,t,r,n,i,s,o,a=!1){var P;const{handDrawnSeed:l}=ee();let c=t.points,u=!1;const h=i;var f=s;const p=[];for(const j in t.cssCompiledStyles)k5(j)||p.push(t.cssCompiledStyles[j]);Q.debug("UIO intersect check",t.points,f.x,h.x),f.intersect&&h.intersect&&!a&&(c=c.slice(1,t.points.length-1),c.unshift(h.intersect(c[0])),Q.debug("Last point UIO",t.start,"-->",t.end,c[c.length-1],f,f.intersect(c[c.length-1])),c.push(f.intersect(c[c.length-1])));const g=btoa(JSON.stringify(c));t.toCluster&&(Q.info("to cluster abc88",r.get(t.toCluster)),c=Yw(t.points,r.get(t.toCluster).node),u=!0),t.fromCluster&&(Q.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(c,null,2)),c=Yw(c.reverse(),r.get(t.fromCluster).node).reverse(),u=!0);let m=c.filter(j=>!Number.isNaN(j.y));m=_W(m);let y=uh;switch(y=af,t.curve){case"linear":y=af;break;case"basis":y=uh;break;case"cardinal":y=TT;break;case"bumpX":y=wT;break;case"bumpY":y=kT;break;case"catmullRom":y=jT;break;case"monotoneX":y=PT;break;case"monotoneY":y=FT;break;case"natural":y=OT;break;case"step":y=$T;break;case"stepAfter":y=IT;break;case"stepBefore":y=NT;break;default:y=uh}const{x,y:b}=S6(t),v=o4().x(x).y(b).curve(y);let C;switch(t.thickness){case"normal":C="edge-thickness-normal";break;case"thick":C="edge-thickness-thick";break;case"invisible":C="edge-thickness-invisible";break;default:C="edge-thickness-normal"}switch(t.pattern){case"solid":C+=" edge-pattern-solid";break;case"dotted":C+=" edge-pattern-dotted";break;case"dashed":C+=" edge-pattern-dashed";break;default:C+=" edge-pattern-solid"}let k,S=t.curve==="rounded"?YA(GA(m,t),5):v(m);const _=Array.isArray(t.style)?t.style:[t.style];let A=_.find(j=>j==null?void 0:j.startsWith("stroke:")),D=!1;if(t.look==="handDrawn"){const j=yt.svg(e);Object.assign([],m);const L=j.path(S,{roughness:.3,seed:l});C+=" transition",k=Qt(L).select("path").attr("id",t.id).attr("class"," "+C+(t.classes?" "+t.classes:"")).attr("style",_?_.reduce((E,M)=>E+";"+M,""):"");let B=k.attr("d");k.attr("d",B),e.node().appendChild(k.node())}else{const j=p.join(";"),L=_?_.reduce((nt,ut)=>nt+ut+";",""):"";let B="";t.animate&&(B=" edge-animation-fast"),t.animation&&(B=" edge-animation-"+t.animation);const E=(j?j+";"+L+";":L)+";"+(_?_.reduce((nt,ut)=>nt+";"+ut,""):"");k=e.append("path").attr("d",S).attr("id",t.id).attr("class"," "+C+(t.classes?" "+t.classes:"")+(B??"")).attr("style",E),A=(P=E.match(/stroke:([^;]+)/))==null?void 0:P[1],D=t.animate===!0||!!t.animation||j.includes("animation");const M=k.node(),$=typeof M.getTotalLength=="function"?M.getTotalLength():0,z=dw[t.arrowTypeStart]||0,q=dw[t.arrowTypeEnd]||0;if(t.look==="neo"&&!D){const ut=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?CW($,z,q):`0 ${z} ${$-z-q} ${q}`}; stroke-dashoffset: 0;`;k.attr("style",ut+k.attr("style"))}}k.attr("data-edge",!0),k.attr("data-et","edge"),k.attr("data-id",t.id),k.attr("data-points",g),t.showPoints&&m.forEach(j=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",j.x).attr("cy",j.y)});let F="";(ee().flowchart.arrowMarkerAbsolute||ee().state.arrowMarkerAbsolute)&&(F=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,F=F.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Q.info("arrowTypeStart",t.arrowTypeStart),Q.info("arrowTypeEnd",t.arrowTypeEnd),yW(k,t,F,o,n,A);const O=Math.floor(c.length/2),W=c[O];Gn.isLabelCoordinateInPath(W,k.attr("d"))||(u=!0);let H={};return u&&(H.updatedPath=c),H.originalPath=t.points,H},"insertEdge");function YA(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const o=e[s],a=e[s-1],l=e[s+1];if(s===0)r+=`M${o.x},${o.y}`;else if(s===n-1)r+=`L${o.x},${o.y}`;else{const c=o.x-a.x,u=o.y-a.y,h=l.x-o.x,f=l.y-o.y,p=Math.hypot(c,u),g=Math.hypot(h,f);if(p<i||g<i){r+=`L${o.x},${o.y}`;continue}const m=c/p,y=u/p,x=h/g,b=f/g,v=m*x+y*b,C=Math.max(-1,Math.min(1,v)),k=Math.acos(C);if(k<i||Math.abs(Math.PI-k)<i){r+=`L${o.x},${o.y}`;continue}const S=Math.min(t/Math.sin(k/2),p/2,g/2),_=o.x-m*S,A=o.y-y*S,D=o.x+x*S,F=o.y+b*S;r+=`L${_},${A}`,r+=`Q${o.x},${o.y} ${D},${F}`}}return r}w(YA,"generateRoundedPath");function Z0(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}w(Z0,"calculateDeltaAndAngle");function GA(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&fr[t.arrowTypeStart]){const i=fr[t.arrowTypeStart],s=e[0],o=e[1],{angle:a}=Z0(s,o),l=i*Math.cos(a),c=i*Math.sin(a);r[0].x=s.x+l,r[0].y=s.y+c}const n=e.length;if(n>=2&&fr[t.arrowTypeEnd]){const i=fr[t.arrowTypeEnd],s=e[n-1],o=e[n-2],{angle:a}=Z0(o,s),l=i*Math.cos(a),c=i*Math.sin(a);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}w(GA,"applyMarkerOffsetsToPoints");var EW=w((e,t,r,n)=>{t.forEach(i=>{HW[i](e,r,n)})},"insertMarkers"),jW=w((e,t,r)=>{Q.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),AW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),LW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),MW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),RW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),BW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),PW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),FW=w((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),DW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),OW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),$W=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),NW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),IW=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),zW=w((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),WW=w((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),HW={extension:jW,composition:AW,aggregation:LW,dependency:MW,lollipop:RW,point:BW,circle:PW,cross:FW,barb:DW,only_one:OW,zero_or_one:$W,one_or_more:NW,zero_or_more:IW,requirement_arrow:zW,requirement_contains:WW},qW=EW,UW={common:yl,getConfig:br,insertCluster:Z7,insertEdge:TW,insertEdgeLabel:vW,insertMarkers:qW,insertNode:UA,interpolateToCurve:eb,labelHelper:Lt,log:Q,positionEdgeLabel:wW},mu={},XA=w(e=>{for(const t of e)mu[t.name]=t},"registerLayoutLoaders"),VW=w(()=>{XA([{name:"dagre",loader:w(async()=>await ne(()=>import("./dagre-6UL2VRFP-BrsFhNln.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:w(async()=>await ne(()=>import("./cose-bilkent-S5V4N54A-CTZGszNM.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");VW();var bJ=w(async(e,t)=>{if(!(e.layoutAlgorithm in mu))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=mu[e.layoutAlgorithm];return(await r.loader()).render(e,t,UW,{algorithm:r.algorithm})},"render"),vJ=w((e="",{fallback:t="dagre"}={})=>{if(e in mu)return e;if(t in mu)return Q.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),QA="comm",KA="rule",JA="decl",YW="@import",GW="@namespace",XW="@keyframes",QW="@layer",ZA=Math.abs,wb=String.fromCharCode;function tL(e){return e.trim()}function gh(e,t,r){return e.replace(t,r)}function KW(e,t,r){return e.indexOf(t,r)}function Oa(e,t){return e.charCodeAt(t)|0}function ll(e,t,r){return e.slice(t,r)}function mi(e){return e.length}function JW(e){return e.length}function jd(e,t){return t.push(e),e}var Bp=1,cl=1,eL=0,Bn=0,Pe=0,Sl="";function kb(e,t,r,n,i,s,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Bp,column:cl,length:o,return:"",siblings:a}}function ZW(){return Pe}function tH(){return Pe=Bn>0?Oa(Sl,--Bn):0,cl--,Pe===10&&(cl=1,Bp--),Pe}function Zn(){return Pe=Bn<eL?Oa(Sl,Bn++):0,cl++,Pe===10&&(cl=1,Bp++),Pe}function vs(){return Oa(Sl,Bn)}function mh(){return Bn}function Pp(e,t){return ll(Sl,e,t)}function xu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eH(e){return Bp=cl=1,eL=mi(Sl=e),Bn=0,[]}function rH(e){return Sl="",e}function Yg(e){return tL(Pp(Bn-1,tx(e===91?e+2:e===40?e+1:e)))}function nH(e){for(;(Pe=vs())&&Pe<33;)Zn();return xu(e)>2||xu(Pe)>3?"":" "}function iH(e,t){for(;--t&&Zn()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return Pp(e,mh()+(t<6&&vs()==32&&Zn()==32))}function tx(e){for(;Zn();)switch(Pe){case e:return Bn;case 34:case 39:e!==34&&e!==39&&tx(Pe);break;case 40:e===41&&tx(e);break;case 92:Zn();break}return Bn}function sH(e,t){for(;Zn()&&e+Pe!==57;)if(e+Pe===84&&vs()===47)break;return"/*"+Pp(t,Bn-1)+"*"+wb(e===47?e:Zn())}function oH(e){for(;!xu(vs());)Zn();return Pp(e,Bn)}function aH(e){return rH(xh("",null,null,null,[""],e=eH(e),0,[0],e))}function xh(e,t,r,n,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,g=0,m=1,y=1,x=1,b=0,v="",C=i,k=s,S=n,_=v;y;)switch(g=b,b=Zn()){case 40:if(g!=108&&Oa(_,h-1)==58){KW(_+=gh(Yg(b),"&","&\f"),"&\f",ZA(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:_+=Yg(b);break;case 9:case 10:case 13:case 32:_+=nH(g);break;case 92:_+=iH(mh()-1,7);continue;case 47:switch(vs()){case 42:case 47:jd(lH(sH(Zn(),mh()),t,r,l),l),(xu(g||1)==5||xu(vs()||1)==5)&&mi(_)&&ll(_,-1,void 0)!==" "&&(_+=" ");break;default:_+="/"}break;case 123*m:a[c++]=mi(_)*x;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+u:x==-1&&(_=gh(_,/\f/g,"")),p>0&&(mi(_)-h||m===0&&g===47)&&jd(p>32?Qw(_+";",n,r,h-1,l):Qw(gh(_," ","")+";",n,r,h-2,l),l);break;case 59:_+=";";default:if(jd(S=Xw(_,t,r,c,u,i,a,v,C=[],k=[],h,s),s),b===123)if(u===0)xh(_,t,S,S,C,s,h,a,k);else{switch(f){case 99:if(Oa(_,3)===110)break;case 108:if(Oa(_,2)===97)break;default:u=0;case 100:case 109:case 115:}u?xh(e,S,S,n&&jd(Xw(e,S,S,0,0,i,a,v,i,C=[],h,k),k),i,k,h,a,n?C:k):xh(_,S,S,S,[""],k,0,a,k)}}c=u=p=0,m=x=1,v=_="",h=o;break;case 58:h=1+mi(_),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&tH()==125)continue}switch(_+=wb(b),b*m){case 38:x=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(mi(_)-1)*x,x=1;break;case 64:vs()===45&&(_+=Yg(Zn())),f=vs(),u=h=mi(v=_+=oH(mh())),b++;break;case 45:g===45&&mi(_)==2&&(m=0)}}return s}function Xw(e,t,r,n,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],g=JW(p),m=0,y=0,x=0;m<n;++m)for(var b=0,v=ll(e,f+1,f=ZA(y=o[m])),C=e;b<g;++b)(C=tL(y>0?p[b]+" "+v:gh(v,/&\f/g,p[b])))&&(l[x++]=C);return kb(e,t,r,i===0?KA:a,l,c,u,h)}function lH(e,t,r,n){return kb(e,t,r,QA,wb(ZW()),ll(e,2,-2),0,n)}function Qw(e,t,r,n,i){return kb(e,t,r,JA,ll(e,0,n),ll(e,n+1,-1),n,i)}function ex(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function cH(e,t,r,n){switch(e.type){case QW:if(e.children.length)break;case YW:case GW:case JA:return e.return=e.return||e.value;case QA:return"";case XW:return e.return=e.value+"{"+ex(e.children,n)+"}";case KA:if(!mi(e.value=e.props.join(",")))return""}return mi(r=ex(e.children,n))?e.return=e.value+"{"+r+"}":""}var uH=E5(Object.keys,Object),dH=Object.prototype,hH=dH.hasOwnProperty;function fH(e){if(!Sp(e))return uH(e);var t=[];for(var r in Object(e))hH.call(e,r)&&r!="constructor"&&t.push(r);return t}var rx=Ko(Ci,"DataView"),nx=Ko(Ci,"Promise"),ix=Ko(Ci,"Set"),sx=Ko(Ci,"WeakMap"),Kw="[object Map]",pH="[object Object]",Jw="[object Promise]",Zw="[object Set]",tk="[object WeakMap]",ek="[object DataView]",gH=Qo(rx),mH=Qo(pu),xH=Qo(nx),yH=Qo(ix),bH=Qo(sx),co=vl;(rx&&co(new rx(new ArrayBuffer(1)))!=ek||pu&&co(new pu)!=Kw||nx&&co(nx.resolve())!=Jw||ix&&co(new ix)!=Zw||sx&&co(new sx)!=tk)&&(co=function(e){var t=vl(e),r=t==pH?e.constructor:void 0,n=r?Qo(r):"";if(n)switch(n){case gH:return ek;case mH:return Kw;case xH:return Jw;case yH:return Zw;case bH:return tk}return t});var vH="[object Map]",wH="[object Set]",kH=Object.prototype,SH=kH.hasOwnProperty;function rk(e){if(e==null)return!0;if(_p(e)&&(vf(e)||typeof e=="string"||typeof e.splice=="function"||Zy(e)||tb(e)||bf(e)))return!e.length;var t=co(e);if(t==vH||t==wH)return!e.size;if(Sp(e))return!fH(e).length;for(var r in e)if(SH.call(e,r))return!1;return!0}var rL="c4",_H=w(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),CH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-CAyAx6K8.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:rL,diagram:e}},"loader"),TH={id:rL,detector:_H,loader:CH},EH=TH,nL="flowchart",jH=w((e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),AH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BAa5CUrE.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:nL,diagram:e}},"loader"),LH={id:nL,detector:jH,loader:AH},MH=LH,iL="flowchart-v2",RH=w((e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),BH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BAa5CUrE.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:iL,diagram:e}},"loader"),PH={id:iL,detector:RH,loader:BH},FH=PH,sL="er",DH=w(e=>/^\s*erDiagram/.test(e),"detector"),OH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-XBw3ur8p.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:sL,diagram:e}},"loader"),$H={id:sL,detector:DH,loader:OH},NH=$H,oL="gitGraph",IH=w(e=>/^\s*gitGraph/.test(e),"detector"),zH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-Blf_m2Q1.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:oL,diagram:e}},"loader"),WH={id:oL,detector:IH,loader:zH},HH=WH,aL="gantt",qH=w(e=>/^\s*gantt/.test(e),"detector"),UH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./ganttDiagram-LVOFAZNH-DvVBFjjQ.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:aL,diagram:e}},"loader"),VH={id:aL,detector:qH,loader:UH},YH=VH,lL="info",GH=w(e=>/^\s*info/.test(e),"detector"),XH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./infoDiagram-ER5ION4S-BDy8K1hh.js");return{diagram:t}},__vite__mapDeps([24,19,2,4,5]));return{id:lL,diagram:e}},"loader"),QH={id:lL,detector:GH,loader:XH},cL="pie",KH=w(e=>/^\s*pie/.test(e),"detector"),JH=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-5OkGLeRA.js");return{diagram:t}},__vite__mapDeps([25,17,19,2,4,5,26,27,22]));return{id:cL,diagram:e}},"loader"),ZH={id:cL,detector:KH,loader:JH},uL="quadrantChart",tq=w(e=>/^\s*quadrantChart/.test(e),"detector"),eq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-CJ1COolN.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:uL,diagram:e}},"loader"),rq={id:uL,detector:tq,loader:eq},nq=rq,dL="xychart",iq=w(e=>/^\s*xychart(-beta)?/.test(e),"detector"),sq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-QaFvLEJY.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:dL,diagram:e}},"loader"),oq={id:dL,detector:iq,loader:sq},aq=oq,hL="requirement",lq=w(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),cq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-CKljbFeU.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:hL,diagram:e}},"loader"),uq={id:hL,detector:lq,loader:cq},dq=uq,fL="sequence",hq=w(e=>/^\s*sequenceDiagram/.test(e),"detector"),fq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CfEe3W5c.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:fL,diagram:e}},"loader"),pq={id:fL,detector:hq,loader:fq},gq=pq,pL="class",mq=w((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),xq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-BXtMe3kp.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:pL,diagram:e}},"loader"),yq={id:pL,detector:mq,loader:xq},bq=yq,gL="classDiagram",vq=w((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),wq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-BXtMe3kp.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:gL,diagram:e}},"loader"),kq={id:gL,detector:vq,loader:wq},Sq=kq,mL="state",_q=w((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),Cq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-DdAGlqlR.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:mL,diagram:e}},"loader"),Tq={id:mL,detector:_q,loader:Cq},Eq=Tq,xL="stateDiagram",jq=w((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),Aq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-6rrQfHSq.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:xL,diagram:e}},"loader"),Lq={id:xL,detector:jq,loader:Aq},Mq=Lq,yL="journey",Rq=w(e=>/^\s*journey/.test(e),"detector"),Bq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-omZ61Gyl.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:yL,diagram:e}},"loader"),Pq={id:yL,detector:Rq,loader:Bq},Fq=Pq,Dq=w((e,t,r)=>{Q.debug(`rendering svg for syntax error
`);const n=g4(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),qC(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),bL={draw:Dq},Oq=bL,$q={db:{},renderer:bL,parser:{parse:w(()=>{},"parse")}},Nq=$q,vL="flowchart-elk",Iq=w((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),zq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-BAa5CUrE.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:vL,diagram:e}},"loader"),Wq={id:vL,detector:Iq,loader:zq},Hq=Wq,wL="timeline",qq=w(e=>/^\s*timeline/.test(e),"detector"),Uq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-DZFxAeZD.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:wL,diagram:e}},"loader"),Vq={id:wL,detector:qq,loader:Uq},Yq=Vq,kL="mindmap",Gq=w(e=>/^\s*mindmap/.test(e),"detector"),Xq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-BIIf5Rg3.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:kL,diagram:e}},"loader"),Qq={id:kL,detector:Gq,loader:Xq},Kq=Qq,SL="kanban",Jq=w(e=>/^\s*kanban/.test(e),"detector"),Zq=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-nJl-JFk9.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:SL,diagram:e}},"loader"),tU={id:SL,detector:Jq,loader:Zq},eU=tU,_L="sankey",rU=w(e=>/^\s*sankey(-beta)?/.test(e),"detector"),nU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-BeJSp8lb.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:_L,diagram:e}},"loader"),iU={id:_L,detector:rU,loader:nU},sU=iU,CL="packet",oU=w(e=>/^\s*packet(-beta)?/.test(e),"detector"),aU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-CNpJfYRW.js");return{diagram:t}},__vite__mapDeps([43,17,19,2,4,5]));return{id:CL,diagram:e}},"loader"),lU={id:CL,detector:oU,loader:aU},TL="radar",cU=w(e=>/^\s*radar-beta/.test(e),"detector"),uU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-BR5d5YRx.js");return{diagram:t}},__vite__mapDeps([44,17,19,2,4,5]));return{id:TL,diagram:e}},"loader"),dU={id:TL,detector:cU,loader:uU},EL="block",hU=w(e=>/^\s*block(-beta)?/.test(e),"detector"),fU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-CloXi7Se.js");return{diagram:t}},__vite__mapDeps([45,11,5,2,1,14]));return{id:EL,diagram:e}},"loader"),pU={id:EL,detector:hU,loader:fU},gU=pU,jL="architecture",mU=w(e=>/^\s*architecture/.test(e),"detector"),xU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-B2OPgv8P.js");return{diagram:t}},__vite__mapDeps([46,17,19,2,4,5,7]));return{id:jL,diagram:e}},"loader"),yU={id:jL,detector:mU,loader:xU},bU=yU,AL="treemap",vU=w(e=>/^\s*treemap/.test(e),"detector"),wU=w(async()=>{const{diagram:e}=await ne(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-CqMZDEBl.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,2,4,5,23,27,22]));return{id:AL,diagram:e}},"loader"),kU={id:AL,detector:vU,loader:wU},nk=!1,Fp=w(()=>{nk||(nk=!0,Zh("error",Nq,e=>e.toLowerCase().trim()==="error"),Zh("---",{db:{clear:w(()=>{},"clear")},styles:{},renderer:{draw:w(()=>{},"draw")},parser:{parse:w(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:w(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),h0(Hq,Kq,bU),h0(EH,eU,Sq,bq,NH,YH,QH,ZH,dq,gq,FH,MH,Yq,HH,Mq,Eq,Fq,nq,sU,lU,aq,gU,dU,kU))},"addDiagrams"),SU=w(async()=>{Q.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Oo).map(async([r,{detector:n,loader:i}])=>{if(i)try{m0(r)}catch{try{const{diagram:s,id:o}=await i();Zh(o,s,n)}catch(s){throw Q.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Oo[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){Q.error(`Failed to load ${t.length} external diagrams`);for(const r of t)Q.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),_U="graphics-document document";function LL(e,t){e.attr("role",_U),t!==""&&e.attr("aria-roledescription",t)}w(LL,"setA11yDiagramInfo");function ML(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}w(ML,"addSVGa11yTitleDescription");var Lo,ox=(Lo=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){var c,u;const n=br(),i=Sy(t,n);t=kz(t)+`
`;try{m0(i)}catch{const h=UD(i);if(!h)throw new RC(`Diagram ${i} not found.`);const{id:f,diagram:p}=await h();Zh(f,p)}const{db:s,parser:o,renderer:a,init:l}=m0(i);return o.parser&&(o.parser.yy=s),(c=s.clear)==null||c.call(s),l==null||l(n),r.title&&((u=s.setDiagramTitle)==null||u.call(s,r.title)),await o.parse(t),new Lo(i,t,s,o,a)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},w(Lo,"Diagram"),Lo),ik=[],CU=w(()=>{ik.forEach(e=>{e()}),ik=[]},"attachFunctions"),TU=w(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function RL(e){const t=e.match(MC);if(!t)return{text:e,metadata:{}};let r=k6(t[1],{schema:w6})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}w(RL,"extractFrontMatter");var EU=w(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),jU=w(e=>{const{text:t,metadata:r}=RL(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),AU=w(e=>{const t=Gn.detectInit(e)??{},r=Gn.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:cz(e),directive:t}},"processDirectives");function Sb(e){const t=EU(e),r=jU(t),n=AU(r.text),i=ob(r.config,n.directive);return e=TU(n.text),{code:e,title:r.title,config:i}}w(Sb,"preprocessDiagram");function BL(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}w(BL,"toBase64");var LU=5e4,MU="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",RU="sandbox",BU="loose",PU="http://www.w3.org/2000/svg",FU="http://www.w3.org/1999/xlink",DU="http://www.w3.org/1999/xhtml",OU="100%",$U="100%",NU="border:0;margin:0;",IU="margin:0",zU="allow-top-navigation-by-user-activation allow-popups",WU='The "iframe" tag is not supported by your browser.',HU=["foreignobject"],qU=["dominant-baseline"];function _b(e){const t=Sb(e);return Kh(),aO(t.config??{}),t}w(_b,"processAndSetConfigs");async function PL(e,t){Fp();try{const{code:r,config:n}=_b(e);return{diagramType:(await DL(r)).type,config:n}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}w(PL,"parse");var sk=w((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),UU=w((e,t=new Map)=>{var n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const a=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{rk(l.styles)||a.forEach(c=>{r+=sk(l.id,c,l.styles)}),rk(l.textStyles)||(r+=sk(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return r},"createCssStyles"),VU=w((e,t,r,n)=>{const i=UU(e,r),s=EO(t,i,e.themeVariables);return ex(aH(`${n}{${s}}`),cH)},"createUserStyles"),YU=w((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Jo(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),GU=w((e="",t)=>{var i,s;const r=(s=(i=t==null?void 0:t.viewBox)==null?void 0:i.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":$U,n=BL(`<body style="${IU}">${e}</body>`);return`<iframe style="width:${OU};height:${r};${NU}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${zU}">
  ${WU}
</iframe>`},"putIntoIFrame"),ok=w((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const o=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",PU);return i&&o.attr("xmlns:xlink",i),o.append("g"),e},"appendDivSvgG");function ax(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}w(ax,"sandboxedIframe");var XU=w((e,t,r,n)=>{var i,s,o;(i=e.getElementById(t))==null||i.remove(),(s=e.getElementById(r))==null||s.remove(),(o=e.getElementById(n))==null||o.remove()},"removeExistingElements"),QU=w(async function(e,t,r){var W,H,P,j,L,B;Fp();const n=_b(t);t=n.code;const i=br();Q.debug(i),t.length>((i==null?void 0:i.maxTextSize)??LU)&&(t=MU);const s="#"+e,o="i"+e,a="#"+o,l="d"+e,c="#"+l,u=w(()=>{const M=Qt(f?a:c).node();M&&"remove"in M&&M.remove()},"removeTempElements");let h=Qt("body");const f=i.securityLevel===RU,p=i.securityLevel===BU,g=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const E=ax(Qt(r),o);h=Qt(E.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Qt(r);ok(h,e,l,`font-family: ${g}`,FU)}else{if(XU(document,e,l,o),f){const E=ax(Qt("body"),o);h=Qt(E.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=Qt("body");ok(h,e,l)}let m,y;try{m=await ox.fromText(t,{title:n.title})}catch(E){if(i.suppressErrorRendering)throw u(),E;m=await ox.fromText("error"),y=E}const x=h.select(c).node(),b=m.type,v=x.firstChild,C=v.firstChild,k=(H=(W=m.renderer).getClasses)==null?void 0:H.call(W,t,m),S=VU(i,b,k,s),_=document.createElement("style");_.innerHTML=S,v.insertBefore(_,C);try{await m.renderer.draw(t,e,Ev.version,m)}catch(E){throw i.suppressErrorRendering?u():Oq.draw(t,e,Ev.version),E}const A=h.select(`${c} svg`),D=(j=(P=m.db).getAccTitle)==null?void 0:j.call(P),F=(B=(L=m.db).getAccDescription)==null?void 0:B.call(L);OL(b,A,D,F),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",DU);let O=h.select(c).node().innerHTML;if(Q.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),O=YU(O,f,Ue(i.arrowMarkerAbsolute)),f){const E=h.select(c+" svg").node();O=GU(O,E)}else p||(O=el.sanitize(O,{ADD_TAGS:HU,ADD_ATTR:qU,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(CU(),y)throw y;return u(),{diagramType:b,svg:O,bindFunctions:m.db.bindFunctions}},"render");function FL(e={}){var n;const t=ze({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),sO(t),t!=null&&t.theme&&t.theme in Gi?t.themeVariables=Gi[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Gi.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?iO(t):OC();ky(r.logLevel),Fp()}w(FL,"initialize");var DL=w((e,t={})=>{const{code:r}=Sb(e);return ox.fromText(r,t)},"getDiagramFromText");function OL(e,t,r,n){LL(t,e),ML(t,r,n,t.attr("id"))}w(OL,"addA11yInfo");var Ho=Object.freeze({render:QU,parse:PL,getDiagramFromText:DL,initialize:FL,getConfig:br,setConfig:$C,getSiteConfig:OC,updateSiteConfig:oO,reset:w(()=>{Kh()},"reset"),globalReset:w(()=>{Kh(rl)},"globalReset"),defaultConfig:rl});ky(br().logLevel);Kh(br());var KU=w((e,t,r)=>{Q.warn(e),sb(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),$L=w(async function(e={querySelector:".mermaid"}){try{await JU(e)}catch(t){if(sb(t)&&Q.error(t.str),dn.parseError&&dn.parseError(t),!e.suppressErrors)throw Q.error("Use the suppressErrors option to suppress these errors"),t}},"run"),JU=w(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Ho.getConfig();Q.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");Q.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(Q.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Ho.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const s=new Gn.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){if(Q.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;o=l.innerHTML,o=sj(Gn.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Gn.detectInit(o);u&&Q.debug("Detected early reinit: ",u);try{const{svg:h,bindFunctions:f}=await WL(c,o,l);l.innerHTML=h,e&&await e(c),f&&f(l)}catch(h){KU(h,a,dn.parseError)}}if(a.length>0)throw a[0]},"runThrowsErrors"),NL=w(function(e){Ho.initialize(e)},"initialize"),ZU=w(async function(e,t,r){Q.warn("mermaid.init is deprecated. Please use run instead."),e&&NL(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await $L(n)},"init"),tV=w(async(e,{lazyLoad:t=!0}={})=>{Fp(),h0(...e),t===!1&&await SU()},"registerExternalDiagrams"),IL=w(function(){if(dn.startOnLoad){const{startOnLoad:e}=Ho.getConfig();e&&dn.run().catch(t=>Q.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",IL,!1);var eV=w(function(e){dn.parseError=e},"setParseErrorHandler"),Mf=[],Gg=!1,zL=w(async()=>{if(!Gg){for(Gg=!0;Mf.length>0;){const e=Mf.shift();if(e)try{await e()}catch(t){Q.error("Error executing queue",t)}}Gg=!1}},"executeQueue"),rV=w(async(e,t)=>new Promise((r,n)=>{const i=w(()=>new Promise((s,o)=>{Ho.parse(e,t).then(a=>{s(a),r(a)},a=>{var l;Q.error("Error parsing",a),(l=dn.parseError)==null||l.call(dn,a),o(a),n(a)})}),"performCall");Mf.push(i),zL().catch(n)}),"parse"),WL=w((e,t,r)=>new Promise((n,i)=>{const s=w(()=>new Promise((o,a)=>{Ho.render(e,t,r).then(l=>{o(l),n(l)},l=>{var c;Q.error("Error parsing",l),(c=dn.parseError)==null||c.call(dn,l),a(l),i(l)})}),"performCall");Mf.push(s),zL().catch(i)}),"render"),nV=w(()=>Object.keys(Oo).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),dn={startOnLoad:!0,mermaidAPI:Ho,parse:rV,render:WL,init:ZU,run:$L,registerExternalDiagrams:tV,registerLayoutLoaders:XA,initialize:NL,parseError:void 0,contentLoaded:IL,setParseErrorHandler:eV,detectType:Sy,registerIconPacks:T7,getRegisteredDiagramsMetadata:nV},HL=dn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */HL.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"});function iV({dbName:e,dbType:t}){var nt,ut,ft;const[r,n]=T.useState(t==="sql"?"er":"collections"),[i,s]=T.useState(null),[o,a]=T.useState(""),[l,c]=T.useState(!1),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,m]=T.useState([]),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[C,k]=T.useState({from:"",to:"",cardinality:"||--o{",relationshipName:""}),[S,_]=T.useState(null);T.useEffect(()=>{if(!i||!i.tables)return;const V={...i};D(V,r)},[i,g,r]),T.useEffect(()=>{A()},[r]);const A=async()=>{var V,tt;c(!0),h("");try{const lt=await X.get(`/api/db/${e}/diagram_data`,{params:{type:r}});if(lt.data.success){s(lt.data.data);const bt=lt.data.data.relationships||[];m(bt.map(kt=>({from:kt.from,to:kt.to,cardinality:kt.cardinality||"||--o{",column:kt.column,relationshipName:kt.relationshipName||kt.column||""})))}else h(lt.data.error||"Failed to load diagram data")}catch(lt){console.error("Failed to load diagram data:",lt),h("Failed to load diagram data: "+(((tt=(V=lt.response)==null?void 0:V.data)==null?void 0:tt.error)||lt.message))}finally{c(!1)}},D=(V,tt)=>{let lt="";t==="sql"?tt==="er"?lt=O(V):tt==="schema"&&(lt=W(V)):tt==="collections"?lt=H(V):tt==="hierarchy"&&(lt=P(V)),a(lt),$(lt)},F=V=>V.replace(/[^a-zA-Z0-9_]/g,"_").toUpperCase(),O=V=>{let tt=`erDiagram
`;return(V.tables||[]).forEach(bt=>{const kt=F(bt.name);tt+=`    ${kt} {
`,(bt.fields||[]).forEach(rt=>{let dt=[];rt.pk&&dt.push("PK"),rt.fk&&dt.push("FK"),rt.notnull&&dt.push("NOT NULL");const Bt=dt.length>0?` "${dt.join(",")}"`:"";tt+=`        ${rt.type} ${rt.name}${Bt}
`}),tt+=`    }
`}),g.forEach(bt=>{const kt=F(bt.from),At=F(bt.to),rt=bt.cardinality||"||--o{",dt=bt.relationshipName?`"${bt.relationshipName}"`:bt.column?`"via ${bt.column}"`:'"has"';tt+=`    ${kt} ${rt} ${At} : ${dt}
`}),tt},W=V=>{let tt=`graph LR
`;const lt=V.tables||[];return lt.forEach((bt,kt)=>{var Bt;const At=`T${kt}`,rt=bt.name||"unknown",dt=((Bt=bt.fields)==null?void 0:Bt.length)||0;tt+=`    ${At}["${rt}<br/>${dt} columns"]
`,kt<lt.length-1&&(tt+=`    ${At} --> T${kt+1}
`)}),tt},H=V=>{let tt=`graph TB
`;const lt=V.collections||[];return lt.length===0?"":(tt+=`    DB[" Database: ${e}<br/>Collections: ${V.total_collections}<br/>Docs: ${V.total_documents}"]

`,lt.forEach((bt,kt)=>{const At="C"+kt;tt+=`    ${At}["${bt.name}<br/>Docs:${bt.document_count} Keys:${bt.key_count}"]
`,tt+=`    DB --> ${At}
`}),tt)},P=V=>{let tt=`graph TB
`;const lt=V.collections||[];return lt.length===0?"":(lt.forEach((bt,kt)=>{const At="COLL"+kt;tt+=`    ${At}[" ${bt.name}<br/>(${bt.document_count} docs)"]
`;const rt=bt.fields||{};let dt=0;Object.entries(rt).slice(0,12).forEach(([Bt,le])=>{const ae=`F${kt}_${dt}`;tt+=`    ${ae}[" ${Bt}<br/>(${le.type})"]
`,tt+=`    ${At} --> ${ae}
`,dt++})}),tt)},j=()=>{if(!C.from||!C.to){alert("Please select both tables");return}if(C.from===C.to){alert("Cannot create self-referencing relationship");return}if(g.some(tt=>tt.from===C.from&&tt.to===C.to)&&S===null){alert("This relationship already exists");return}if(S!==null){const tt=[...g];tt[S]={...C},m(tt),_(null)}else m([...g,{...C}]);k({from:"",to:"",cardinality:"||--o{",relationshipName:""}),v(!1),setTimeout(()=>{D(i,r)},100)},L=V=>{k({...g[V]}),_(V),v(!0)},B=V=>{if(!window.confirm("Delete this relationship?"))return;const tt=g.filter((lt,bt)=>bt!==V);m(tt),setTimeout(()=>{D(i,r)},100)},E=()=>{k({from:"",to:"",cardinality:"||--o{",relationshipName:""}),_(null),v(!1)},M=V=>({"||--||":"One-to-One","||--o{":"One-to-Many","}o--o{":"Many-to-Many","||--o|":"One-to-Zero-or-One"})[V]||V,$=async V=>{if(V)try{const tt=`mermaid-${Date.now()}`,{svg:lt}=await HL.render(tt,V);p(lt)}catch(tt){console.error("Mermaid render error:",tt),h("Failed to render diagram: "+tt.message)}},z=()=>{if(!f)return;const lt=new DOMParser().parseFromString(f,"image/svg+xml").documentElement;lt.removeAttribute("width"),lt.removeAttribute("height");const bt=lt.getAttribute("viewBox");let kt=1200,At=800;if(bt){const de=bt.trim().split(/\s+/).map(Number);de.length===4&&(kt=de[2],At=de[3])}const rt=2.5,dt=Math.round(kt*rt),Bt=Math.round(At*rt);if(lt.setAttribute("width",dt),lt.setAttribute("height",Bt),!lt.querySelector('rect[fill="white"]')){const de=document.createElementNS("http://www.w3.org/2000/svg","rect");de.setAttribute("width","100%"),de.setAttribute("height","100%"),de.setAttribute("fill","white"),lt.insertBefore(de,lt.firstChild)}const ae=new XMLSerializer().serializeToString(lt),$r="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(ae))),Ae=new Image;Ae.onload=()=>{const de=document.createElement("canvas");de.width=dt,de.height=Bt;const Je=de.getContext("2d");Je.imageSmoothingEnabled=!0,Je.imageSmoothingQuality="high",Je.fillStyle="white",Je.fillRect(0,0,dt,Bt),Je.drawImage(Ae,0,0,dt,Bt),de.toBlob(mn=>{const Fn=URL.createObjectURL(mn),_e=document.createElement("a");_e.href=Fn,_e.download=`${e}_${r}_diagram.png`,_e.click(),URL.revokeObjectURL(Fn)},"image/png",1)},Ae.src=$r},q=()=>({er:" Visual representation of entities and their relationships in your database",schema:" Overview of table structures, columns, and data types across your database",collections:" Summary of all collections with document counts and fields",hierarchy:" Field-level structure and data types in each collection"})[r]||"";return d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Database Diagrams"}),u&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:u}),d.jsxs("div",{style:{background:"#f8f8f8",padding:"25px",borderRadius:"12px",marginBottom:"20px"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082",fontSize:"1.05em"},children:" Select Diagram Type:"}),d.jsx("select",{value:r,onChange:V=>n(V.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"white",cursor:"pointer",color:"#333"},children:t==="sql"?d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"er",children:"Entity-Relationship (ER) Diagram"}),d.jsx("option",{value:"schema",children:"Schema/Table Structure Diagram"})]}):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"collections",children:"Collections Overview"}),d.jsx("option",{value:"hierarchy",children:"Data Hierarchy Diagram"})]})}),d.jsx("p",{style:{marginTop:"8px",fontSize:"0.9em",color:"#666",fontStyle:"italic"},children:q()})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[d.jsx("button",{onClick:()=>D(i,r),disabled:l||!i,style:{padding:"14px 32px",background:l?"#ccc":"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:l?"not-allowed":"pointer"},children:l?" Loading...":" Generate Diagram"}),f&&d.jsx("button",{onClick:z,style:{padding:"14px 32px",background:"linear-gradient(135deg, #2e7d32, #1b5e20)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:" Download as Image"}),r==="er"&&i&&d.jsx("button",{onClick:()=>x(!0),style:{padding:"14px 32px",background:"linear-gradient(135deg, #e91e63, #ad1457)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:" View Relationships"})]})]}),l&&d.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6a5acd"},children:[d.jsx("div",{style:{fontSize:"2.5em",marginBottom:"15px"},children:""}),d.jsx("p",{style:{fontSize:"1.1em"},children:"Generating diagram..."})]}),f&&!l&&d.jsx("div",{style:{background:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",marginTop:"20px",overflowX:"auto"},children:d.jsx("div",{dangerouslySetInnerHTML:{__html:f}})}),i&&!l&&d.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px"},children:[d.jsx("strong",{style:{color:"#2e7d32",fontSize:"1.05em"},children:" Diagram Statistics:"}),d.jsx("div",{style:{marginTop:"12px",color:"#1b5e20",lineHeight:"1.8"},children:t==="sql"?d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Total Tables:"})," ",((nt=i.tables)==null?void 0:nt.length)||0,d.jsx("br",{}),d.jsx("strong",{children:"Total Relationships:"})," ",g.length]}):d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Total Collections:"})," ",i.total_collections||0,d.jsx("br",{}),d.jsx("strong",{children:"Total Documents:"})," ",i.total_documents||0]})})]}),y&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:()=>{x(!1),v(!1),_(null),k({from:"",to:"",cardinality:"||--o{",relationshipName:""})},children:d.jsx("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #e91e63",boxShadow:"0 10px 40px rgba(233, 30, 99, 0.6)"},onClick:V=>V.stopPropagation(),children:b?d.jsxs(d.Fragment,{children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:[S!==null?" Edit":" Add"," ","Relationship"]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"From Table:"}),d.jsxs("select",{value:C.from,onChange:V=>k({...C,from:V.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select Table --"}),(ut=i==null?void 0:i.tables)==null?void 0:ut.map(V=>d.jsx("option",{value:V.name,children:V.name},V.name))]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"Cardinality:"}),d.jsxs("select",{value:C.cardinality,onChange:V=>k({...C,cardinality:V.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"||--||",children:"One-to-One (||--||)"}),d.jsxs("option",{value:"||--o{",children:["One-to-Many (||--o","{",")"]}),d.jsxs("option",{value:"}o--o{",children:["Many-to-Many (","{","o--o","{",")"]}),d.jsx("option",{value:"||--o|",children:"One-to-Zero-or-One (||--o|)"})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"To Table:"}),d.jsxs("select",{value:C.to,onChange:V=>k({...C,to:V.target.value}),style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select Table --"}),(ft=i==null?void 0:i.tables)==null?void 0:ft.map(V=>d.jsx("option",{value:V.name,children:V.name},V.name))]})]}),d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#f0f0f0",fontWeight:"bold"},children:"Relationship Name (Optional):"}),d.jsx("input",{type:"text",value:C.relationshipName,onChange:V=>k({...C,relationshipName:V.target.value.slice(0,50)}),placeholder:"e.g., 'manages', 'belongs to', 'has many'",maxLength:50,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px"}}),d.jsx("small",{style:{color:"#bb86fc",fontSize:"0.85em",marginTop:"5px",display:"block"},children:"Max 50 characters. Describes the relationship between tables."})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{onClick:E,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{onClick:j,style:{padding:"14px 28px",background:"#e91e63",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:S!==null?"Update":"Done"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:" Manage Relationships"}),d.jsx("button",{onClick:()=>v(!0),style:{width:"100%",padding:"14px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",marginBottom:"20px"},children:" Add Relationship"}),g.length>0?d.jsx("div",{style:{marginBottom:"20px"},children:g.map((V,tt)=>d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.15)",padding:"15px",borderRadius:"8px",marginBottom:"10px",border:"1px solid #9370db"},children:[d.jsxs("div",{style:{color:"#f0f0f0",marginBottom:"8px",fontSize:"15px"},children:[d.jsx("strong",{children:V.from})," ",M(V.cardinality)," ",d.jsx("strong",{children:V.to}),V.relationshipName&&d.jsxs("span",{style:{color:"#bb86fc",fontSize:"0.9em"},children:[" ","(",V.relationshipName,")"]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("button",{onClick:()=>L(tt),style:{flex:1,padding:"8px",background:"#1e9530",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Edit"}),d.jsx("button",{onClick:()=>B(tt),style:{flex:1,padding:"8px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Delete"})]})]},tt))}):d.jsx("p",{style:{textAlign:"center",color:"#ccc",fontStyle:"italic",padding:"20px"},children:'No relationships defined. Click "Add Relationship" to create one.'}),d.jsx("button",{onClick:()=>{x(!1),v(!1)},style:{width:"100%",padding:"12px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Close"})]})})})]})}function sV({dbName:e,onClose:t,onSuccess:r}){const[n,i]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(!1),c=async u=>{var h,f;if(u.preventDefault(),o(""),!n.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){o("Collection name must start with a letter, contain only letters, numbers, underscores.");return}l(!0);try{const p=await X.post(`/api/db/${e}/create_collection`,{collection_name:n});p.data.success?r(n):o(p.data.error||"Failed to create collection")}catch(p){o("Failed to create: "+(((f=(h=p.response)==null?void 0:h.data)==null?void 0:f.error)||p.message))}finally{l(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:t,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:u=>u.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Create New Collection in ",e]}),s&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:s}),d.jsxs("form",{onSubmit:c,children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"10px",fontWeight:"bold"},children:"Collection Name:"}),d.jsx("input",{type:"text",value:n,onChange:u=>i(u.target.value),placeholder:"e.g. users, spells, potions",required:!0,disabled:a,style:{width:"100%",padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px",boxSizing:"border-box"}})]}),d.jsx("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:"Collection will be created with no schema. Add documents freely after creation."}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:t,disabled:a,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"bold",opacity:a?.7:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,style:{padding:"14px 28px",background:a?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:a?"not-allowed":"pointer",fontWeight:"bold",boxShadow:a?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:a?"Creating...":"Create Collection"})]})]})]})})}function oV({dbName:e}){const[t,r]=T.useState([]),[n,i]=T.useState(!0),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(!1),[h,f]=T.useState(""),[p,g]=T.useState(""),[m,y]=T.useState(null),[x,b]=T.useState(""),[v,C]=T.useState(!1),[k,S]=T.useState(""),[_,A]=T.useState(1),[D]=T.useState(10);T.useEffect(()=>{F()},[e]),T.useEffect(()=>{A(1)},[k]);const F=async()=>{try{i(!0);const M=await X.get(`/api/db/${e}/views`);M.data.success?(r(M.data.views||[]),C(M.data.supports_views||!1)):o(M.data.error||"Failed to fetch views")}catch(M){console.error("Failed to fetch views:",M),o("Failed to load views")}finally{i(!1)}},O=async M=>{var $,z;if(M.preventDefault(),o(""),l(""),!h.trim()||!p.trim()){o("View name and query are required");return}try{const q=await X.post(`/api/db/${e}/views/create`,{view_name:h,view_query:p});q.data.success?(l(q.data.message),f(""),g(""),u(!1),F()):o(q.data.error||"Failed to create view")}catch(q){o("Failed to create view: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}},W=async M=>{var $,z;if(window.confirm(`Are you sure you want to delete view ${M}?`))try{const q=await X.post(`/api/db/${e}/views/delete`,{view_name:M});q.data.success?(l(q.data.message),y(null),b(""),F()):o(q.data.error||"Failed to delete view")}catch(q){o("Failed to delete view: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}},H=async M=>{var $,z;try{const q=await X.get(`/api/db/${e}/view/${M}/definition`);q.data.success?(y(M),b(q.data.definition)):o(q.data.error||"Failed to fetch view definition")}catch(q){o("Failed to fetch view definition: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}};if(n)return d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading views..."})});if(!v)return d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Views are not supported by this database handler."})});const P=t.filter(M=>M.name.toLowerCase().includes(k.toLowerCase())),j=Math.ceil(P.length/D),L=(_-1)*D,B=L+D,E=P.slice(L,B);return d.jsxs("div",{style:{padding:"20px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[d.jsxs("h3",{style:{margin:0,color:"#f0f0f0"},children:["Views in ",e]}),d.jsx("button",{onClick:()=>u(!0),style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create New View"})]}),s&&d.jsx("p",{className:"error",children:s}),a&&d.jsx("p",{className:"success",children:a}),t.length>0?d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("input",{type:"text",placeholder:"Search views...",value:k,onChange:M=>S(M.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),d.jsxs("div",{style:{marginTop:"10px",color:"#999",fontSize:"14px"},children:["Showing ",L+1,"-",Math.min(B,P.length)," of"," ",P.length," view",P.length!==1?"s":"",k&&` (filtered from ${t.length} total)`]})]}),P.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"View Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:E.map(M=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:M.name})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>H(M.name),style:{background:"#1e9530",marginRight:"10px"},children:"View Definition"}),d.jsx("button",{onClick:()=>W(M.name),style:{background:"#dc3545"},children:"Delete"})]})]},M.name))})]}),j>1&&d.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"20px"},children:[d.jsx("button",{onClick:()=>A(M=>Math.max(1,M-1)),disabled:_===1,style:{padding:"8px 15px",background:_===1?"#555":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:_===1?"not-allowed":"pointer"},children:"Previous"}),d.jsxs("span",{style:{color:"#f0f0f0"},children:["Page ",_," of ",j]}),d.jsx("button",{onClick:()=>A(M=>Math.min(j,M+1)),disabled:_===j,style:{padding:"8px 15px",background:_===j?"#555":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:_===j?"not-allowed":"pointer"},children:"Next"})]}),m&&x&&d.jsxs("div",{style:{marginTop:"30px",background:"rgba(147, 112, 219, 0.1)",padding:"20px",borderRadius:"10px"},children:[d.jsxs("h4",{style:{color:"#f0f0f0"},children:["View Definition: ",m]}),d.jsx("br",{}),d.jsx("pre",{style:{background:"rgba(30, 0, 51, 0.5)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:x})]})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No views match your search."})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No views found."}),c&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:d.jsxs("div",{style:{background:"#2a2a2a",padding:"30px",borderRadius:"10px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto"},children:[d.jsx("h3",{style:{color:"#f0f0f0",marginTop:0},children:"Create New View"}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"View Name:"}),d.jsx("input",{type:"text",value:h,onChange:M=>f(M.target.value),placeholder:"e.g., active_users_view",required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"View Query (SELECT statement):"}),d.jsx("textarea",{value:p,onChange:M=>g(M.target.value),placeholder:"SELECT column1, column2 FROM table_name WHERE condition",required:!0,rows:8,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>{u(!1),f(""),g("")},style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create View"})]})]})]})})]})}function aV({dbName:e,tables:t}){const[r,n]=T.useState(""),[i,s]=T.useState([]),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,m]=T.useState(!1),[y,x]=T.useState({list:!1,create:!1,delete:!1}),[b,v]=T.useState("RANGE"),[C,k]=T.useState(""),[S,_]=T.useState([{name:"",value:""}]);T.useEffect(()=>{A()},[e]),T.useEffect(()=>{r&&g&&(D(r),F())},[r,g]);const A=async()=>{try{const L=await X.get(`/api/db/${e}/partitions/support`);L.data.success&&m(L.data.supports_partitions||!1)}catch(L){console.error("Failed to check partitions support:",L),m(!1)}},D=async L=>{if(L)try{a(!0);const B=await X.get(`/api/db/${e}/table/${L}/partitions`);B.data.success?s(B.data.partitions||[]):c(B.data.error||"Failed to fetch partitions")}catch(B){console.error("Failed to fetch partitions:",B),c("Failed to load partitions")}finally{a(!1)}},F=async()=>{try{const L=await X.get(`/api/db/${e}/partitions/capabilities`);L.data.success&&x(L.data.capabilities)}catch(L){console.error("Failed to fetch partition capabilities",L)}},O=async L=>{var E,M;if(L.preventDefault(),c(""),h(""),!r||!C){c("Table and partition column are required");return}const B={type:b,column:C,definitions:S.filter($=>$.name&&$.value)};if(b!=="HASH"&&B.definitions.length===0){c("At least one partition definition is required for RANGE and LIST partitions");return}try{const $=await X.post(`/api/db/${e}/table/${r}/partitions/create`,{partition_config:B});$.data.success?(h($.data.message),p(!1),k(""),_([{name:"",value:""}]),D(r)):c($.data.error||"Failed to create partition")}catch($){c("Failed to create partition: "+(((M=(E=$.response)==null?void 0:E.data)==null?void 0:M.error)||$.message))}},W=async L=>{var B,E;if(window.confirm(`Are you sure you want to delete partition ${L}?`))try{const M=await X.post(`/api/db/${e}/table/${r}/partitions/delete`,{partition_name:L});M.data.success?(h(M.data.message),D(r)):c(M.data.error||"Failed to delete partition")}catch(M){c("Failed to delete partition: "+(((E=(B=M.response)==null?void 0:B.data)==null?void 0:E.error)||M.message))}},H=()=>{_([...S,{name:"",value:""}])},P=L=>{_(S.filter((B,E)=>E!==L))},j=(L,B,E)=>{const M=[...S];M[L][B]=E,_(M)};return g?d.jsxs("div",{style:{padding:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0",marginBottom:"20px"},children:"Table Partitions"}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Select Table:"}),d.jsxs("select",{value:r,onChange:L=>n(L.target.value),style:{padding:"10px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"-- Select a table --"}),t.map(L=>{const B=typeof L=="string"?L:L.name;return d.jsx("option",{value:B,children:B},B)})]})]}),l&&d.jsx("p",{className:"error",children:l}),u&&d.jsx("p",{className:"success",children:u}),r&&d.jsxs(d.Fragment,{children:[y.create?d.jsx("button",{onClick:()=>p(!0),style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginBottom:"20px"},children:"Create Partition"}):d.jsx("div",{style:{marginBottom:"20px",padding:"10px 14px",background:"rgba(255, 193, 7, 0.15)",borderLeft:"4px solid #ffc107",borderRadius:"6px",color:"#ffecb5",fontSize:"0.9em"},children:" This database does not support creating partitions after table creation."}),o?d.jsx("div",{className:"loading",children:"Loading partitions..."}):i.length>0?d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Partition Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Expression"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:i.map(L=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:L.name})}),d.jsx("td",{children:L.type||"N/A"}),d.jsx("td",{children:L.expression||"N/A"}),d.jsx("td",{children:y.delete&&d.jsx("button",{onClick:()=>W(L.name),style:{background:"#dc3545"},children:"Delete"})})]},L.name))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No partitions found for this table."})]}),f&&y.create&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:d.jsxs("div",{style:{background:"#2a2a2a",padding:"30px",borderRadius:"10px",width:"90%",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto"},children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginTop:0},children:["Create Partition for ",r]}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Partition Type:"}),d.jsxs("select",{value:b,onChange:L=>v(L.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"RANGE",children:"RANGE"}),d.jsx("option",{value:"LIST",children:"LIST"}),d.jsx("option",{value:"HASH",children:"HASH"})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"5px"},children:"Partition Column:"}),d.jsx("input",{type:"text",value:C,onChange:L=>k(L.target.value),placeholder:"e.g., created_date, id, category",required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",color:"#f0f0f0",marginBottom:"10px"},children:"Partition Definitions:"}),S.map((L,B)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[d.jsx("input",{type:"text",value:L.name,onChange:E=>j(B,"name",E.target.value),placeholder:"Partition name",style:{flex:1,padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),d.jsx("input",{type:"text",value:L.value,onChange:E=>j(B,"value",E.target.value),placeholder:b==="RANGE"?"For dates: 2023, 2024, etc. For numbers: 100, 1000, MAXVALUE":b==="LIST"?"For MySQL: Use numbers (1, 2, 3). Strings not supported!":"(Optional - auto-numbered if empty)",style:{flex:2,padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}}),S.length>1&&d.jsx("button",{type:"button",onClick:()=>P(B),style:{padding:"10px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]},B)),d.jsx("button",{type:"button",onClick:H,style:{padding:"8px 16px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"+ Add Partition"})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>{p(!1),k(""),_([{name:"",value:""}])},style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Create"})]})]})]})})]}):d.jsx("div",{style:{padding:"20px",color:"#f0f0f0"},children:d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Partitions are not supported by this database handler."})})}const lV=()=>{let e=localStorage.getItem("query_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("query_session_id",e)),e},Dp=(e="global")=>{const[t,r]=T.useState([]),[n,i]=T.useState(-1),[s,o]=T.useState(""),[a,l]=T.useState(!1),c=lV(),u=async()=>{try{l(!0);const m=await X.get("/api/query/history/session",{params:{context:e},headers:{"X-Session-ID":c}});m.data.success&&(console.log(" Fetched session queries:",m.data.queries.length,"for",m.data.handler),r(m.data.queries||[]))}catch(m){console.error(" Failed to fetch session queries:",m)}finally{l(!1)}},h=async m=>{try{console.log(" Adding query to history"),await X.post("/api/query/history/session",{query:m},{headers:{"X-Session-ID":c}}),await u(),i(-1),o(""),console.log(" Query added successfully")}catch(y){console.error(" Failed to add query to history:",y)}},f=async()=>{try{await X.delete("/api/query/history/session",{headers:{"X-Session-ID":c}}),r([]),i(-1),o("")}catch(m){console.error("Failed to clear history:",m)}},p=(m,y)=>{if(t.length===0)return null;let x=n;if(m==="up")if(n===-1)o(y),x=t.length-1;else if(n>0)x=n-1;else return null;else if(m==="down"){if(n===-1)return null;if(n<t.length-1)x=n+1;else return i(-1),s}return i(x),t[x]},g=()=>{i(-1),o("")};return T.useEffect(()=>{u()},[e]),{sessionQueries:t,loading:a,addQuery:h,clearHistory:f,navigateHistory:p,resetNavigation:g,currentIndex:n,draftQuery:s,refreshHistory:u}};function Op(){const[e,t]=T.useState([]),[r,n]=T.useState(!1),[i,s]=T.useState(-1),o=T.useRef(null),a=T.useCallback(async f=>{if(!f||f.length<2){t([]),n(!1);return}try{const p=await X.post("/api/autocomplete/history",{query:f,limit:5});p.data.success&&p.data.suggestions.length>0?(t(p.data.suggestions),n(!0),s(-1)):(t([]),n(!1))}catch(p){console.error("Autocomplete error:",p),t([]),n(!1)}},[]),l=T.useCallback((f,p)=>{o.current&&clearTimeout(o.current),p(f),o.current=setTimeout(()=>{a(f)},300)},[a]),c=T.useCallback((f,p,g)=>{if(!r||e.length===0)return!1;switch(f.key){case"ArrowDown":return f.preventDefault(),s(m=>m<e.length-1?m+1:m),!0;case"ArrowUp":return f.preventDefault(),s(m=>m>0?m-1:-1),!0;case"Enter":if(i>=0)return f.preventDefault(),g(e[i]),n(!1),s(-1),!0;break;case"Escape":return n(!1),s(-1),!0;case"Tab":if(i>=0)return f.preventDefault(),g(e[i]),n(!1),s(-1),!0;break}return!1},[r,e,i]),u=T.useCallback((f,p)=>{p(f),n(!1),s(-1)},[]),h=T.useCallback(()=>{n(!1),s(-1)},[]);return{suggestions:e,showSuggestions:r,selectedIndex:i,handleQueryChange:l,handleKeyDown:c,selectSuggestion:u,hideSuggestions:h}}function cV({dbName:e,tableName:t,onClose:r,onSuccess:n}){const[i,s]=T.useState(t+"_copy"),[o,a]=T.useState(!1),[l,c]=T.useState(!1),[u,h]=T.useState(""),f=async p=>{var g,m;if(p.preventDefault(),h(""),!i.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){h("Name must start with a letter, contain only letters, numbers, underscores.");return}c(!0);try{const y=await X.post(`/api/db/${e}/table/${t}/rename`,{new_name:i,keep_old:o});y.data.success?(n(y.data.new_name),r()):h(y.data.error||"Failed to rename table")}catch(y){h(((m=(g=y.response)==null?void 0:g.data)==null?void 0:m.error)||"Failed to rename table")}finally{c(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:r,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"500px",width:"90%",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:p=>p.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:"Rename/Copy Table"}),d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:["Current table: ",d.jsx("strong",{children:t})]}),u&&d.jsx("div",{className:"error",style:{marginBottom:"15px",padding:"10px",background:"rgba(220, 53, 69, 0.2)",border:"1px solid #dc3545",borderRadius:"5px",color:"#ff6b6b"},children:u}),d.jsxs("form",{onSubmit:f,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"new_name",style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"New Table Name:"}),d.jsx("input",{type:"text",id:"new_name",value:i,onChange:p=>s(p.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsx("div",{style:{marginBottom:"25px"},children:d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer"},children:[d.jsx("input",{type:"checkbox",checked:o,onChange:p=>a(p.target.checked),style:{marginRight:"8px"}}),d.jsx("span",{children:"Keep original table (copy instead of rename)"})]})}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:r,disabled:l,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:l?"not-allowed":"pointer",fontSize:"14px",opacity:l?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:l,style:{padding:"10px 20px",background:l?"#ccc":"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:l?"not-allowed":"pointer",fontSize:"14px"},children:l?"Processing...":o?"Copy":"Rename"})]})]})]})})}function uV({dbName:e,tableName:t}){const[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState(!1);T.useEffect(()=>{r&&!i&&l()},[r]);const l=async()=>{a(!0);try{const c=await X.get(`/api/db/${e}/table/${t}/connection_info`);c.data.success&&s(c.data)}catch(c){console.error("Failed to fetch connection info:",c)}finally{a(!1)}};return d.jsx("div",{id:`conn-table-${t}`,style:{marginBottom:"15px"},children:d.jsxs("details",{style:{marginBottom:"15px",padding:"10px",background:"#1e0033e6",borderRadius:"4px",border:"1px solid #ddd"},open:r,onToggle:c=>n(c.target.open),children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",background:"#1e0033e6",color:"#c0bae7ff",padding:"8px"},children:[" ",t," - Connection Info"]}),o&&d.jsx("p",{children:"Loading..."}),i&&d.jsxs("div",{style:{marginTop:"10px",padding:"15px",background:"#1e0033e6",borderLeft:"3px solid #6a5acd"},children:[d.jsx("p",{children:d.jsx("strong",{children:" Connection String:"})}),d.jsx("br",{}),d.jsx("code",{style:{display:"block",background:"black",color:"#f8f8f2",padding:"10px",borderRadius:"4px",overflowX:"auto",marginBottom:"15px"},children:i.connection_string}),d.jsx("p",{children:d.jsx("strong",{children:" Table Access Code:"})}),d.jsx("br",{}),d.jsx("pre",{style:{background:"black",color:"#f8f8f2",padding:"15px",borderRadius:"4px",overflowX:"auto",fontSize:"0.9em"},children:i.test_code}),i.notes&&i.notes.length>0&&d.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",borderLeft:"3px solid #ffc107",borderRadius:"4px"},children:[d.jsx("strong",{style:{color:"black"},children:" Tips:"}),d.jsx("ul",{style:{margin:"5px 0",paddingLeft:"20px",fontSize:"0.9em",color:"black"},children:i.notes.map((c,u)=>d.jsx("li",{children:c},u))})]})]})]})})}function Cb({dbName:e,tableName:t,isTable:r}){const[n,i]=T.useState("export"),[s,o]=T.useState("json"),[a,l]=T.useState(""),[c,u]=T.useState(!1),[h,f]=T.useState(""),[p,g]=T.useState(""),[m,y]=T.useState(""),x=async()=>{var C,k;f(""),g(""),u(!0);try{const S=r?`/api/db/${e}/table/${t}/export`:`/api/db/${e}/export`,_=await X.post(S,{format:s});if(_.data.success){y(_.data.content),g("Export generated successfully!");const A=new Blob([_.data.content],{type:s==="sql"?"text/plain":"application/json"}),D=window.URL.createObjectURL(A),F=document.createElement("a");F.href=D,F.download=_.data.filename,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(D),document.body.removeChild(F)}else f(_.data.error||"Export failed")}catch(S){f("Export failed: "+(((k=(C=S.response)==null?void 0:C.data)==null?void 0:k.error)||S.message))}finally{u(!1)}},b=async()=>{var C,k;if(f(""),g(""),!a.trim()){f("Please provide content to import");return}if(window.confirm(` WARNING: This will modify your ${r?"table":"database"}. Are you sure?`)){u(!0);try{const S=`/api/db/${e}/import`,_=await X.post(S,{content:a,format:s});_.data.success?(g(_.data.message||"Import completed successfully! Refreshing..."),l(""),setTimeout(()=>{window.location.reload()},2e3)):f(_.data.error||"Import failed")}catch(S){f("Import failed: "+(((k=(C=S.response)==null?void 0:C.data)==null?void 0:k.error)||S.message))}finally{u(!1)}}},v=C=>{const k=C.target.files[0];if(!k)return;const S=10*1024*1024;if(k.size>S){f("File too large. Maximum size is 10MB.");return}f(""),g(`Loading file: ${k.name}...`);const _=new FileReader;_.onload=A=>{l(A.target.result),g(`File loaded: ${k.name} (${(k.size/1024).toFixed(2)} KB)`)},_.onerror=()=>{f("Failed to read file. Please try again.")},_.readAsText(k)};return d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0",marginBottom:"20px"},children:[" Import/Export"," ",r?`Table: ${t}`:`Database: ${e}`]}),h&&d.jsx("div",{className:"error",children:h}),p&&d.jsx("div",{className:"success",children:p}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("button",{onClick:()=>i("export"),style:{padding:"10px 20px",background:n==="export"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:" Export"}),d.jsx("button",{onClick:()=>i("import"),style:{padding:"10px 20px",background:n==="import"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Import"})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",marginRight:"10px"},children:"Format:"}),d.jsxs("select",{value:s,onChange:C=>o(C.target.value),style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"json",children:"JSON (Universal)"}),d.jsx("option",{value:"sql",children:"SQL (Native)"})]})]}),n==="export"&&d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:["Export your ",r?"table":"database"," to"," ",s.toUpperCase()," format.",s==="json"&&" JSON format is universal and can be imported into any database type.",s==="sql"&&" SQL format uses native SQL syntax specific to your database."]}),d.jsx("button",{onClick:x,disabled:c,style:{padding:"12px 30px",background:c?"#6c757d":"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:c?"not-allowed":"pointer",fontWeight:"bold"},children:c?" Generating...":" Export"}),m&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h4",{style:{color:"#f0f0f0"},children:"Preview:"}),d.jsx("textarea",{value:m,readOnly:!0,rows:15,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}})]})]}),n==="import"&&d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:[" Import will modify your ",r?"table":"database",". All operations are done as a transaction - if anything fails, changes will be rolled back."]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Upload File:"}),d.jsx("input",{type:"file",accept:s==="sql"?".sql":".json",onChange:v,style:{padding:"8px",color:"#f0f0f0",background:"rgba(30, 0, 51, 0.5)",border:"1.5px solid #9370db",borderRadius:"5px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Or paste content:"}),a&&d.jsx("button",{onClick:()=>l(""),style:{padding:"4px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.85em"},children:"Clear"})]}),d.jsx("textarea",{value:a,onChange:C=>l(C.target.value),rows:15,placeholder:`Paste your ${s.toUpperCase()} content here...`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}}),a&&d.jsxs("div",{style:{fontSize:"0.8em",color:"#999",marginTop:"5px"},children:["Content size: ",(a.length/1024).toFixed(2)," KB"]})]}),d.jsx("button",{onClick:b,disabled:c||!a.trim(),style:{padding:"12px 30px",background:c||!a.trim()?"#6c757d":"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:c||!a.trim()?"not-allowed":"pointer",fontWeight:"bold"},children:c?" Importing...":" Import"})]})]})}function dV(){var Ku,$n;const{dbName:e}=Go(),[t,r]=np(),n=Pn(),[i,s]=T.useState([]),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(""),[b,v]=T.useState([]),[C,k]=T.useState(!1),[S,_]=T.useState(null),[A,D]=T.useState(1),[F]=T.useState(10),[O,W]=T.useState(1),[H,P]=T.useState(0),[j,L]=T.useState(t.get("tab")||"tables"),[B,E]=T.useState(!1),[M,$]=T.useState(!1),[z,q]=T.useState(!1),[nt,ut]=T.useState(!1),[ft,V]=T.useState(""),[tt,lt]=T.useState(!1),[bt,kt]=T.useState(!1),[At,rt]=T.useState(!1),[dt,Bt]=T.useState([{id:1,query:"",name:"Stage 1",selected:!0}]),[le,ae]=T.useState(2),[$r,Ae]=T.useState("query"),[de,Je]=T.useState(!1),[mn,Fn]=T.useState(""),[_e,rn]=T.useState("visual"),[Nr,Ir]=T.useState(""),[Ce,nn]=T.useState([""]),[Ti,Ei]=T.useState(""),[xn,Cr]=T.useState(""),[yn,Te]=T.useState("ASC"),[he,Ze]=T.useState(""),[bn,Oe]=T.useState(""),[vn,Tr]=T.useState("INNER"),[sn,ct]=T.useState(""),[Ot,Nt]=T.useState(""),[Ht,Ft]=T.useState(""),[Wt,on]=T.useState(null),[ta,Er]=T.useState(!0),[or,Dn]=T.useState(""),[qt,tr]=T.useState(null),{sessionQueries:ar,addQuery:Js,navigateHistory:ss,resetNavigation:ji}=Dp("database"),[os,Ve]=T.useState(!1),[ea,Zs]=T.useState([]),[to,as]=T.useState(!1),[ra,_t]=T.useState(!1);T.useEffect(()=>{N(),Vp()},[e,A]),T.useEffect(()=>{j==="users"&&si()},[j]),T.useEffect(()=>{const I=J=>{z&&!J.target.closest(".more-dropdown-container")&&q(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[z]),T.useEffect(()=>{y&&oe(y)},[A]),T.useEffect(()=>{At&&_e==="visual"&&rn("pipeline"),!At&&_e==="pipeline"&&rn("visual")},[At]);const N=async()=>{try{h(!0);const I=await X.get(`/api/db/${e}/tables`,{params:{page:A,per_page:F}});if(I.data.success){if(I.data.tables){const J=I.data.tables;v(J),s(J),W(I.data.total_pages),P(I.data.total_tables||J.length)}else if(I.data.collections){const J=I.data.collections;v(J),s(J),W(I.data.total_pages),P(I.data.total_collections||J.length)}a(I.data.db_type),c(I.data.handler),Xu()}else p(I.data.error||"Failed to fetch tables")}catch(I){console.error("Failed to fetch tables:",I),window.location.reload(!0)}finally{h(!1)}},it=I=>{m(`Table renamed/copied successfully to ${I}`),N(),ut(!1)},mt=I=>{if(!Gp(I,or,at=>{Dn(at),ji()})){if(I.key==="ArrowUp"&&ar.length>0){I.preventDefault();const at=ss("up",or);at!==null&&Dn(at)}else if(I.key==="ArrowDown"&&ar.length>0){I.preventDefault();const at=ss("down",or);at!==null&&Dn(at)}}},oe=async I=>{k(!0);try{const J=await X.get(`/api/db/${e}/tables/search`,{params:{q:I,page:A,per_page:F}});if(J.data.success){const at=J.data.tables||J.data.collections||[];s(at),W(J.data.total_pages),P(J.data.total)}}catch(J){console.error("Search error:",J)}finally{k(!1)}},$e=I=>{x(I),S&&clearTimeout(S);const J=setTimeout(()=>{oe(I)},300);_(J)},xe=I=>{as(!1),m(`Table ${I} created successfully`),N(),setTimeout(()=>{n(o==="nosql"?`/db/${e}/collection/${I}`:`/db/${e}/table/${I}`)},500)},Ne=async I=>{var J,at,Dt,Xt;if(I.preventDefault(),p(""),m(""),on(null),_e==="direct"){if(!sn.trim()){p("Query cannot be empty");return}try{const Pt=o==="nosql"?`/api/db/${e}/nosql_query`:`/api/db/${e}/query`,lr=await X.post(Pt,{query:sn});lr.data.success?(on(lr.data.result),m("Query executed successfully")):p(lr.data.error||"Query execution failed")}catch(Pt){p("Failed to execute query: "+(((at=(J=Pt.response)==null?void 0:J.data)==null?void 0:at.error)||Pt.message))}return}if(!Nr){p("Please select a table/collection");return}if(!Ce.some(Pt=>Pt.trim())){p("Please add at least one field");return}try{const Pt=await X.post(`/api/db/${e}/aggregation`,{table:Nr,table_alias:Ot||void 0,select_fields:Ce.filter(lr=>lr.trim()),group_by:Ti||void 0,order_by:xn||void 0,order_direction:yn,join_config:o==="sql"&&he?{table:he,table_alias:Ht||void 0,on:bn,type:vn}:void 0});Pt.data.success?(on(Pt.data.result),m("Aggregation executed successfully")):p(Pt.data.error||"Aggregation failed")}catch(Pt){p("Failed to execute aggregation: "+(((Xt=(Dt=Pt.response)==null?void 0:Dt.data)==null?void 0:Xt.error)||Pt.message))}},wn=()=>{nn([...Ce,""])},Ai=I=>{nn(Ce.filter((J,at)=>at!==I))},na=(I,J)=>{const at=[...Ce];at[I]=J,nn(at)},Be=()=>{Ir(""),Nt(""),nn([""]),Ei(""),Cr(""),Te("ASC"),Ze(""),Ft(""),Oe(""),Tr("INNER"),ct(""),on(null),Er(!0)},Li=()=>{Bt([...dt,{id:le,query:"",name:`Stage ${le}`,selected:!1}]),ae(le+1)},ia=I=>{dt.length!==1&&Bt(dt.filter(J=>J.id!==I))},ii=(I,J,at)=>{Bt(dt.map(Dt=>Dt.id===I?{...Dt,[J]:at}:Dt))},Gu=(I,J)=>{const at=dt.findIndex(Pt=>Pt.id===I);if(J==="up"&&at===0||J==="down"&&at===dt.length-1)return;const Dt=[...dt],Xt=J==="up"?at-1:at+1;[Dt[at],Dt[Xt]]=[Dt[Xt],Dt[at]],Bt(Dt)},zr=async I=>{var Dt,Xt;p(""),m(""),on(null);const J=I==="all"?dt:dt.filter(Pt=>Pt.selected);if(J.length===0){p("No stages selected for execution");return}const at=J.filter(Pt=>!Pt.query.trim());if(at.length>0){p(`Empty stages found: ${at.map(Pt=>Pt.name).join(", ")}`);return}try{const Pt=[];for(const Wr of J)try{const Al=JSON.parse(Wr.query.trim());Pt.push(Al)}catch(Al){p(`Invalid JSON in stage "${Wr.name}": ${Al.message}`);return}if(!mn.trim()){p("Please enter a collection name to run the pipeline on");return}const lr=mn.trim();if(!lr){p("Collection name is required for aggregation pipeline");return}const oi=`db.${lr}.aggregate(${JSON.stringify(Pt)})`;console.log("Executing aggregation:",oi);const jl=await X.post(`/api/db/${e}/nosql_query`,{query:oi});if(jl.data.success){const Wr=[{stageName:`Pipeline (${J.length} stages on ${lr})`,result:jl.data.result}];on(Wr),m(`Executed ${J.length} pipeline stage(s) on ${lr}`)}else p(jl.data.error||"Pipeline execution failed")}catch(Pt){p("Pipeline execution failed: "+(((Xt=(Dt=Pt.response)==null?void 0:Dt.data)==null?void 0:Xt.error)||Pt.message))}},Xu=async()=>{try{const I=await X.get(`/api/db/${e}/users`);I.data.success&&Ve(I.data.supports_users)}catch(I){console.error("Failed to check users support:",I),Ve(!1)}},si=async()=>{try{const I=await X.get(`/api/db/${e}/users`);I.data.success&&(Zs(I.data.users||[]),Ve(I.data.supports_users))}catch(I){console.error("Failed to fetch users:",I),Ve(!1)}},Vp=async()=>{try{const I=await X.get(`/api/db/${e}/capabilities`);if(I.data.success){lt(I.data.capabilities.supports_procedures||!1),kt(I.data.capabilities.supports_triggers||!1),rt(I.data.capabilities.supports_aggregation_pipeline||!1),Je(I.data.capabilities.supports_aggregation||!1);const J=I.data.capabilities.supports_views||!1;E(J),console.log(`Views support for ${e}: ${J}`)}if(o==="sql")try{const J=await X.get(`/api/db/${e}/partitions/support`);if(J.data.success){const at=J.data.supports_partitions||!1;$(at),console.log(`Partitions support for ${e}: ${at}`)}}catch(J){console.error("Failed to check partitions support:",J),$(!1)}Xu()}catch(I){console.error("Failed to check feature support:",I)}},Yp=async I=>{var at,Dt;const J=o==="nosql"?"collection":"table";if(window.confirm(`Are you sure you want to delete ${J} ${I}?`))try{const Xt=await X.post(`/api/db/${e}/table/${I}/delete`);Xt.data.success?(m(`Table ${I} deleted successfully`),N()):p(Xt.data.error||"Failed to delete table")}catch(Xt){p("Failed to delete table: "+(((Dt=(at=Xt.response)==null?void 0:at.data)==null?void 0:Dt.error)||Xt.message))}},sa=async I=>{var J,at;if(I.preventDefault(),p(""),m(""),tr(null),!or.trim()){p("Query cannot be empty");return}try{const Dt=o==="nosql"?`/api/db/${e}/nosql_query`:`/api/db/${e}/query`,Xt=await X.post(Dt,{query:or});Xt.data.success?(await Js(or),tr(Xt.data.result),m("Query executed successfully")):p(Xt.data.error||"Query execution failed")}catch(Dt){p("Failed to execute query: "+(((at=(J=Dt.response)==null?void 0:J.data)==null?void 0:at.error)||Dt.message))}},On=I=>{L(I),r({tab:I}),p(""),m(""),tr(null)},Mi=i,oa=()=>{x(""),s(b),W(Math.ceil(b.length/F)),D(1),N()},{suggestions:aa,showSuggestions:Qu,selectedIndex:Tl,handleQueryChange:El,handleKeyDown:Gp,selectSuggestion:Xp,hideSuggestions:Qp}=Op();return u?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading tables..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h3",{style:{margin:0,color:"#f0f0f0"},children:[o==="nosql"?"Collections":"Tables"," in ",e," (",o.toUpperCase(),")"]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[i.length," ",o==="nosql"?"collection":"table",i.length!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:I=>{I.preventDefault(),n("/")},style:{color:"#bb86fc"},children:" Back to Home"}),d.jsx("br",{}),d.jsx("br",{}),d.jsxs("button",{onClick:()=>{o==="nosql"?_t(!0):as(!0)},style:{padding:"10px 20px",background:"#9370db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:["Create New ",o==="nosql"?"Collection":"Table"]}),d.jsx("br",{}),d.jsx("br",{}),to&&d.jsx(uD,{dbName:e,onClose:()=>as(!1),onSuccess:xe}),ra&&d.jsx(sV,{dbName:e,onClose:()=>_t(!1),onSuccess:xe}),f&&d.jsx("p",{className:"error",children:f}),g&&d.jsx("p",{className:"success",children:g}),d.jsxs("div",{className:"tabs",children:[d.jsxs("button",{className:"tab-button",onClick:()=>On("tables"),style:{background:j==="tables"?"#4b0082":"#9370db"},children:[" ",o==="nosql"?"Collections":"Tables"]}),d.jsx("button",{className:"tab-button",onClick:()=>On("query"),style:{background:j==="query"?"#4b0082":"#9370db"},children:" Query"}),de&&d.jsx("button",{className:"tab-button",onClick:()=>On("aggregation"),style:{background:j==="aggregation"?"#4b0082":"#9370db"},children:" Aggregation"}),d.jsx("button",{className:"tab-button",onClick:()=>On("importexport"),style:{background:j==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),d.jsx("button",{className:"tab-button",onClick:()=>On("diagrams"),style:{background:j==="diagrams"?"#4b0082":"#9370db"},children:" Diagrams"}),tt&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/procedures`),style:{background:"#9370db"},children:" Procedures"}),bt&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/triggers`),style:{background:"#9370db"},children:" Triggers"}),o==="sql"&&d.jsxs("div",{style:{position:"relative",display:"inline-block"},className:"more-dropdown-container",children:[d.jsx("button",{className:"tab-button",onClick:()=>q(!z),style:{background:"#9370db",position:"relative"},children:" More "}),z&&d.jsxs("div",{style:{position:"absolute",top:"100%",left:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",minWidth:"150px",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:[B&&d.jsx("button",{onClick:()=>{On("views"),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:j==="views"?"#4b0082":"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer",borderBottom:"1px solid #444"},onMouseEnter:I=>I.target.style.background="#4b0082",onMouseLeave:I=>I.target.style.background=j==="views"?"#4b0082":"transparent",children:" Views"}),M&&d.jsx("button",{onClick:()=>{On("partitions"),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:j==="partitions"?"#4b0082":"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer",borderBottom:"1px solid #444"},onMouseEnter:I=>I.target.style.background="#4b0082",onMouseLeave:I=>I.target.style.background=j==="partitions"?"#4b0082":"transparent",children:" Partitions"}),os&&d.jsx("button",{onClick:()=>{n(`/db/${e}/users`),q(!1)},style:{display:"block",width:"100%",padding:"10px 15px",background:"transparent",color:"#f0f0f0",border:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:I=>I.target.style.background="#4b0082",onMouseLeave:I=>I.target.style.background="transparent",children:" Users"})]})]}),o==="nosql"&&os&&d.jsx("button",{className:"tab-button",onClick:()=>n(`/db/${e}/users`),style:{background:"#9370db"},children:" Users"})]}),j==="tables"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:`Search ${o==="nosql"?"collections":"tables"} on this page...`,value:y,onChange:I=>$e(I.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:oa,style:{marginLeft:"10px",padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Clear"}),d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:y&&(C?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):i.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",H," ",o==="nosql"?H===1?"collection matches":"collections match":H===1?"table matches":"tables match"]}))})]}),Mi.length>0?d.jsxs("table",{className:"table-list",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:o==="nosql"?"Collection Name":"Table Name"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:Mi.map(I=>{const J=typeof I=="string"?I:I.name,at=typeof I=="object"&&I.count!==void 0?` (${I.count} doc${I.count!==1?"s":""})`:"";return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx("strong",{children:J}),o==="nosql"&&d.jsx("span",{style:{color:"#999",fontSize:"0.9em"},children:at})]}),d.jsxs("td",{children:[d.jsx("button",{className:"view-btn",onClick:()=>{n(o==="nosql"?`/db/${e}/collection/${J}`:`/db/${e}/table/${J}`)},style:{background:"#1e9530"},children:"View"}),d.jsx("button",{onClick:()=>{V(J),ut(!0)},style:{background:"#ff9800"},children:"Rename"}),d.jsx("button",{onClick:()=>{const Dt=document.getElementById(`conn-table-${J}`);Dt&&(Dt.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const Xt=Dt.querySelector("details");Xt&&(Xt.open=!0)},500))},style:{background:"#17a2b8"},children:"Connection Info"}),d.jsx("button",{onClick:()=>Yp(J),style:{background:"#dc3545"},children:"Delete"})]})]},J)})})]}):d.jsxs("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:["No ",o==="nosql"?"collections":"tables"," found."]}),O>1&&d.jsxs("div",{className:"pagination",children:[A>1?d.jsx("a",{href:"#",onClick:I=>{I.preventDefault(),D(A-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",A," of ",O," (",H," total)"]}),A<O?d.jsx("a",{href:"#",onClick:I=>{I.preventDefault(),D(A+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),Mi.length>0&&d.jsxs("div",{style:{marginTop:"40px"},children:[d.jsx("h2",{children:"Table Connection Strings"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em"},children:" Connection info for accessing specific tables/collections"}),d.jsx("div",{style:{background:"#1e0033e6",padding:"15px",borderRadius:"5px",marginTop:"20px"},children:Mi.map(I=>{const J=typeof I=="string"?I:I.name;return d.jsx(uV,{dbName:e,tableName:J},J)})})]}),O>1&&d.jsxs("div",{className:"pagination",children:[A>1?d.jsx("a",{href:"#",onClick:I=>{I.preventDefault(),D(A-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",A," of ",O," (",H," total)"]}),A<O?d.jsx("a",{href:"#",onClick:I=>{I.preventDefault(),D(A+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),j==="query"&&d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:["Execute ",o.toUpperCase()," Query"]}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:"Execute queries including JOINs, GROUP BY, aggregations, and more."}),d.jsxs("form",{onSubmit:sa,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:or,onChange:I=>{El(I.target.value,J=>{Dn(J),ji()})},onKeyDown:mt,onBlur:()=>{setTimeout(()=>Qp(),200)},rows:10,cols:120,placeholder:o==="sql"?`Enter SQL query:

Examples:
  SELECT * FROM table_name
  SELECT * FROM table1 JOIN table2 ON table1.id = table2.id
  SELECT COUNT(*), category FROM products GROUP BY category
  SELECT AVG(price) FROM products WHERE category = 'electronics'`:`Enter NoSQL query (JSON format):

Examples:
  {"category": "electronics"}
  {"price": {"$gt": 100}}
  {"$and": [{"category": "books"}, {"price": {"$lt": 50}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),Qu&&aa.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:aa.map((I,J)=>d.jsx("div",{onClick:()=>{Xp(I,at=>{Dn(at),ji()})},style:{padding:"10px",cursor:"pointer",background:J===Tl?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:J<aa.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:at=>{at.target.style.background="#4b0082"},onMouseLeave:at=>{at.target.style.background=J===Tl?"#4b0082":"transparent"},children:I.length>100?I.substring(0,100)+"...":I},J))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",ar.length>0&&` (${ar.length} queries)`,Qu&&aa.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute Query"})]}),qt&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),typeof qt=="object"&&qt!==null&&!Array.isArray(qt)&&qt.result_type==="table"?Array.isArray(qt.result)&&qt.result.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(qt.result[0]).map(I=>d.jsx("th",{children:I},I))})}),d.jsx("tbody",{children:qt.result.map((I,J)=>d.jsx("tr",{children:Object.values(I).map((at,Dt)=>d.jsx("td",{children:at!=null?typeof at=="object"?JSON.stringify(at):String(at):"NULL"},Dt))},J))})]})}),d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20",marginTop:"10px"},children:[d.jsx("strong",{children:"Rows returned:"})," ",qt.result.length]})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Procedure executed successfully. No results returned."}):typeof qt=="object"&&qt!==null&&!Array.isArray(qt)&&qt.result_type==="status"?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:((Ku=qt.result)==null?void 0:Ku.status)||`Rows affected: ${qt.rows_affected||0}`}):d.jsx(d.Fragment,{children:o==="nosql"&&Array.isArray(qt)&&qt.length>0?qt.map((I,J)=>{const at=Object.keys(I)[0]||"doc_id",Dt=I[at]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Dt]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:at}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Dt})]}),Object.entries(I).map(([Xt,Pt])=>Xt===at?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Xt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Pt!=null?typeof Pt=="object"?JSON.stringify(Pt):String(Pt):"NULL"})]},Xt))]})]},J)}):o==="nosql"&&Array.isArray(qt)&&qt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",marginTop:"30px"},children:"Query executed successfully. No results returned."}):o==="sql"&&Array.isArray(qt)&&qt.length>0?qt[0]&&typeof qt[0]=="object"&&Object.keys(qt[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(qt[0]).map(I=>d.jsx("th",{children:I},I))})}),d.jsx("tbody",{children:qt.map((I,J)=>d.jsx("tr",{children:Object.values(I).map((at,Dt)=>d.jsx("td",{children:at!=null?typeof at=="object"?JSON.stringify(at):String(at):"NULL"},Dt))},J))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(qt)&&qt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof qt=="object"&&qt.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",qt.rows_affected]}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(qt,null,2)})})]})]}),j==="aggregation"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Aggregation & Complex Queries"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:"Build and execute queries, aggregations, and pipelines"}),d.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[!At&&d.jsx("button",{onClick:()=>rn("visual"),style:{padding:"10px 20px",background:_e==="visual"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Visual Builder"}),At&&d.jsx("button",{onClick:()=>rn("pipeline"),style:{padding:"10px 20px",background:_e==="pipeline"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Pipeline"}),d.jsx("button",{onClick:()=>rn("direct"),style:{padding:"10px 20px",background:_e==="direct"?"#4b0082":"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Direct Query"}),d.jsx("button",{onClick:Be,style:{padding:"10px 20px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginLeft:"auto"},children:" Reset"})]}),_e==="visual"&&!At&&d.jsxs("form",{onSubmit:Ne,children:[d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Collection:":"Table:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:Nr,onChange:I=>Ir(I.target.value),required:!0,style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsxs("option",{value:"",children:["Select ",o==="nosql"?"collection":"table"]}),i.map(I=>{const J=typeof I=="string"?I:I.name;return d.jsx("option",{value:J,children:J},J)})]}),o==="sql"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{style:{color:"#ccc"},children:"AS"}),d.jsx("input",{type:"text",value:Ot,onChange:I=>Nt(I.target.value),placeholder:"alias (optional)",style:{padding:"8px",width:"150px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]})]})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsxs("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:["Select Fields"," ",o==="nosql"?"(projection)":"(use * for all, or functions like COUNT(*), AVG(price))"," ",":"]}),Ce.map((I,J)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"8px"},children:[d.jsx("input",{type:"text",value:I,onChange:at=>na(J,at.target.value),placeholder:o==="nosql"?"e.g., name, email, 1 (to include field)":"e.g., name, COUNT(*), AVG(price)",style:{padding:"8px",flex:1,border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),Ce.length>1&&d.jsx("button",{type:"button",onClick:()=>Ai(J),style:{padding:"8px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]},J)),d.jsx("button",{type:"button",onClick:wn,style:{padding:"6px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"0.9em"},children:"+ Add Field"})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Group By (optional):"}),d.jsx("input",{type:"text",value:Ti,onChange:I=>Ei(I.target.value),placeholder:o==="nosql"?"e.g., $category, $userId":"e.g., category, user_id",style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),o==="nosql"&&d.jsx("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:" Use $ prefix for field names (e.g., $category)"})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Order By (optional):"}),d.jsxs("div",{style:{display:"flex",gap:"10px"},children:[d.jsx("input",{type:"text",value:xn,onChange:I=>Cr(I.target.value),placeholder:"e.g., name, count",style:{padding:"8px",flex:1,maxWidth:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsxs("select",{value:yn,onChange:I=>Te(I.target.value),style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"ASC",children:"Ascending"}),d.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),d.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(30, 0, 51, 0.3)",borderRadius:"8px"},children:[d.jsxs("h4",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[o==="nosql"?"Lookup (Join)":"JOIN"," (Optional)"]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"From Collection:":"Join Type:"}),o==="sql"?d.jsxs("select",{value:vn,onChange:I=>Tr(I.target.value),style:{padding:"8px",width:"200px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsx("option",{value:"INNER",children:"INNER JOIN"}),d.jsx("option",{value:"LEFT",children:"LEFT JOIN"}),d.jsx("option",{value:"RIGHT",children:"RIGHT JOIN"})]}):null]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Lookup Collection:":"Join Table:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:he,onChange:I=>Ze(I.target.value),style:{padding:"8px",width:"300px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"},children:[d.jsxs("option",{value:"",children:["No ",o==="nosql"?"lookup":"join"]}),i.map(I=>{const J=typeof I=="string"?I:I.name;return d.jsx("option",{value:J,children:J},J)})]}),o==="sql"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{style:{color:"#ccc"},children:"AS"}),d.jsx("input",{type:"text",value:Ht,onChange:I=>Ft(I.target.value),placeholder:"alias (optional)",style:{padding:"8px",width:"150px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]})]})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:o==="nosql"?"Local Field:":"Join ON condition:"}),d.jsx("input",{type:"text",value:bn,onChange:I=>Oe(I.target.value),placeholder:o==="nosql"?"e.g., department":"e.g., table1.id = table2.user_id",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]}),o==="nosql"&&he&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Foreign Field:"}),d.jsx("input",{type:"text",value:Ht,onChange:I=>Ft(I.target.value),placeholder:"e.g., deptCode",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Output Array Field Name (as):"}),d.jsx("input",{type:"text",value:vn,onChange:I=>Tr(I.target.value),placeholder:"e.g., departmentInfo",style:{padding:"8px",width:"400px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0"}}),d.jsx("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:" This will create an array field with matched documents"})]})]}),o==="nosql"&&d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"10px",lineHeight:"1.6"},children:[" Example: To join users with departments:",d.jsx("br",{}),"- Lookup Collection: departments",d.jsx("br",{}),"- Local Field: department (field in users)",d.jsx("br",{}),"- Foreign Field: deptCode (field in departments)",d.jsx("br",{}),"- Output Array: departmentInfo"]})]})]}),d.jsx("button",{type:"submit",style:{padding:"12px 30px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Execute Aggregation"})]}),_e==="pipeline"&&At&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[d.jsx("button",{onClick:Li,style:{padding:"10px 20px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Add Stage"}),d.jsx("button",{onClick:()=>zr("selected"),style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Execute Selected"}),d.jsx("button",{onClick:()=>zr("all"),style:{padding:"10px 20px",background:"#4b0082",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:" Execute All"})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:" Collection to run pipeline on:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[d.jsxs("select",{value:mn,onChange:I=>Fn(I.target.value),style:{padding:"10px",width:"350px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"",children:"Select a collection"}),i.map(I=>{const J=typeof I=="string"?I:I.name;return d.jsx("option",{value:J,children:J},J)})]}),d.jsx("span",{style:{color:"#ccc",fontSize:"0.9em"},children:"(required for execution)"})]})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:dt.map((I,J)=>d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"10px",border:I.selected?"2px solid #6a5acd":"1px solid #9370db"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",checked:I.selected,onChange:at=>ii(I.id,"selected",at.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),d.jsx("input",{type:"text",value:I.name,onChange:at=>ii(I.id,"name",at.target.value),style:{padding:"8px",background:"rgba(30, 0, 51, 0.5)",border:"1px solid #9370db",borderRadius:"5px",color:"#f0f0f0",fontWeight:"bold"}}),d.jsxs("span",{style:{color:"#999",fontSize:"0.9em"},children:["#",J+1]})]}),d.jsxs("div",{style:{display:"flex",gap:"5px"},children:[J>0&&d.jsx("button",{onClick:()=>Gu(I.id,"up"),style:{padding:"5px 10px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""}),J<dt.length-1&&d.jsx("button",{onClick:()=>Gu(I.id,"down"),style:{padding:"5px 10px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""}),dt.length>1&&d.jsx("button",{onClick:()=>ia(I.id),style:{padding:"5px 10px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:""})]})]}),d.jsx("textarea",{value:I.query,onChange:at=>ii(I.id,"query",at.target.value),rows:6,placeholder:`Enter stage query (JSON format):

Example:
{"$match": {"status": "active"}}
{"$group": {"_id": "$category", "count": {"$sum": 1}}}`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace"}})]},I.id))})]}),_e==="direct"&&d.jsxs("form",{onSubmit:Ne,children:[d.jsx("textarea",{value:sn,onChange:I=>ct(I.target.value),rows:10,cols:120,placeholder:o==="sql"?`Enter SQL aggregation query:

Examples:
  SELECT category, COUNT(*) as count FROM products GROUP BY category
  SELECT customer_id, AVG(total) FROM orders GROUP BY customer_id ORDER BY AVG(total) DESC
  SELECT p.category, AVG(p.price) FROM products p JOIN categories c ON p.category_id = c.id GROUP BY p.category`:`Enter NoSQL aggregation query (JSON format):

Examples:
  {"table": "products", "pipeline": [{"$group": {"_id": "$category", "count": {"$sum": 1}}}]}
  {"table": "orders", "pipeline": [{"$group": {"_id": "$customer_id", "avg": {"$avg": "$total"}}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{padding:"12px 30px",background:"#6a5acd",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},children:"Execute Query"})]}),Wt&&d.jsxs("div",{style:{marginTop:"30px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Results"}),At&&Array.isArray(Wt)&&(($n=Wt[0])!=null&&$n.stageName)?Wt.map((I,J)=>d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsxs("h4",{style:{color:"#6a5acd",marginBottom:"15px"},children:[" ",I.stageName]}),I.error?d.jsxs("div",{style:{padding:"15px",background:"#ffebee",borderLeft:"4px solid #f44336",borderRadius:"5px",color:"#c62828"},children:[" ",d.jsx("strong",{children:"Error:"})," ",I.error]}):I.result&&Array.isArray(I.result)&&I.result.length>0?I.result.map((at,Dt)=>{const Xt=Object.keys(at)[0]||"doc_id",Pt=at[Xt]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Pt]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Xt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Pt})]}),Object.entries(at).map(([lr,oi])=>lr===Xt?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:lr}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:oi!=null?typeof oi=="object"?JSON.stringify(oi):String(oi):"NULL"})]},lr))]})]},Dt)}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Stage executed successfully. No results returned."})]},J)):o==="nosql"&&Array.isArray(Wt)&&Wt.length>0?Wt.map((I,J)=>{const at=Object.keys(I)[0]||"doc_id",Dt=I[at]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Dt]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:at}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Dt})]}),Object.entries(I).map(([Xt,Pt])=>Xt===at?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Xt}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Pt!=null?typeof Pt=="object"?JSON.stringify(Pt):String(Pt):"NULL"})]},Xt))]})]},J)}):o==="sql"&&Array.isArray(Wt)&&Wt.length>0?Wt[0]&&typeof Wt[0]=="object"&&Object.keys(Wt[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(Wt[0]).map(I=>d.jsx("th",{children:I},I))})}),d.jsx("tbody",{children:Wt.map((I,J)=>d.jsx("tr",{children:Object.values(I).map((at,Dt)=>d.jsx("td",{children:at!=null?typeof at=="object"?JSON.stringify(at):String(at):"NULL"},Dt))},J))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(Wt)&&Wt.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof Wt=="object"&&Wt.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",Wt.rows_affected]}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(Wt,null,2)})]})]}),j==="importexport"&&d.jsx(Cb,{dbName:e,tableName:null,isTable:!1}),j==="diagrams"&&d.jsx(iV,{dbName:e,dbType:o}),j==="views"&&d.jsx(oV,{dbName:e}),j==="partitions"&&d.jsx(aV,{dbName:e,tables:i})]}),nt&&d.jsx(cV,{dbName:e,tableName:ft,onClose:()=>ut(!1),onSuccess:it})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yu(e){return e+.5|0}const ws=(e,t,r)=>Math.max(Math.min(e,r),t);function pc(e){return ws(Yu(e*2.55),0,255)}function Ps(e){return ws(Yu(e*255),0,255)}function Wi(e){return ws(Yu(e/2.55)/100,0,1)}function ak(e){return ws(Yu(e*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lx=[..."0123456789ABCDEF"],hV=e=>lx[e&15],fV=e=>lx[(e&240)>>4]+lx[e&15],Ad=e=>(e&240)>>4===(e&15),pV=e=>Ad(e.r)&&Ad(e.g)&&Ad(e.b)&&Ad(e.a);function gV(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Sn[e[1]]*17,g:255&Sn[e[2]]*17,b:255&Sn[e[3]]*17,a:t===5?Sn[e[4]]*17:255}:(t===7||t===9)&&(r={r:Sn[e[1]]<<4|Sn[e[2]],g:Sn[e[3]]<<4|Sn[e[4]],b:Sn[e[5]]<<4|Sn[e[6]],a:t===9?Sn[e[7]]<<4|Sn[e[8]]:255})),r}const mV=(e,t)=>e<255?t(e):"";function xV(e){var t=pV(e)?hV:fV;return e?"#"+t(e.r)+t(e.g)+t(e.b)+mV(e.a,t):void 0}const yV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qL(e,t,r){const n=t*Math.min(r,1-r),i=(s,o=(s+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function bV(e,t,r){const n=(i,s=(i+e/60)%6)=>r-r*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function vV(e,t,r){const n=qL(e,1,.5);let i;for(t+r>1&&(i=1/(t+r),t*=i,r*=i),i=0;i<3;i++)n[i]*=1-t-r,n[i]+=t;return n}function wV(e,t,r,n,i){return e===i?(t-r)/n+(t<r?6:0):t===i?(r-e)/n+2:(e-t)/n+4}function Tb(e){const r=e.r/255,n=e.g/255,i=e.b/255,s=Math.max(r,n,i),o=Math.min(r,n,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=wV(r,n,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Eb(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Ps)}function jb(e,t,r){return Eb(qL,e,t,r)}function kV(e,t,r){return Eb(vV,e,t,r)}function SV(e,t,r){return Eb(bV,e,t,r)}function UL(e){return(e%360+360)%360}function _V(e){const t=yV.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?pc(+t[5]):Ps(+t[5]));const i=UL(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=kV(i,s,o):t[1]==="hsv"?n=SV(i,s,o):n=jb(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function CV(e,t){var r=Tb(e);r[0]=UL(r[0]+t),r=jb(r),e.r=r[0],e.g=r[1],e.b=r[2]}function TV(e){if(!e)return;const t=Tb(e),r=t[0],n=ak(t[1]),i=ak(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${i}%, ${Wi(e.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const lk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ck={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EV(){const e={},t=Object.keys(ck),r=Object.keys(lk);let n,i,s,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],i=0;i<r.length;i++)s=r[i],a=a.replace(s,lk[s]);s=parseInt(ck[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Ld;function jV(e){Ld||(Ld=EV(),Ld.transparent=[0,0,0,0]);const t=Ld[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const AV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function LV(e){const t=AV.exec(e);let r=255,n,i,s;if(t){if(t[7]!==n){const o=+t[7];r=t[8]?pc(o):ws(o*255,0,255)}return n=+t[1],i=+t[3],s=+t[5],n=255&(t[2]?pc(n):ws(n,0,255)),i=255&(t[4]?pc(i):ws(i,0,255)),s=255&(t[6]?pc(s):ws(s,0,255)),{r:n,g:i,b:s,a:r}}}function MV(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Wi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Xg=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,da=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function RV(e,t,r){const n=da(Wi(e.r)),i=da(Wi(e.g)),s=da(Wi(e.b));return{r:Ps(Xg(n+r*(da(Wi(t.r))-n))),g:Ps(Xg(i+r*(da(Wi(t.g))-i))),b:Ps(Xg(s+r*(da(Wi(t.b))-s))),a:e.a+r*(t.a-e.a)}}function Md(e,t,r){if(e){let n=Tb(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=jb(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function VL(e,t){return e&&Object.assign(t||{},e)}function uk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ps(e[3]))):(t=VL(e,{r:0,g:0,b:0,a:1}),t.a=Ps(t.a)),t}function BV(e){return e.charAt(0)==="r"?LV(e):_V(e)}class yu{constructor(t){if(t instanceof yu)return t;const r=typeof t;let n;r==="object"?n=uk(t):r==="string"&&(n=gV(t)||jV(t)||BV(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=VL(this._rgb);return t&&(t.a=Wi(t.a)),t}set rgb(t){this._rgb=uk(t)}rgbString(){return this._valid?MV(this._rgb):void 0}hexString(){return this._valid?xV(this._rgb):void 0}hslString(){return this._valid?TV(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,i=t.rgb;let s;const o=r===s?.5:r,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=RV(this._rgb,t._rgb,r)),this}clone(){return new yu(this.rgb)}alpha(t){return this._rgb.a=Ps(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=Yu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Md(this._rgb,2,t),this}darken(t){return Md(this._rgb,2,-t),this}saturate(t){return Md(this._rgb,1,t),this}desaturate(t){return Md(this._rgb,1,-t),this}rotate(t){return CV(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pi(){}const PV=(()=>{let e=0;return()=>e++})();function Jt(e){return e==null}function ve(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ke(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ui(e,t){return Ke(e)?e:t}function It(e,t){return typeof e>"u"?t:e}const FV=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,YL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ce(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function ie(e,t,r,n){let i,s,o;if(ve(e))for(s=e.length,i=0;i<s;i++)t.call(r,e[i],i);else if(Gt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(r,e[o[i]],o[i])}function Rf(e,t){let r,n,i,s;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(i=e[r],s=t[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Bf(e){if(ve(e))return e.map(Bf);if(Gt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let i=0;for(;i<n;++i)t[r[i]]=Bf(e[r[i]]);return t}return e}function GL(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function DV(e,t,r,n){if(!GL(e))return;const i=t[e],s=r[e];Gt(i)&&Gt(s)?bu(i,s,n):t[e]=Bf(s)}function bu(e,t,r){const n=ve(t)?t:[t],i=n.length;if(!Gt(e))return e;r=r||{};const s=r.merger||DV;let o;for(let a=0;a<i;++a){if(o=n[a],!Gt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],e,o,r)}return e}function Pc(e,t){return bu(e,t,{merger:OV})}function OV(e,t,r){if(!GL(e))return;const n=t[e],i=r[e];Gt(n)&&Gt(i)?Pc(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Bf(i))}const dk={"":e=>e,x:e=>e.x,y:e=>e.y};function $V(e){const t=e.split("."),r=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function NV(e){const t=$V(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function zs(e,t){return(dk[t]||(dk[t]=NV(t)))(e)}function Ab(e){return e.charAt(0).toUpperCase()+e.slice(1)}const vu=e=>typeof e<"u",Ws=e=>typeof e=="function",hk=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function IV(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Zt=Math.PI,me=2*Zt,zV=me+Zt,Pf=Number.POSITIVE_INFINITY,WV=Zt/180,Re=Zt/2,ro=Zt/4,fk=Zt*2/3,XL=Math.log10,wi=Math.sign;function Fc(e,t,r){return Math.abs(e-t)<r}function pk(e){const t=Math.round(e);e=Fc(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(XL(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function HV(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((i,s)=>i-s).pop(),t}function qV(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wu(e){return!qV(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function UV(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function VV(e,t,r){let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n][r],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Xn(e){return e*(Zt/180)}function Lb(e){return e*(180/Zt)}function gk(e){if(!Ke(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function QL(e,t){const r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Zt&&(s+=me),{angle:s,distance:i}}function cx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function YV(e,t){return(e-t+zV)%me-Zt}function gr(e){return(e%me+me)%me}function ku(e,t,r,n){const i=gr(e),s=gr(t),o=gr(r),a=gr(s-i),l=gr(o-i),c=gr(i-s),u=gr(i-o);return i===s||i===o||n&&s===o||a>l&&c<u}function yr(e,t,r){return Math.max(t,Math.min(r,e))}function GV(e){return yr(e,-32768,32767)}function Ui(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Mb(e,t,r){r=r||(o=>e[o]<t);let n=e.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const ko=(e,t,r,n)=>Mb(e,r,n?i=>{const s=e[i][t];return s<r||s===r&&e[i+1][t]===r}:i=>e[i][t]<r),XV=(e,t,r)=>Mb(e,r,n=>e[n][t]>=r);function QV(e,t,r){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>r;)i--;return n>0||i<e.length?e.slice(n,i):e}const KL=["push","pop","shift","splice","unshift"];function KV(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),KL.forEach(r=>{const n="_onData"+Ab(r),i=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...s)}),o}})})}function mk(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(KL.forEach(s=>{delete e[s]}),delete e._chartjs)}function JL(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ZL=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function tM(e,t){let r=[],n=!1;return function(...i){r=i,n||(n=!0,ZL.call(window,()=>{n=!1,e.apply(t,r)}))}}function JV(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const Rb=e=>e==="start"?"left":e==="end"?"right":"center",pr=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,ZV=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function tY(e,t,r){const n=t.length;let i=0,s=n;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(i=Math.min(ko(l,u,h).lo,r?n:ko(t,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(y=>!Jt(y[a.axis]));i-=Math.max(0,m)}i=yr(i,0,n-1)}if(g){let m=Math.max(ko(l,o.axis,f,!0).hi+1,r?0:ko(t,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(m-1).findIndex(x=>!Jt(x[a.axis]));m+=Math.max(0,y)}s=yr(m,i,n)-i}else s=n-i}return{start:i,count:s}}function eY(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=i,!0;const s=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Rd=e=>e===0||e===1,xk=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*me/r)),yk=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*me/r)+1,Dc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Re)+1,easeOutSine:e=>Math.sin(e*Re),easeInOutSine:e=>-.5*(Math.cos(Zt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rd(e)?e:xk(e,.075,.3),easeOutElastic:e=>Rd(e)?e:yk(e,.075,.3),easeInOutElastic(e){return Rd(e)?e:e<.5?.5*xk(e*2,.1125,.45):.5+.5*yk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Dc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Dc.easeInBounce(e*2)*.5:Dc.easeOutBounce(e*2-1)*.5+.5};function Bb(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bk(e){return Bb(e)?e:new yu(e)}function Qg(e){return Bb(e)?e:new yu(e).saturate(.5).darken(.1).hexString()}const rY=["x","y","borderWidth","radius","tension"],nY=["color","borderColor","backgroundColor"];function iY(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:nY},numbers:{type:"number",properties:rY}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function sY(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vk=new Map;function oY(e,t){t=t||{};const r=e+JSON.stringify(t);let n=vk.get(r);return n||(n=new Intl.NumberFormat(e,t),vk.set(r,n)),n}function $p(e,t,r){return oY(t,r).format(e)}const aY={values(e){return ve(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let i,s=e;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=lY(e,r)}const o=XL(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$p(e,n,l)}};function lY(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Pb={formatters:aY};function cY(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qo=Object.create(null),ux=Object.create(null);function Oc(e,t){if(!t)return e;const r=t.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];e=e[s]||(e[s]=Object.create(null))}return e}function Kg(e,t,r){return typeof t=="string"?bu(Oc(e,t),r):bu(Oc(e,""),t)}class uY{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Qg(i.backgroundColor),this.hoverBorderColor=(n,i)=>Qg(i.borderColor),this.hoverColor=(n,i)=>Qg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return Kg(this,t,r)}get(t){return Oc(this,t)}describe(t,r){return Kg(ux,t,r)}override(t,r){return Kg(qo,t,r)}route(t,r,n,i){const s=Oc(this,t),o=Oc(this,n),a="_"+r;Object.defineProperties(s,{[a]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[a],c=o[i];return Gt(l)?Object.assign({},c,l):It(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(r=>r(this))}}var je=new uY({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iY,sY,cY]);function dY(e){return!e||Jt(e.size)||Jt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ff(e,t,r,n,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,r.push(i)),s>n&&(n=s),n}function hY(e,t,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},s=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let o=0;const a=r.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=r[l],h!=null&&!ve(h))o=Ff(e,i,s,o,h);else if(ve(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!ve(f)&&(o=Ff(e,i,s,o,f));e.restore();const p=s.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function no(e,t,r){const n=e.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((t-i)*n)/n+i}function wk(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function dx(e,t,r,n){eM(e,t,r,n,null)}function eM(e,t,r,n,i){let s,o,a,l,c,u,h,f;const p=t.pointStyle,g=t.rotation,m=t.radius;let y=(g||0)*WV;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(r,n,i/2,m,0,0,me):e.arc(r,n,m,0,me),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=fk,e.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),y+=fk,e.lineTo(r+Math.sin(y)*u,n-Math.cos(y)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+ro)*l,h=Math.cos(y+ro)*(i?i/2-c:l),a=Math.sin(y+ro)*l,f=Math.sin(y+ro)*(i?i/2-c:l),e.arc(r-h,n-a,c,y-Zt,y-Re),e.arc(r+f,n-o,c,y-Re,y),e.arc(r+h,n+a,c,y,y+Re),e.arc(r-f,n+o,c,y+Re,y+Zt),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(r-u,n-l,2*u,2*l);break}y+=ro;case"rectRot":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+f,n-o),e.lineTo(r+h,n+a),e.lineTo(r-f,n+o),e.closePath();break;case"crossRot":y+=ro;case"cross":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"star":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o),y+=ro,h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),e.moveTo(r-h,n-a),e.lineTo(r+h,n+a),e.moveTo(r+f,n-o),e.lineTo(r-f,n+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,e.moveTo(r-o,n-a),e.lineTo(r+o,n+a);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(y)*(i?i/2:m),n+Math.sin(y)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Vi(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Np(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ip(e){e.restore()}function fY(e,t,r,n,i){if(!t)return e.lineTo(r.x,r.y);if(i==="middle"){const s=(t.x+r.x)/2;e.lineTo(s,t.y),e.lineTo(s,r.y)}else i==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function pY(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function gY(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Jt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function mY(e,t,r,n,i){if(i.strikethrough||i.underline){const s=e.measureText(n),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function xY(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Uo(e,t,r,n,i,s={}){const o=ve(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,gY(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&xY(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Jt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,r,n,s.maxWidth)),e.fillText(c,r,n,s.maxWidth),mY(e,r,n,c,s),n+=Number(i.lineHeight);e.restore()}function Su(e,t){const{x:r,y:n,w:i,h:s,radius:o}=t;e.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Zt,Zt,!0),e.lineTo(r,n+s-o.bottomLeft),e.arc(r+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Zt,Re,!0),e.lineTo(r+i-o.bottomRight,n+s),e.arc(r+i-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Re,0,!0),e.lineTo(r+i,n+o.topRight),e.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-Re,!0),e.lineTo(r+o.topLeft,n)}const yY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vY(e,t){const r=(""+e).match(yY);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const wY=e=>+e||0;function Fb(e,t){const r={},n=Gt(t),i=n?Object.keys(t):t,s=Gt(e)?n?o=>It(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)r[o]=wY(s(o));return r}function rM(e){return Fb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function jo(e){return Fb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Sr(e){const t=rM(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qe(e,t){e=e||{},t=t||je.font;let r=It(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=It(e.style,t.style);n&&!(""+n).match(bY)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:It(e.family,t.family),lineHeight:vY(It(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:It(e.weight,t.weight),string:""};return i.string=dY(i),i}function Bd(e,t,r,n){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function kY(e,t,r){const{min:n,max:i}=e,s=YL(t,(i-n)/2),o=(a,l)=>r&&a===0?0:a+l;return{min:o(n,-Math.abs(s)),max:o(i,s)}}function Ks(e,t){return Object.assign(Object.create(e),t)}function Db(e,t=[""],r,n,i=()=>e[0]){const s=r||e;typeof n>"u"&&(n=oM("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:i,override:a=>Db([a,...e],t,s,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return iM(a,l,()=>LY(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Sk(a).includes(l)},ownKeys(a){return Sk(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function ul(e,t,r,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:nM(e,n),setContext:s=>ul(e,s,r,n),override:s=>ul(e.override(s),t,r,n)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return iM(s,o,()=>_Y(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function nM(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Ws(r)?r:()=>r,isIndexable:Ws(n)?n:()=>n}}const SY=(e,t)=>e?e+Ab(t):t,Ob=(e,t)=>Gt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function iM(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function _Y(e,t,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:o}=e;let a=n[t];return Ws(a)&&o.isScriptable(t)&&(a=CY(t,a,e,r)),ve(a)&&a.length&&(a=TY(t,a,e,o.isIndexable)),Ob(t,a)&&(a=ul(a,i,s&&s[t],o)),a}function CY(e,t,r,n){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=r;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||n);return a.delete(e),Ob(e,l)&&(l=$b(i._scopes,i,e,l)),l}function TY(e,t,r,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=r;if(typeof s.index<"u"&&n(e))return t[s.index%t.length];if(Gt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=$b(c,i,e,u);t.push(ul(h,s,o&&o[e],a))}}return t}function sM(e,t,r){return Ws(e)?e(t,r):e}const EY=(e,t)=>e===!0?t:typeof e=="string"?zs(t,e):void 0;function jY(e,t,r,n,i){for(const s of t){const o=EY(r,s);if(o){e.add(o);const a=sM(o._fallback,r,i);if(typeof a<"u"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function $b(e,t,r,n){const i=t._rootScopes,s=sM(t._fallback,r,n),o=[...e,...i],a=new Set;a.add(n);let l=kk(a,o,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=kk(a,o,s,l,n),l===null)?!1:Db(Array.from(a),[""],i,s,()=>AY(t,r,n))}function kk(e,t,r,n,i){for(;r;)r=jY(e,t,r,n,i);return r}function AY(e,t,r){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return ve(i)&&Gt(r)?r:i||{}}function LY(e,t,r,n){let i;for(const s of t)if(i=oM(SY(s,e),r),typeof i<"u")return Ob(e,i)?$b(r,n,e,i):i}function oM(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function Sk(e){let t=e._keys;return t||(t=e._keys=MY(e._scopes)),t}function MY(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function aM(e,t,r,n){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+r,u=t[c],o[a]={r:i.parse(zs(u,s),c)};return o}const RY=Number.EPSILON||1e-14,dl=(e,t)=>t<e.length&&!e[t].skip&&e[t],lM=e=>e==="x"?"y":"x";function BY(e,t,r,n){const i=e.skip?t:e,s=t,o=r.skip?t:r,a=cx(s,i),l=cx(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function PY(e,t,r){const n=e.length;let i,s,o,a,l,c=dl(e,0);for(let u=0;u<n-1;++u)if(l=c,c=dl(e,u+1),!(!l||!c)){if(Fc(t[u],0,RY)){r[u]=r[u+1]=0;continue}i=r[u]/t[u],s=r[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),r[u]=i*o*t[u],r[u+1]=s*o*t[u])}}function FY(e,t,r="x"){const n=lM(r),i=e.length;let s,o,a,l=dl(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=dl(e,c+1),!a)continue;const u=a[r],h=a[n];o&&(s=(u-o[r])/3,a[`cp1${r}`]=u-s,a[`cp1${n}`]=h-s*t[c]),l&&(s=(l[r]-u)/3,a[`cp2${r}`]=u+s,a[`cp2${n}`]=h+s*t[c])}}function DY(e,t="x"){const r=lM(t),n=e.length,i=Array(n).fill(0),s=Array(n);let o,a,l,c=dl(e,0);for(o=0;o<n;++o)if(a=l,l=c,c=dl(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[r]-l[r])/u:0}s[o]=a?c?wi(i[o-1])!==wi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}PY(e,i,s),FY(e,s,t)}function Pd(e,t,r){return Math.max(Math.min(e,r),t)}function OY(e,t){let r,n,i,s,o,a=Vi(e[0],t);for(r=0,n=e.length;r<n;++r)o=s,s=a,a=r<n-1&&Vi(e[r+1],t),s&&(i=e[r],o&&(i.cp1x=Pd(i.cp1x,t.left,t.right),i.cp1y=Pd(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Pd(i.cp2x,t.left,t.right),i.cp2y=Pd(i.cp2y,t.top,t.bottom)))}function $Y(e,t,r,n,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")DY(e,i);else{let c=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=BY(c,a,e[Math.min(s+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&OY(e,r)}function Nb(){return typeof window<"u"&&typeof document<"u"}function Ib(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Df(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const zp=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function NY(e,t){return zp(e).getPropertyValue(t)}const IY=["top","right","bottom","left"];function Ao(e,t,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=IY[i];n[s]=parseFloat(e[t+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const zY=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function WY(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:i,offsetY:s}=n;let o=!1,a,l;if(zY(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function uo(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,i=zp(r),s=i.boxSizing==="border-box",o=Ao(i,"padding"),a=Ao(i,"border","width"),{x:l,y:c,box:u}=WY(e,r),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=t;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*r.width/n),y:Math.round((c-f)/g*r.height/n)}}function HY(e,t,r){let n,i;if(t===void 0||r===void 0){const s=e&&Ib(e);if(!s)t=e.clientWidth,r=e.clientHeight;else{const o=s.getBoundingClientRect(),a=zp(s),l=Ao(a,"border","width"),c=Ao(a,"padding");t=o.width-c.width-l.width,r=o.height-c.height-l.height,n=Df(a.maxWidth,s,"clientWidth"),i=Df(a.maxHeight,s,"clientHeight")}}return{width:t,height:r,maxWidth:n||Pf,maxHeight:i||Pf}}const ks=e=>Math.round(e*10)/10;function qY(e,t,r,n){const i=zp(e),s=Ao(i,"margin"),o=Df(i.maxWidth,e,"clientWidth")||Pf,a=Df(i.maxHeight,e,"clientHeight")||Pf,l=HY(e,t,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Ao(i,"border","width"),p=Ao(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=ks(Math.min(c,o,l.maxWidth)),u=ks(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ks(c/2)),(t!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=ks(Math.floor(u*n))),{width:c,height:u}}function _k(e,t,r){const n=t||1,i=ks(e.height*n),s=ks(e.width*n);e.height=ks(e.height),e.width=ks(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=n,o.height=i,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const UY=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Nb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Ck(e,t){const r=NY(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ho(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function VY(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function YY(e,t,r,n){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=ho(e,i,r),a=ho(i,s,r),l=ho(s,t,r),c=ho(o,a,r),u=ho(a,l,r);return ho(c,u,r)}const GY=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},XY=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function $a(e,t,r){return e?GY(t,r):XY()}function cM(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function uM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function dM(e){return e==="angle"?{between:ku,compare:YV,normalize:gr}:{between:Ui,compare:(t,r)=>t-r,normalize:t=>t}}function Tk({start:e,end:t,count:r,loop:n,style:i}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:i}}function QY(e,t,r){const{property:n,start:i,end:s}=r,{between:o,normalize:a}=dM(n),l=t.length;let{start:c,end:u,loop:h}=e,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(t[c%l][n]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function hM(e,t,r){if(!r)return[e];const{property:n,start:i,end:s}=r,o=t.length,{compare:a,between:l,normalize:c}=dM(n),{start:u,end:h,loop:f,style:p}=QY(e,t,r),g=[];let m=!1,y=null,x,b,v;const C=()=>l(i,v,x)&&a(i,v)!==0,k=()=>a(s,x)===0||l(s,v,x),S=()=>m||C(),_=()=>!m||k();for(let A=u,D=u;A<=h;++A)b=t[A%o],!b.skip&&(x=c(b[n]),x!==v&&(m=l(x,i,s),y===null&&S()&&(y=a(x,i)===0?A:D),y!==null&&_()&&(g.push(Tk({start:y,end:A,loop:f,count:o,style:p})),y=null),D=A,v=x));return y!==null&&g.push(Tk({start:y,end:h,loop:f,count:o,style:p})),g}function fM(e,t){const r=[],n=e.segments;for(let i=0;i<n.length;i++){const s=hM(n[i],e.points,t);s.length&&r.push(...s)}return r}function KY(e,t,r,n){let i=0,s=t-1;if(r&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,r&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function JY(e,t,r,n){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=r;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,s.push({start:t%i,end:(l-1)%i,loop:n}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:n}),s}function ZY(e,t){const r=e.points,n=e.options.spanGaps,i=r.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=KY(r,i,s,n);if(n===!0)return Ek(e,[{start:o,end:a,loop:s}],r,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return Ek(e,JY(r,o,l,c),r,t)}function Ek(e,t,r,n){return!n||!n.setContext||!r?t:tG(e,t,r,n)}function tG(e,t,r,n){const i=e._chart.getContext(),s=jk(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=r.length,c=[];let u=s,h=t[0].start,f=h;function p(g,m,y,x){const b=a?-1:1;if(g!==m){for(g+=l;r[g%l].skip;)g-=b;for(;r[m%l].skip;)m+=b;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:y,style:x}),u=x,h=m%l)}}for(const g of t){h=a?h:g.start;let m=r[h%l],y;for(f=h+1;f<=g.end;f++){const x=r[f%l];y=jk(n.setContext(Ks(i,{type:"segment",p0:m,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),eG(y,u)&&p(h,f-1,g.loop,u),m=x,u=y}h<f-1&&p(h,f-1,g.loop,u)}return c}function jk(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function eG(e,t){if(!t)return!1;const r=[],n=function(i,s){return Bb(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Fd(e,t,r){return e.options.clip?e[r]:t[r]}function rG(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:Fd(r,t,"left"),right:Fd(r,t,"right"),top:Fd(n,t,"top"),bottom:Fd(n,t,"bottom")}:t}function pM(e,t){const r=t._clip;if(r.disabled)return!1;const n=rG(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,i){const s=r.listeners[i],o=r.duration;s.forEach(a=>a({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ZL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),s.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),r+=s.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $i=new nG;const Ak="transparent",iG={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=bk(e||Ak),i=n.valid&&bk(t||Ak);return i&&i.valid?i.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class sG{constructor(t,r,n,i){const s=r[n];i=Bd([t.to,i,s,t.from]);const o=Bd([t.from,s,i]);this._active=!0,this._fn=t.fn||iG[t.type||typeof o],this._easing=Dc[t.easing]||Dc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Bd([t.to,r,i,t.from]),this._from=Bd([t.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class gM{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Gt(t))return;const r=Object.keys(je.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Gt(s))return;const o={};for(const a of r)o[a]=s[a];(ve(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,r){const n=r.options,i=aG(t,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&oG(t.options.$animations,n).then(()=>{t.options=n},()=>{}),s}_createAnimations(t,r){const n=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(r),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,r));continue}const u=r[c];let h=s[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=h=new sG(f,t,c,u),i.push(h)}return i}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return $i.add(this._chart,n),!0}}function oG(e,t){const r=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const s=e[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function aG(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Lk(e,t){const r=e&&e.options||{},n=r.reverse,i=r.min===void 0?t:0,s=r.max===void 0?t:0;return{start:n?s:i,end:n?i:s}}function lG(e,t,r){if(r===!1)return!1;const n=Lk(e,r),i=Lk(t,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function cG(e){let t,r,n,i;return Gt(e)?(t=e.top,r=e.right,n=e.bottom,i=e.left):t=r=n=i=e,{top:t,right:r,bottom:n,left:i,disabled:e===!1}}function mM(e,t){const r=[],n=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function Mk(e,t,r,n={}){const i=e.keys,s=n.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===r){if(u=!0,n.all)continue;break}c=e.values[l],Ke(c)&&(s||t===0||wi(t)===wi(c))&&(t+=c)}return!u&&!n.all?0:t}function uG(e,t){const{iScale:r,vScale:n}=t,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}function Jg(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function dG(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function hG(e){const{min:t,max:r,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function fG(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function Rk(e,t,r,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const s=e[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function Bk(e,t){const{chart:r,_cachedMeta:n}=e,i=r._stacks||(r._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,c=o.axis,u=dG(s,o,n),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[l]:m,[c]:y}=g,x=g._stacks||(g._stacks={});f=x[c]=fG(i,u,m),f[a]=y,f._top=Rk(f,o,!0,n.type),f._bottom=Rk(f,o,!1,n.type);const b=f._visualValues||(f._visualValues={});b[a]=y}}function Zg(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function pG(e,t){return Ks(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function gG(e,t,r){return Ks(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Ql(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const tm=e=>e==="reset"||e==="none",Pk=(e,t)=>t?e:Object.assign({},e),mG=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:mM(r,!0),values:null};class Qi{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Jg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ql(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=It(n.xAxisID,Zg(t,"x")),o=r.yAxisID=It(n.yAxisID,Zg(t,"y")),a=r.rAxisID=It(n.rAxisID,Zg(t,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,o,a),u=r.vAxisID=i(l,o,s,a);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mk(this._data,this),t._stacked&&Ql(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(Gt(r)){const i=this._cachedMeta;this._data=uG(r,i)}else if(n!==r){if(n){mk(n,this);const i=this._cachedMeta;Ql(i),i._parsed=[]}r&&Object.isExtensible(r)&&KV(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Jg(r.vScale,r),r.stack!==n.stack&&(i=!0,Ql(r),r.stack=n.stack),this._resyncElements(t),(i||s!==r._stacked)&&(Bk(this,r._parsed),r._stacked=Jg(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:o}=n,a=s.axis;let l=t===0&&r===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{ve(i[t])?f=this.parseArrayData(n,i,t,r):Gt(i[t])?f=this.parseObjectData(n,i,t,r):f=this.parsePrimitiveData(n,i,t,r);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<r;++u)n._parsed[u+t]=h=f[u],l&&(p()&&(l=!1),c=h);n._sorted=l}o&&Bk(this,f)}parsePrimitiveData(t,r,n,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+n,h[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(r[g],g)};return h}parseArrayData(t,r,n,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+n,h=r[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,r,n,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=r[f],c[u]={x:s.parse(zs(p,a),f),y:o.parse(zs(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const i=this.chart,s=this._cachedMeta,o=r[t.axis],a={keys:mM(i,!0),values:r._stacks[t.axis]._visualValues};return Mk(a,o,s.index,{mode:n})}updateRangeFromParsed(t,r,n,i){const s=n[r.axis];let o=s===null?NaN:s;const a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=Mk(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&t===n.iScale,o=i.length,a=this._getOtherScale(t),l=mG(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=hG(a);let f,p;function g(){p=i[f];const m=p[a.axis];return!Ke(p[t.axis])||u>m||h<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,t,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let i,s,o;for(i=0,s=r.length;i<s;++i)o=r[i][t.axis],Ke(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=cG(It(this.options.clip,lG(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=gG(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=pG(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const i=r==="active",s=this._cachedDataOpts,o=t+"-"+r,a=s[o],l=this.enableOptionSharing&&vu(n);if(a)return Pk(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(je.elements[t]),g=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(Pk(m,l))),m}_resolveAnimations(t,r,n){const i=this.chart,s=this._cachedDataOpts,o=`animation-${r}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,n,r))}const c=new gM(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||tm(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),i=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:o}}updateElement(t,r,n,i){tm(i)?Object.assign(t,n):this._resolveAnimations(r,i).update(t,n)}updateSharedOptions(t,r,n){t&&!tm(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,i){t.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,s=r.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,r,n=!0){const i=this._cachedMeta,s=i.data,o=t+r;let a;const l=c=>{for(c.length+=r,a=c.length-1;a>=o;a--)c[a]=c[a-r]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,r),n&&this.updateElements(s,t,r,"reset")}updateElements(t,r,n,i){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,r);n._stacked&&Ql(n,i)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,i]=t;this[r](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(Qi,"defaults",{}),et(Qi,"datasetElementType",null),et(Qi,"dataElementType",null);function xG(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(e));e._cache.$bar=JL(n.sort((i,s)=>i-s))}return e._cache.$bar}function yG(e){const t=e.iScale,r=xG(t,e.type);let n=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(vu(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,s=r.length;i<s;++i)o=t.getPixelForValue(r[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return n}function bG(e,t,r,n){const i=r.barThickness;let s,o;return Jt(i)?(s=t.min*r.categoryPercentage,o=r.barPercentage):(s=i*n,o=1),{chunk:s/n,ratio:o,start:t.pixels[e]-s/2}}function vG(e,t,r,n){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=r.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:r.barPercentage,start:c}}function wG(e,t,r,n){const i=r.parse(e[0],n),s=r.parse(e[1],n),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function xM(e,t,r,n){return ve(e)?wG(e,t,r,n):t[r.axis]=r.parse(e,n),t}function Fk(e,t,r,n){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,f;for(c=r,u=r+n;c<u;++c)f=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(xM(f,h,s,c));return l}function em(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function kG(e,t,r){return e!==0?wi(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function SG(e){let t,r,n,i,s;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:t,top:i,bottom:s}}function _G(e,t,r,n){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=SG(e);i==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[Dk(u,o,a,l)]=!0,i=c)),s[Dk(i,o,a,l)]=!0,e.borderSkipped=s}function Dk(e,t,r,n){return n?(e=CG(e,t,r),e=Ok(e,r,t)):e=Ok(e,t,r),e}function CG(e,t,r){return e===t?r:e===r?t:e}function Ok(e,t,r){return e==="start"?t:e==="end"?r:e}function TG(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class yh extends Qi{parsePrimitiveData(t,r,n,i){return Fk(t,r,n,i)}parseArrayData(t,r,n,i){return Fk(t,r,n,i)}parseObjectData(t,r,n,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,g,m;for(f=n,p=n+i;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(zs(m,c),f),h.push(xM(zs(m,u),g,o,f));return h}updateRangeFromParsed(t,r,n,i){super.updateRangeFromParsed(t,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(t),o=s._custom,a=em(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,i);for(let p=r;p<r+n;p++){const g=this.getParsed(p),m=s||Jt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),x=(g._stacks||{})[a.axis],b={horizontal:c,base:m.base,enableBorderRadius:!x||em(g._custom)||o===x._top||o===x._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};f&&(b.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const v=b.options||t[p].options;_G(b,v,x,o),TG(b,v,u.ratio),this.updateElement(t[p],p,b,i)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(r),l=a&&a[n.axis],c=u=>{const h=u._parsed.find(p=>p[n.axis]===l),f=h&&h[u.vScale.axis];if(Jt(f)||isNaN(f))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[It(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const i=this._getStacks(t,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,o;for(s=0,o=r.data.length;s<o;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const a=t.barThickness;return{min:a||yG(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=em(c);let h=l[r.axis],f=0,p=n?this.applyStack(r,l,n):h,g,m;p!==h&&(f=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&wi(h)!==wi(c.barEnd)&&(f=0),f+=h);const y=!Jt(s)&&!u?s:f;let x=r.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(f+p):g=x,m=g-x,Math.abs(m)<o){m=kG(m,r,a)*o,h===a&&(x-=m/2);const b=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),C=Math.min(b,v),k=Math.max(b,v);x=Math.max(Math.min(x,k),C),g=x+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(a)){const b=wi(m)*r.getLineWidthForValue(a)/2;x+=b,m-=b}return{size:m,base:x,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){const n=r.scale,i=this.options,s=i.skipNull,o=It(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(r.grouped){const u=s?this._getStackCount(t):r.stackCount,h=i.barThickness==="flex"?vG(t,r,i,u*c):bG(t,r,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(It(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(o,r.min*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}et(yh,"id","bar"),et(yh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),et(yh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function EG(e,t,r){let n=1,i=1,s=0,o=0;if(t<me){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(v,C,k)=>ku(v,a,l,!0)?1:Math.max(C,C*r,k,k*r),g=(v,C,k)=>ku(v,a,l,!0)?-1:Math.min(C,C*r,k,k*r),m=p(0,c,h),y=p(Re,u,f),x=g(Zt,c,h),b=g(Zt+Re,u,f);n=(m-x)/2,i=(y-b)/2,s=-(m+x)/2,o=-(y+b)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:o}}class ja extends Qi{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(Gt(n[t])){const{key:l="value"}=this._parsing;s=c=>+zs(n[c],l)}let o,a;for(o=t,a=t+r;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Xn(this.options.rotation-90)}_getCircumference(){return Xn(this.options.circumference)}_getRotationExtents(){let t=me,r=-me;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),r=Math.max(r,s+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(FV(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=EG(h,u,l),y=(n.width-o)/f,x=(n.height-o)/p,b=Math.max(Math.min(y,x)/2,0),v=YL(this.options.radius,b),C=Math.max(v*l,0),k=(v-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=m*v,i.total=this.calculateTotal(),this.outerRadius=v-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/me)}updateElements(t,r,n,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,i);let x=this._getRotation(),b;for(b=0;b<r;++b)x+=this._circumference(b,s);for(b=r;b<r+n;++b){const v=this._circumference(b,s),C=t[b],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+v,circumference:v,outerRadius:g,innerRadius:p};y&&(k.options=m||this.resolveDataElementOptions(b,C.active?"active":i)),x+=v,this.updateElement(C,b,k,i)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,i;for(i=0;i<r.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?me*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=$p(r._parsed[t],n.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let r=0;const n=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,i=t.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(It(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}et(ja,"id","doughnut"),et(ja,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),et(ja,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),et(ja,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data,{labels:{pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:n,borderRadius:o&&(a||h.borderRadius),index:c}}):[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class bh extends Qi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,o=this.chart._animationsDisabled;let{start:a,count:l}=tY(r,i,o);this._drawStart=a,this._drawCount=l,eY(r)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,r,n,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,i),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,y=wu(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none",b=r+n,v=t.length;let C=r>0&&this.getParsed(r-1);for(let k=0;k<v;++k){const S=t[k],_=x?S:{};if(k<r||k>=b){_.skip=!0;continue}const A=this.getParsed(k),D=Jt(A[p]),F=_[f]=o.getPixelForValue(A[f],k),O=_[p]=s||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],k);_.skip=isNaN(F)||isNaN(O)||D,_.stop=k>0&&Math.abs(A[f]-C[f])>y,m&&(_.parsed=A,_.raw=c.data[k]),h&&(_.options=u||this.resolveDataElementOptions(k,S.active?"active":i)),x||this.updateElement(S,k,_,i),C=A}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}et(bh,"id","line"),et(bh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(bh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $c extends Qi{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=$p(r._parsed[t].r,n.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,r,n,i){return aM.bind(this)(t,r,n,i)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,n=t.options,i=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,r,n,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Zt;let p=f,g;const m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,i,m);for(g=r;g<r+n;g++){const y=t[g];let x=p,b=p+this._computeAngle(g,i,m),v=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=b,s&&(l.animateScale&&(v=0),l.animateRotate&&(x=b=f));const C={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:x,endAngle:b,options:this.resolveDataElementOptions(g,y.active?"active":i)};this.updateElement(y,g,C,i)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&r++}),r}_computeAngle(t,r,n){return this.chart.getDataVisibility(t)?Xn(this.resolveDataElementOptions(t,r).angle||n):0}}et($c,"id","polarArea"),et($c,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),et($c,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return r.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class hx extends ja{}et(hx,"id","pie"),et(hx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Nc extends Qi{getLabelAndValue(t){const r=this._cachedMeta.vScale,n=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(t,r,n,i){return aM.bind(this)(t,r,n,i)}update(t){const r=this._cachedMeta,n=r.dataset,i=r.data||[],s=r.iScale.getLabels();if(n.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,r,n,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=r;a<r+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,f=o?s.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}et(Nc,"id","radar"),et(Nc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),et(Nc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function io(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zb{constructor(t){et(this,"options");this.options=t||{}}static override(t){Object.assign(zb.prototype,t)}init(){}formats(){return io()}parse(){return io()}format(){return io()}add(){return io()}diff(){return io()}startOf(){return io()}endOf(){return io()}}var jG={_date:zb};function AG(e,t,r,n){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?XV:ko;if(n){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=c(s,t,r-h),p=c(s,t,r+h);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,t,r);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!Jt(m[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(m=>!Jt(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Wp(e,t,r,n,i){const s=e.getSortedVisibleDatasetMetas(),o=r[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=AG(s[a],t,o,i);for(let p=h;p<=f;++p){const g=u[p];g.skip||n(g,c,p)}}}function LG(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,i){const s=t?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function rm(e,t,r,n,i){const s=[];return!i&&!e.isPointInArea(t)||Wp(e,r,t,function(a,l,c){!i&&!Vi(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function MG(e,t,r,n){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=QL(o,{x:t.x,y:t.y});ku(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Wp(e,r,t,s),i}function RG(e,t,r,n,i,s){let o=[];const a=LG(r);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const g=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!p)return;const y=a(t,g);y<l?(o=[{element:u,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:f})}return Wp(e,r,t,c),o}function nm(e,t,r,n,i,s){return!s&&!e.isPointInArea(t)?[]:r==="r"&&!n?MG(e,t,r,i):RG(e,t,r,n,i,s)}function $k(e,t,r,n,i){const s=[],o=r==="x"?"inXRange":"inYRange";let a=!1;return Wp(e,r,t,(l,c,u)=>{l[o]&&l[o](t[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:s}var BG={modes:{index(e,t,r,n){const i=uo(t,e),s=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?rm(e,i,s,n,o):nm(e,i,s,!1,n,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,r,n){const i=uo(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;let a=r.intersect?rm(e,i,s,n,o):nm(e,i,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,r,n){const i=uo(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;return rm(e,i,s,n,o)},nearest(e,t,r,n){const i=uo(t,e),s=r.axis||"xy",o=r.includeInvisible||!1;return nm(e,i,s,r.intersect,n,o)},x(e,t,r,n){const i=uo(t,e);return $k(e,i,"x",r.intersect,n)},y(e,t,r,n){const i=uo(t,e);return $k(e,i,"y",r.intersect,n)}}};const yM=["left","top","right","bottom"];function Kl(e,t){return e.filter(r=>r.pos===t)}function Nk(e,t){return e.filter(r=>yM.indexOf(r.pos)===-1&&r.box.axis===t)}function Jl(e,t){return e.sort((r,n)=>{const i=t?n:r,s=t?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function PG(e){const t=[];let r,n,i,s,o,a;for(r=0,n=(e||[]).length;r<n;++r)i=e[r],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function FG(e){const t={};for(const r of e){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!yM.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function DG(e,t){const r=FG(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=r[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return r}function OG(e){const t=PG(e),r=Jl(t.filter(c=>c.box.fullSize),!0),n=Jl(Kl(t,"left"),!0),i=Jl(Kl(t,"right")),s=Jl(Kl(t,"top"),!0),o=Jl(Kl(t,"bottom")),a=Nk(t,"x"),l=Nk(t,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Kl(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Ik(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function bM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function $G(e,t,r,n){const{pos:i,box:s}=r,o=e.maxPadding;if(!Gt(i)){r.size&&(e[i]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?s.height:s.width),r.size=h.size/h.count,e[i]+=r.size}s.getPadding&&bM(o,s.getPadding());const a=Math.max(0,t.outerWidth-Ik(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ik(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function NG(e){const t=e.maxPadding;function r(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function IG(e,t){const r=t.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],r[o])}),s}return n(e?["left","right"]:["top","bottom"])}function gc(e,t,r,n){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,IG(a.horizontal,t));const{same:h,other:f}=$G(t,r,a,n);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&gc(i,t,r,n)||u}function Dd(e,t,r,n,i){e.top=r,e.left=t,e.right=t+n,e.bottom=r+i,e.width=n,e.height=i}function zk(e,t,r,n){const i=r.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;vu(c.start)&&(o=c.start),l.fullSize?Dd(l,i.left,o,r.outerWidth-i.right-i.left,f):Dd(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;vu(c.start)&&(s=c.start),l.fullSize?Dd(l,s,i.top,f,r.outerHeight-i.bottom-i.top):Dd(l,s,t.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}var En={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const i=Sr(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(r-i.height,0),a=OG(e.boxes),l=a.vertical,c=a.horizontal;ie(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:r,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);bM(f,Sr(n));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=DG(l.concat(c),h);gc(a.fullSize,p,h,g),gc(l,p,h,g),gc(c,p,h,g)&&gc(l,p,h,g),NG(p),zk(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,zk(a.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ie(a.chartArea,m=>{const y=m.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class vM{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,i){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(t){return!0}updateConfig(t){}}class zG extends vM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vh="$chartjs",WG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wk=e=>e===null||e==="";function HG(e,t){const r=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[vh]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Wk(i)){const s=Ck(e,"width");s!==void 0&&(e.width=s)}if(Wk(n))if(e.style.height==="")e.height=e.width/(t||2);else{const s=Ck(e,"height");s!==void 0&&(e.height=s)}return e}const wM=UY?{passive:!0}:!1;function qG(e,t,r){e&&e.addEventListener(t,r,wM)}function UG(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,wM)}function VG(e,t){const r=WG[e.type]||e.type,{x:n,y:i}=uo(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Of(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function YG(e,t,r){const n=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Of(a.addedNodes,n),o=o&&!Of(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function GG(e,t,r){const n=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Of(a.removedNodes,n),o=o&&!Of(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const _u=new Map;let Hk=0;function kM(){const e=window.devicePixelRatio;e!==Hk&&(Hk=e,_u.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function XG(e,t){_u.size||window.addEventListener("resize",kM),_u.set(e,t)}function QG(e){_u.delete(e),_u.size||window.removeEventListener("resize",kM)}function KG(e,t,r){const n=e.canvas,i=n&&Ib(n);if(!i)return;const s=tM((a,l)=>{const c=i.clientWidth;r(a,l),c<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),XG(e,s),o}function im(e,t,r){r&&r.disconnect(),t==="resize"&&QG(e)}function JG(e,t,r){const n=e.canvas,i=tM(s=>{e.ctx!==null&&r(VG(s,e))},e);return qG(n,t,i),i}class ZG extends vM{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(HG(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[vh])return!1;const n=r[vh].initial;["height","width"].forEach(s=>{const o=n[s];Jt(o)?r.removeAttribute(s):r.setAttribute(s,o)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[vh],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const i=t.$proxies||(t.$proxies={}),o={attach:YG,detach:GG,resize:KG}[r]||JG;i[r]=o(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),i=n[r];if(!i)return;({attach:im,detach:im,resize:im}[r]||UG)(t,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,i){return qY(t,r,n,i)}isAttached(t){const r=t&&Ib(t);return!!(r&&r.isConnected)}}function tX(e){return!Nb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?zG:ZG}class ei{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return wu(this.x)&&wu(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const i={};return t.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}}et(ei,"defaults",{}),et(ei,"defaultRoutes");function eX(e,t){const r=e.options.ticks,n=rX(e),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?iX(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return sX(t,c,s,o/i),c;const u=nX(s,t,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Od(t,c,u,Jt(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Od(t,c,u,s[h],s[h+1]);return Od(t,c,u,l,Jt(p)?t.length:l+p),c}return Od(t,c,u),c}function rX(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),i=e._maxLength/r;return Math.floor(Math.min(n,i))}function nX(e,t,r){const n=oX(e),i=t.length/r;if(!n)return Math.max(i,1);const s=HV(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function iX(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function sX(e,t,r,n){let i=0,s=r[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=r[i*n])}function Od(e,t,r,n,i){const s=It(n,0),o=Math.min(It(i,e.length),e.length);let a=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)a++,u=Math.round(s+a*r);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*r))}function oX(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const aX=e=>e==="left"?"right":e==="right"?"left":e,qk=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,Uk=(e,t)=>Math.min(t||e,e);function Vk(e,t){const r=[],n=e.length/t,i=e.length;let s=0;for(;s<i;s+=n)r.push(e[Math.floor(s)]);return r}function lX(e,t,r){const n=e.ticks.length,i=Math.min(t,n-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function cX(e,t){ie(e,r=>{const n=r.gc,i=n.length/2;let s;if(i>t){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function Zl(e){return e.drawTicks?e.tickLength:0}function Yk(e,t){if(!e.display)return 0;const r=qe(e.font,t),n=Sr(e.padding);return(ve(e.text)?e.text.length:1)*r.lineHeight+n.height}function uX(e,t){return Ks(e,{scale:t,type:"scale"})}function dX(e,t,r){return Ks(e,{tick:r,index:t,type:"tick"})}function hX(e,t,r){let n=Rb(e);return(r&&t!=="right"||!r&&t==="right")&&(n=aX(n)),n}function fX(e,t,r,n){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,p,g;const m=o-i,y=a-s;if(e.isHorizontal()){if(p=pr(n,s,a),Gt(r)){const x=Object.keys(r)[0],b=r[x];g=u[x].getPixelForValue(b)+m-t}else r==="center"?g=(c.bottom+c.top)/2+m-t:g=qk(e,r,t);f=a-s}else{if(Gt(r)){const x=Object.keys(r)[0],b=r[x];p=u[x].getPixelForValue(b)-y+t}else r==="center"?p=(c.left+c.right)/2-y+t:p=qk(e,r,t);g=pr(n,o,i),h=r==="left"?-Re:Re}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class _l extends ei{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return t=ui(t,Number.POSITIVE_INFINITY),r=ui(r,Number.NEGATIVE_INFINITY),n=ui(n,Number.POSITIVE_INFINITY),i=ui(i,Number.NEGATIVE_INFINITY),{min:ui(t,n),max:ui(r,i),minDefined:Ke(t),maxDefined:Ke(r)}}getMinMax(t){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:r,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(r=Math.min(r,o.min)),s||(n=Math.max(n,o.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:ui(r,ui(n,r)),max:ui(n,ui(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kY(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Vk(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n],s.label=ce(r.callback,[s.value,n,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=Uk(this.ticks.length,t.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=yr(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Zl(t.grid)-r.padding-Yk(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Lb(Math.min(Math.asin(yr((u.highest.height+6)/a,-1,1)),Math.asin(yr(l/c,-1,1))-Math.asin(yr(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Yk(i,r.options.font);if(a?(t.width=this.maxWidth,t.height=Zl(s)+l):(t.height=this.maxHeight,t.width=Zl(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,g=Xn(this.labelRotation),m=Math.cos(g),y=Math.sin(g);if(a){const x=n.mirror?0:y*h.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+x+p)}else{const x=n.mirror?0:m*h.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+x+p)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*r.height):(f=n*t.height,p=i*r.width):s==="start"?p=r.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,p=r.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)Jt(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Vk(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(r/Uk(r,n));let c=0,u=0,h,f,p,g,m,y,x,b,v,C,k;for(h=0;h<r;h+=l){if(g=t[h].label,m=this._resolveTickFontOptions(h),i.font=y=m.string,x=s[y]=s[y]||{data:{},gc:[]},b=m.lineHeight,v=C=0,!Jt(g)&&!ve(g))v=Ff(i,x.data,x.gc,v,g),C=b;else if(ve(g))for(f=0,p=g.length;f<p;++f)k=g[f],!Jt(k)&&!ve(k)&&(v=Ff(i,x.data,x.gc,v,k),C+=b);o.push(v),a.push(C),c=Math.max(v,c),u=Math.max(C,u)}cX(s,r);const S=o.indexOf(c),_=a.indexOf(u),A=D=>({width:o[D]||0,height:a[D]||0});return{first:A(0),last:A(r-1),widest:A(S),highest:A(_),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return GV(this._alignToPixels?no(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=dX(this.getContext(),t,n))}return this.$context||(this.$context=uX(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Xn(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Zl(s),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,y=m/2,x=function(L){return no(n,L,m)};let b,v,C,k,S,_,A,D,F,O,W,H;if(o==="top")b=x(this.bottom),_=this.bottom-f,D=b-y,O=x(t.top)+y,H=t.bottom;else if(o==="bottom")b=x(this.top),O=t.top,H=x(t.bottom)-y,_=b+y,D=this.top+f;else if(o==="left")b=x(this.right),S=this.right-f,A=b-y,F=x(t.left)+y,W=t.right;else if(o==="right")b=x(this.left),F=t.left,W=x(t.right)-y,S=b+y,A=this.left+f;else if(r==="x"){if(o==="center")b=x((t.top+t.bottom)/2+.5);else if(Gt(o)){const L=Object.keys(o)[0],B=o[L];b=x(this.chart.scales[L].getPixelForValue(B))}O=t.top,H=t.bottom,_=b+y,D=_+f}else if(r==="y"){if(o==="center")b=x((t.left+t.right)/2);else if(Gt(o)){const L=Object.keys(o)[0],B=o[L];b=x(this.chart.scales[L].getPixelForValue(B))}S=b-y,A=S-f,F=t.left,W=t.right}const P=It(i.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/P));for(v=0;v<h;v+=j){const L=this.getContext(v),B=s.setContext(L),E=a.setContext(L),M=B.lineWidth,$=B.color,z=E.dash||[],q=E.dashOffset,nt=B.tickWidth,ut=B.tickColor,ft=B.tickBorderDash||[],V=B.tickBorderDashOffset;C=lX(this,v,l),C!==void 0&&(k=no(n,C,M),c?S=A=F=W=k:_=D=O=H=k,p.push({tx1:S,ty1:_,tx2:A,ty2:D,x1:F,y1:O,x2:W,y2:H,width:M,color:$,borderDash:z,borderDashOffset:q,tickWidth:nt,tickColor:ut,tickBorderDash:ft,tickBorderDashOffset:V}))}return this._ticksLength=h,this._borderValue=b,p}_computeLabelItems(t){const r=this.axis,n=this.options,{position:i,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Zl(n.grid),p=f+u,g=h?-u:p,m=-Xn(this.labelRotation),y=[];let x,b,v,C,k,S,_,A,D,F,O,W,H="middle";if(i==="top")S=this.bottom-g,_=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+g,_=this._getXAxisLabelAlignment();else if(i==="left"){const j=this._getYAxisLabelAlignment(f);_=j.textAlign,k=j.x}else if(i==="right"){const j=this._getYAxisLabelAlignment(f);_=j.textAlign,k=j.x}else if(r==="x"){if(i==="center")S=(t.top+t.bottom)/2+p;else if(Gt(i)){const j=Object.keys(i)[0],L=i[j];S=this.chart.scales[j].getPixelForValue(L)+p}_=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")k=(t.left+t.right)/2-p;else if(Gt(i)){const j=Object.keys(i)[0],L=i[j];k=this.chart.scales[j].getPixelForValue(L)}_=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?H="top":l==="end"&&(H="bottom"));const P=this._getLabelSizes();for(x=0,b=a.length;x<b;++x){v=a[x],C=v.label;const j=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,D=this._resolveTickFontOptions(x),F=D.lineHeight,O=ve(C)?C.length:1;const L=O/2,B=j.color,E=j.textStrokeColor,M=j.textStrokeWidth;let $=_;o?(k=A,_==="inner"&&(x===b-1?$=this.options.reverse?"left":"right":x===0?$=this.options.reverse?"right":"left":$="center"),i==="top"?c==="near"||m!==0?W=-O*F+F/2:c==="center"?W=-P.highest.height/2-L*F+F:W=-P.highest.height+F/2:c==="near"||m!==0?W=F/2:c==="center"?W=P.highest.height/2-L*F:W=P.highest.height-O*F,h&&(W*=-1),m!==0&&!j.showLabelBackdrop&&(k+=F/2*Math.sin(m))):(S=A,W=(1-O)*F/2);let z;if(j.showLabelBackdrop){const q=Sr(j.backdropPadding),nt=P.heights[x],ut=P.widths[x];let ft=W-q.top,V=0-q.left;switch(H){case"middle":ft-=nt/2;break;case"bottom":ft-=nt;break}switch(_){case"center":V-=ut/2;break;case"right":V-=ut;break;case"inner":x===b-1?V-=ut:x>0&&(V-=ut/2);break}z={left:V,top:ft,width:ut+q.width,height:nt+q.height,color:j.backdropColor}}y.push({label:C,font:D,textOffset:W,options:{rotation:m,color:B,strokeColor:E,strokeWidth:M,textAlign:$,textBaseline:H,translation:[k,S],backdrop:z}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Xn(this.labelRotation))return t==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:i,width:s,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,i,s,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,o=i.length;s<o;++s){const l=i[s];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=no(t,this.left,o)-o/2,u=no(t,this.right,a)+a/2,h=f=l):(h=no(t,this.top,o)-o/2,f=no(t,this.bottom,a)+a/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Np(n,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Uo(n,c,0,u,l,a)}i&&Ip(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=qe(n.font),o=Sr(n.padding),a=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Gt(r)?(l+=o.bottom,ve(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=fX(this,l,r,a);Uo(t,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:f,textAlign:hX(a,r,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=It(t.grid&&t.grid.z,-1),i=It(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==_l.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return qe(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $d{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;mX(r)&&(n=this.register(r));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,pX(t,o,n),this.override&&je.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,i=this.scope;n in r&&delete r[n],i&&n in je[i]&&(delete je[i][n],this.override&&delete qo[n])}}function pX(e,t,r){const n=bu(Object.create(null),[r?je.get(r):{},je.get(t),e.defaults]);je.set(t,n),e.defaultRoutes&&gX(t,e.defaultRoutes),e.descriptors&&je.describe(t,e.descriptors)}function gX(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),i=n.pop(),s=[e].concat(n).join("."),o=t[r].split("."),a=o.pop(),l=o.join(".");je.route(s,i,l,a)})}function mX(e){return"id"in e&&"defaults"in e}class xX{constructor(){this.controllers=new $d(Qi,"datasets",!0),this.elements=new $d(ei,"elements"),this.plugins=new $d(Object,"plugins"),this.scales=new $d(_l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):ie(i,o=>{const a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,r,n){const i=Ab(t);ce(n["before"+i],[],n),r[t](n),ce(n["after"+i],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const i=r.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var gi=new xX;class yX{constructor(){this._init=void 0}notify(t,r,n,i){if(r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,r,n);return r==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,r,n,i){i=i||{};for(const s of t){const o=s.plugin,a=o[n],l=[r,i,s.options];if(ce(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,i=It(n.options&&n.options.plugins,{}),s=bX(n);return i===!1&&!r?[]:wX(t,s,i,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(r,n),t,"stop"),this._notify(i(n,r),t,"start")}}function bX(e){const t={},r=[],n=Object.keys(gi.plugins.items);for(let s=0;s<n.length;s++)r.push(gi.getPlugin(n[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function vX(e,t){return!t&&e===!1?null:e===!0?{}:e}function wX(e,{plugins:t,localIds:r},n,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=vX(n[l],i);c!==null&&s.push({plugin:a,options:kX(e.config,{plugin:a,local:r[l]},c,o)})}return s}function kX(e,{plugin:t,local:r},n,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(n,s);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fx(e,t){const r=je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function SX(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function _X(e,t){return e===t?"_index_":"_value_"}function Gk(e){if(e==="x"||e==="y"||e==="r")return e}function CX(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function px(e,...t){if(Gk(e))return e;for(const r of t){const n=r.axis||CX(r.position)||e.length>1&&Gk(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Xk(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function TX(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return Xk(e,"x",r[0])||Xk(e,"y",r[0])}return{}}function EX(e,t){const r=qo[e.type]||{scales:{}},n=t.scales||{},i=fx(e.type,t),s=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Gt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=px(o,a,TX(o,e),je.scales[a.type]),c=_X(l,i),u=r.scales||{};s[o]=Pc(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||fx(a,t),u=(qo[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=SX(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Pc(s[p],[{axis:f},n[p],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Pc(a,[je.scales[a.type],je.scale])}),s}function SM(e){const t=e.options||(e.options={});t.plugins=It(t.plugins,{}),t.scales=EX(e,t)}function _M(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function jX(e){return e=e||{},e.data=_M(e.data),SM(e),e}const Qk=new Map,CM=new Set;function Nd(e,t){let r=Qk.get(e);return r||(r=t(),Qk.set(e,r),CM.add(r)),r}const tc=(e,t,r)=>{const n=zs(t,r);n!==void 0&&e.add(n)};class AX{constructor(t){this._config=jX(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_M(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),SM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return Nd(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return Nd(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return Nd(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let i=n.get(t);return(!i||r)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,r,n){const{options:i,type:s}=this,o=this._cachedScopes(t,n),a=o.get(r);if(a)return a;const l=new Set;r.forEach(u=>{t&&(l.add(t),u.forEach(h=>tc(l,t,h))),u.forEach(h=>tc(l,i,h)),u.forEach(h=>tc(l,qo[s]||{},h)),u.forEach(h=>tc(l,je,h)),u.forEach(h=>tc(l,ux,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),CM.has(r)&&o.set(r,c),c}chartOptionScopes(){const{options:t,type:r}=this;return[t,qo[r]||{},je.datasets[r]||{},{type:r},je,ux]}resolveNamedOptions(t,r,n,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Kk(this._resolverCache,t,i);let l=o;if(MX(o,r)){s.$shared=!1,n=Ws(n)?n():n;const c=this.createResolver(t,n,a);l=ul(o,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(t,r,n=[""],i){const{resolver:s}=Kk(this._resolverCache,t,n);return Gt(r)?ul(s,r,void 0,i):s}}function Kk(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=r.join();let s=n.get(i);return s||(s={resolver:Db(t,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,s)),s}const LX=e=>Gt(e)&&Object.getOwnPropertyNames(e).some(t=>Ws(e[t]));function MX(e,t){const{isScriptable:r,isIndexable:n}=nM(e);for(const i of t){const s=r(i),o=n(i),a=(o||s)&&e[i];if(s&&(Ws(a)||LX(a))||o&&ve(a))return!0}return!1}var RX="4.5.1";const BX=["top","bottom","left","right","chartArea"];function Jk(e,t){return e==="top"||e==="bottom"||BX.indexOf(e)===-1&&t==="x"}function Zk(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function tS(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),ce(r&&r.onComplete,[e],t)}function PX(e){const t=e.chart,r=t.options.animation;ce(r&&r.onProgress,[e],t)}function TM(e){return Nb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wh={},eS=e=>{const t=TM(e);return Object.values(wh).filter(r=>r.canvas===t).pop()};function FX(e,t,r){const n=Object.keys(e);for(const i of n){const s=+i;if(s>=t){const o=e[i];delete e[i],(r>0||s>t)&&(e[s+r]=o)}}}function DX(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var us;let Hp=(us=class{static register(...t){gi.add(...t),rS()}static unregister(...t){gi.remove(...t),rS()}constructor(t,r){const n=this.config=new AX(r),i=TM(t),s=eS(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||tX(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=PV(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yX,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",tS),$i.listen(this,"progress",PX),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return Jt(t)?r&&s?s:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_k(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wk(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(t,r){$i.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,r,s),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_k(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ce(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ie(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];r&&(s=s.concat(Object.keys(r).map(o=>{const a=r[o],l=px(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ie(s,o=>{const a=o.options,l=a.id,c=px(l,a),u=It(a.type,o.dtype);(a.position===void 0||Jk(a.position,c)!==Jk(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===u)h=n[l];else{const f=gi.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,t)}),ie(i,(o,a)=>{o||delete n[a]}),ie(n,o=>{En.configure(this,o,o.options),En.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(Zk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||fx(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=gi.getController(a),{datasetElementType:c,dataElementType:u}=je.datasets[a];Object.assign(l,{dataElementType:gi.getElement(u),datasetElementType:c&&gi.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ie(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||ie(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zk("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ie(this.scales,t=>{En.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!hk(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const o=n==="_removeElements"?-s:s;FX(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!hk(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;En.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ie(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ws(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),tS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const o=r[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=pM(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Np(r,i),t.controller.draw(),i&&Ip(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Vi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,i){const s=BG.modes[r];return typeof s=="function"?s(this,t,n,i):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);vu(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),$i.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),wk(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(s,o)=>{r.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ie(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(r.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){ie(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ie(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const i=n?"set":"remove";let s,o,a,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Rf(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(r,t),a=n?t:s(t,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:i=[],options:s}=this,o=r,a=this._getActiveElements(t,i,n,o),l=IV(t),c=DX(t,this._lastEvent,n,l);n&&(this._lastEvent=null,ce(s.onHover,[t,a,this],this),l&&ce(s.onClick,[t,a,this],this));const u=!Rf(a,i);return(u||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=c,u}_getActiveElements(t,r,n,i){if(t.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},et(us,"defaults",je),et(us,"instances",wh),et(us,"overrides",qo),et(us,"registry",gi),et(us,"version",RX),et(us,"getChart",eS),us);function rS(){return ie(Hp.instances,e=>e._plugins.invalidate())}function OX(e,t,r){const{startAngle:n,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,gr(n-r));if(e.beginPath(),e.arc(i,s,o-c/2,n+h/2,r-h/2),a>0){const f=Math.min(c/a,gr(n-r));e.arc(i,s,a+c/2,r-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*gr(n-r));if(u==="round")e.arc(i,s,f,r-Zt/2,n+Zt/2,!0);else if(u==="bevel"){const p=2*f*f,g=-p*Math.cos(r+Zt/2)+i,m=-p*Math.sin(r+Zt/2)+s,y=p*Math.cos(n+Zt/2)+i,x=p*Math.sin(n+Zt/2)+s;e.lineTo(g,m),e.lineTo(y,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function $X(e,t,r){const{startAngle:n,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,n-c,r+c),l>i?(c=i/l,e.arc(s,o,l,r+c,n-c,!0)):e.arc(s,o,i,r+Re,n-Re),e.closePath(),e.clip()}function NX(e){return Fb(e,["outerStart","outerEnd","innerStart","innerEnd"])}function IX(e,t,r,n){const i=NX(e.options.borderRadius),s=(r-t)/2,o=Math.min(s,n*t/2),a=l=>{const c=(r-Math.min(s,l))*n/2;return yr(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:yr(i.innerStart,0,o),innerEnd:yr(i.innerEnd,0,o)}}function ha(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function $f(e,t,r,n,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+n+r-c,0),f=u>0?u+n+r+c:0;let p=0;const g=i-l;if(n){const j=u>0?u-n:0,L=h>0?h-n:0,B=(j+L)/2,E=B!==0?g*B/(B+n):g;p=(g-E)/2}const m=Math.max(.001,g*h-r/Zt)/h,y=(g-m)/2,x=l+y+p,b=i-y-p,{outerStart:v,outerEnd:C,innerStart:k,innerEnd:S}=IX(t,f,h,b-x),_=h-v,A=h-C,D=x+v/_,F=b-C/A,O=f+k,W=f+S,H=x+k/O,P=b-S/W;if(e.beginPath(),s){const j=(D+F)/2;if(e.arc(o,a,h,D,j),e.arc(o,a,h,j,F),C>0){const M=ha(A,F,o,a);e.arc(M.x,M.y,C,F,b+Re)}const L=ha(W,b,o,a);if(e.lineTo(L.x,L.y),S>0){const M=ha(W,P,o,a);e.arc(M.x,M.y,S,b+Re,P+Math.PI)}const B=(b-S/f+(x+k/f))/2;if(e.arc(o,a,f,b-S/f,B,!0),e.arc(o,a,f,B,x+k/f,!0),k>0){const M=ha(O,H,o,a);e.arc(M.x,M.y,k,H+Math.PI,x-Re)}const E=ha(_,x,o,a);if(e.lineTo(E.x,E.y),v>0){const M=ha(_,D,o,a);e.arc(M.x,M.y,v,x-Re,D)}}else{e.moveTo(o,a);const j=Math.cos(D)*h+o,L=Math.sin(D)*h+a;e.lineTo(j,L);const B=Math.cos(F)*h+o,E=Math.sin(F)*h+a;e.lineTo(B,E)}e.closePath()}function zX(e,t,r,n,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){$f(e,t,r,n,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%me||me))}return $f(e,t,r,n,l,i),e.fill(),l}function WX(e,t,r,n,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=l,g=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,g?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let m=t.endAngle;if(s){$f(e,t,r,n,m,i);for(let y=0;y<s;++y)e.stroke();isNaN(a)||(m=o+(a%me||me))}g&&$X(e,t,m),l.selfJoin&&m-o>=Zt&&p===0&&u!=="miter"&&OX(e,t,m),s||($f(e,t,r,n,m,i),e.stroke())}class mc extends ei{constructor(r){super();et(this,"circumference");et(this,"endAngle");et(this,"fullCircles");et(this,"innerRadius");et(this,"outerRadius");et(this,"pixelMargin");et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=QL(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=It(f,c-l),m=ku(o,l,c)&&l!==c,y=g>=me||m,x=Ui(a,u+p,h+p);return y&&x}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,h=(s+o)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>me?Math.floor(i/me):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Zt,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,zX(r,this,u,o,a),WX(r,this,u,o,a),r.restore()}}et(mc,"id","arc"),et(mc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),et(mc,"defaultRoutes",{backgroundColor:"backgroundColor"}),et(mc,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function EM(e,t,r=t){e.lineCap=It(r.borderCapStyle,t.borderCapStyle),e.setLineDash(It(r.borderDash,t.borderDash)),e.lineDashOffset=It(r.borderDashOffset,t.borderDashOffset),e.lineJoin=It(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=It(r.borderWidth,t.borderWidth),e.strokeStyle=It(r.borderColor,t.borderColor)}function HX(e,t,r){e.lineTo(r.x,r.y)}function qX(e){return e.stepped?fY:e.tension||e.cubicInterpolationMode==="monotone"?pY:HX}function jM(e,t,r={}){const n=e.length,{start:i=0,end:s=n-1}=r,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function UX(e,t,r,n){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=jM(i,r,n),u=qX(s);let{move:h=!0,reverse:f}=n||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,m,g,f,s.stepped),m=g);return l&&(g=i[(a+(f?c:0))%o],u(e,m,g,f,s.stepped)),!!l}function VX(e,t,r,n){const i=t.points,{count:s,start:o,ilen:a}=jM(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,h=0,f,p,g,m,y,x;const b=C=>(o+(c?a-C:C))%s,v=()=>{m!==y&&(e.lineTo(u,y),e.lineTo(u,m),e.lineTo(u,x))};for(l&&(p=i[b(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[b(f)],p.skip)continue;const C=p.x,k=p.y,S=C|0;S===g?(k<m?m=k:k>y&&(y=k),u=(h*u+C)/++h):(v(),e.lineTo(C,k),g=S,h=0,m=y=k),x=k}v()}function gx(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?VX:UX}function YX(e){return e.stepped?VY:e.tension||e.cubicInterpolationMode==="monotone"?YY:ho}function GX(e,t,r,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,r,n)&&i.closePath()),EM(e,t.options),e.stroke(i)}function XX(e,t,r,n){const{segments:i,options:s}=t,o=gx(t);for(const a of i)EM(e,s,a.style),e.beginPath(),o(e,t,a,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const QX=typeof Path2D=="function";function KX(e,t,r,n){QX&&!t.options.segment?GX(e,t,r,n):XX(e,t,r,n)}class Ss extends ei{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;$Y(this._points,n,t,i,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ZY(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,i=t[r],s=this.points,o=fM(this,{property:r,start:i,end:i});if(!o.length)return;const a=[],l=YX(n);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],g=s[f];if(p===g){a.push(p);continue}const m=Math.abs((i-p[r])/(g[r]-p[r])),y=l(p,g,m,n.stepped);y[r]=t[r],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,r,n){return gx(this)(t,this,r,n)}path(t,r,n){const i=this.segments,s=gx(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const a of i)o&=s(t,this,a,{start:r,end:r+n-1});return!!o}draw(t,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),KX(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(Ss,"id","line"),et(Ss,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(Ss,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(Ss,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nS(e,t,r,n){const i=e.options,{[r]:s}=e.getProps([r],n);return Math.abs(t-s)<i.radius+i.hitRadius}class kh extends ei{constructor(r){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return nS(this,r,"x",n)}inYRange(r,n){return nS(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!Vi(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,dx(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}et(kh,"id","point"),et(kh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(kh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AM(e,t){const{x:r,y:n,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(r,i),l=Math.max(r,i),c=n-h,u=n+h):(h=s/2,a=r-h,l=r+h,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function _s(e,t,r,n){return e?0:yr(t,r,n)}function JX(e,t,r){const n=e.options.borderWidth,i=e.borderSkipped,s=rM(n);return{t:_s(i.top,s.top,0,r),r:_s(i.right,s.right,0,t),b:_s(i.bottom,s.bottom,0,r),l:_s(i.left,s.left,0,t)}}function ZX(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=jo(i),o=Math.min(t,r),a=e.borderSkipped,l=n||Gt(i);return{topLeft:_s(!l||a.top||a.left,s.topLeft,0,o),topRight:_s(!l||a.top||a.right,s.topRight,0,o),bottomLeft:_s(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:_s(!l||a.bottom||a.right,s.bottomRight,0,o)}}function tQ(e){const t=AM(e),r=t.right-t.left,n=t.bottom-t.top,i=JX(e,r/2,n/2),s=ZX(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function sm(e,t,r,n){const i=t===null,s=r===null,a=e&&!(i&&s)&&AM(e,n);return a&&(i||Ui(t,a.left,a.right))&&(s||Ui(r,a.top,a.bottom))}function eQ(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function rQ(e,t){e.rect(t.x,t.y,t.w,t.h)}function om(e,t,r={}){const n=e.x!==r.x?-t:0,i=e.y!==r.y?-t:0,s=(e.x+e.w!==r.x+r.w?t:0)-n,o=(e.y+e.h!==r.y+r.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Sh extends ei{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:o}=tQ(this),a=eQ(o.radius)?Su:rQ;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,om(o,r,s)),t.clip(),a(t,om(s,-r,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,om(s,r)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,r,n){return sm(this,t,r,n)}inXRange(t,r){return sm(this,t,null,r)}inYRange(t,r){return sm(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}et(Sh,"id","bar"),et(Sh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),et(Sh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nQ(e,t,r){const n=e.segments,i=e.points,s=t.points,o=[];for(const a of n){let{start:l,end:c}=a;c=qp(l,c,i);const u=mx(r,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=fM(t,u);for(const f of h){const p=mx(r,s[f.start],s[f.end],f.loop),g=hM(a,i,p);for(const m of g)o.push({source:m,target:f,start:{[r]:iS(u,p,"start",Math.max)},end:{[r]:iS(u,p,"end",Math.min)}})}}return o}function mx(e,t,r,n){if(n)return;let i=t[e],s=r[e];return e==="angle"&&(i=gr(i),s=gr(s)),{property:e,start:i,end:s}}function iQ(e,t){const{x:r=null,y:n=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=qp(o,a,i);const l=i[o],c=i[a];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function qp(e,t,r){for(;t>e;t--){const n=r[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function iS(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function LM(e,t){let r=[],n=!1;return ve(e)?(n=!0,r=e):r=iQ(e,t),r.length?new Ss({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function sS(e){return e&&e.fill!==!1}function sQ(e,t,r){let i=e[t].fill;const s=[t];let o;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Ke(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function oQ(e,t,r){const n=uQ(e);if(Gt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Ke(i)&&Math.floor(i)===i?aQ(n[0],t,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function aQ(e,t,r,n){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=n?!1:r}function lQ(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Gt(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function cQ(e,t,r){let n;return e==="start"?n=r:e==="end"?n=t.options.reverse?t.min:t.max:Gt(e)?n=e.value:n=t.getBaseValue(),n}function uQ(e){const t=e.options,r=t.fill;let n=It(r&&r.target,r);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function dQ(e){const{scale:t,index:r,line:n}=e,i=[],s=n.segments,o=n.points,a=hQ(t,r);a.push(LM({x:null,y:t.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)fQ(i,o[u],a)}return new Ss({points:i,options:{}})}function hQ(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===t)break;s.hidden||r.unshift(s.dataset)}return r}function fQ(e,t,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:o,last:a,point:l}=pQ(s,t,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function pQ(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const i=n[r],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][r],f=o[u.end][r];if(Ui(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:n}}class MM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,n){const{x:i,y:s,radius:o}=this;return r=r||{start:0,end:me},t.arc(i,s,o,r.end,r.start,!0),!n.bounds}interpolate(t){const{x:r,y:n,radius:i}=this,s=t.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function gQ(e){const{chart:t,fill:r,line:n}=e;if(Ke(r))return mQ(t,r);if(r==="stack")return dQ(e);if(r==="shape")return!0;const i=xQ(e);return i instanceof MM?i:LM(i,n)}function mQ(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function xQ(e){return(e.scale||{}).getPointPositionForValue?bQ(e):yQ(e)}function yQ(e){const{scale:t={},fill:r}=e,n=lQ(r,t);if(Ke(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function bQ(e){const{scale:t,fill:r}=e,n=t.options,i=t.getLabels().length,s=n.reverse?t.max:t.min,o=cQ(r,t,s),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,s);return new MM({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function am(e,t,r){const n=gQ(t),{chart:i,index:s,line:o,scale:a,axis:l}=t,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=u||{},g=i.getDatasetMeta(s),m=pM(i,g);n&&o.points.length&&(Np(e,r),vQ(e,{line:o,target:n,above:f,below:p,area:r,scale:a,axis:l,clip:m}),Ip(e))}function vQ(e,t){const{line:r,target:n,above:i,below:s,area:o,scale:a,clip:l}=t,c=r._loop?"angle":t.axis;e.save();let u=s;s!==i&&(c==="x"?(oS(e,n,o.top),lm(e,{line:r,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),oS(e,n,o.bottom)):c==="y"&&(aS(e,n,o.left),lm(e,{line:r,target:n,color:s,scale:a,property:c,clip:l}),e.restore(),e.save(),aS(e,n,o.right),u=i)),lm(e,{line:r,target:n,color:u,scale:a,property:c,clip:l}),e.restore()}function oS(e,t,r){const{segments:n,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],h=i[qp(l,c,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function aS(e,t,r){const{segments:n,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],h=i[qp(l,c,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(r,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(r,h.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function lm(e,t){const{line:r,target:n,property:i,color:s,scale:o,clip:a}=t,l=nQ(r,n,i);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:p=s}={}}=c,g=n!==!0;e.save(),e.fillStyle=p,wQ(e,o,a,g&&mx(i,h,f)),e.beginPath();const m=!!r.pathSegment(e,c);let y;if(g){m?e.closePath():lS(e,n,f,i);const x=!!n.pathSegment(e,u,{move:m,reverse:!0});y=m&&x,y||lS(e,n,h,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function wQ(e,t,r,n){const i=t.chart.chartArea,{property:s,start:o,end:a}=n||{};if(s==="x"||s==="y"){let l,c,u,h;s==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),e.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),h=Math.min(h,r.bottom)),e.rect(l,c,u-l,h-c),e.clip()}}function lS(e,t,r,n){const i=t.interpolate(r,n);i&&e.lineTo(i.x,i.y)}var kQ={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<n;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ss&&(l={visible:e.isDatasetVisible(o),index:o,fill:oQ(a,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<n;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=sQ(i,o,r.propagate))},beforeDraw(e,t,r){const n=r.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&am(e.ctx,a,s))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;sS(s)&&am(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;!sS(n)||r.drawTime!=="beforeDatasetDraw"||am(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cS=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},SQ=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class uS extends ei{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=qe(n.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=cS(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const y=n+r/2+s.measureText(g.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,p+=u,f++),l[m]={left:0,top:p,row:f,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(t,r,n,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:v}=_Q(n,r,s,y,i);x>0&&p+v+2*a>u&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[x]={left:g,top:p,col:m,width:b,height:v},f=Math.max(f,b),p+=v+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,o=$a(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=pr(n,this.left+i,this.right-this.lineWidths[a]);for(const c of r)a!==c.row&&(a=c.row,l=pr(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=pr(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of r)c.col!==a&&(a=c.col,l=pr(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Np(t,this),this._draw(),Ip(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:o}=t,a=je.color,l=$a(t.rtl,this.left,this.width),c=qe(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=cS(o,h),x=function(S,_,A){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const D=It(A.lineWidth,1);if(i.fillStyle=It(A.fillStyle,a),i.lineCap=It(A.lineCap,"butt"),i.lineDashOffset=It(A.lineDashOffset,0),i.lineJoin=It(A.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=It(A.strokeStyle,a),i.setLineDash(It(A.lineDash,[])),o.usePointStyle){const F={radius:m*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:D},O=l.xPlus(S,g/2),W=_+f;eM(i,F,O,W,o.pointStyleWidth&&g)}else{const F=_+Math.max((h-m)/2,0),O=l.leftForLtr(S,g),W=jo(A.borderRadius);i.beginPath(),Object.values(W).some(H=>H!==0)?Su(i,{x:O,y:F,w:g,h:m,radius:W}):i.rect(O,F,g,m),i.fill(),D!==0&&i.stroke()}i.restore()},b=function(S,_,A){Uo(i,A.text,S,_+y/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},v=this.isHorizontal(),C=this._computeTitleHeight();v?p={x:pr(s,this.left+u,this.right-n[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:pr(s,this.top+C+u,this.bottom-r[0].height),line:0},cM(this.ctx,t.textDirection);const k=y+u;this.legendItems.forEach((S,_)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const A=i.measureText(S.text).width,D=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),F=g+f+A;let O=p.x,W=p.y;l.setWidth(this.width),v?_>0&&O+F+u>this.right&&(W=p.y+=k,p.line++,O=p.x=pr(s,this.left+u,this.right-n[p.line])):_>0&&W+k>this.bottom&&(O=p.x=O+r[p.line].width+u,p.line++,W=p.y=pr(s,this.top+C+u,this.bottom-r[p.line].height));const H=l.x(O);if(x(H,W,S),O=ZV(D,O+g+f,v?O+F:this.right,t.rtl),b(l.x(O),W,S),v)p.x+=F+u;else if(typeof S.text!="string"){const P=c.lineHeight;p.y+=RM(S,P)+u}else p.y+=k}),uM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=qe(r.font),i=Sr(r.padding);if(!r.display)return;const s=$a(t.rtl,this.left,this.width),o=this.ctx,a=r.position,l=n.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=pr(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+pr(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=pr(a,h,h+f);o.textAlign=s.textAlign(Rb(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Uo(o,r.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,r=qe(t.font),n=Sr(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,i,s;if(Ui(t,this.left,this.right)&&Ui(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Ui(t,i.left,i.left+i.width)&&Ui(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!EQ(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=SQ(i,n);i&&!s&&ce(r.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!s&&ce(r.onHover,[t,n,this],this)}else n&&ce(r.onClick,[t,n,this],this)}}function _Q(e,t,r,n,i){const s=CQ(n,e,t,r),o=TQ(i,n,t.lineHeight);return{itemWidth:s,itemHeight:o}}function CQ(e,t,r,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+r.size/2+n.measureText(i).width}function TQ(e,t,r){let n=e;return typeof t.text!="string"&&(n=RM(t,r)),n}function RM(e,t){const r=e.text?e.text.length:0;return t*r}function EQ(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var jQ={id:"legend",_element:uS,start(e,t,r){const n=e.legend=new uS({ctx:e.ctx,options:r,chart:e});En.configure(e,n,r),En.addBox(e,n)},stop(e){En.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;En.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=Sr(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class BM extends ei{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const i=ve(n.text)?n.text.length:1;this._padding=Sr(n.padding);const s=i*qe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=pr(a,n,s),h=r+t,c=s-n):(o.position==="left"?(u=n+t,h=pr(a,i,r),l=Zt*-.5):(u=s-t,h=pr(a,r,i),l=Zt*.5),c=i-r),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=qe(r.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Uo(t,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:Rb(r.align),textBaseline:"middle",translation:[o,a]})}}function AQ(e,t){const r=new BM({ctx:e.ctx,options:t,chart:e});En.configure(e,r,t),En.addBox(e,r),e.titleBlock=r}var LQ={id:"title",_element:BM,start(e,t,r){AQ(e,r)},stop(e){const t=e.titleBlock;En.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;En.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xc={average(e){if(!e.length)return!1;let t,r,n=new Set,i=0,s=0;for(t=0,r=e.length;t<r;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=cx(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function fi(e,t){return t&&(ve(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ni(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function MQ(e,t){const{element:r,datasetIndex:n,index:i}=t,s=e.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function dS(e,t){const r=e.chart.ctx,{body:n,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=qe(t.bodyFont),c=qe(t.titleFont),u=qe(t.footerFont),h=s.length,f=i.length,p=n.length,g=Sr(t.padding);let m=g.height,y=0,x=n.reduce((C,k)=>C+k.before.length+k.lines.length+k.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const C=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*C+(x-p)*l.lineHeight+(x-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const v=function(C){y=Math.max(y,r.measureText(C).width+b)};return r.save(),r.font=c.string,ie(e.title,v),r.font=l.string,ie(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,ie(n,C=>{ie(C.before,v),ie(C.lines,v),ie(C.after,v)}),b=0,r.font=u.string,ie(e.footer,v),r.restore(),y+=g.width,{width:y,height:m}}function RQ(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function BQ(e,t,r,n){const{x:i,width:s}=n,o=r.caretSize+r.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function PQ(e,t,r,n){const{x:i,width:s}=r,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),BQ(c,e,t,r)&&(c="center"),c}function hS(e,t,r){const n=r.yAlign||t.yAlign||RQ(e,r);return{xAlign:r.xAlign||t.xAlign||PQ(e,t,r,n),yAlign:n}}function FQ(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function DQ(e,t,r){let{y:n,height:i}=e;return t==="top"?n+=r:t==="bottom"?n-=i+r:n-=i/2,n}function fS(e,t,r,n){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=r,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=jo(o);let g=FQ(t,a);const m=DQ(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,p)+i),{x:yr(g,0,n.width-t.width),y:yr(m,0,n.height-t.height)}}function Id(e,t,r){const n=Sr(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function pS(e){return fi([],Ni(e))}function OQ(e,t,r){return Ks(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function gS(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const PM={beforeTitle:Pi,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Pi,beforeBody:Pi,beforeLabel:Pi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Jt(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Pi,afterBody:Pi,beforeFooter:Pi,footer:Pi,afterFooter:Pi};function qr(e,t,r,n){const i=e[t].call(r,n);return typeof i>"u"?PM[t].call(r,n):i}class xx extends ei{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new gM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=OQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,i=qr(n,"beforeTitle",this,t),s=qr(n,"title",this,t),o=qr(n,"afterTitle",this,t);let a=[];return a=fi(a,Ni(i)),a=fi(a,Ni(s)),a=fi(a,Ni(o)),a}getBeforeBody(t,r){return pS(qr(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,i=[];return ie(t,s=>{const o={before:[],lines:[],after:[]},a=gS(n,s);fi(o.before,Ni(qr(a,"beforeLabel",this,s))),fi(o.lines,qr(a,"label",this,s)),fi(o.after,Ni(qr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,r){return pS(qr(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,i=qr(n,"beforeFooter",this,t),s=qr(n,"footer",this,t),o=qr(n,"afterFooter",this,t);let a=[];return a=fi(a,Ni(i)),a=fi(a,Ni(s)),a=fi(a,Ni(o)),a}_createItems(t){const r=this._active,n=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=r.length;l<c;++l)a.push(MQ(this.chart,r[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,n))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,n))),ie(a,u=>{const h=gS(t.callbacks,u);i.push(qr(h,"labelColor",this,u)),s.push(qr(h,"labelPointStyle",this,u)),o.push(qr(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=xc[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=dS(this,n),c=Object.assign({},a,l),u=hS(this.chart,n,c),h=fS(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,i){const s=this.getCaretPosition(t,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=jo(a),{x:f,y:p}=t,{width:g,height:m}=r;let y,x,b,v,C,k;return s==="center"?(C=p+m/2,i==="left"?(y=f,x=y-o,v=C+o,k=C-o):(y=f+g,x=y+o,v=C-o,k=C+o),b=y):(i==="left"?x=f+Math.max(l,u)+o:i==="right"?x=f+g-Math.max(c,h)-o:x=this.caretX,s==="top"?(v=p,C=v-o,y=x-o,b=x+o):(v=p+m,C=v+o,y=x+o,b=x-o),k=v),{x1:y,x2:x,x3:b,y1:v,y2:C,y3:k}}drawTitle(t,r,n){const i=this.title,s=i.length;let o,a,l;if(s){const c=$a(n.rtl,this.x,this.width);for(t.x=Id(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",o=qe(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,l=0;l<s;++l)r.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,r,n,i,s){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=qe(s.bodyFont),h=Id(this,"left",s),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,x=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,dx(t,m,y,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,dx(t,m,y,x)}else{t.lineWidth=Gt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),x=jo(o.borderRadius);Object.values(x).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Su(t,{x:m,y:g,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Su(t,{x:y,y:g+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,h=qe(n.bodyFont);let f=h.lineHeight,p=0;const g=$a(n.rtl,this.x,this.width),m=function(A){r.fillText(A,g.x(t.x+p),t.y+f/2),t.y+=f+s},y=g.textAlign(o);let x,b,v,C,k,S,_;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,t.x=Id(this,y,n),r.fillStyle=n.bodyColor,ie(this.beforeBody,m),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,S=i.length;C<S;++C){for(x=i[C],b=this.labelTextColors[C],r.fillStyle=b,ie(x.before,m),v=x.lines,a&&v.length&&(this._drawColorBox(r,t,C,g,n),f=Math.max(h.lineHeight,l)),k=0,_=v.length;k<_;++k)m(v[k]),f=h.lineHeight;ie(x.after,m)}p=0,f=h.lineHeight,ie(this.afterBody,m),t.y-=s}drawFooter(t,r,n){const i=this.footer,s=i.length;let o,a;if(s){const l=$a(n.rtl,this.x,this.width);for(t.x=Id(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",o=qe(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<s;++a)r.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,r,n,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=jo(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+h,l),o==="top"&&this.drawCaret(t,r,n,i),r.lineTo(a+c-f,l),r.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,r,n,i),r.lineTo(a+c,l+u-g),r.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,r,n,i),r.lineTo(a+p,l+u),r.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(t,r,n,i),r.lineTo(a,l+h),r.quadraticCurveTo(a,l,a+h,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const o=xc[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=dS(this,t),l=Object.assign({},o,this._size),c=hS(r,t,l),u=fS(t,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Sr(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,i,r),cM(t,r.textDirection),s.y+=o.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),uM(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Rf(n,i),o=this._positionChanged(i,r);(s||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,r,n),a=this._positionChanged(o,t),l=r||!Rf(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,n,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:n,caretY:i,options:s}=this,o=xc[s.position].call(this,t,r);return o!==!1&&(n!==o.x||i!==o.y)}}et(xx,"positioners",xc);var $Q={id:"tooltip",_element:xx,positioners:xc,afterInit(e,t,r){r&&(e.tooltip=new xx({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NQ=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function IQ(e,t,r,n){const i=e.indexOf(t);if(i===-1)return NQ(e,t,r,n);const s=e.lastIndexOf(t);return i!==s?r:i}const zQ=(e,t)=>e===null?null:yr(Math.round(e),0,t);function mS(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class yx extends _l{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Jt(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:IQ(n,t,It(r,t),this._addedLabels),zQ(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=r;o++)i.push({value:o});return i}getLabelForValue(t){return mS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}et(yx,"id","category"),et(yx,"defaults",{ticks:{callback:mS}});function WQ(e,t){const r=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=s||1,g=u-1,{min:m,max:y}=t,x=!Jt(o),b=!Jt(a),v=!Jt(c),C=(y-m)/(h+1);let k=pk((y-m)/g/p)*p,S,_,A,D;if(k<1e-14&&!x&&!b)return[{value:m},{value:y}];D=Math.ceil(y/k)-Math.floor(m/k),D>g&&(k=pk(D*k/g/p)*p),Jt(l)||(S=Math.pow(10,l),k=Math.ceil(k*S)/S),i==="ticks"?(_=Math.floor(m/k)*k,A=Math.ceil(y/k)*k):(_=m,A=y),x&&b&&s&&UV((a-o)/s,k/1e3)?(D=Math.round(Math.min((a-o)/k,u)),k=(a-o)/D,_=o,A=a):v?(_=x?o:_,A=b?a:A,D=c-1,k=(A-_)/D):(D=(A-_)/k,Fc(D,Math.round(D),k/1e3)?D=Math.round(D):D=Math.ceil(D));const F=Math.max(gk(k),gk(_));S=Math.pow(10,Jt(l)?F:l),_=Math.round(_*S)/S,A=Math.round(A*S)/S;let O=0;for(x&&(f&&_!==o?(r.push({value:o}),_<o&&O++,Fc(Math.round((_+O*k)*S)/S,o,xS(o,C,e))&&O++):_<o&&O++);O<D;++O){const W=Math.round((_+O*k)*S)/S;if(b&&W>a)break;r.push({value:W})}return b&&f&&A!==a?r.length&&Fc(r[r.length-1].value,a,xS(a,C,e))?r[r.length-1].value=a:r.push({value:a}):(!b||A===a)&&r.push({value:A}),r}function xS(e,t,{horizontal:r,minRotation:n}){const i=Xn(n),s=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class bx extends _l{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=r?i:l,a=l=>s=n?s:l;if(t){const l=wi(i),c=wi(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,o=WQ(i,s);return t.bounds==="ticks"&&VV(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-r)/Math.max(t.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return $p(t,this.chart.options.locale,this.options.ticks.format)}}class vx extends bx{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Ke(t)?t:0,this.max=Ke(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Xn(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}et(vx,"id","linear"),et(vx,"defaults",{ticks:{callback:Pb.formatters.numeric}});function wx(e){const t=e.ticks;if(t.display&&e.display){const r=Sr(t.backdropPadding);return It(t.font&&t.font.size,je.font.size)+r.height}return 0}function HQ(e,t,r){return r=ve(r)?r:[r],{w:hY(e,t.string,r),h:r.length*t.lineHeight}}function yS(e,t,r,n,i){return e===n||e===i?{start:t-r/2,end:t+r/2}:e<n||e>i?{start:t-r,end:t}:{start:t,end:t+r}}function qQ(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Zt/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),h=qe(c.font),f=HQ(e.ctx,h,e._pointLabels[l]);n[l]=f;const p=gr(e.getIndexAngle(l)+a),g=Math.round(Lb(p)),m=yS(g,u.x,f.w,0,180),y=yS(g,u.y,f.h,90,270);UQ(r,t,p,m,y)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=GQ(e,n,i)}function UQ(e,t,r,n,i){const s=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/s,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function VQ(e,t,r){const n=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=r,l=e.getPointPosition(t,n+i+o,s),c=Math.round(Lb(gr(l.angle+Re))),u=KQ(l.y,a.h,c),h=XQ(c),f=QQ(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function YQ(e,t){if(!t)return!0;const{left:r,top:n,right:i,bottom:s}=e;return!(Vi({x:r,y:n},t)||Vi({x:r,y:s},t)||Vi({x:i,y:n},t)||Vi({x:i,y:s},t))}function GQ(e,t,r){const n=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:wx(s)/2,additionalAngle:o?Zt/i:0};let c;for(let u=0;u<i;u++){l.padding=r[u],l.size=t[u];const h=VQ(e,u,l);n.push(h),a==="auto"&&(h.visible=YQ(h,c),h.visible&&(c=h))}return n}function XQ(e){return e===0||e===180?"center":e<180?"left":"right"}function QQ(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function KQ(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function JQ(e,t,r){const{left:n,top:i,right:s,bottom:o}=r,{backdropColor:a}=t;if(!Jt(a)){const l=jo(t.borderRadius),c=Sr(t.backdropPadding);e.fillStyle=a;const u=n-c.left,h=i-c.top,f=s-n+c.width,p=o-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),Su(e,{x:u,y:h,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,h,f,p)}}function ZQ(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(i));JQ(r,o,s);const a=qe(o.font),{x:l,y:c,textAlign:u}=s;Uo(r,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function FM(e,t,r,n){const{ctx:i}=e;if(r)i.arc(e.xCenter,e.yCenter,t,0,me);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function tK(e,t,r,n,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!n||!a||!l||r<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),FM(e,r,o,n),s.closePath(),s.stroke(),s.restore())}function eK(e,t,r){return Ks(e,{label:r,index:t,type:"pointLabel"})}class yc extends bx{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Sr(wx(this.options)/2),r=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=Ke(t)&&!isNaN(t)?t:0,this.max=Ke(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wx(this.options))}generateTickLabels(t){bx.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,n)=>{const i=ce(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?qQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,n,i){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,n,i))}getIndexAngle(t){const r=me/(this._pointLabels.length||1),n=this.options.startAngle||0;return gr(t*r+Xn(n))}getDistanceFromCenterForValue(t){if(Jt(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(Jt(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const n=r[t];return eK(this.getContext(),t,n)}}getPointPosition(t,r,n=0){const i=this.getIndexAngle(t)-Re+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[t];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),FM(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,o=this._pointLabels.length;let a,l,c;if(r.pointLabels.display&&ZQ(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=i.setContext(f),g=s.setContext(f);tK(this,p,l,o,g)}}),n.display){for(t.save(),a=o-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const c=n.setContext(this.getContext(l)),u=qe(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Sr(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Uo(t,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}et(yc,"id","radialLinear"),et(yc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),et(yc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),et(yc,"descriptors",{angleLines:{_fallback:"grid"}});const Up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gr=Object.keys(Up);function bS(e,t){return e-t}function vS(e,t){if(Jt(t))return null;const r=e._adapter,{parser:n,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Ke(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(wu(s)||s===!0)?r.startOf(o,"isoWeek",s):r.startOf(o,i)),+o)}function wS(e,t,r,n){const i=Gr.length;for(let s=Gr.indexOf(e);s<i-1;++s){const o=Up[Gr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(a*o.size))<=n)return Gr[s]}return Gr[i-1]}function rK(e,t,r,n,i){for(let s=Gr.length-1;s>=Gr.indexOf(r);s--){const o=Gr[s];if(Up[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return Gr[r?Gr.indexOf(r):0]}function nK(e){for(let t=Gr.indexOf(e)+1,r=Gr.length;t<r;++t)if(Up[Gr[t]].common)return Gr[t]}function kS(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:i}=Mb(r,t),s=r[n]>=t?r[n]:r[i];e[s]=!0}}function iK(e,t,r,n){const i=e._adapter,s=+i.startOf(t[0].value,n),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,n))l=r[a],l>=0&&(t[l].major=!0);return t}function SS(e,t,r){const n=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,n.push({value:a,major:!1});return s===0||!r?n:iK(e,n,i,r)}class Nf extends _l{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),i=this._adapter=new jG._date(t.adapters.date);i.init(r),Pc(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:vS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ke(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Ke(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=QV(i,s,o);return this._unit=r.unit||(n.autoSkip?wS(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):rK(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:nK(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),SS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?r=1-i:r=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?n=s:n=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=yr(r,0,o),n=yr(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,o=s.unit||wS(s.minUnit,r,n,this._getLabelCapacity(r)),a=It(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=wu(l)||l===!0,u={};let h=r,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,a,o),p++)kS(u,f,g);return(f===n||i.bounds==="ticks"||p===1)&&kS(u,f,g),Object.keys(u).sort(bS).map(m=>+m)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const i=this.options.time.displayFormats,s=this._unit,o=r||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,r,n,i){const s=this.options,o=s.ticks.callback;if(o)return ce(o,[t,r,n],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=n[r],p=c&&h&&f&&f.major;return this._adapter.format(t,i||(p?h:u))}generateTickLabels(t){let r,n,i;for(r=0,n=t.length;r<n;++r)i=t[r],i.label=this._tickFormatFunction(i.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,i=Xn(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*s+a*o,h:n*o+a*s}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(t,0,SS(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)t=t.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)t.push(vS(this,i[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return JL(t.sort(bS))}}et(Nf,"id","time"),et(Nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zd(e,t,r){let n=0,i=e.length-1,s,o,a,l;r?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=ko(e,"pos",t)),{pos:s,time:a}=e[n],{pos:o,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=ko(e,"time",t)),{time:s,pos:a}=e[n],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class _S extends Nf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=zd(r,this.min),this._tableRange=zd(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(zd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return zd(this._table,n*this._tableRange+this._minPos,!0)}}et(_S,"id","timeseries"),et(_S,"defaults",Nf.defaults);const DM="label";function CS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function sK(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function OM(e,t){e.labels=t}function $M(e,t,r=DM){const n=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function oK(e,t=DM){const r={labels:[],datasets:[]};return OM(r,e.labels),$M(r,e.datasets,t),r}function aK(e,t){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=e,p=T.useRef(null),g=T.useRef(null),m=()=>{p.current&&(g.current=new Hp(p.current,{type:o,data:oK(a,s),options:l&&{...l},plugins:c}),CS(t,g.current))},y=()=>{CS(t,null),g.current&&(g.current.destroy(),g.current=null)};return T.useEffect(()=>{!i&&g.current&&l&&sK(g.current,l)},[i,l]),T.useEffect(()=>{!i&&g.current&&OM(g.current.config.data,a.labels)},[i,a.labels]),T.useEffect(()=>{!i&&g.current&&a.datasets&&$M(g.current.config.data,a.datasets,s)},[i,a.datasets]),T.useEffect(()=>{g.current&&(i?(y(),setTimeout(m)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),T.useEffect(()=>{g.current&&(y(),setTimeout(m))},[o]),T.useEffect(()=>(m(),()=>y()),[]),d.jsx("canvas",{ref:p,role:"img",height:r,width:n,...f,children:u})}const lK=T.forwardRef(aK);function Cl(e,t){return Hp.register(t),T.forwardRef((r,n)=>d.jsx(lK,{...r,ref:n,type:e}))}const cK=Cl("line",bh),TS=Cl("bar",yh),uK=Cl("radar",Nc),dK=Cl("doughnut",ja),hK=Cl("polarArea",$c),fK=Cl("pie",hx);Hp.register(yx,vx,Sh,Ss,kh,mc,Nc,yc,$c,LQ,$Q,jQ,kQ);function NM({chartData:e,chartKeys:t}){const[r,n]=T.useState("bar"),[i,s]=T.useState(""),[o,a]=T.useState([]),[l,c]=T.useState("grouped"),[u,h]=T.useState(null),[f,p]=T.useState([]),[g,m]=T.useState(""),y=T.useRef(null);T.useEffect(()=>{m(""),p([]);const S=["pie","doughnut","polarArea"].includes(r);if(S&&o.length>1){h(null),m(` ${r.charAt(0).toUpperCase()+r.slice(1)} charts can only show ONE data field at a time. Your ${o.length} selected Y fields are safely kept  please pick either only 1 Y field or change chart type`);return}i&&o.length>0?x():h(null),S||c("grouped")},[r,i,o]),T.useEffect(()=>{t.length>0&&!i&&s(t[0])},[t]);const x=()=>{if(m(""),p(""),!i){m("Please select a label field (X-axis)");return}if(o.length===0){m("Please select at least one data field (Y-axis)");return}const S=["pie","doughnut","polarArea"].includes(r);if(S&&o.length>1){m(`Only ONE data field allowed for ${r} charts`);return}const _=e.map(H=>String(H[i]||"null")),A=["rgba(106, 90, 205, ","rgba(255, 99, 132, ","rgba(54, 162, 235, ","rgba(255, 206, 86, ","rgba(75, 192, 192, ","rgba(153, 102, 255, ","rgba(255, 159, 64, ","rgba(199, 199, 199, ","rgba(83, 102, 255, ","rgba(255, 99, 255, "],D=l==="overlapping"?.4:.8,F=l==="stacked",O=o.map((H,P)=>{const j=e.map($=>{const z=parseFloat($[H]);return isNaN(z)?0:z}),L=A[P%A.length],B=r==="radar"||r==="line"&&F,E=S?j.map(($,z)=>A[z%A.length]+D+")"):L+(B?"0.3)":D+")"),M=S?j.map(($,z)=>A[z%A.length]+"1)"):L+"1)";return{label:H,data:j,backgroundColor:E,borderColor:M,borderWidth:3,pointBackgroundColor:L+"1)",pointRadius:5,pointHoverRadius:7,tension:r==="line"?.4:0,fill:B,spanGaps:!1}}),W={type:r,data:{labels:_,datasets:O},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:o.length<=10,position:"top",labels:{font:{family:"'Courier New', monospace",size:14},usePointStyle:!0,pointStyle:"circle",padding:20,color:"#333",boxWidth:15,boxHeight:15}},title:{display:!0,text:`${r.charAt(0).toUpperCase()+r.slice(1)} Chart  ${e.length} records`,font:{size:20,weight:"bold",family:"'Courier New', monospace"},color:"#4b0082",padding:30},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",cornerRadius:8,padding:12,callbacks:{footer:H=>F&&H.length>1?`Total: ${H.reduce((j,L)=>j+L.parsed.y,0).toFixed(2)}`:""}}},scales:S?{}:{r:r==="radar"?{beginAtZero:!0,angleLines:{color:"rgba(255,255,255,0.2)"},grid:{color:"rgba(255,255,255,0.1)"},pointLabels:{font:{size:13}},r:r==="radar"?{beginAtZero:!0,angleLines:{color:"rgba(0,0,0,0.1)"},grid:{color:"rgba(0,0,0,0.1)"},pointLabels:{font:{size:13},color:"#333"},ticks:{backdropColor:"transparent",color:"#666"}}:void 0}:void 0,x:r!=="radar"?{stacked:F,ticks:{autoSkip:!1,maxRotation:45,minRotation:45,font:{size:11},callback:function(H,P,j){const L=this.getLabelForValue(H),B=15;return L.length>B?L.substring(0,B)+"...":L}}}:void 0,y:r!=="radar"?{stacked:F,beginAtZero:!0}:void 0}}};h(W),b()},b=()=>{let S=[];S.push({label:"Total Records",value:e.length}),o.forEach(_=>{const A=e.map(H=>parseFloat(H[_])).filter(H=>!isNaN(H));if(A.length===0)return;const D=A.reduce((H,P)=>H+P,0),F=(D/A.length).toFixed(2),O=Math.max(...A),W=Math.min(...A);S.push({label:_,stats:{sum:D.toFixed(2),avg:F,max:O,min:W}})}),p(S)},v=()=>{if(!y.current)return;const S=y.current.canvas,_=S.width,A=S.height,D=Math.max(1,Math.min(2,3e3/Math.max(_,A))),F=document.createElement("canvas");F.width=S.width*D,F.height=S.height*D;const O=F.getContext("2d");O.fillStyle="white",O.fillRect(0,0,F.width,F.height),O.scale(D,D),O.drawImage(S,0,0),F.toBlob(W=>{const H=URL.createObjectURL(W),P=document.createElement("a");P.href=H,P.download=`dragon_chart_${Date.now()}.png`,P.click(),URL.revokeObjectURL(H)})},C=()=>{if(!u)return null;const S={ref:y,data:u.data,options:u.options};switch(r){case"bar":return d.jsx(TS,{...S});case"line":return d.jsx(cK,{...S});case"pie":return d.jsx(fK,{...S});case"doughnut":return d.jsx(dK,{...S});case"radar":return d.jsx(uK,{...S});case"polarArea":return d.jsx(hK,{...S});default:return d.jsx(TS,{...S})}},k=!["pie","doughnut","polarArea"].includes(r);return d.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[d.jsx("h3",{style:{color:"#f0f0f0",margin:"0 0 25px 0"},children:"Chart Creator"}),g&&d.jsx("div",{style:{padding:"16px",background:"#ffe6e6",borderLeft:"5px solid #dc3545",borderRadius:"8px",marginBottom:"20px",color:"#721c24",fontWeight:"bold"},children:g}),d.jsxs("div",{style:{background:"#f8f8f8",padding:"30px",borderRadius:"12px",color:"#333"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",marginBottom:"25px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082"},children:"Chart Type:"}),d.jsxs("select",{value:r,onChange:S=>n(S.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"#3a2f4c",color:"#f0f0f0"},children:[d.jsx("option",{value:"bar",children:"Bar Chart"}),d.jsx("option",{value:"line",children:"Line Chart"}),d.jsx("option",{value:"pie",children:"Pie Chart"}),d.jsx("option",{value:"doughnut",children:"Doughnut Chart"}),d.jsx("option",{value:"radar",children:"Radar Chart"}),d.jsx("option",{value:"polarArea",children:"Polar Area Chart"})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"10px",color:"#4b0082"},children:"Label Field (X-Axis / Categories):"}),d.jsxs("select",{value:i,onChange:S=>s(S.target.value),style:{width:"100%",padding:"12px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px",background:"#3a2f4c",color:"#f0f0f0"},children:[d.jsx("option",{value:"",children:"-- Select Label Field --"}),t.map(S=>d.jsx("option",{value:S,children:S},S))]})]})]}),k&&d.jsxs("div",{style:{margin:"25px 0",padding:"18px",background:"#e8f5e9",borderRadius:"10px",borderLeft:"5px solid #4caf50"},children:[d.jsx("strong",{style:{color:"#2e7d32"},children:"Multiple Dataset Display Mode:"}),d.jsx("div",{style:{display:"flex",gap:"25px",marginTop:"15px",flexWrap:"wrap"},children:["grouped","stacked","overlapping"].map(S=>d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("input",{type:"radio",name:"multiMode",value:S,checked:l===S,onChange:_=>c(_.target.value)}),d.jsx("span",{style:{textTransform:"capitalize",fontWeight:"bold"},children:S})]},S))}),d.jsxs("p",{style:{margin:"12px 0 0",fontSize:"0.9em",color:"#1b5e20",fontStyle:"italic"},children:[l==="grouped"&&"Side-by-side  best for comparison",l==="stacked"&&"Stacked  shows totals and parts",l==="overlapping"&&"Transparent overlay  reveals patterns"]})]}),d.jsxs("div",{style:{margin:"25px 0"},children:[d.jsxs("label",{style:{fontWeight:"bold",display:"block",marginBottom:"12px",color:"#4b0082"},children:["Data Fields (Y-Axis / Values):",d.jsx("span",{style:{fontWeight:"normal",color:"#666",fontSize:"0.9em",marginLeft:"12px"},children:k?"(Select one or more)":"(Select ONE numeric field)"})]}),d.jsx("div",{style:{background:"white",border:"2px solid #9370db",borderRadius:"8px",padding:"15px",maxHeight:"220px",overflowY:"auto"},children:t.map(S=>d.jsx("div",{style:{margin:"10px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[d.jsx("input",{type:"checkbox",checked:o.includes(S),onChange:_=>{_.target.checked?a(k?A=>[...A,S]:[S]):a(A=>A.filter(D=>D!==S))},style:{marginRight:"12px"}}),d.jsx("span",{children:S})]})},S))})]}),d.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"30px"},children:[d.jsx("button",{onClick:x,style:{padding:"14px 35px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer",boxShadow:"0 6px 20px rgba(106,90,205,0.4)",transition:"all 0.3s"},onMouseOver:S=>S.target.style.transform="translateY(-3px)",onMouseOut:S=>S.target.style.transform="",children:"Generate Chart"}),u&&d.jsx("button",{onClick:v,style:{padding:"14px 35px",background:"linear-gradient(135deg, #2e7d32, #1b5e20)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},children:"Download as Image"})]})]}),u&&d.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"12px",marginTop:"35px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",minHeight:"600px",height:Math.max(600,e.length*15)+"px",maxHeight:"1200px",overflowY:"auto",overflowX:"auto"},children:[o.length>10&&d.jsxs("div",{style:{maxHeight:"150px",overflowY:"auto",overflowX:"hidden",marginBottom:"20px",padding:"15px",background:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd"},children:[d.jsxs("strong",{style:{color:"#4b0082",display:"block",marginBottom:"10px"},children:["Legend (",o.length," fields):"]}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:u.data.datasets.map((S,_)=>d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("div",{style:{width:"20px",height:"20px",background:Array.isArray(S.backgroundColor)?S.backgroundColor[0]:S.backgroundColor,borderRadius:"50%",border:`2px solid ${Array.isArray(S.borderColor)?S.borderColor[0]:S.borderColor}`}}),d.jsx("span",{style:{fontSize:"13px",color:"#333"},children:S.label})]},_))})]}),d.jsx("div",{style:{minHeight:"600px",height:Math.max(600,e.length*15)+"px",maxHeight:"1200px",overflowY:"auto",overflowX:"auto"},children:d.jsx("div",{style:{minHeight:"500px",height:"100%"},children:C()})})]}),f.length>0&&d.jsxs("div",{style:{marginTop:"40px",padding:"25px",background:"#e8f5e9",borderLeft:"6px solid #4caf50",borderRadius:"10px"},children:[d.jsx("strong",{style:{color:"#2e7d32",fontSize:"1.1em"},children:"Chart Statistics:"}),d.jsx("div",{style:{marginTop:"15px",color:"#1b5e20",lineHeight:"1.7"},children:f.map((S,_)=>d.jsx("div",{style:{marginBottom:"15px"},children:S.stats?d.jsxs(d.Fragment,{children:[d.jsxs("strong",{children:[S.label,":"]}),d.jsxs("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[" Sum: ",S.stats.sum,d.jsx("br",{})," Average: ",S.stats.avg,d.jsx("br",{})," Max: ",S.stats.max,d.jsx("br",{})," Min: ",S.stats.min]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("strong",{children:[S.label,":"]})," ",S.value]})},_))})]})]})}function pK({columns:e,formData:t,onInputChange:r,onSubmit:n,onClose:i}){const s=o=>{o.preventDefault(),n(o)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:i,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:o=>o.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Insert New Row"}),d.jsxs("div",{children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:e.map(o=>d.jsxs("div",{children:[d.jsxs("label",{style:{display:"block",marginBottom:"5px",color:"#f0f0f0",fontWeight:"bold"},children:[o.name," ",(o.pk&&!o.autoincrement||o.notnull&&!o.autoincrement)&&d.jsx("span",{style:{color:"#ff6b6b"},children:"*"}),o.autoincrement&&d.jsxs("span",{style:{color:"#4CAF50",fontSize:"0.85em"},children:[" ","(auto-generated - optional)"]}),o.pk&&!o.autoincrement&&d.jsxs("span",{style:{color:"#ffa726",fontSize:"0.85em"},children:[" ","(primary key - required)"]})]}),d.jsx("input",{type:o.type==="INTEGER"||o.type==="REAL"?"number":"text",value:t[o.name]||"",onChange:a=>r(o.name,a.target.value),placeholder:o.autoincrement?"Auto-generated":"",style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"},onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),s(a))}})]},o.name))}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:i,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:s,style:{padding:"14px 28px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(147, 112, 219, 0.5)"},children:"Insert Row"})]})]})]})})}function gK({columns:e,updateFormData:t,updateCondition:r,onInputChange:n,onConditionChange:i,onSubmit:s,onClose:o}){const a=l=>{l.preventDefault(),s(l)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:o,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #1e9530",boxShadow:"0 10px 40px rgba(30, 149, 48, 0.6)"},onClick:l=>l.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Update Rows"}),d.jsxs("div",{children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:e.map(l=>d.jsxs("div",{children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#f0f0f0",fontWeight:"bold"},children:l.name}),d.jsx("input",{type:l.type==="INTEGER"||l.type==="REAL"?"number":"text",value:t[l.name]||"",onChange:c=>n(l.name,c.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]},l.name))}),d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"10px",color:"#f0f0f0",fontWeight:"bold"},children:"WHERE Clause (Required):"}),d.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),placeholder:"e.g., id = 1 or name = 'Alice'",style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsx("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:"Leave fields empty to keep their current values. Only non-empty fields will be updated."}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:o,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:a,style:{padding:"14px 28px",background:"#1e9530",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(30, 149, 48, 0.5)"},children:"Update Rows"})]})]})]})})}function mK({deleteCondition:e,onConditionChange:t,onSubmit:r,onClose:n}){const i=s=>{s.preventDefault(),r(s)};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"600px",width:"90%",border:"2px solid #dc3545",boxShadow:"0 10px 40px rgba(220, 53, 69, 0.6)"},onClick:s=>s.stopPropagation(),children:[d.jsx("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:"Delete Rows"}),d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #dc3545",marginBottom:"25px",fontSize:"0.95em"},children:" Warning: This will permanently delete all rows matching your condition. This action cannot be undone."}),d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"10px",color:"#f0f0f0",fontWeight:"bold"},children:"WHERE Clause (Required):"}),d.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"e.g., id > 10 or status = 'inactive'",style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"14px",boxSizing:"border-box"}})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"button",onClick:i,style:{padding:"14px 28px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(220, 53, 69, 0.5)"},children:"Delete Rows"})]})]})]})})}function IM({dbName:e,procedureName:t,procedureType:r,onClose:n,onSuccess:i}){const[s,o]=T.useState(""),[a,l]=T.useState(!0),[c,u]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const m=await X.get(`/api/db/${e}/procedure/${t}/code`);m.data.success?o(m.data.code):u("Failed to load procedure code")}catch(m){u("Error loading procedure: "+m.message)}finally{l(!1)}},g=async m=>{var y,x;m.preventDefault(),u(""),f(!0);try{if(!(await X.post(`/api/db/${e}/procedure/drop`,{procedure_name:t,is_function:r==="FUNCTION"})).data.success)throw new Error("Failed to drop existing procedure");const v=await X.post(`/api/db/${e}/procedures/execute`,{procedure_code:s});v.data.success?(i("Procedure updated successfully"),n()):u(v.data.error||"Failed to update procedure")}catch(b){u("Failed to update procedure: "+(((x=(y=b.response)==null?void 0:y.data)==null?void 0:x.error)||b.message))}finally{f(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"900px",width:"95%",maxHeight:"90vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:m=>m.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[" Edit ",r,": ",t]}),d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.2)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #9370db"},children:[d.jsx("h4",{style:{color:"#bb86fc",marginTop:0,marginBottom:"10px"},children:" Format Guidelines:"}),d.jsxs("ul",{style:{color:"#e0e0e0",fontSize:"0.9em",margin:0,paddingLeft:"20px"},children:[d.jsxs("li",{children:[d.jsx("strong",{children:"MySQL:"})," Include DELIMITER statements"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"PostgreSQL:"})," Functions only (no procedures)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"DuckDB:"})," Functions with CREATE OR REPLACE"]}),d.jsxs("li",{children:["Use the ",d.jsx("strong",{children:"exact same format"})," as when creating"]}),d.jsx("li",{children:"The old procedure will be dropped before creating the new version"})]})]}),c&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:c}),a?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading procedure code..."})}):d.jsxs("form",{onSubmit:g,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Procedure Code:"}),d.jsx("textarea",{value:s,onChange:m=>o(m.target.value),rows:20,required:!0,placeholder:`Example for MySQL:

DELIMITER $$
CREATE PROCEDURE GetTopStudents()
BEGIN
    SELECT name, marks FROM students WHERE marks > 85;
END$$
DELIMITER ;`,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace",lineHeight:"1.5",resize:"vertical"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:h,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:h,style:{padding:"10px 20px",background:h?"#6c757d":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",fontWeight:"bold"},children:h?"Updating...":" Update Procedure"})]})]})]})})}function zM({dbName:e,tableName:t,triggerName:r,onClose:n,onSuccess:i}){const[s,o]=T.useState({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:"",table:""}),[a,l]=T.useState(!0),[c,u]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const y=await X.get(`/api/db/${e}/triggers`);if(y.data.success){const x=y.data.triggers.find(b=>b.name===r);if(x){let b=x.sql||"";if(b.toUpperCase().includes("BEGIN")&&b.toUpperCase().includes("END")){const v=b.match(/BEGIN\s+([\s\S]*?)\s+END/i);v&&(b=v[1].trim())}if(b.includes("$$")){const v=b.match(/\$\$\s+([\s\S]*?)\s+\$\$/);v&&(b=v[1].trim(),b=b.replace(/^\s*BEGIN\s+/i,"").replace(/\s+END\s*$/i,""))}b=b.replace(/RETURN\s+(NEW|OLD)\s*;?\s*$/i,""),b=b.replace(/;+\s*$/g,"").trim(),o({trigger_name:x.name,trigger_timing:x.timing||"AFTER",trigger_event:x.event||"INSERT",trigger_body:b,table:x.table||t})}else u("Trigger not found")}}catch(y){u("Error loading trigger: "+y.message)}finally{l(!1)}},g=async y=>{y.preventDefault(),u(""),f(!0);const x=r,b=`${s.trigger_name}_temp_${Date.now()}`;try{const v=await X.post(`/api/table/${e}/${s.table}/triggers`,{trigger_name:b,trigger_timing:s.trigger_timing,trigger_event:s.trigger_event,trigger_body:s.trigger_body});if(!v.data.success)throw new Error(v.data.error||"Failed to create temporary trigger");if(!(await X.post(`/api/db/${e}/triggers/delete`,{trigger_name:x})).data.success)throw await X.post(`/api/db/${e}/triggers/delete`,{trigger_name:b}).catch(()=>{}),new Error("Failed to delete old trigger  rolling back");const k=await X.post(`/api/table/${e}/${s.table}/triggers`,{trigger_name:s.trigger_name,trigger_timing:s.trigger_timing,trigger_event:s.trigger_event,trigger_body:s.trigger_body});if(!k.data.success)throw new Error(k.data.error||"Failed to create final trigger");await X.post(`/api/db/${e}/triggers/delete`,{trigger_name:b}).catch(S=>{console.warn("Minor cleanup issue: could not delete temporary trigger",b,S)}),i(`Trigger "${s.trigger_name}" updated ! `),n()}catch(v){u(`Update failed: ${v.message}. Your original trigger "${x}" remains safe and unchanged.`),console.error("Trigger update error:",v)}finally{f(!1)}},m=(y,x)=>{o({...s,[y]:x})};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:n,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"30px",borderRadius:"15px",maxWidth:"900px",width:"95%",maxHeight:"90vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:y=>y.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",marginBottom:"10px"},children:[" Edit Trigger: ",r]}),d.jsxs("div",{style:{background:"rgba(147, 112, 219, 0.2)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #9370db"},children:[d.jsx("h4",{style:{color:"#bb86fc",marginTop:0,marginBottom:"10px"},children:" Format Guidelines:"}),d.jsxs("ul",{style:{color:"#e0e0e0",fontSize:"0.9em",margin:0,paddingLeft:"20px"},children:[d.jsxs("li",{children:[d.jsx("strong",{children:"PostgreSQL:"})," Use PL/pgSQL syntax. RETURN is auto-added if missing"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"MySQL:"})," Use MySQL trigger syntax (no DELIMITER needed)"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"SQLite:"})," Use SQLite trigger syntax"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Timing:"})," BEFORE or AFTER"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Event:"})," INSERT, UPDATE, or DELETE"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Body:"})," The action to perform (without BEGIN/END wrapper)"]})]})]}),c&&d.jsx("div",{className:"error",style:{marginBottom:"15px"},children:c}),a?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:d.jsx("div",{className:"loading",children:"Loading trigger details..."})}):d.jsxs("form",{onSubmit:g,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Trigger Name:"}),d.jsx("input",{type:"text",value:s.trigger_name,onChange:y=>m("trigger_name",y.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Table:"}),d.jsx("input",{type:"text",value:s.table,readOnly:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #555",borderRadius:"5px",background:"rgba(30, 0, 51, 0.3)",color:"#999",fontSize:"14px",cursor:"not-allowed"}})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[d.jsxs("div",{children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Timing:"}),d.jsxs("select",{value:s.trigger_timing,onChange:y=>m("trigger_timing",y.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"BEFORE",children:"BEFORE"}),d.jsx("option",{value:"AFTER",children:"AFTER"})]})]}),d.jsxs("div",{children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Event:"}),d.jsxs("select",{value:s.trigger_event,onChange:y=>m("trigger_event",y.target.value),style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"14px"},children:[d.jsx("option",{value:"INSERT",children:"INSERT"}),d.jsx("option",{value:"UPDATE",children:"UPDATE"}),d.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Trigger Body:"}),d.jsx("textarea",{value:s.trigger_body,onChange:y=>m("trigger_body",y.target.value),rows:12,required:!0,placeholder:`Examples (RETURN is auto-added if missing):

-- PostgreSQL: Auto-update timestamp on INSERT/UPDATE
NEW.updated_at := NOW();

-- PostgreSQL: Capitalize text on INSERT
NEW.name := INITCAP(NEW.name);
RAISE NOTICE 'Capitalized: % (id: %)', NEW.name, NEW.id;

-- MySQL: Update timestamp
SET NEW.updated_at = NOW();

-- SQLite: Log changes
INSERT INTO audit_log (action, timestamp) VALUES ('INSERT', datetime('now'));`,style:{width:"100%",padding:"12px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontSize:"13px",fontFamily:"monospace",lineHeight:"1.5",resize:"vertical"}})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:n,disabled:h,style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:h,style:{padding:"10px 20px",background:h?"#6c757d":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:h?"not-allowed":"pointer",fontWeight:"bold"},children:h?"Updating...":" Update Trigger"})]})]})]})})}function xK(){const{dbName:e,tableName:t}=Go(),[r,n]=np(),i=Pn(),[s,o]=T.useState(!0),[a,l]=T.useState(""),[c,u]=T.useState(""),[h,f]=T.useState(r.get("tab")||"data"),[p,g]=T.useState([]),[m,y]=T.useState([]),[x,b]=T.useState(0),[v,C]=T.useState(1),[k]=T.useState(20),[S,_]=T.useState(1),[A,D]=T.useState(""),[F,O]=T.useState("asc"),[W,H]=T.useState(""),[P,j]=T.useState(null),{sessionQueries:L,addQuery:B,navigateHistory:E,resetNavigation:M}=Dp("table"),[$,z]=T.useState(!1),[q,nt]=T.useState(!1),[ut,ft]=T.useState(!1),[V,tt]=T.useState({}),[lt,bt]=T.useState({}),[kt,At]=T.useState(""),[rt,dt]=T.useState(""),[Bt,le]=T.useState(null),[ae,$r]=T.useState(""),[Ae,de]=T.useState(new Set),[Je,mn]=T.useState(!1),[Fn,_e]=T.useState([]),[rn,Nr]=T.useState(!1),[Ir,Ce]=T.useState(null),[nn,Ti]=T.useState([]),[Ei,xn]=T.useState(!1),[Cr,yn]=T.useState(t),[Te,he]=T.useState([]),[Ze,bn]=T.useState(!0),[Oe,vn]=T.useState({}),[Tr,sn]=T.useState({}),[ct,Ot]=T.useState([]),[Nt,Ht]=T.useState(!1),[Ft,Wt]=T.useState(!1),[on,ta]=T.useState(null),[Er,or]=T.useState({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:""}),[Dn,qt]=T.useState([]),[tr,ar]=T.useState(!1),[Js,ss]=T.useState(""),[ji,os]=T.useState(!1),[Ve,ea]=T.useState(null),[Zs,to]=T.useState(""),[as,ra]=T.useState(!1),[_t,N]=T.useState(null),[it,mt]=T.useState([]),[oe,$e]=T.useState("bar"),[xe,Ne]=T.useState(""),[wn,Ai]=T.useState([]),[na,Be]=T.useState(null);T.useRef(null);const[Li,ia]=T.useState("sql"),[ii,Gu]=T.useState(""),[zr,Xu]=T.useState(null);T.useEffect(()=>{si(),Vp()},[e,t,v,A,F]),T.useEffect(()=>{h==="triggers"?Mi():h==="procedures"?oa():h==="structure"?On():h==="charts"&&Tl()},[h]),T.useEffect(()=>{ae&&El(ae,Ae)},[v]);const si=async()=>{try{o(!0),l("");const R=await X.get(`/api/table/${e}/${t}`,{params:{page:v,per_page:k,sort_column:A,sort_order:F}});if(R.data.success){g(R.data.columns),y(R.data.rows),_e(R.data.rows),b(R.data.record_count),_(R.data.total_pages),ia(R.data.db_type),Gu(R.data.handler);const K=R.data.columns.find(Z=>Z.pk);Xu(K?K.name:null);const G={};R.data.columns.forEach(Z=>{G[Z.name]=""}),tt(G),Yp()}else l(R.data.error||"Failed to fetch table data")}catch(R){console.error("Failed to fetch table data:",R)}finally{o(!1)}},Vp=async()=>{try{const R=await X.get(`/api/db/${e}/capabilities`);R.data.success&&bn(R.data.capabilities.supports_non_pk_autoincrement)}catch(R){console.error("Failed to fetch capabilities:",R),bn(!0)}},Yp=async()=>{try{const R=await X.get(`/api/table/${e}/${t}/triggers`);R.data.success&&Ht(R.data.supports_triggers)}catch(R){console.error("Failed to check triggers support:",R),Ht(!1)}try{const R=await X.get(`/api/table/${e}/${t}/procedures`);R.data.success&&ar(R.data.supports_procedures)}catch(R){console.error("Failed to check procedures support:",R),ar(!1)}try{const R=await X.get(`/api/table/${e}/${t}/plsql/support`);R.data.success&&ra(R.data.supports_plsql)}catch(R){console.error("Failed to check PL/SQL support:",R),ra(!1)}},sa=(R,K)=>K==="PostgreSQL"?["SERIAL","BIGSERIAL","SMALLSERIAL","INTEGER","BIGINT","SMALLINT"].includes(R==null?void 0:R.toUpperCase()):K==="MySQL"?["INT","INTEGER","BIGINT","SMALLINT","TINYINT","MEDIUMINT"].includes(R==null?void 0:R.toUpperCase()):["INTEGER","INT","BIGINT","SMALLINT","TINYINT"].includes(R==null?void 0:R.toUpperCase()),On=async()=>{try{const R=await X.get(`/api/table/${e}/${t}/structure`);if(R.data.success){Ti(R.data.types);const K={};R.data.columns.forEach(G=>{G.check_constraint&&(K[G.name]=G.check_constraint)}),vn(K),he(R.data.columns.map((G,Z)=>({...G,index:Z+1,autoincrement:!!G.autoincrement,unique:!!G.unique,has_check:!!G.check_constraint}))),yn(R.data.table_name)}}catch(R){console.error("Failed to fetch structure:",R),l("Failed to load structure")}},Mi=async()=>{try{const R=await X.get(`/api/table/${e}/${t}/triggers`);R.data.success&&(Ot(R.data.triggers),Ht(R.data.supports_triggers))}catch(R){console.error("Failed to fetch triggers:",R)}},oa=async()=>{try{const R=await X.get(`/api/table/${e}/${t}/procedures`);R.data.success&&(qt(R.data.procedures),ar(R.data.supports_procedures))}catch(R){console.error("Failed to fetch procedures:",R)}},aa=async R=>{var K,G;l(""),u(""),j(null);try{const Z=await X.post(`/api/db/${e}/procedure/${R}/execute`);if(Z.data.success){const st=Z.data.result,zt=Z.data.result_type;if(u(Z.data.message),zt==="table"&&Array.isArray(st)&&st.length>0)j(st);else if(zt==="status"){if(st&&typeof st=="object"){const Et=st.status||st.message||JSON.stringify(st);u(Et)}j(null)}else j(null)}else l(Z.data.error||"Failed to execute procedure")}catch(Z){l("Failed to execute procedure: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},Qu=R=>{ea(R),os(!0)},Tl=async()=>{try{const R=await X.get(`/api/table/${e}/${t}/chart_data`);R.data.success&&(N(R.data.data),mt(R.data.keys),R.data.keys.length>0&&Ne(R.data.keys[0]))}catch(R){console.error("Failed to fetch chart data:",R),l("Failed to load chart data")}},El=async(R,K)=>{Nr(!0);try{const G=K.size>0?Array.from(K).join(","):"",Z=await X.get(`/api/table/${e}/${t}/search`,{params:{q:R,fields:G,page:v,per_page:k}});Z.data.success&&(y(Z.data.rows),b(Z.data.total),_(Z.data.total_pages))}catch(G){console.error("Search error:",G)}finally{Nr(!1)}},Gp=R=>{if(!ZM(R,W,G=>{H(G),M()})){if(R.key==="ArrowUp"&&L.length>0){R.preventDefault();const G=E("up",W);G!==null&&H(G)}else if(R.key==="ArrowDown"&&L.length>0){R.preventDefault();const G=E("down",W);G!==null&&H(G)}}},Xp=R=>{$r(R),Ir&&clearTimeout(Ir);const K=setTimeout(()=>{El(R,Ae)},300);Ce(K)},Qp=(R,K)=>{const G=new Set(Ae);K?G.add(R):G.delete(R),de(G),ae&&El(ae,G)},Ku=R=>{A===R?O(F==="asc"?"desc":"asc"):(D(R),O("asc")),C(1)},$n=R=>{f(R),n({tab:R}),l(""),u(""),j(null)},I=(R,K)=>{tt({...V,[R]:K})},J=async R=>{var G,Z;R.preventDefault(),l(""),u("");for(const st of p){const zt=V[st.name],Et=!zt||zt==="";if(st.pk&&!st.autoincrement&&Et){l(`${st.name} is a primary key without autoincrement - you must provide a value`);return}if(st.notnull&&!st.autoincrement&&Et){l(`${st.name} cannot be empty (NOT NULL constraint)`);return}}const K={};Object.keys(V).forEach(st=>{const zt=p.find(ls=>ls.name===st),Et=V[st];zt&&(Et!==""||zt.pk&&!zt.autoincrement)&&(K[st]=Et)});try{const st=await X.post(`/api/table/${e}/${t}/data`,{action:"insert",data:K});if(st.data.success){u("Row inserted successfully");const zt={};p.forEach(Et=>{zt[Et.name]=""}),tt(zt),z(!1),si()}else l(st.data.error||"Failed to insert row")}catch(st){l("Failed to insert row: "+(((Z=(G=st.response)==null?void 0:G.data)==null?void 0:Z.error)||st.message))}},at=(R,K)=>{bt({...lt,[R]:K})},Dt=async R=>{var G,Z;if(R.preventDefault(),l(""),u(""),!kt.trim()){l("Update condition (WHERE clause) is required");return}const K={};if(Object.keys(lt).forEach(st=>{lt[st]&&(K[st]=lt[st])}),Object.keys(K).length===0){l("At least one column value must be provided for update");return}try{const st=await X.post(`/api/table/${e}/${t}/data`,{action:"update",data:K,condition:kt});st.data.success?(u("Rows updated successfully"),bt({}),At(""),nt(!1),si()):l(st.data.error||"Failed to update rows")}catch(st){l("Failed to update rows: "+(((Z=(G=st.response)==null?void 0:G.data)==null?void 0:Z.error)||st.message))}},Xt=async R=>{var K,G;if(R.preventDefault(),l(""),u(""),!rt.trim()){l("Delete condition (WHERE clause) is required");return}if(window.confirm(`Are you sure you want to delete rows WHERE ${rt}?`))try{const Z=await X.post(`/api/table/${e}/${t}/data`,{action:"delete",condition:rt});Z.data.success?(u("Rows deleted successfully"),dt(""),ft(!1),si()):l(Z.data.error||"Failed to delete rows")}catch(Z){l("Failed to delete rows: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},Pt=R=>{le(zr?R[zr]:JSON.stringify(R)),tt(R)},lr=async()=>{var G,Z;if(l(""),u(""),!Bt){l("Cannot save: no row identifier");return}let R="",K={};if(zr)R=`${zr} = '${Bt}'`;else try{K=JSON.parse(Bt)}catch{l("Cannot save: invalid row identifier");return}try{const st=await X.post(`/api/table/${e}/${t}/data`,{action:"update",data:V,condition:R||void 0,original_data:zr?void 0:K});st.data.success?(u("Row updated successfully"),le(null),si()):l(st.data.error||"Failed to update row")}catch(st){l("Failed to update row: "+(((Z=(G=st.response)==null?void 0:G.data)==null?void 0:Z.error)||st.message))}},oi=()=>{le(null);const R={};p.forEach(K=>{R[K.name]=""}),tt(R)},jl=async R=>{var G,Z;if(!window.confirm("Are you sure you want to delete this row?"))return;let K="";zr&&(K=`${zr} = '${R[zr]}'`);try{const st=await X.post(`/api/table/${e}/${t}/data`,{action:"delete",condition:K||void 0,...!zr&&{data:R}});st.data.success?(u("Row deleted successfully"),si()):l(st.data.error||"Failed to delete row")}catch(st){l("Failed to delete row: "+(((Z=(G=st.response)==null?void 0:G.data)==null?void 0:Z.error)||st.message))}},Wr=(R,K,G)=>{he(Z=>{const st=[...Z];return K==="autoincrement"&&G===!0?st.map((zt,Et)=>Et===R?{...zt,autoincrement:!0,unique:!0,notnull:!0}:zt.autoincrement?{...zt,autoincrement:!1,unique:!!zt.pk,notnull:!!zt.pk}:zt):K==="autoincrement"&&G===!1?st.map((zt,Et)=>Et===R?{...zt,autoincrement:!1,unique:!!zt.pk,notnull:!!zt.pk}:zt):(K==="unique"&&G===!1&&st[R].autoincrement||K==="notnull"&&G===!1&&st[R].autoincrement||(st[R]={...st[R],[K]:G}),st)})},Al=(R,K)=>{he(G=>G.map((Z,st)=>st===R?{...Z,pk:K,notnull:K,unique:K}:Z.pk&&K?{...Z,pk:!1,notnull:!1,unique:!1}:Z))},WM=()=>{he([...Te,{index:Te.length+1,name:"",type:nn[0]||"TEXT",pk:!1,notnull:!1,autoincrement:!1}])},HM=R=>{if(Te.length===1){l("Cannot delete the last column. At least one column is required.");return}if(!window.confirm("Are you sure you want to delete this column?"))return;const K=Te.filter((G,Z)=>Z!==R);he(K)},qM=async R=>{var st,zt;if(R.preventDefault(),l(""),u(""),!Cr.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)){l("Table name must start with a letter and contain only letters, numbers, underscores.");return}const K=new Set;let G=!1;for(const Et of Te){if(!Et.name||!Et.type){l("All columns must have a name and type.");return}if(K.has(Et.name)){l(`Duplicate column name: ${Et.name}`);return}if(K.add(Et.name),Et.pk){if(G){l("Only one primary key is allowed.");return}G=!0}}const Z=Te.map(Et=>{const ls=Et.autoincrement||Et.pk||Et.unique,rR=Et.autoincrement||Et.pk||Et.notnull,Ub={name:Et.name,type:Et.type,is_pk:Et.pk||!1,is_not_null:rR,is_autoincrement:!!Et.autoincrement,is_unique:ls},Kp=Oe[Et.name];return Kp&&Kp.trim()&&(Ub.check_constraint=Kp.trim()),Ub});try{const Et=await X.post(`/api/table/${e}/${t}/structure`,{new_table_name:Cr,columns:Z});Et.data.success?(u(Et.data.message||"Table structure updated successfully"),xn(!1),Et.data.new_table_name&&Et.data.new_table_name!==t?setTimeout(()=>{i(`/db/${e}/table/${Et.data.new_table_name}?tab=structure`),window.location.reload()},1e3):(On(),si())):l(Et.data.error||"Failed to update structure")}catch(Et){l("Failed to update structure: "+(((zt=(st=Et.response)==null?void 0:st.data)==null?void 0:zt.error)||Et.message))}},UM=async R=>{var K,G;if(R.preventDefault(),l(""),u(""),j(null),!W.trim()){l("Query cannot be empty");return}try{const Z=await X.post(`/api/table/${e}/${t}/query`,{query:W});if(Z.data.success){const st=Z.data.result,zt=Z.data.result_type;if(await B(W),console.log("Query result:",st),console.log("Result type:",zt),zt==="table"&&Array.isArray(st)&&st.length>0)j(st),u("Query executed successfully");else if(zt==="status"){if(st&&typeof st=="object")if(st.rows_affected!==void 0)u(`Query executed successfully. ${st.rows_affected} rows affected.`);else{const Et=st.status||st.message||JSON.stringify(st);u(Et)}j(null)}else zt==="empty"?(u("Query executed successfully. No results returned."),j(null)):(j(st),u("Query executed successfully"))}else l(Z.data.error||"Query execution failed")}catch(Z){l("Failed to execute query: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},VM=async R=>{var K,G;R.preventDefault(),l(""),u("");try{const Z=await X.post(`/api/table/${e}/${t}/triggers`,Er);Z.data.success?(u("Trigger created successfully"),or({trigger_name:"",trigger_timing:"BEFORE",trigger_event:"INSERT",trigger_body:""}),Mi()):l(Z.data.error||"Failed to create trigger")}catch(Z){l("Failed to create trigger: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},YM=R=>{ta(R),Wt(!0)},GM=async R=>{var K,G;if(window.confirm(`Delete trigger ${R}?`))try{const Z=await X.delete(`/api/table/${e}/${t}/triggers`,{data:{trigger_name:R}});Z.data.success?(u("Trigger deleted successfully"),Mi()):l(Z.data.error||"Failed to delete trigger")}catch(Z){l("Failed to delete trigger: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},XM=async R=>{var K,G;R.preventDefault(),l(""),u("");try{const Z=await X.post(`/api/table/${e}/${t}/procedures`,{procedure_code:Js});if(Z.data.success){u(Z.data.message||"Procedure executed successfully");const st=Z.data.result,zt=Z.data.result_type;if(zt==="table"&&Array.isArray(st)&&st.length>0)j(st);else if(zt==="status"){if(st&&typeof st=="object"){const Et=st.status||st.message||JSON.stringify(st);u(Et)}j(null)}else j(null);ss(""),oa()}else l(Z.data.error||"Failed to execute procedure")}catch(Z){l("Failed to execute procedure: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},QM=async R=>{var K,G;R.preventDefault(),l(""),u("");try{const Z=await X.post(`/api/table/${e}/${t}/plsql`,{plsql_code:Zs});Z.data.success?(Z.data.refresh?(u(Z.data.status),si()):(u(Z.data.message||"PL/SQL executed successfully"),j(Z.data.result)),to("")):l(Z.data.error||"Failed to execute PL/SQL")}catch(Z){l("Failed to execute PL/SQL: "+(((G=(K=Z.response)==null?void 0:K.data)==null?void 0:G.error)||Z.message))}},KM=()=>{mn(!Je)},Wb=Qp,{suggestions:Ju,showSuggestions:Hb,selectedIndex:qb,handleQueryChange:JM,handleKeyDown:ZM,selectSuggestion:tR,hideSuggestions:eR}=Op();return s?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:Li,handlerName:ii}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading table data..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:Li,handlerName:ii}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h2",{style:{margin:0,color:"#f0f0f0"},children:["Table: ",t," in ",e," (",Li.toUpperCase(),")"]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[x," record",x!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),d.jsx("br",{}),d.jsx("br",{}),a&&d.jsx("div",{className:"error",children:a}),c&&d.jsx("div",{className:"success",children:c}),d.jsxs("div",{className:"tabs",children:[d.jsx("button",{className:"tab-button",onClick:()=>$n("data"),style:{background:h==="data"?"#4b0082":"#9370db"},children:"Data"}),d.jsx("button",{className:"tab-button",onClick:()=>$n("structure"),style:{background:h==="structure"?"#4b0082":"#9370db"},children:" Structure"}),d.jsx("button",{className:"tab-button",onClick:()=>$n("query"),style:{background:h==="query"?"#4b0082":"#9370db"},children:" Query"}),d.jsx("button",{className:"tab-button",onClick:()=>$n("importexport"),style:{background:h==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),tr&&d.jsx("button",{className:"tab-button",onClick:()=>$n("procedures"),style:{background:h==="procedures"?"#4b0082":"#9370db"},children:" Procedures"}),Nt&&d.jsx("button",{className:"tab-button",onClick:()=>$n("triggers"),style:{background:h==="triggers"?"#4b0082":"#9370db"},children:"Triggers"}),as&&d.jsx("button",{className:"tab-button",onClick:()=>$n("plsql"),style:{background:h==="plsql"?"#4b0082":"#9370db"},children:" PL/SQL"}),d.jsx("button",{className:"tab-button",onClick:()=>$n("charts"),style:{background:h==="charts"?"#4b0082":"#9370db"},children:" Charts"})]}),h==="data"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:"Search in selected fields...",value:ae,onChange:R=>Xp(R.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:KM,style:{marginLeft:"10px",padding:"14px 22px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},children:"Filter Fields"}),d.jsx("button",{onClick:()=>{$r(""),de(new Set),y(Fn)},style:{marginLeft:"10px",padding:"14px 22px",background:"#6c757d",color:"white",border:"none",borderRadius:"10px",cursor:"pointer"},children:"Clear"}),Je&&d.jsxs("div",{style:{marginTop:"15px",padding:"20px",background:"#fff",color:"#333",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",maxWidth:"600px",maxHeight:"320px",overflowY:"auto"},children:[d.jsx("strong",{style:{color:"#4b0082"},children:"Choose fields to search in:"}),d.jsx("br",{}),d.jsx("br",{}),p.map(R=>d.jsx("div",{style:{margin:"8px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"block",padding:"4px 0"},children:[d.jsx("input",{type:"checkbox",checked:Ae.has(R.name),onChange:K=>Wb(R.name,K.target.checked),style:{marginRight:"10px"}}),d.jsx("span",{children:R.name})]})},R.name))]}),Ae.size>0&&d.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"10px"},children:Array.from(Ae).map(R=>d.jsxs("span",{style:{background:"linear-gradient(135deg,#e91e63,#ad1457)",color:"white",padding:"2px 20px",borderRadius:"30px",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"10px"},children:[R,d.jsx("span",{onClick:()=>Wb(R,!1),style:{cursor:"pointer",fontWeight:"600",fontSize:"1.2em"},children:""})]},R))}),ae&&d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:rn?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):m.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",x," record",x!==1?"s":""," match"]})})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px"},children:[d.jsx("button",{onClick:()=>{const R={};p.forEach(K=>{R[K.name]=""}),tt(R),z(!0)},style:{padding:"14px 28px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(106, 90, 205, 0.5)"},children:" Insert Row"}),d.jsx("button",{onClick:()=>nt(!0),style:{padding:"14px 28px",background:"linear-gradient(135deg, #1e9530, #145a21)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(30, 149, 48, 0.5)"},children:" Update Rows"}),d.jsx("button",{onClick:()=>ft(!0),style:{padding:"14px 28px",background:"linear-gradient(135deg, #dc3545, #a71d2a)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 20px rgba(220, 53, 69, 0.5)"},children:" Delete Rows"})]}),S>1&&d.jsxs("div",{className:"pagination",style:{marginBottom:"20px"},children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",S," (",x," total)"]}),v<S?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),S>1&&d.jsxs("div",{className:"pagination",children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",S," (",x," total)"]}),v<S?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[p.map(R=>d.jsxs("th",{onClick:()=>Ku(R.name),style:{cursor:"pointer"},children:[R.name,A===R.name&&d.jsx("span",{style:{marginLeft:"4px"},children:F==="asc"?"":""})]},R.name)),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:m.length>0?m.map((R,K)=>d.jsx("tr",{children:(zr?Bt===R[zr]:Bt===JSON.stringify(R))?d.jsxs(d.Fragment,{children:[p.map(G=>d.jsx("td",{children:d.jsx("input",{type:G.type==="INTEGER"||G.type==="REAL"?"number":"text",value:V[G.name]??"",onChange:Z=>I(G.name,Z.target.value),required:G.notnull,style:{width:"100px",padding:"4px"}})},G.name)),d.jsxs("td",{children:[d.jsx("button",{onClick:lr,style:{background:"#008000",marginRight:"5px"},children:"Save"}),d.jsx("button",{onClick:oi,style:{background:"#ff0000"},children:"Cancel"})]})]}):d.jsxs(d.Fragment,{children:[p.map(G=>d.jsx("td",{children:R[G.name]??""},G.name)),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>Pt(R),style:{background:"#008000",marginRight:"5px"},children:"Modify"}),d.jsx("button",{onClick:()=>jl(R),style:{background:"#ff0000"},children:"Delete"})]})]})},K)):d.jsx("tr",{children:d.jsx("td",{colSpan:p.length+1,style:{textAlign:"center",color:"#666"},children:"No records available"})})})]})}),S>1&&d.jsxs("div",{className:"pagination",children:[v>1?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",v," of ",S," (",x," total)"]}),v<S?d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),C(v+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),h==="structure"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Table Structure"}),Ei?d.jsxs("div",{children:[d.jsx("h4",{style:{color:"#f0f0f0"},children:"Modify Table Structure"}),d.jsxs("form",{onSubmit:qM,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{color:"#f0f0f0",display:"block",marginBottom:"5px"},children:"Table Name:"}),d.jsx("input",{type:"text",value:Cr,onChange:R=>yn(R.target.value),required:!0,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",width:"300px"}})]}),d.jsx("div",{style:{marginBottom:"20px",overflowX:"auto",overflowY:"visible",paddingBottom:"10px",maxWidth:"100%"},children:d.jsx("div",{style:{minWidth:"1200px",display:"flex",flexDirection:"column",gap:"10px"},children:Te.map((R,K)=>d.jsxs("div",{children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px 230px 120px 120px 120px 100px 100px 100px 80px",gap:"10px",alignItems:"center",padding:"10px 15px",background:"rgba(147, 112, 219, 0.1)",borderRadius:"5px",width:"100%",boxSizing:"border-box"},children:[d.jsx("input",{type:"text",value:R.name,onChange:G=>Wr(K,"name",G.target.value),placeholder:"Column Name",required:!0,style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",width:"100%",boxSizing:"border-box"}}),d.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",width:"100%"},children:[d.jsx("select",{value:R.type.includes("(")?R.type.split("(")[0].toUpperCase():R.type.toUpperCase(),onChange:G=>{var zt;const Z=G.target.value;if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(Z)){const Et=R.type.includes("(")&&((zt=R.type.match(/\((\d+)\)/))==null?void 0:zt[1])||"255";Wr(K,"type",`${Z}(${Et})`)}else Wr(K,"type",Z)},style:{padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.9)",color:"#f0f0f0",flex:1,minWidth:"100px",boxSizing:"border-box"},children:nn.map(G=>{const Z=G.includes("(")?G.split("(")[0]:G;return d.jsx("option",{value:Z,children:Z},Z)})}),(()=>{var st;const G=R.type.includes("(")?R.type.split("(")[0].toUpperCase():R.type.toUpperCase();if(["VARCHAR","CHAR","DECIMAL","NUMERIC"].includes(G)){const zt=R.type.includes("(")&&((st=R.type.match(/\((\d+)\)/))==null?void 0:st[1])||"";return d.jsx("input",{type:"text",value:zt,onChange:Et=>{const ls=Et.target.value;(ls===""||/^\d+$/.test(ls))&&(ls===""?Wr(K,"type",G):Wr(K,"type",`${G}(${ls})`))},onBlur:Et=>{Et.target.value===""&&Wr(K,"type",`${G}(255)`)},placeholder:"Len",style:{width:"70px",padding:"8px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",boxSizing:"border-box"}})}return null})()]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||!1,onChange:G=>Al(K,G.target.checked),style:{marginRight:"5px"}}),"Primary Key"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:R.pk||R.autoincrement?"not-allowed":"pointer",opacity:R.pk||R.autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||R.notnull||R.autoincrement||!1,onChange:G=>Wr(K,"notnull",G.target.checked),disabled:R.pk||R.autoincrement,style:{marginRight:"5px"}}),"Not Null"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:(Ze||R.pk)&&sa(R.type,ii)?"pointer":"not-allowed",opacity:(Ze||R.pk)&&sa(R.type,ii)?1:.6,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.autoincrement||!1,onChange:G=>{if(sa(R.type,ii)){if(!Ze&&!R.pk)return;Wr(K,"autoincrement",G.target.checked)}},disabled:!Ze&&!R.pk||!sa(R.type,ii),style:{marginRight:"5px"}}),"Auto Inc"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:R.pk||R.autoincrement?"not-allowed":"pointer",opacity:R.pk||R.autoincrement?.6:1,fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:R.pk||R.unique||R.autoincrement||!1,onChange:G=>{!R.pk&&!R.autoincrement&&Wr(K,"unique",G.target.checked)},disabled:R.pk||R.autoincrement,style:{marginRight:"5px"}}),"Unique"]}),d.jsxs("label",{style:{color:"#f0f0f0",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.9em",whiteSpace:"nowrap"},children:[d.jsx("input",{type:"checkbox",checked:!!(Oe[R.name]||Tr[R.name]),onChange:G=>{if(G.target.checked)sn({...Tr,[R.name]:!0}),Oe[R.name]||vn({...Oe,[R.name]:""});else{const Z={...Oe};delete Z[R.name],vn(Z);const st={...Tr};delete st[R.name],sn(st)}},style:{marginRight:"5px"}}),"CHECK"]}),d.jsx("button",{type:"button",onClick:()=>HM(K),style:{background:"#dc3545",padding:"6px 12px",fontSize:"0.85em",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",whiteSpace:"nowrap",boxSizing:"border-box"},children:"Delete"})]}),(Oe[R.name]||Tr[R.name])&&d.jsxs("div",{style:{marginTop:"5px",marginLeft:"15px",padding:"10px",background:"rgba(76, 175, 80, 0.1)",border:"1.5px solid #4caf50",borderRadius:"5px"},children:[d.jsxs("div",{style:{marginBottom:"5px",color:"#4caf50",fontSize:"0.85em",fontWeight:"bold"},children:["CHECK Constraint for ",R.name,":"]}),d.jsx("input",{type:"text",value:Oe[R.name]||"",onChange:G=>{vn({...Oe,[R.name]:G.target.value})},placeholder:"e.g., age > 0, price BETWEEN 0 AND 1000",style:{width:"100%",padding:"8px",border:"1.5px solid #4caf50",borderRadius:"5px",background:"rgba(30, 0, 51, 0.5)",color:"#f0f0f0",fontFamily:"monospace",fontSize:"0.9em"}}),d.jsxs("div",{style:{marginTop:"5px",fontSize:"0.75em",color:"#ccc"},children:[" Examples: age ",">"," 18, price ",">"," 0, status IN ('active', 'pending')"]})]})]},R.index||K))})}),d.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[d.jsx("button",{type:"button",onClick:WM,style:{background:"#28a745"},children:"+ Add Column"}),d.jsx("button",{type:"submit",style:{background:"#9370db"},children:"Save Changes"}),d.jsx("button",{type:"button",onClick:()=>{xn(!1),On()},style:{background:"#6c757d"},children:"Cancel"})]})]})]}):d.jsxs("div",{children:[d.jsxs("p",{style:{color:"#ccc",marginBottom:"20px"},children:["Table ",d.jsx("strong",{children:t})," has"," ",Te.length," column",Te.length!==1?"s":""]}),Te.length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Column Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Primary Key"}),d.jsx("th",{children:"Not Null"}),d.jsx("th",{children:"Autoincrement"}),d.jsx("th",{children:"Unique"}),d.jsx("th",{children:"CHECK Constraint"})]})}),d.jsx("tbody",{children:Te.map((R,K)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:R.name})}),d.jsx("td",{children:R.type}),d.jsx("td",{children:R.pk?"":""}),d.jsx("td",{children:R.pk||R.notnull?"":""}),d.jsx("td",{children:R.autoincrement?"":""}),d.jsx("td",{children:R.pk||R.unique?"":""}),d.jsx("td",{style:{fontFamily:"monospace",fontSize:"0.85em",color:Oe[R.name]?"#4caf50":"#666"},children:Oe[R.name]||"None"})]},K))})]})}):d.jsx("p",{style:{color:"#ccc"},children:"No structure information available"}),d.jsx("div",{style:{marginTop:"30px"},children:d.jsx("button",{onClick:()=>xn(!0),style:{background:"#9370db"},children:"Modify Structure"})})]})]}),h==="query"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute SQL Query"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:"Execute queries including JOINs, GROUP BY, aggregations, and more."}),d.jsxs("form",{onSubmit:UM,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:W,onChange:R=>{JM(R.target.value,K=>{H(K),M()})},onKeyDown:Gp,onBlur:()=>{setTimeout(()=>eR(),200)},rows:10,cols:120,placeholder:Li==="sql"?`Enter SQL query:

Examples:
  SELECT * FROM ${t}
  SELECT * FROM ${t} WHERE id > 5
  SELECT t1.*, t2.name FROM ${t} t1 JOIN other_table t2 ON t1.id = t2.id
  SELECT COUNT(*) FROM ${t}
  SELECT AVG(price) FROM products GROUP BY category`:`Enter NoSQL query (JSON format):

Examples:
  {"field": "value"}
  {"price": {"$gt": 100}}
  {"$and": [{"category": "books"}, {"price": {"$lt": 50}}]}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),Hb&&Ju.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:Ju.map((R,K)=>d.jsx("div",{onClick:()=>{tR(R,G=>{H(G),M()})},style:{padding:"10px",cursor:"pointer",background:K===qb?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:K<Ju.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:G=>{G.target.style.background="#4b0082"},onMouseLeave:G=>{G.target.style.background=K===qb?"#4b0082":"transparent"},children:R.length>100?R.substring(0,100)+"...":R},K))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",L.length>0&&` (${L.length} queries)`,Hb&&Ju.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute Query"})]}),P&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),Array.isArray(P)&&P.length>0?P[0]&&typeof P[0]=="object"&&Object.keys(P[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(P[0]).map(R=>d.jsx("th",{children:R},R))})}),d.jsx("tbody",{children:P.map((R,K)=>d.jsx("tr",{children:Object.values(R).map((G,Z)=>d.jsx("td",{children:G!=null?typeof G=="object"?JSON.stringify(G):String(G):"NULL"},Z))},K))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):Array.isArray(P)&&P.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Query executed successfully. No results returned."}):typeof P=="object"&&P.rows_affected!==void 0?d.jsxs("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:[d.jsx("strong",{children:"Rows affected:"})," ",P.rows_affected]}):typeof P=="object"&&(P.status||P.message)?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:P.status||P.message}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(P,null,2)})]})]}),h==="procedures"&&tr&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:" Stored Procedures & Functions"}),d.jsx("div",{style:{marginBottom:"20px"},children:d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}/procedures`)},style:{color:"#9370db"},children:" View All Database Procedures "})}),d.jsx("h4",{style:{color:"#f0f0f0"},children:"Create New Procedure"}),d.jsxs("form",{onSubmit:XM,children:[d.jsx("textarea",{value:Js,onChange:R=>ss(R.target.value),rows:15,cols:120,placeholder:`Example MySQL Stored Procedure:

DELIMITER $$
CREATE PROCEDURE GetTopStudents()
BEGIN
    SELECT name, marks FROM students WHERE marks > 85;
END$$
DELIMITER ;

-- To call the procedure:
CALL GetTopStudents();`,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:" Execute Procedure Code"})]}),P&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execution Result"}),Array.isArray(P)&&P.length>0?P[0]&&typeof P[0]=="object"&&Object.keys(P[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(P[0]).map(R=>d.jsx("th",{children:R},R))})}),d.jsx("tbody",{children:P.map((R,K)=>d.jsx("tr",{children:Object.values(R).map((G,Z)=>d.jsx("td",{children:G!=null?typeof G=="object"?JSON.stringify(G):String(G):"NULL"},Z))},K))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"Procedure executed successfully. No results returned."}):typeof P=="object"&&(P.status||P.message)?d.jsx("div",{style:{padding:"15px",background:"#e8f5e9",borderLeft:"4px solid #4caf50",borderRadius:"5px",color:"#1b5e20"},children:P.status||P.message}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0"},children:JSON.stringify(P,null,2)})]}),d.jsx("h4",{style:{color:"#f0f0f0",marginTop:"30px"},children:"Existing Procedures & Functions"}),Dn.length>0?d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Created"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:Dn.map((R,K)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:R.name})}),d.jsx("td",{children:R.type}),d.jsx("td",{children:R.created||"N/A"}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>aa(R.name),style:{background:"#28a745",marginRight:"5px",fontSize:"0.9em"},children:" Execute"}),d.jsx("button",{onClick:()=>Qu(R),style:{background:"#17a2b8",marginRight:"5px",fontSize:"0.9em"},children:" Edit"}),d.jsx("button",{onClick:async()=>{try{const G=await X.get(`/api/table/${e}/${t}/procedure/${R.name}/code`);G.data.success&&alert(G.data.code)}catch{alert("Failed to load code")}},style:{background:"#6a5acd",marginRight:"5px"},children:" View Code"}),d.jsx("button",{onClick:async()=>{if(window.confirm(`Delete ${R.type.toLowerCase()} ${R.name}?`))try{(await X.delete(`/api/table/${e}/${t}/procedures`,{data:{procedure_name:R.name,is_function:R.type==="FUNCTION"}})).data.success&&(u("Procedure dropped successfully"),oa())}catch{l("Failed to drop procedure")}},style:{background:"#dc3545"},children:" Drop"})]})]},K))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No procedures or functions exist in this database."})]}),h==="triggers"&&Nt&&d.jsxs("div",{children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:["Manage Triggers for ",t]}),d.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),i(`/db/${e}/triggers`)},style:{color:"#9370db"},children:"View All Database Triggers "}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("h4",{style:{color:"#f0f0f0"},children:"Create New Trigger"}),d.jsxs("form",{onSubmit:VM,children:[d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Trigger Name:"}),d.jsx("input",{type:"text",value:Er.trigger_name,onChange:R=>or({...Er,trigger_name:R.target.value}),placeholder:`e.g., auto_timestamp_${t}`,required:!0,style:{width:"300px",marginLeft:"10px"}})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Timing:"}),d.jsxs("select",{value:Er.trigger_timing,onChange:R=>or({...Er,trigger_timing:R.target.value}),style:{marginLeft:"10px"},children:[d.jsx("option",{value:"BEFORE",children:"BEFORE"}),d.jsx("option",{value:"AFTER",children:"AFTER"})]}),d.jsx("label",{style:{marginLeft:"20px",color:"#f0f0f0"},children:"Event:"}),d.jsxs("select",{value:Er.trigger_event,onChange:R=>or({...Er,trigger_event:R.target.value}),style:{marginLeft:"10px"},children:[d.jsx("option",{value:"INSERT",children:"INSERT"}),d.jsx("option",{value:"UPDATE",children:"UPDATE"}),d.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),d.jsxs("div",{style:{marginBottom:"10px"},children:[d.jsx("label",{style:{color:"#f0f0f0"},children:"Trigger Body:"}),d.jsx("textarea",{value:Er.trigger_body,onChange:R=>or({...Er,trigger_body:R.target.value}),rows:8,cols:100,placeholder:`Examples (RETURN is auto-added if missing):

-- Auto-update timestamp on INSERT/UPDATE
NEW.updated_at := NOW();

-- Capitalize text on INSERT
NEW.name := INITCAP(NEW.name);
RAISE NOTICE 'Capitalized: % (id: %)', NEW.name, NEW.id;`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontFamily:"monospace"}})]}),d.jsx("button",{type:"submit",style:{background:"#6a5acd"},children:"Create Trigger"})]}),d.jsxs("h4",{style:{color:"#f0f0f0",marginTop:"30px"},children:["Existing Triggers on ",t]}),ct.length>0?d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Trigger Name"}),d.jsx("th",{children:"Timing/Event"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:ct.map((R,K)=>d.jsxs("tr",{children:[d.jsx("td",{children:R.name}),d.jsxs("td",{children:[R.timing||"N/A"," ",R.event||"N/A"]}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>YM(R),style:{background:"#17a2b8",marginRight:"5px",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Edit"}),d.jsx("button",{onClick:()=>GM(R.name),style:{background:"#dc3545"},children:" Delete"})]})]},K))})]}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666"},children:"No triggers exist for this table."})]}),h==="plsql"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute PL/SQL Code"}),d.jsxs("p",{style:{color:"#666",fontSize:"0.9em"},children:["Note: For PostgreSQL, wrap code in DO blocks:"," ",d.jsx("code",{children:"DO $$ BEGIN ... END $$;"})]}),d.jsxs("form",{onSubmit:QM,children:[d.jsx("textarea",{value:Zs,onChange:R=>to(R.target.value),rows:15,cols:120,placeholder:`Example PostgreSQL DO block:
DO $$
BEGIN
    UPDATE ${t} SET age = age + 1 WHERE age > 18;
    RAISE NOTICE 'Updated records';
END $$;`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px"},children:"Execute"})]}),P&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execution Result"}),d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0"},children:JSON.stringify(P,null,2)})]})]}),h==="importexport"&&d.jsx(Cb,{dbName:e,tableName:t,isTable:!0}),h==="charts"&&d.jsx("div",{children:_t?d.jsx(NM,{chartData:_t,chartKeys:it}):s?d.jsx("div",{style:{textAlign:"center",padding:"80px 20px"},children:d.jsx("div",{className:"loading",style:{fontSize:"1.4em"},children:"Summoning your data from the void..."})}):a?d.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[d.jsx("p",{style:{color:"#ff6b6b",fontSize:"1.3em"},children:a}),d.jsx("button",{onClick:()=>Tl(),style:{padding:"12px 30px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Try Again"})]}):null})]}),$&&d.jsx(pK,{columns:p,formData:V,onInputChange:I,onSubmit:J,onClose:()=>z(!1)}),q&&d.jsx(gK,{columns:p,updateFormData:lt,updateCondition:kt,onInputChange:at,onConditionChange:At,onSubmit:Dt,onClose:()=>nt(!1)}),ut&&d.jsx(mK,{deleteCondition:rt,onConditionChange:dt,onSubmit:Xt,onClose:()=>ft(!1)}),ji&&Ve&&d.jsx(IM,{dbName:e,procedureName:Ve.name,procedureType:Ve.type,onClose:()=>{os(!1),ea(null)},onSuccess:R=>{u(R),oa()}}),Ft&&on&&d.jsx(zM,{dbName:e,tableName:t,triggerName:on.name,onClose:()=>{Wt(!1),ta(null)},onSuccess:R=>{u(R),Mi()}})]})}function yK({dbName:e,collectionName:t,onClose:r,onSuccess:n}){const[i,s]=T.useState([{key:"",value:""}]),[o,a]=T.useState(""),[l,c]=T.useState(!1),u=()=>{s([...i,{key:"",value:""}])},h=g=>{i.length>1&&s(i.filter((m,y)=>y!==g))},f=(g,m,y)=>{const x=[...i];x[g][m]=y,s(x)},p=async g=>{var b,v;g.preventDefault(),a("");const m=i.filter(C=>C.key.trim()&&C.value.trim());if(m.length===0){a("Please provide at least one key-value pair.");return}if(i.filter(C=>C.key.trim()&&!C.value.trim()||!C.key.trim()&&C.value.trim()).length>0){a("Please complete all key-value pairs or remove empty ones.");return}const x={};m.forEach(C=>{let k=C.value.trim();k.match(/^-?\d+$/)?k=parseInt(k):k.match(/^-?\d+\.\d+$/)?k=parseFloat(k):k==="true"?k=!0:k==="false"&&(k=!1),x[C.key.trim()]=k}),c(!0);try{const C=await X.post(`/api/collection/${e}/${t}/document`,{document:x});C.data.success?n():a(C.data.error||"Failed to add document")}catch(C){a("Failed to add document: "+(((v=(b=C.response)==null?void 0:b.data)==null?void 0:v.error)||C.message))}finally{c(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:r,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:g=>g.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Add Document to ",t]}),o&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:o}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:"Primary Key",readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}}),d.jsx("input",{type:"text",value:"(autogenerated)",readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}})]}),i.map((g,m)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:g.key,onChange:y=>f(m,"key",y.target.value),placeholder:"Key",disabled:l,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("input",{type:"text",value:g.value,onChange:y=>f(m,"value",y.target.value),placeholder:"Value",disabled:l,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),i.length>1&&d.jsx("button",{type:"button",onClick:()=>h(m),disabled:l,style:{padding:"10px 15px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",opacity:l?.7:1},children:""})]},m)),d.jsx("button",{type:"button",onClick:u,disabled:l,style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",opacity:l?.7:1,marginTop:"10px"},children:"+ Add Field"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:"Note:"})," The primary key (_id or doc_id) will be automatically generated. Values are automatically typed (numbers, booleans, strings)."]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:r,disabled:l,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",opacity:l?.7:1},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:l,style:{padding:"14px 28px",background:l?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontWeight:"bold",boxShadow:l?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:l?"Adding...":"Add Document"})]})]})]})})}function bK({dbName:e,collectionName:t,document:r,primaryKey:n,onClose:i,onSuccess:s}){const o=r[n],a=Object.entries(r).filter(([b])=>b!==n),[l,c]=T.useState(a.map(([b,v])=>({key:b,value:typeof v=="object"&&v!==null?JSON.stringify(v,null,2):String(v),originalKey:b}))),[u,h]=T.useState(""),[f,p]=T.useState(!1),g=()=>{c([...l,{key:"",value:"",originalKey:null}])},m=b=>{c(l.filter((v,C)=>C!==b))},y=(b,v,C)=>{const k=[...l];k[b][v]=C,c(k)},x=async b=>{b.preventDefault(),h("");const v=l.filter(_=>_.key.trim()&&_.value.trim());if(v.length===0){h("Cannot save an empty document. Please add at least one field.");return}if(l.filter(_=>_.key.trim()&&!_.value.trim()||!_.key.trim()&&_.value.trim()).length>0&&!window.confirm("Some pairs are only half-filled. Do you want to proceed and discard them?"))return;const k={},S=[];a.forEach(([_])=>{v.find(D=>D.originalKey===_||D.key.trim()===_)||S.push(_)}),v.forEach(_=>{let A=_.value.trim();if(A.startsWith("[")&&A.endsWith("]")||A.startsWith("{")&&A.endsWith("}"))try{A=JSON.parse(A),k[_.key.trim()]=A;return}catch{}A.match(/^-?\d+$/)?A=parseInt(A):A.match(/^-?\d+\.\d+$/)?A=parseFloat(A):A==="true"?A=!0:A==="false"&&(A=!1),k[_.key.trim()]=A}),S.forEach(_=>{k[_]=null}),p(!0);try{const A=await(await fetch(`/api/collection/${e}/${t}/document/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({document:k})})).json();A.success?s():h(A.error||"Failed to update document")}catch(_){h("Failed to update document: "+_.message)}finally{p(!1)}};return d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)"},onClick:i,children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e0033, #3a0066)",padding:"40px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80vh",overflowY:"auto",border:"2px solid #9370db",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.6)"},onClick:b=>b.stopPropagation(),children:[d.jsxs("h2",{style:{color:"#f0f0f0",margin:"0 0 25px 0",textAlign:"center"},children:["Modify Document in ",t]}),u&&d.jsx("div",{style:{background:"rgba(220, 53, 69, 0.2)",color:"#ff8a80",padding:"12px",borderRadius:"8px",borderLeft:"4px solid #dc3545",marginBottom:"20px"},children:u}),d.jsxs("div",{children:[d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:n,readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}}),d.jsx("input",{type:"text",value:String(o),readOnly:!0,style:{flex:1,padding:"14px",border:"1.5px solid #666",borderRadius:"8px",background:"rgba(147, 112, 219, 0.1)",color:"#aaa",fontSize:"16px",cursor:"not-allowed"}})]}),l.map((b,v)=>d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px",alignItems:"center"},children:[d.jsx("input",{type:"text",value:b.key,onChange:C=>y(v,"key",C.target.value),placeholder:"Key",disabled:f,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("input",{type:"text",value:b.value,onChange:C=>y(v,"value",C.target.value),placeholder:"Value",disabled:f,style:{flex:1,padding:"14px",border:"1.5px solid #9370db",borderRadius:"8px",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",fontSize:"16px"}}),d.jsx("button",{type:"button",onClick:()=>m(v),disabled:f,style:{padding:"10px 15px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",opacity:f?.7:1},children:""})]},v)),d.jsx("button",{type:"button",onClick:g,disabled:f,style:{padding:"10px 20px",background:"#6a5acd",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",opacity:f?.7:1,marginTop:"10px"},children:"+ Add Field"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginBottom:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:"Note:"})," Removing a field will delete it from the document. Renaming a key will delete the old key and create a new one."]}),d.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:i,disabled:f,style:{padding:"14px 28px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",opacity:f?.7:1},children:"Cancel"}),d.jsx("button",{type:"button",onClick:x,disabled:f,style:{padding:"14px 28px",background:f?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:f?"not-allowed":"pointer",fontWeight:"bold",boxShadow:f?"none":"0 4px 20px rgba(147, 112, 219, 0.5)"},children:f?"Saving...":"Save Changes"})]})]})]})})}function vK({dbName:e,collectionName:t,keys:r,onSuccess:n,onError:i}){const[s,o]=T.useState({}),[a,l]=T.useState([]),[c,u]=T.useState(!1),[h,f]=T.useState(!0),[p,g]=T.useState({});T.useEffect(()=>{m()},[e,t]);const m=async()=>{try{f(!0);const k=await X.get(`/api/collection/${e}/${t}/validation_rules`);if(k.data.success){l(k.data.rules||[]);const S={},_={};(k.data.rules||[]).forEach(A=>{const D=y(A.expression);S[A.column]=D,D.enum&&(_[A.column]=D.enum.join(", "))}),o(S),g(_)}}catch(k){console.error("Failed to fetch validation rules:",k)}finally{f(!1)}},y=k=>{const S={};if(k.includes("type:")){const _=k.match(/type:\s*(\w+)/);if(_){const A=_[1],D={int:"number",double:"number",float:"number",decimal:"number",bool:"boolean",boolean:"boolean",string:"string",array:"array",object:"object",date:"date"};S.type=D[A]||""}}if(k.includes("required")&&(S.required=!0),k.includes(">=")){const _=k.match(/>=\s*([\d.]+)/);_&&(S.min=parseFloat(_[1]))}if(k.includes("<=")){const _=k.match(/<=\s*([\d.]+)/);_&&(S.max=parseFloat(_[1]))}if(k.includes("length >=")){const _=k.match(/length\s*>=\s*(\d+)/);_&&(S.minLength=parseInt(_[1]))}if(k.includes("length <=")){const _=k.match(/length\s*<=\s*(\d+)/);_&&(S.maxLength=parseInt(_[1]))}if(k.includes("pattern:")){const _=k.match(/pattern:\s*(.+?)(?:,|$)/);_&&(S.pattern=_[1].trim())}if(k.includes("in [")){const _=k.match(/in\s*\[([^\]]+)\]/);_&&(S.enum=_[1].split(",").map(A=>A.trim().replace(/['"]/g,"")))}return S},x=(k,S,_)=>{o(A=>({...A,[k]:{...A[k],[S]:_}}))},b=k=>{o(S=>{const _={...S};return delete _[k],_})},v=async()=>{var k,S;u(!0);try{const _=await X.post(`/api/collection/${e}/${t}/validation`,{validation_rules:s});_.data.success?(n(),m()):i(_.data.error||"Failed to apply validation rules")}catch(_){i("Failed to apply validation: "+(((S=(k=_.response)==null?void 0:k.data)==null?void 0:S.error)||_.message))}finally{u(!1)}},C=async()=>{var k,S;if(window.confirm("Remove all validation rules from this collection?")){u(!0);try{const _=await X.post(`/api/collection/${e}/${t}/validation`,{validation_rules:{}});_.data.success?(o({}),n(),m()):i(_.data.error||"Failed to remove validation rules")}catch(_){i("Failed to remove validation: "+(((S=(k=_.response)==null?void 0:k.data)==null?void 0:S.error)||_.message))}finally{u(!1)}}};return h?d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#f0f0f0"},children:"Loading validation rules..."}):d.jsxs("div",{style:{color:"#f0f0f0"},children:[d.jsx("h3",{children:"MongoDB Validation Rules (JSON Schema)"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"20px"},children:"Define validation rules for each field. MongoDB will enforce these constraints on all documents."}),a.length>0&&d.jsxs("div",{style:{background:"rgba(76, 175, 80, 0.15)",padding:"15px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #4caf50"},children:[d.jsx("strong",{children:" Active Validation Rules:"}),d.jsx("ul",{style:{margin:"10px 0 0 20px"},children:a.map((k,S)=>d.jsxs("li",{style:{margin:"5px 0"},children:[d.jsxs("strong",{children:[k.column,":"]})," ",k.expression]},S))})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("h4",{children:"Add Validation for Fields:"}),r.filter(k=>k!=="_id").map(k=>{var S,_,A,D,F,O,W,H,P;return d.jsxs("details",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"15px",border:s[k]?"2px solid #9370db":"1px solid #666"},children:[d.jsxs("summary",{style:{cursor:"pointer",fontWeight:"bold",fontSize:"1.1em",color:s[k]?"#bb86fc":"#f0f0f0"},children:[k," ",s[k]&&""]}),d.jsxs("div",{style:{marginTop:"15px"},children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Data Type:"}),d.jsxs("select",{value:((S=s[k])==null?void 0:S.type)||"",onChange:j=>x(k,"type",j.target.value),style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"},children:[d.jsx("option",{value:"",children:"No type constraint"}),d.jsx("option",{value:"string",children:"String"}),d.jsx("option",{value:"number",children:"Number"}),d.jsx("option",{value:"boolean",children:"Boolean"}),d.jsx("option",{value:"array",children:"Array"}),d.jsx("option",{value:"object",children:"Object"}),d.jsx("option",{value:"date",children:"Date"})]})]}),d.jsx("div",{style:{marginBottom:"15px"},children:d.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("input",{type:"checkbox",checked:((_=s[k])==null?void 0:_.required)||!1,onChange:j=>x(k,"required",j.target.checked)}),d.jsx("span",{children:"Required field (must be present in all documents)"})]})}),((A=s[k])==null?void 0:A.type)==="number"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Minimum value:"}),d.jsx("input",{type:"number",step:"any",value:((D=s[k])==null?void 0:D.min)??"",onWheel:j=>j.target.blur(),onChange:j=>x(k,"min",j.target.value?parseFloat(j.target.value):null),placeholder:"e.g. 0",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Maximum value:"}),d.jsx("input",{type:"number",step:"any",value:((F=s[k])==null?void 0:F.max)??"",onWheel:j=>j.target.blur(),onChange:j=>x(k,"max",j.target.value?parseFloat(j.target.value):null),placeholder:"e.g. 100",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]})]}),((O=s[k])==null?void 0:O.type)==="string"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Minimum length:"}),d.jsx("input",{type:"number",value:((W=s[k])==null?void 0:W.minLength)||"",onWheel:j=>j.target.blur(),onChange:j=>x(k,"minLength",j.target.value?parseInt(j.target.value):null),placeholder:"e.g. 3",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Maximum length:"}),d.jsx("input",{type:"number",value:((H=s[k])==null?void 0:H.maxLength)||"",onWheel:j=>j.target.blur(),onChange:j=>x(k,"maxLength",j.target.value?parseInt(j.target.value):null),placeholder:"e.g. 50",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Pattern (regex):"}),d.jsx("input",{type:"text",value:((P=s[k])==null?void 0:P.pattern)||"",onChange:j=>x(k,"pattern",j.target.value),placeholder:"e.g. ^[A-Z].*",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%",fontFamily:"monospace"}})]})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#ccc"},children:"Allowed values (comma-separated):"}),d.jsx("input",{type:"text",value:p[k]||"",onChange:j=>{const L=j.target.value;g(E=>({...E,[k]:L}));const B=L.split(",").map(E=>E.trim()).filter(E=>E.length>0);x(k,"enum",B.length?B:null)},placeholder:"e.g. active, pending, completed",style:{padding:"10px",borderRadius:"5px",border:"1px solid #9370db",background:"rgba(147, 112, 219, 0.15)",color:"#f0f0f0",width:"100%"}})]}),s[k]&&d.jsxs("button",{onClick:()=>b(k),style:{padding:"8px 16px",background:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:["Remove Validation for ",k]})]})]},k)})]}),d.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"30px"},children:[d.jsx("button",{onClick:v,disabled:c||Object.keys(s).length===0,style:{padding:"14px 28px",background:c?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",cursor:c||Object.keys(s).length===0?"not-allowed":"pointer",fontWeight:"bold",opacity:c||Object.keys(s).length===0?.6:1},children:c?"Applying...":"Apply Validation Rules"}),a.length>0&&d.jsx("button",{onClick:C,disabled:c,style:{padding:"14px 28px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",opacity:c?.6:1},children:"Remove All Rules"})]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.15)",padding:"16px",borderRadius:"10px",borderLeft:"4px solid #2196f3",color:"#bbdefb",marginTop:"30px",fontSize:"0.95em"},children:[d.jsx("strong",{children:" Note:"})," MongoDB validation rules are enforced on all insert and update operations. Existing documents that violate new rules will remain but cannot be updated without fixing the violations."]})]})}function wK(){const{dbName:e,collectionName:t}=Go(),r=Pn(),[n,i]=np(),[s,o]=T.useState([]),[a,l]=T.useState([]),[c,u]=T.useState("doc_id"),[h,f]=T.useState(!0),[p,g]=T.useState(""),[m,y]=T.useState(""),[x,b]=T.useState(n.get("tab")||"data"),[v,C]=T.useState(0),[k,S]=T.useState(1),[_]=T.useState(20),[A,D]=T.useState(1),[F,O]=T.useState(!1),[W,H]=T.useState(""),[P,j]=T.useState(null),{sessionQueries:L,addQuery:B,navigateHistory:E,resetNavigation:M}=Dp("collection"),[$,z]=T.useState(!1),[q,nt]=T.useState(!1),[ut,ft]=T.useState(null),[V,tt]=T.useState(""),[lt,bt]=T.useState(new Set),[kt,At]=T.useState(!1),[rt,dt]=T.useState([]),[Bt,le]=T.useState(!1),[ae,$r]=T.useState(null),[Ae,de]=T.useState(null),[Je,mn]=T.useState([]);T.useEffect(()=>{V&&_e(V,lt)},[k]),T.useEffect(()=>{V&&_e(V,lt)},[k]),T.useEffect(()=>{(async()=>{try{const Ot=await X.get(`/api/db/${e}/capabilities`);Ot.data.success&&O(Ot.data.capabilities.supports_check_constraints||!1)}catch(Ot){console.error("Failed to check validation support:",Ot),O(!1)}})()},[e]);const Fn=ct=>{if(!vn(ct,W,Nt=>{H(Nt),M()})){if(ct.key==="ArrowUp"&&L.length>0){ct.preventDefault();const Nt=E("up",W);Nt!==null&&H(Nt)}else if(ct.key==="ArrowDown"&&L.length>0){ct.preventDefault();const Nt=E("down",W);Nt!==null&&H(Nt)}}},_e=async(ct,Ot)=>{le(!0);try{const Nt=Ot.size>0?Array.from(Ot).join(","):"",Ht=await X.get(`/api/collection/${e}/${t}/search`,{params:{q:ct,fields:Nt,page:k,per_page:_}});Ht.data.success&&(o(Ht.data.documents),C(Ht.data.total),D(Ht.data.total_pages))}catch(Nt){console.error("Search error:",Nt)}finally{le(!1)}},rn=ct=>{tt(ct),ae&&clearTimeout(ae);const Ot=setTimeout(()=>{_e(ct,lt)},300);$r(Ot)},Nr=(ct,Ot)=>{const Nt=new Set(lt);Ot?Nt.add(ct):Nt.delete(ct),bt(Nt),V&&_e(V,Nt)},Ir=ct=>{ft(ct),nt(!0)};T.useEffect(()=>{Ce()},[e,t,k]),T.useEffect(()=>{x==="charts"&&nn()},[x]);const Ce=async()=>{try{f(!0);const ct=await X.get(`/api/collection/${e}/${t}`,{params:{page:k,per_page:_}});ct.data.success?(o(ct.data.documents||[]),dt(ct.data.documents||[]),l(ct.data.keys||[]),u(ct.data.primary_key||"doc_id"),C(ct.data.total_docs||0),D(ct.data.total_pages||1)):g(ct.data.error||"Failed to fetch collection data")}catch(ct){console.error("Failed to fetch collection:",ct),window.location.reload(!0)}finally{f(!1)}},nn=async()=>{try{f(!0);const ct=await X.get(`/api/collection/${e}/${t}/chart_data`);if(ct.data.success){const Ot=ct.data.data.map(Ht=>{const Ft={};return c&&Ht[c]!==void 0&&(Ft[c]=Ht[c]),Object.entries(Ht).forEach(([Wt,on])=>{Wt!==c&&!["_id","doc_id"].includes(Wt)&&(Ft[Wt]=on)}),Ft}),Nt=[...new Set(Ot.flatMap(Ht=>Object.keys(Ht)))];de(Ot),mn(Nt)}else g(ct.data.error||"Failed to load chart data")}catch(ct){console.error("Failed to fetch chart data:",ct),g("Failed to load chart data")}finally{f(!1)}},Ti=()=>{z(!1),y("Document added successfully"),Ce()},Ei=()=>{nt(!1),y("Document updated successfully"),Ce()},xn=async ct=>{var Ot,Nt;if(ct.preventDefault(),g(""),y(""),j(null),!W.trim()){g("Query cannot be empty");return}try{const Ht=await X.post(`/api/collection/${e}/${t}/query`,{query:W});Ht.data.success?(await B(W),j(Ht.data.result),y("Query executed successfully")):g(Ht.data.error||"Query execution failed")}catch(Ht){g("Failed to execute query: "+(((Nt=(Ot=Ht.response)==null?void 0:Ot.data)==null?void 0:Nt.error)||Ht.message))}},Cr=ct=>{b(ct),i({tab:ct}),g(""),y(""),j(null)},yn=()=>{At(!kt)},Te=Nr,{suggestions:he,showSuggestions:Ze,selectedIndex:bn,handleQueryChange:Oe,handleKeyDown:vn,selectSuggestion:Tr,hideSuggestions:sn}=Op();return h&&x!=="charts"?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:"nosql",handlerName:"TinyDB"}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading collection..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:"nosql",handlerName:"TinyDB"}),d.jsxs("div",{className:"center",children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsxs("h2",{style:{margin:0,color:"#f0f0f0"},children:["Collection: ",t," in ",e]}),d.jsxs("span",{style:{color:"#ccc",fontStyle:"italic",fontSize:"0.9em"},children:[v," document",v!==1?"s":""]})]}),d.jsx("a",{href:"#",onClick:ct=>{ct.preventDefault(),r(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Collections"}),d.jsx("br",{}),d.jsx("br",{}),p&&d.jsx("p",{className:"error",children:p}),m&&d.jsx("p",{className:"success",children:m}),d.jsxs("div",{className:"tabs",children:[d.jsx("button",{className:"tab-button",onClick:()=>Cr("data"),style:{background:x==="data"?"#4b0082":"#9370db"},children:" Documents"}),d.jsx("button",{className:"tab-button",onClick:()=>Cr("query"),style:{background:x==="query"?"#4b0082":"#9370db"},children:" Query"}),F&&d.jsx("button",{className:"tab-button",onClick:()=>Cr("validation"),style:{background:x==="validation"?"#4b0082":"#9370db"},children:" Validation Rules"}),d.jsx("button",{className:"tab-button",onClick:()=>Cr("importexport"),style:{background:x==="importexport"?"#4b0082":"#9370db"},children:" Import/Export"}),d.jsx("button",{className:"tab-button",onClick:()=>Cr("charts"),style:{background:x==="charts"?"#4b0082":"#9370db"},children:" Charts"})]}),x==="data"&&d.jsxs("div",{children:[d.jsxs("div",{style:{margin:"20px 0",textAlign:"left"},children:[d.jsx("input",{type:"text",placeholder:"Search in selected fields...",value:V,onChange:ct=>rn(ct.target.value),style:{padding:"8px 20px",width:"550px",maxWidth:"90%",border:"1.5px solid #9370db",borderRadius:"10px",fontSize:"16px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0"}}),d.jsx("button",{onClick:yn,style:{marginLeft:"10px",padding:"14px 22px",background:"linear-gradient(135deg, #6a5acd, #483d8b)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},children:"Filter Fields"}),d.jsx("button",{onClick:()=>{tt(""),bt(new Set),o(rt)},style:{marginLeft:"10px",padding:"14px 22px",background:"#6c757d",color:"white",border:"none",borderRadius:"10px",cursor:"pointer"},children:"Clear"}),kt&&d.jsxs("div",{style:{marginTop:"15px",padding:"20px",background:"#fff",color:"#333",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",maxWidth:"600px",maxHeight:"320px",overflowY:"auto"},children:[d.jsx("strong",{style:{color:"#4b0082"},children:"Choose fields to search in:"}),d.jsx("br",{}),d.jsx("br",{}),a.map(ct=>d.jsx("div",{style:{margin:"8px 0"},children:d.jsxs("label",{style:{cursor:"pointer",display:"block",padding:"4px 0"},children:[d.jsx("input",{type:"checkbox",checked:lt.has(ct),onChange:Ot=>Te(ct,Ot.target.checked),style:{marginRight:"10px"}}),d.jsx("span",{children:ct})]})},ct))]}),lt.size>0&&d.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"10px"},children:Array.from(lt).map(ct=>d.jsxs("span",{style:{background:"linear-gradient(135deg,#e91e63,#ad1457)",color:"white",padding:"2px 20px",borderRadius:"30px",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"10px"},children:[ct,d.jsx("span",{onClick:()=>Te(ct,!1),style:{cursor:"pointer",fontWeight:"600",fontSize:"1.2em"},children:""})]},ct))}),V&&d.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#ccc"},children:Bt?d.jsx("span",{style:{color:"#6a5acd"},children:" Searching..."}):s.length===0?d.jsx("span",{style:{color:"#dc3545"},children:" No results found."}):d.jsxs("span",{style:{color:"#28a745"},children:[" ",v," document",v!==1?"s":""," match"]})})]}),d.jsx("button",{onClick:()=>z(!0),style:{display:"inline-block",padding:"10px 20px",background:"#6a5acd",color:"white",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginBottom:"20px"},children:"Add Document"}),A>1&&d.jsxs("div",{className:"pagination",children:[k>1?d.jsx("a",{href:"#",onClick:ct=>{ct.preventDefault(),S(k-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",k," of ",A," (",v," total)"]}),k<A?d.jsx("a",{href:"#",onClick:ct=>{ct.preventDefault(),S(k+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]}),s.length>0?d.jsx(d.Fragment,{children:s.map((ct,Ot)=>{const Nt=ct[c]||"unknown";return d.jsxs("table",{style:{width:"90%",margin:"20px auto",borderCollapse:"collapse",border:"1px solid #999",boxShadow:"0 0 6px rgba(0,0,0,0.1)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"8px",textAlign:"left",color:"#f0f0f0"},children:["Document ID: ",Nt]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Key"}),d.jsx("th",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #999",padding:"8px",fontWeight:"bold",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:c}),d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Nt})]}),Object.entries(ct).map(([Ht,Ft])=>Ht===c?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ht}),d.jsx("td",{style:{border:"1px solid #999",padding:"8px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ft!=null?typeof Ft=="object"?JSON.stringify(Ft):String(Ft):"NULL"})]},Ht)),d.jsx("tr",{children:d.jsxs("td",{colSpan:"2",style:{textAlign:"center",borderTop:"1px solid #999",padding:"10px",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsx("button",{onClick:()=>{Ir(ct)},style:{background:"#1e9530",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",cursor:"pointer",marginRight:"10px"},children:"Modify"}),d.jsx("button",{onClick:async()=>{var Ht,Ft;if(window.confirm("Are you sure you want to delete this document? This cannot be undone."))try{const Wt=ct[c];await X.post(`/api/collection/${e}/${t}/document/${Wt}/delete`),y("Document deleted successfully"),Ce()}catch(Wt){g("Failed to delete: "+(((Ft=(Ht=Wt.response)==null?void 0:Ht.data)==null?void 0:Ft.error)||Wt.message))}},style:{background:"#dc3545",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})})]})]},Ot)})}):d.jsx("p",{style:{color:"#f0f0f0",textAlign:"center",marginTop:"30px"},children:V?"No documents match your search.":"No documents in this collection."}),A>1&&d.jsxs("div",{className:"pagination",children:[k>1?d.jsx("a",{href:"#",onClick:ct=>{ct.preventDefault(),S(k-1)},children:" Previous"}):d.jsx("span",{className:"disabled",children:" Previous"}),d.jsxs("span",{className:"current",children:["Page ",k," of ",A," (",v," total)"]}),k<A?d.jsx("a",{href:"#",onClick:ct=>{ct.preventDefault(),S(k+1)},children:"Next "}):d.jsx("span",{className:"disabled",children:"Next "})]})]}),x==="query"&&d.jsxs("div",{children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Execute NoSQL Query"}),d.jsx("p",{style:{color:"#ccc",fontSize:"0.9em",marginBottom:"15px"},children:"Enter TinyDB query JSON format"}),d.jsxs("form",{onSubmit:xn,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("textarea",{value:W,onChange:ct=>{Oe(ct.target.value,Ot=>{H(Ot),M()})},onKeyDown:Fn,onBlur:()=>{setTimeout(()=>sn(),200)},rows:10,cols:120,placeholder:`Enter NoSQL query (JSON format):

Examples:
  {"table": "${t}", "condition": {}}
  {"table": "${t}", "condition": {"age": {"$gt": 30}}}
  {"table": "${t}", "condition": {"name": "Alice"}}`,required:!0,style:{width:"100%",padding:"10px",border:"1.5px solid #9370db",borderRadius:"5px",background:"rgba(147, 112, 219, 0.1)",color:"#f0f0f0",fontSize:"14px",fontFamily:"monospace"}}),Ze&&he.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:he.map((ct,Ot)=>d.jsx("div",{onClick:()=>{Tr(ct,Nt=>{H(Nt),M()})},style:{padding:"10px",cursor:"pointer",background:Ot===bn?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:Ot<he.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:Nt=>{Nt.target.style.background="#4b0082"},onMouseLeave:Nt=>{Nt.target.style.background=Ot===bn?"#4b0082":"transparent"},children:ct.length>100?ct.substring(0,100)+"...":ct},Ot))})]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press / to navigate query history",L.length>0&&` (${L.length} queries)`,Ze&&he.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#6a5acd",marginTop:"10px",padding:"10px 20px",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Execute Query"})]}),P&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{color:"#f0f0f0"},children:"Query Results"}),Array.isArray(P)&&P.length>0?P.map((ct,Ot)=>{const Nt=ct[c]||"unknown";return d.jsxs("table",{className:"result-table",style:{width:"90%",margin:"25px auto",borderCollapse:"collapse",border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"rgba(30, 0, 51, 0.9)"},children:[d.jsxs("caption",{style:{fontWeight:"bold",padding:"10px",textAlign:"left",background:"rgba(30, 0, 51, 0.95)",color:"white"},children:["Document ID: ",Nt]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:"Value"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:c}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Nt})]}),Object.entries(ct).map(([Ht,Ft])=>Ht===c?null:d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white",fontWeight:"bold"},children:Ht}),d.jsx("td",{style:{border:"1px solid #ddd",padding:"12px 18px",background:"rgba(30, 0, 51, 0.9)",color:"white"},children:Ft!=null?typeof Ft=="object"?JSON.stringify(Ft):String(Ft):"NULL"})]},Ht))]})]},Ot)}):Array.isArray(P)&&P.length===0?d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",marginTop:"30px"},children:"Query executed successfully. No results returned."}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(P,null,2)})]})]}),x==="importexport"&&d.jsx(Cb,{dbName:e,tableName:t,isTable:!0}),x==="charts"&&d.jsx("div",{children:Ae?d.jsx(NM,{chartData:Ae,chartKeys:Je}):h?d.jsx("div",{style:{textAlign:"center",padding:"80px 20px"},children:d.jsx("div",{className:"loading",style:{fontSize:"1.4em"},children:"Summoning your data from the void..."})}):p?d.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[d.jsx("p",{style:{color:"#ff6b6b",fontSize:"1.3em"},children:p}),d.jsx("button",{onClick:()=>nn(),style:{padding:"12px 30px",background:"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Try Again"})]}):null}),x==="validation"&&d.jsx(vK,{dbName:e,collectionName:t,keys:a,onSuccess:()=>{y("Validation rules applied successfully"),Ce()},onError:ct=>g(ct)})]}),$&&d.jsx(yK,{dbName:e,collectionName:t,isOpen:$,onClose:()=>z(!1),onSuccess:Ti}),q&&ut&&d.jsx(bK,{dbName:e,collectionName:t,document:ut,primaryKey:c,onClose:()=>{nt(!1),ft(null)},onSuccess:Ei})]})}function kK(){const{dbName:e}=Go(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(!1),[b,v]=T.useState(null);T.useEffect(()=>{C()},[e]);const C=async()=>{try{h(!0);const _=await X.get(`/api/db/${e}/triggers`);_.data.success?(n(_.data.triggers),s(_.data.supports_triggers),a(_.data.db_type),c(_.data.handler)):p(_.data.error||"Failed to fetch triggers")}catch(_){console.error("Failed to fetch triggers:",_)}finally{h(!1)}},k=_=>{v(_),x(!0)},S=async _=>{var A,D;if(window.confirm(`Are you sure you want to delete trigger ${_}?`))try{const F=await X.post(`/api/db/${e}/triggers/delete`,{trigger_name:_});F.data.success?(m(`Trigger ${_} deleted successfully`),C()):p(F.data.error||"Failed to delete trigger")}catch(F){p("Failed to delete trigger: "+(((D=(A=F.response)==null?void 0:A.data)==null?void 0:D.error)||F.message))}};return u?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading triggers..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:["All Triggers in ",e]}),d.jsx("a",{href:"#",onClick:_=>{_.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),f&&d.jsx("div",{className:"error",children:f}),g&&d.jsx("div",{className:"success",children:g}),i?r.length>0?d.jsx("div",{style:{overflowX:"auto",width:"95%",margin:"20px auto"},children:d.jsxs("table",{className:"result-table",style:{width:"100%",minWidth:"800px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Trigger Name"}),d.jsx("th",{children:"Table"}),d.jsx("th",{children:"Timing"}),d.jsx("th",{children:"Event"}),d.jsx("th",{style:{minWidth:"300px"},children:"SQL"}),d.jsx("th",{children:"Action"})]})}),d.jsx("tbody",{children:r.map((_,A)=>d.jsxs("tr",{children:[d.jsx("td",{children:_.name}),d.jsx("td",{children:d.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),t(`/db/${e}/table/${_.table}?tab=triggers`)},style:{color:"#9370db"},children:_.table})}),d.jsx("td",{children:_.timing||"N/A"}),d.jsx("td",{children:_.event||"N/A"}),d.jsx("td",{children:d.jsx("pre",{style:{fontSize:"0.85em",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",maxWidth:"400px"},children:_.sql})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>k(_),style:{background:"#17a2b8",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",marginRight:"5px",whiteSpace:"nowrap"},children:" Edit"}),d.jsx("button",{onClick:()=>S(_.name),style:{background:"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap"},children:" Delete"})]})]},A))})]})}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Triggers Found"}),d.jsx("p",{style:{color:"#999"},children:"Create triggers using the Triggers tab in table views."})]}):d.jsx("p",{style:{color:"orange",marginTop:"20px"},children:"Warning: This database does not support triggers."})]}),y&&b&&d.jsx(zM,{dbName:e,tableName:b.table,triggerName:b.name,onClose:()=>{x(!1),v(null)},onSuccess:_=>{m(_),C()}})]})}function SK(){const{dbName:e}=Go(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(null),[b,v]=T.useState(""),[C,k]=T.useState(!1),[S,_]=T.useState(null);T.useEffect(()=>{A()},[e]);const A=async()=>{try{h(!0);const P=await X.get(`/api/db/${e}/procedures`);P.data.success?(n(P.data.procedures),s(P.data.supports_procedures),a(P.data.db_type),c(P.data.handler)):p(P.data.error||"Failed to fetch procedures")}catch(P){console.error("Failed to fetch procedures:",P),p("Failed to connect to server")}finally{h(!1)}},D=async P=>{var j,L;p(""),m(""),x(null),v(P);try{const B=await X.post(`/api/db/${e}/procedure/${P}/execute`);if(B.data.success){const E=B.data.result,M=B.data.result_type;if(m(B.data.message),M==="table"&&Array.isArray(E)&&E.length>0)x(E);else if(M==="status"){if(E&&typeof E=="object"){const $=E.status||E.message||JSON.stringify(E);m($)}x(null)}else x(null);setTimeout(()=>{var $;($=document.getElementById("execution-results"))==null||$.scrollIntoView({behavior:"smooth",block:"start"})},100)}else p(B.data.error||"Failed to execute procedure")}catch(B){p("Failed to execute procedure: "+(((L=(j=B.response)==null?void 0:j.data)==null?void 0:L.error)||B.message))}},F=P=>{_(P),k(!0)},O=async(P,j)=>{try{const L=await X.get(`/api/db/${e}/procedure/${P}/code`);if(L.data.success){const B=document.createElement("div");B.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;",B.innerHTML=`
        <div style="background:white;padding:30px;border-radius:15px;max-width:900px;width:100%;max-height:90%;overflow:auto;box-shadow:0 10px 40px rgba(0,0,0,0.3);">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border-bottom:2px solid #6a5acd;padding-bottom:15px;">
            <h2 style="margin:0;color:#4b0082;">${j}: ${P}</h2>
            <button id="copyBtn" title="Copy to clipboard"
              style="background:#6a5acd;color:white;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;font-size:14px;">
               Copy
            </button>
          </div>
          <pre id="procedure-code" style="background:#f5f5f5;color:black; padding:20px;border-radius:8px;overflow-x:auto;font-family:'Courier New',monospace;font-size:13px;line-height:1.6;border:1px solid #ddd;">${H(L.data.code)}</pre>
          <div style="text-align:right;margin-top:20px;">
            <button id="closeBtn" 
              style="background:#6c757d;color:white;padding:10px 25px;border:none;border-radius:8px;cursor:pointer;font-size:15px;">
              Close
            </button>
          </div>
        </div>
      `,document.body.appendChild(B),document.getElementById("closeBtn").onclick=()=>B.remove(),B.onclick=E=>{E.target===B&&B.remove()},document.getElementById("copyBtn").onclick=()=>{const E=document.getElementById("procedure-code").textContent;navigator.clipboard.writeText(E).then(()=>{const M=document.getElementById("copyBtn"),$=M.textContent;M.textContent=" Copied!",M.style.background="#4caf50",setTimeout(()=>{M.textContent=$,M.style.background="#6a5acd"},2e3)})}}else alert(" Failed to load code: "+L.data.error)}catch(L){alert(" Error: "+L.message)}},W=async(P,j)=>{var B,E;const L=j?"function":"procedure";if(window.confirm(`Delete ${L} ${P}?`))try{const M=await X.post(`/api/db/${e}/procedure/drop`,{procedure_name:P,is_function:j});M.data.success?(m(M.data.message),A()):p(M.data.error||"Failed to drop procedure")}catch(M){p("Failed to drop procedure: "+(((E=(B=M.response)==null?void 0:B.data)==null?void 0:E.error)||M.message))}},H=P=>{const j=document.createElement("div");return j.textContent=P,j.innerHTML};return u?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading procedures..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:[" Stored Procedures & Functions in ",e]}),d.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Tables"}),d.jsx("br",{}),d.jsx("br",{}),f&&d.jsx("div",{className:"error",children:f}),g&&d.jsx("div",{className:"success",children:g}),y&&d.jsxs("div",{id:"execution-results",style:{marginTop:"20px",marginBottom:"30px"},children:[d.jsxs("h3",{style:{color:"#f0f0f0"},children:[" Execution Results: ",b]}),Array.isArray(y)&&y.length>0?y[0]&&typeof y[0]=="object"&&Object.keys(y[0]).length>0?d.jsx("div",{style:{overflowX:"auto"},children:d.jsxs("table",{className:"result-table",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(y[0]).map(P=>d.jsx("th",{children:P},P))})}),d.jsx("tbody",{children:y.map((P,j)=>d.jsx("tr",{children:Object.values(P).map((L,B)=>d.jsx("td",{children:L!=null?typeof L=="object"?JSON.stringify(L):String(L):"NULL"},B))},j))})]})}):d.jsx("p",{style:{textAlign:"center",fontStyle:"italic",color:"#666",padding:"20px",background:"#f8f8f8",borderRadius:"8px"},children:"Procedure executed successfully. No results returned."}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0"},children:JSON.stringify(y,null,2)}),d.jsx("button",{onClick:()=>{x(null),v("")},style:{background:"#6c757d",color:"white",padding:"8px 16px",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:"Clear Results"})]}),r.length>0?d.jsx("div",{style:{overflowX:"auto",width:"95%",margin:"20px auto"},children:d.jsxs("table",{className:"result-table",style:{width:"100%",minWidth:"900px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Created"}),d.jsx("th",{children:"Last Modified"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:r.map((P,j)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:P.name})}),d.jsx("td",{children:d.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",background:P.type==="PROCEDURE"?"#e3f2fd":"#f3e5f5",color:P.type==="PROCEDURE"?"#1976d2":"#7b1fa2",whiteSpace:"nowrap"},children:P.type})}),d.jsx("td",{style:{whiteSpace:"nowrap"},children:P.created||"N/A"}),d.jsx("td",{style:{whiteSpace:"nowrap"},children:P.modified||"N/A"}),d.jsxs("td",{style:{whiteSpace:"nowrap"},children:[d.jsx("button",{onClick:()=>D(P.name),style:{background:"#28a745",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px",fontSize:"0.9em"},children:" Execute"}),d.jsx("button",{onClick:()=>F(P),style:{background:"#17a2b8",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px",fontSize:"0.9em"},children:" Edit"}),d.jsx("button",{onClick:()=>O(P.name,P.type),style:{background:"#6a5acd",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" View"}),d.jsx("button",{onClick:()=>W(P.name,P.type==="FUNCTION"),style:{background:"#dc3545",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Drop"})]})]},j))})]})}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Procedures or Functions Found"}),d.jsx("p",{style:{color:"#999"},children:"Create your first stored procedure using the Procedures tab in any table view."})]})]}),C&&S&&d.jsx(IM,{dbName:e,procedureName:S.name,procedureType:S.type,onClose:()=>{k(!1),_(null)},onSuccess:P=>{m(P),A()}})]})}function _K(){const e=Pn(),[t,r]=T.useState("sql"),[n,i]=T.useState(""),[s,o]=T.useState(null),[a,l]=T.useState(""),[c,u]=T.useState(null),[h,f]=T.useState(""),[p,g]=T.useState(!0),[m,y]=T.useState(""),x=T.useRef(null);T.useRef(null);const{sessionQueries:b,addQuery:v,navigateHistory:C,resetNavigation:k}=Dp("global"),S=E=>{const M=E.target.value;P(M,$=>{l($),k()})},_=E=>{if(!j(E,a,$=>{l($),k()})){if(E.key==="Tab"&&m){E.preventDefault();const $=a+m;l($),y(""),setTimeout(()=>{x.current.setSelectionRange($.length,$.length)},0)}else if(E.key==="Escape")y(""),B();else if(E.key==="ArrowUp"&&b.length>0&&!W){E.preventDefault();const $=C("up",a);$!==null&&(l($),setTimeout(()=>{const z=x.current;z&&z.setSelectionRange($.length,$.length)},0))}else if(E.key==="ArrowDown"&&b.length>0&&!W){E.preventDefault();const $=C("down",a);$!==null&&(l($),setTimeout(()=>{const z=x.current;z&&z.setSelectionRange($.length,$.length)},0))}}};T.useEffect(()=>{A()},[]);const A=async()=>{try{const E=await X.get("/api/query");E.data.success&&(r(E.data.db_type),i(E.data.handler),o(E.data.current_db))}catch(E){console.error("Failed to fetch query state:",E)}finally{g(!1)}},D=async E=>{var M,$;if(E.preventDefault(),f(""),u(null),!a.trim()){f("Query cannot be empty");return}try{const z=await X.post("/api/query",{query:a});z.data.success?(await v(a),u(z.data.result),o(z.data.current_db)):f(z.data.error||"Query execution failed")}catch(z){f("Failed to execute query: "+((($=(M=z.response)==null?void 0:M.data)==null?void 0:$.error)||z.message))}},F=()=>t==="sql"?`Enter SQL queries (separate multiple statements with semicolons)...

Examples:
  SELECT * FROM users;
  INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com');
  
Database commands:
  CREATE DATABASE mydb;
  USE mydb;
  DROP DATABASE olddb;`:`Enter NoSQL query or command...

Database Commands:
  USE NosqlTrial2;
  CREATE DATABASE mydb;
  DROP DATABASE olddb;
  SHOW DATABASES;
  SHOW COLLECTIONS;
  CREATE COLLECTION mycollection;
  DROP COLLECTION mycollection;

Query Examples (JSON format):
  {"table": "Trial1", "condition": {}}
  {"table": "Trial1", "condition": {"age": {"$gt": 30}}}`,{suggestions:O,showSuggestions:W,selectedIndex:H,handleQueryChange:P,handleKeyDown:j,selectSuggestion:L,hideSuggestions:B}=Op();return p?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:t,handlerName:n}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading query console..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:t,handlerName:n}),d.jsx("div",{className:"center",children:d.jsxs("div",{style:{maxWidth:"95%",margin:"20px auto"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:["Query Console",s&&d.jsxs("span",{style:{color:"#666",fontSize:"0.8em"},children:[" ",s," (",t.toUpperCase(),")"]})]}),d.jsx("a",{href:"#",onClick:E=>{E.preventDefault(),e("/")},style:{color:"#e6d8f7ff"},children:" Home"})]}),h&&d.jsxs("div",{style:{background:"#ffebee",borderLeft:"4px solid #f44336",padding:"12px",margin:"10px 0",borderRadius:"4px",color:"#c62828"},children:[d.jsx("strong",{children:"ERROR:"})," ",h]}),!h&&c&&d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px 0",borderRadius:"4px",color:"#2e7d32"},children:[d.jsx("strong",{children:"SUCCESS:"})," Query executed successfully"]}),d.jsxs("form",{onSubmit:D,children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{style:{position:"absolute",top:"18px",left:"18px",right:"12px",bottom:"12px",pointerEvents:"none",fontFamily:"'Consolas', 'Monaco', monospace",fontSize:"14px",padding:"0",color:"transparent",whiteSpace:"pre-wrap",wordWrap:"break-word",overflow:"hidden",lineHeight:"1.5"},children:[a,d.jsx("span",{style:{color:"#ffffffff",opacity:.8,fontWeight:"bold"},children:m})]}),d.jsx("textarea",{ref:x,value:a,onChange:S,onKeyDown:_,onBlur:()=>{setTimeout(()=>B(),200)},rows:t==="sql"?12:16,placeholder:F(),style:{width:"100%",fontFamily:"'Consolas', 'Monaco', monospace",fontSize:"14px",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",background:"transparent",color:"#f0f0f0",position:"relative",zIndex:1,lineHeight:"1.5"}}),W&&O.length>0&&d.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#2a2a2a",border:"1px solid #9370db",borderRadius:"5px",marginTop:"5px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:O.map((E,M)=>d.jsx("div",{onClick:()=>{L(E,$=>{l($),k()})},style:{padding:"10px",cursor:"pointer",background:M===H?"#4b0082":"transparent",color:"#f0f0f0",borderBottom:M<O.length-1?"1px solid #444":"none",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},onMouseEnter:$=>{$.target.style.background="#4b0082"},onMouseLeave:$=>{$.target.style.background=M===H?"#4b0082":"transparent"},children:E.length>100?E.substring(0,100)+"...":E},M))})]}),m&&d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:"Tab"})," ","to accept suggestion"]}),d.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"4px"},children:[" Press"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:""})," ","to view previous query,"," ",d.jsx("kbd",{style:{padding:"2px 6px",background:"#333",borderRadius:"3px"},children:""})," ","to view next query",b.length>0&&` (${b.length} in history)`,W&&O.length>0&&" | Use arrow keys + Enter to select suggestion"]}),d.jsx("br",{}),d.jsx("button",{type:"submit",style:{background:"#9370db",color:"white",border:"none",padding:"10px 30px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",transition:"background 0.3s"},onMouseOver:E=>E.target.style.background="#4b0082",onMouseOut:E=>E.target.style.background="#9370db",children:" Execute"})]}),c&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{textAlign:"center",color:"#f0f0f0"},children:"Results:"}),Array.isArray(c)&&c.map((E,M)=>{var $;return d.jsxs("div",{children:[d.jsxs("div",{style:{background:"#e3f2fd",padding:"8px 12px",margin:"15px auto 5px auto",borderLeft:"4px solid #2196f3",fontWeight:"bold",width:"90%",color:"black"},children:["Statement ",M+1]}),typeof E=="object"&&E!==null&&!Array.isArray(E)&&E.result_type==="table"?Array.isArray(E.result)&&E.result.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsxs("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(E.result[0]).map((z,q)=>d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:z},q))})}),d.jsx("tbody",{children:E.result.map((z,q)=>d.jsx("tr",{children:Object.values(z).map((nt,ut)=>d.jsx("td",{style:{border:"1px solid black",padding:"12px",color:"black",background:"white"},children:nt!=null?typeof nt=="object"?JSON.stringify(nt):String(nt):"NULL"},ut))},q))})]})}),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[E.result.length," row",E.result.length!==1?"s":""," returned"]})]}):d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:"Procedure executed successfully. No rows returned."}):typeof E=="object"&&E!==null&&!Array.isArray(E)&&E.result_type==="status"?d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:(($=E.result)==null?void 0:$.status)||`Rows affected: ${E.rows_affected||0}`}):typeof E=="object"&&E!==null&&!Array.isArray(E)&&(E.status||E.rows_affected!==void 0)?d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[E.status&&d.jsx("div",{children:E.status}),E.rows_affected!==void 0&&d.jsxs("div",{children:["Rows affected: ",E.rows_affected]})]}):Array.isArray(E)?E.length>0?d.jsx(d.Fragment,{children:t==="nosql"?d.jsxs(d.Fragment,{children:[E.map((z,q)=>d.jsxs("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:[d.jsxs("div",{style:{background:"#f0f0f0",padding:"8px 12px",marginBottom:"10px",borderRadius:"4px",fontWeight:"bold",color:"black"},children:["Document ",q+1]}),d.jsx("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black",width:"30%"},children:"Field"}),d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Value"})]}),Object.entries(z).map(([nt,ut],ft)=>d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black",fontWeight:"bold"},children:nt}),d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:ut!=null?typeof ut=="object"?JSON.stringify(ut):String(ut):"NULL"})]},ft))]})})]},q)),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[E.length," document",E.length!==1?"s":""," returned"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsxs("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:[d.jsx("thead",{children:d.jsx("tr",{children:Object.keys(E[0]).map((z,q)=>d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:z},q))})}),d.jsx("tbody",{children:E.map((z,q)=>d.jsx("tr",{children:Object.values(z).map((nt,ut)=>d.jsx("td",{style:{border:"1px solid black",padding:"12px",color:"black",background:"white"},children:nt!=null?typeof nt=="object"?JSON.stringify(nt):String(nt):"NULL"},ut))},q))})]})}),d.jsxs("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:[E.length," row",E.length!==1?"s":""," ","returned"]})]})}):d.jsx("div",{style:{background:"#e8f5e9",borderLeft:"4px solid #4caf50",padding:"12px",margin:"10px auto",borderRadius:"4px",width:"90%",color:"black"},children:"Query executed successfully. No rows returned."}):typeof E=="object"&&E!==null?d.jsx("div",{style:{maxWidth:"93%",margin:"20px auto",overflowX:"auto",padding:"12px"},children:d.jsx("table",{className:"result-table",style:{minWidth:"600px",borderCollapse:"separate",border:"2px solid black",width:"100%"},cellPadding:"8",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Field"}),d.jsx("th",{style:{border:"1px solid black",padding:"12px",background:"#f0f0f0",color:"black"},children:"Value"})]}),Object.entries(E).map(([z,q],nt)=>d.jsxs("tr",{children:[d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:d.jsx("strong",{children:z})}),d.jsx("td",{style:{border:"1px solid black",padding:"12px",background:"white",color:"black"},children:q!=null?typeof q=="object"?JSON.stringify(q):String(q):"NULL"})]},nt))]})})}):d.jsx("pre",{style:{background:"rgba(147, 112, 219, 0.1)",padding:"15px",borderRadius:"5px",color:"#f0f0f0",overflowX:"auto"},children:JSON.stringify(E,null,2)})]},M)})]})]})})]})}function CK(){const{dbName:e}=Go(),t=Pn(),[r,n]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState("sql"),[l,c]=T.useState(""),[u,h]=T.useState(!0),[f,p]=T.useState(""),[g,m]=T.useState(""),[y,x]=T.useState(!1),[b,v]=T.useState(!1),[C,k]=T.useState(null),[S,_]=T.useState({username:"",password:"",privileges:[]}),[A,D]=T.useState({username:"",password:"",privileges:[]});T.useEffect(()=>{F()},[e]);const F=async()=>{try{h(!0);const M=await X.get(`/api/db/${e}/users`);M.data.success?(n(M.data.users||[]),s(M.data.supports_users),a(M.data.db_type),c(M.data.handler)):p(M.data.error||"Failed to fetch users")}catch(M){console.error("Failed to fetch users:",M),p("Failed to connect to server")}finally{h(!1)}},O=async M=>{var $,z;M.preventDefault(),p(""),m("");try{const q=await X.post(`/api/db/${e}/users/create`,S);q.data.success?(m(q.data.message),x(!1),_({username:"",password:"",privileges:[]}),F()):p(q.data.error||"Failed to create user")}catch(q){p("Failed to create user: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}},W=async M=>{var $,z;M.preventDefault(),p(""),m("");try{const q=await X.post(`/api/db/${e}/users/update`,A);q.data.success?(m(q.data.message),v(!1),D({username:"",password:"",privileges:[]}),k(null),F()):p(q.data.error||"Failed to update user")}catch(q){p("Failed to update user: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}},H=async M=>{var $,z;if(window.confirm(`Delete user ${M}? This cannot be undone!`))try{const q=await X.post(`/api/db/${e}/users/delete`,{username:M});q.data.success?(m(q.data.message),F()):p(q.data.error||"Failed to delete user")}catch(q){p("Failed to delete user: "+(((z=($=q.response)==null?void 0:$.data)==null?void 0:z.error)||q.message))}},P=async M=>{try{const $=await X.get(`/api/db/${e}/users/${M}/privileges`);$.data.success?(D({username:M,password:"",privileges:$.data.privileges||[]}),k(M),v(!0)):p("Failed to load user data")}catch($){p("Failed to load user data: "+$.message)}},j=async M=>{try{const $=await X.get(`/api/db/${e}/users/${M}/connection`);if($.data.success){const z=document.createElement("div");z.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px;",z.innerHTML=`
          <div style="background:white;padding:30px;border-radius:15px;max-width:900px;width:100%;max-height:90%;overflow:auto;box-shadow:0 10px 40px rgba(0,0,0,0.3);">
            <h2 style="margin:0 0 20px 0;color:#4b0082;"> Connection Info for ${M}</h2>
            
            <div style="margin-bottom:20px;">
              <strong style="display:block;margin-bottom:10px;">Connection String:</strong>
              <code style="display:block;background:#2d2d2d;color:#f8f8f2;padding:15px;border-radius:8px;overflow-x:auto;">${L($.data.connection_string)}</code>
            </div>
            
            <div style="margin-bottom:20px;">
              <strong style="display:block;margin-bottom:10px;">Test Code:</strong>
              <pre id="test-code" style="background:#2d2d2d;color:#f8f8f2;padding:20px;border-radius:8px;overflow-x:auto;font-size:13px;line-height:1.6;">${L($.data.test_code)}</pre>
            </div>
            
            ${$.data.notes&&$.data.notes.length>0?`
            <div style="background:#fff3cd;border-left:3px solid #ffc107;padding:15px;border-radius:8px;margin-bottom:20px;color:black;">
              <strong> Tips:</strong>
              <ul style="margin:5px 0;padding-left:20px;color:black;">
                ${$.data.notes.map(q=>`<li>${q}</li>`).join("")}
              </ul>
            </div>
            `:""}
            
            <div style="display:flex;gap:10px;justify-content:flex-end;">
              <button onclick="copyTestCode(event)" 
                style="padding:10px 20px;background:#6a5acd;color:white;border:none;border-radius:8px;cursor:pointer;">
                 Copy Code
              </button>
              <button onclick="this.closest('div[style*=fixed]').remove()" 
                style="padding:10px 20px;background:#6c757d;color:white;border:none;border-radius:8px;cursor:pointer;">
                Close
              </button>
            </div>
          </div>
        `,document.body.appendChild(z),window.copyTestCode=q=>{const nt=document.getElementById("test-code").textContent;navigator.clipboard.writeText(nt).then(()=>{const ut=q.target,ft=ut.textContent;ut.textContent=" Copied!",ut.style.background="#4caf50",setTimeout(()=>{ut.textContent=ft,ut.style.background="#6a5acd"},2e3)}).catch(ut=>{alert("Failed to copy: "+ut)})}}else alert("Failed to load connection info: "+$.data.error)}catch($){alert("Error: "+$.message)}},L=M=>{const $=document.createElement("div");return $.textContent=M,$.innerHTML},B=(M,$,z)=>{$(q=>({...q,privileges:q.privileges.includes(z)?q.privileges.filter(nt=>nt!==z):[...q.privileges,z]}))},E=(M,$,z)=>{$(z?q=>({...q,privileges:["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP","ALL"]}):q=>({...q,privileges:[]}))};return u?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsx("div",{className:"center",children:d.jsx("div",{className:"loading",children:"Loading users..."})})]}):i?d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsxs("h2",{style:{color:"#f0f0f0"},children:[" User Management for ",e]}),d.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Database"}),d.jsx("br",{}),d.jsx("br",{}),f&&d.jsx("div",{className:"error",children:f}),g&&d.jsx("div",{className:"success",children:g}),d.jsx("button",{onClick:()=>x(!0),style:{padding:"12px 24px",background:"linear-gradient(135deg, #4caf50, #2e7d32)",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",marginBottom:"20px"},children:" Create New User"}),d.jsxs("button",{onClick:async()=>{if(window.confirm(`Sign out from ${l}?

You will need to re-enter credentials to access ${l} again.`))try{const M=await X.post("/api/sign_out",{handler_name:l});M.data.success?(alert("Signed out successfully"),t("/")):alert("Sign out failed: "+M.data.error)}catch{alert("Sign out failed")}},style:{padding:"10px 18px",background:"#ff6b6b",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 15px rgba(255, 107, 107, 0.4)"},children:["Sign Out (",l,")"]}),r.length>0?d.jsxs("table",{className:"result-table",style:{width:"95%",margin:"20px auto"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Username"}),d.jsx("th",{children:"Has Password"}),d.jsx("th",{children:"Privileges"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:r.map((M,$)=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("strong",{children:M.username})}),d.jsx("td",{children:M.has_password?d.jsx("span",{style:{color:"#4caf50"},children:" Yes"}):d.jsx("span",{style:{color:"#999"},children:" No"})}),d.jsx("td",{children:d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:M.privileges.map((z,q)=>d.jsx("span",{style:{background:"#e3f2fd",color:"#1976d2",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:z},q))})}),d.jsxs("td",{children:[d.jsx("button",{onClick:()=>j(M.username),style:{background:"#6a5acd",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" Connection"}),d.jsx("button",{onClick:()=>P(M.username),style:{background:"#ff9800",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},children:" Edit"}),d.jsx("button",{onClick:()=>H(M.username),style:{background:"#dc3545",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Delete"})]})]},$))})]}):d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"No Users Found"}),d.jsx("p",{style:{color:"#999"},children:"Create your first user to get started."})]}),y&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>x(!1),children:d.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:M=>M.stopPropagation(),children:[d.jsx("h3",{style:{marginTop:0,color:"#4b0082"},children:" Create New User"}),d.jsxs("form",{onSubmit:O,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:S.username,onChange:M=>_({...S,username:M.target.value}),required:!0,style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Password (optional for some databases):"}),d.jsx("input",{type:"password",value:S.password,onChange:M=>_({...S,password:M.target.value}),style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"Privileges:"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP"].map(M=>d.jsxs("label",{style:{cursor:"pointer",color:"#333"},children:[d.jsx("input",{type:"checkbox",checked:S.privileges.includes(M),onChange:()=>B(S,_,M)})," ",M]},M)),d.jsxs("label",{style:{cursor:"pointer",color:"#333",gridColumn:"1 / -1"},children:[d.jsx("input",{type:"checkbox",checked:S.privileges.includes("ALL"),onChange:M=>E(S,_,M.target.checked)})," ","ALL PRIVILEGES"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>x(!1),style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Create User"})]})]})]})}),b&&d.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>v(!1),children:d.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:M=>M.stopPropagation(),children:[d.jsx("h3",{style:{marginTop:0,color:"#4b0082"},children:" Edit User"}),d.jsxs("form",{onSubmit:W,children:[d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:A.username,disabled:!0,style:{width:"100%",padding:"10px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"15px",background:"#f5f5f5"}})]}),d.jsxs("div",{style:{marginBottom:"15px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",color:"#333"},children:"New Password (leave empty to keep current):"}),d.jsx("input",{type:"password",value:A.password,onChange:M=>D({...A,password:M.target.value}),style:{width:"100%",padding:"10px",border:"2px solid #9370db",borderRadius:"8px",fontSize:"15px"}})]}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"Privileges:"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[["SELECT","INSERT","UPDATE","DELETE","CREATE","DROP"].map(M=>d.jsxs("label",{style:{cursor:"pointer",color:"#333"},children:[d.jsx("input",{type:"checkbox",checked:A.privileges.includes(M),onChange:()=>B(A,D,M)})," ",M]},M)),d.jsxs("label",{style:{cursor:"pointer",color:"#333",gridColumn:"1 / -1"},children:[d.jsx("input",{type:"checkbox",checked:A.privileges.includes("ALL"),onChange:M=>E(A,D,M.target.checked)})," ","ALL PRIVILEGES"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",onClick:()=>v(!1),style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),d.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"#ff9800",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Update User"})]})]})]})})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qe,{dbType:o,handlerName:l}),d.jsxs("div",{className:"center",children:[d.jsx("h2",{style:{color:"#f0f0f0"},children:" User Management"}),d.jsx("a",{href:"#",onClick:M=>{M.preventDefault(),t(`/db/${e}`)},style:{color:"#bb86fc"},children:" Back to Database"}),d.jsx("br",{}),d.jsx("br",{}),d.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"#f8f8f8",borderRadius:"10px",margin:"20px auto",maxWidth:"600px"},children:[d.jsx("p",{style:{fontSize:"3em",margin:0},children:""}),d.jsx("h3",{style:{color:"#666"},children:"User Management Not Supported"}),d.jsx("p",{style:{color:"#999"},children:"This database type does not support user management."})]})]})]})}function TK(){const{handlerName:e}=Go(),t=Pn(),[r,n]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState("sql");T.useEffect(()=>{g()},[]);const g=async()=>{try{const x=await X.get("/api/current_state");x.data.success&&p(x.data.db_type)}catch(x){console.error("Failed to fetch db type:",x)}},m=async x=>{var b,v;x.preventDefault(),a(""),c(""),h(!0);try{const C=await X.post(`/api/handler_credentials/${e}`,{username:r,password:i},{headers:{"Content-Type":"application/json"}});console.log(" Credentials response:",C.data),C.data.success?(c(C.data.message),setTimeout(()=>{t("/",{replace:!0,state:{credentialsUpdated:!0}})},1500)):(a(C.data.message),s(""))}catch(C){console.error("Credentials error:",C),a(((v=(b=C.response)==null?void 0:b.data)==null?void 0:v.message)||C.message||"Connection failed"),s("")}finally{h(!1)}},y=()=>{window.confirm("Cancel credential setup? You will be returned to the home page.")&&t("/",{replace:!0})};return d.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[d.jsx(Qe,{}),d.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{style:{width:"100%",maxWidth:"600px",padding:"40px 20px",background:"rgba(30, 0, 51, 0.7)",borderRadius:"16px",boxShadow:"0 10px 40px rgba(147, 112, 219, 0.4)",backdropFilter:"blur(10px)",border:"1px solid rgba(147, 112, 219, 0.3)"},children:[d.jsxs("h2",{style:{color:"#bb86fc",textAlign:"center",fontSize:"2em",marginBottom:"10px"},children:[e," Connection Setup"]}),d.jsxs("p",{style:{textAlign:"center",color:"#ddd",marginBottom:"30px"},children:["DBDragoness needs your ",e," credentials.",d.jsx("br",{}),"They will be stored securely in your system's keyring."]}),d.jsxs("div",{style:{background:"rgba(33, 150, 243, 0.2)",borderLeft:"4px solid #2196f3",padding:"15px",marginBottom:"25px",borderRadius:"8px",color:"#bbdefb"},children:[d.jsx("strong",{children:"Secure Storage:"}),d.jsx("br",{}),d.jsxs("small",{children:[" Windows  Credential Manager",d.jsx("br",{})," macOS  Keychain",d.jsx("br",{})," Linux  Secret Service"]})]}),o&&d.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"12px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #f44336"},children:[" ",o]}),l&&d.jsxs("div",{style:{background:"#e8f5e9",color:"#2e7d32",padding:"12px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #4caf50"},children:[" ",l]}),d.jsxs("form",{onSubmit:m,style:{background:"rgba(255,255,255,0.95)",padding:"30px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Username:"}),d.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),placeholder:"Enter username",required:!0,disabled:u,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px"}})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Password:"}),d.jsx("input",{type:"password",value:i,onChange:x=>s(x.target.value),placeholder:"Leave blank if none",disabled:u,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px"}})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsx("button",{type:"button",onClick:y,disabled:u,style:{flex:1,padding:"14px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold"},children:"Cancel"}),d.jsx("button",{type:"submit",disabled:u,style:{flex:1,padding:"14px",background:u?"#7b68b5":"#9370db",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",boxShadow:u?"none":"0 4px 20px rgba(147,112,219,0.5)"},children:u?"Connecting...":"Connect & Save"})]})]})]})})]})}function EK(){return d.jsx(AP,{basename:"/react",children:d.jsxs(CP,{children:[d.jsx(In,{path:"/",element:d.jsx(cD,{})}),d.jsx(In,{path:"/db/:dbName",element:d.jsx(dV,{})}),d.jsx(In,{path:"/db/:dbName/table/:tableName",element:d.jsx(xK,{})}),d.jsx(In,{path:"/db/:dbName/collection/:collectionName",element:d.jsx(wK,{})}),d.jsx(In,{path:"*",element:d.jsx(SP,{to:"/",replace:!0})}),d.jsx(In,{path:"/db/:dbName/triggers",element:d.jsx(kK,{})}),d.jsx(In,{path:"/db/:dbName/procedures",element:d.jsx(SK,{})}),d.jsx(In,{path:"/query",element:d.jsx(_K,{})}),d.jsx(In,{path:"/db/:dbName/users",element:d.jsx(CK,{})}),d.jsx(In,{path:"/credentials/:handlerName",element:d.jsx(TK,{})})]})})}cm.createRoot(document.getElementById("root")).render(d.jsx($S.StrictMode,{children:d.jsx(EK,{})}));export{UC as $,Ac as A,gD as B,DO as C,ob as D,br as E,DC as F,pz as G,g4 as H,Ev as I,w6 as J,KD as K,nl as L,GK as M,Cp as N,mO as O,_y as P,$v as Q,o4 as R,uh as S,fz as T,$u as U,_O as V,Ou as W,xt as X,Tt as Y,sz as Z,w as _,LO as a,wt as a$,r4 as a0,iw as a1,nw as a2,sJ as a3,tJ as a4,nJ as a5,rJ as a6,JK as a7,ca as a8,Oy as a9,ez as aA,Y8 as aB,G9 as aC,Ky as aD,rk as aE,j7 as aF,n4 as aG,YK as aH,oR as aI,ES as aJ,Uu as aK,T7 as aL,C7 as aM,By as aN,ps as aO,Kv as aP,DN as aQ,au as aR,Xo as aS,rz as aT,F5 as aU,vp as aV,_p as aW,vf as aX,O5 as aY,P5 as aZ,R9 as a_,iJ as aa,ZK as ab,aJ as ac,oJ as ad,eJ as ae,Z7 as af,UA as ag,xJ as ah,S6 as ai,Ue as aj,Gs as ak,Xy as al,xj as am,Jo as an,H5 as ao,Rt as ap,ki as aq,qW as ar,mJ as as,yJ as at,pJ as au,St as av,gJ as aw,TW as ax,wW as ay,vW as az,AO as b,k5 as b0,Qr as b1,AN as b2,Ry as b3,sT as b4,Iu as b5,lT as b6,KK as b7,pD as b8,tz as b9,L5 as bA,ix as bB,nz as bC,Sp as bD,ne as bE,Y9 as ba,P8 as bb,Jy as bc,j9 as bd,iz as be,Hu as bf,vl as bg,xf as bh,N9 as bi,fH as bj,Wu as bk,bf as bl,B9 as bm,j5 as bn,O8 as bo,$8 as bp,co as bq,Sw as br,N8 as bs,Zy as bt,D8 as bu,W8 as bv,wl as bw,Ys as bx,yw as by,tb as bz,ee as c,Qt as d,qC as e,ze as f,RO as g,rs as h,Rn as i,S5 as j,yl as k,Q as l,U5 as m,XK as n,vJ as o,BO as p,PO as q,bJ as r,MO as s,k6 as t,Gn as u,xW as v,xz as w,lJ as x,jO as y,QK as z};
